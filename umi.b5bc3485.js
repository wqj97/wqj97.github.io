(function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)})({"++zV":function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{defineMetadata:function(e,t,r){var n=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(r),n)}})},"+2oP":function(e,t,r){"use strict";var n=r("I+eb"),i=r("hh1v"),o=r("6LWA"),a=r("I8vh"),s=r("UMSQ"),u=r("/GqU"),l=r("hBjN"),c=r("tiKp"),h=r("Hd5f"),f=r("rkAj"),p=h("slice"),d=f("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),m=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!p||!d},{slice:function(e,t){var r,n,c,h=u(this),f=s(h.length),p=a(e,f),d=a(void 0===t?f:t,f);if(o(h)&&(r=h.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[g],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(h,p,d);for(n=new(void 0===r?Array:r)(v(d-p,0)),c=0;p<d;p++,c++)p in h&&l(n,c,h[p]);return n.length=c,n}})},"+6XX":function(e,t,r){var n=r("y1pI");function i(e){return n(this.__data__,e)>-1}e.exports=i},"+M1K":function(e,t,r){var n=r("ppGB");e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+wdc":function(e,t,r){"use strict";var n,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(r){throw setTimeout(f,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},o=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,y=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,w=A.port2;A.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();x=e+b;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(r){throw w.postMessage(null),r}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},i=function(e,r){y=p((function(){e(t.unstable_now())}),r)},o=function(){d(y),y=-1}}function _(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<S(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return e=e[0],void 0===e?null:e}function M(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>S(a,r))void 0!==u&&0>S(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==u&&0>S(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function S(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var T=[],E=[],I=1,R=null,L=3,P=!1,O=!1,D=!1;function k(e){for(var t=C(E);null!==t;){if(null===t.callback)M(E);else{if(!(t.startTime<=e))break;M(E),t.sortIndex=t.expirationTime,_(T,t)}t=C(E)}}function N(e){if(D=!1,k(e),!O)if(null!==C(T))O=!0,n(F);else{var t=C(E);null!==t&&i(N,t.startTime-e)}}function F(e,r){O=!1,D&&(D=!1,o()),P=!0;var n=L;try{for(k(r),R=C(T);null!==R&&(!(R.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=R.callback;if("function"===typeof a){R.callback=null,L=R.priorityLevel;var s=a(R.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?R.callback=s:R===C(T)&&M(T),k(r)}else M(T);R=C(T)}if(null!==R)var u=!0;else{var l=C(E);null!==l&&i(N,l.startTime-r),u=!1}return u}finally{R=null,L=n,P=!1}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?(a=a.delay,a="number"===typeof a&&0<a?s+a:s):a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=a+u,e={id:I++,callback:r,priorityLevel:e,startTime:a,expirationTime:u,sortIndex:-1},a>s?(e.sortIndex=a,_(E,e),null===C(T)&&e===C(E)&&(D?o():D=!0,i(N,a-s))):(e.sortIndex=u,_(T,e),O||P||(O=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}}},"+ywr":function(e,t,r){var n=r("dOgj");n("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"/GqU":function(e,t,r){var n=r("RK3t"),i=r("HYAF");e.exports=function(e){return n(i(e))}},"/Yfv":function(e,t,r){var n=r("dOgj");n("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"/b8u":function(e,t,r){var n=r("STAE");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(e,t,r){var n=r("2oRo");e.exports=n.Promise},"/xke":function(e,t,r){"use strict";r.r(t);r("EFp3"),r("rSSe")},0:function(e,t,r){e.exports=r("tB8F")},"03A+":function(e,t,r){var n=r("JTzB"),i=r("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},"07d7":function(e,t,r){var n=r("AO7/"),i=r("busE"),o=r("sEFX");n||i(Object.prototype,"toString",o,{unsafe:!0})},"0BK2":function(e,t){e.exports={}},"0Cz8":function(e,t,r){var n=r("Xi7e"),i=r("ebwN"),o=r("e4Nc"),a=200;function s(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}e.exports=s},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"0GZW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("s+10")),a=n.__importDefault(r("Gytx")),s=r("g8eg"),u=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove","lineupdate"],l={enableMassClear:["enableMassClear","disableMassClear"],enableEditing:["enableEditing","disableEditing"]},c=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing","enableClicking"],r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.strokeColor,n=t.strokeWeight,i=t.strokeOpacity,o=t.strokeStyle,s=t.fillColor,u=t.fillOpacity,l=e.strokeColor,c=e.strokeWeight,h=e.strokeOpacity,f=e.strokeStyle,p=e.fillColor,d=e.fillOpacity,g=!a.default(r,l),m=!a.default(n,c),v=!a.default(i,h),y=!a.default(o,f),b=!a.default(s,p),x=!a.default(u,d);(g||m||v||y||b||x)&&this.overlay.setOptions(this.getOptions()),this.onDataUpdate(e)},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.overlay&&(this.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){var t;if(this.destroy(),this.instance=this.overlay=this.getOverlay(),e.addOverlay(this.overlay),this.overlay instanceof BMapGL.Polyline||this.overlay instanceof BMapGL.Polygon){var r=this.overlay.getPath();t=e.getViewport(r,this.props.viewportOptions||{})}else if(this.overlay instanceof BMapGL.Circle){var n=this.overlay.getBounds();t=e.getViewport(n,this.props.viewportOptions||{})}t&&this.props.autoViewport&&e.setViewport(t)}},t.prototype.getOverlay=function(){throw new Error("Method getOverlay not implemented.")},t.prototype.onDataUpdate=function(e){throw new Error("Method onDataUpdate not implemented.")},t.contextType=s.MapContext,t}(i.Component);t.default=o.default(c,u,l)},"0GbY":function(e,t,r){var n=r("Qo9l"),i=r("2oRo"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},"0eef":function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},"0jNN":function(e,t,r){"use strict";var n=r("sxOR"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){while(e.length>1){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)"undefined"!==typeof r[i]&&n.push(r[i]);t.obj[t.prop]=n}}},u=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r},l=function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(o(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=u(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&r&&"object"===typeof r?t[o]=e(a,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return i.call(t,o)?t[o]=e(t[o],a,n):t[o]=a,t}),a)},c=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},h=function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},f=function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===n.RFC1738&&(40===c||41===c)?u+=s.charAt(l):c<128?u+=a[c]:c<2048?u+=a[192|c>>6]+a[128|63&c]:c<55296||c>=57344?u+=a[224|c>>12]+a[128|c>>6&63]+a[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),u+=a[240|c>>18]+a[128|c>>12&63]+a[128|c>>6&63]+a[128|63&c])}return u},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],c=o[l];"object"===typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return s(t),e},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},g=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)},v=function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)};e.exports={arrayToObject:u,assign:c,combine:m,compact:p,decode:h,encode:f,isBuffer:g,isRegExp:d,maybeMap:v,merge:l}},"0q/z":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop(r)}),void 0,!0,!0).result}})},"0rvr":function(e,t,r){var n=r("glrk"),i=r("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},"0uCz":function(e,t,r){"use strict";window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b97569d26a525941d8d163729d284198";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},"0x2o":function(e,t,r){"use strict";r("MgzW");var n=r("q1tI"),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,o={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},"0ycA":function(e,t){function r(){return[]}e.exports=r},1:function(e,t){},"14Sl":function(e,t,r){"use strict";r("rB9j");var n=r("busE"),i=r("0Dky"),o=r("tiKp"),a=r("kmMV"),s=r("kRJp"),u=o("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,h){var d=o(e),g=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),m=g&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!g||!m||"replace"===e&&(!l||!c||f)||"split"===e&&!p){var v=/./[d],y=r(d,""[e],(function(e,t,r,n,i){return t.exec===a?g&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],x=y[1];n(String.prototype,e,b),n(RegExp.prototype,d,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}h&&s(RegExp.prototype[d],"sham",!0)}},"16Al":function(e,t,r){"use strict";var n=r("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},"17x9":function(e,t,r){e.exports=r("16Al")()},"1E5z":function(e,t,r){var n=r("m/L8").f,i=r("UTVS"),o=r("tiKp"),a=o("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},"1OyB":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},"1WJl":function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},"1Y/n":function(e,t,r){var n=r("HAuM"),i=r("ewvW"),o=r("RK3t"),a=r("UMSQ"),s=function(e){return function(t,r,s,u){n(r);var l=i(t),c=o(l),h=a(l.length),f=e?h-1:0,p=e?-1:1;if(s<2)while(1){if(f in c){u=c[f],f+=p;break}if(f+=p,e?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=p)f in c&&(u=r(u,c[f],f,l));return u}};e.exports={left:s(!1),right:s(!0)}},"1hJj":function(e,t,r){var n=r("e4Nc"),i=r("ftKO"),o=r("3A9y");function a(e){var t=-1,r=null==e?0:e.length;this.__data__=new n;while(++t<r)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1kQv":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"Set",stat:!0},{from:i})},"25BE":function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,"a",(function(){return n}))},"27RR":function(e,t,r){var n=r("I+eb"),i=r("g6v/"),o=r("Vu81"),a=r("/GqU"),s=r("Bs8V"),u=r("hBjN");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,n=a(e),i=s.f,l=o(n),c={},h=0;while(l.length>h)r=i(n,t=l[h++]),void 0!==r&&u(c,t,r);return c}})},"2B1R":function(e,t,r){"use strict";var n=r("I+eb"),i=r("tycR").map,o=r("Hd5f"),a=r("rkAj"),s=o("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"2gN3":function(e,t,r){var n=r("Kz5y"),i=n["__core-js_shared__"];e.exports=i},"2mql":function(e,t,r){"use strict";var n=r("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return n.isMemo(e)?s:u[e["$$typeof"]]||i}u[n.ForwardRef]=a,u[n.Memo]=s;var c=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,g=Object.prototype;function m(e,t,r){if("string"!==typeof t){if(g){var n=d(t);n&&n!==g&&m(e,n,r)}var i=h(t);f&&(i=i.concat(f(t)));for(var a=l(e),s=l(t),u=0;u<i.length;++u){var v=i[u];if(!o[v]&&(!r||!r[v])&&(!s||!s[v])&&(!a||!a[v])){var y=p(t,v);try{c(e,v,y)}catch(b){}}}}return e}e.exports=m},"2oRo":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r("IyRk"))},"2tOg":function(e,t,r){"use strict";var n=r("g6v/"),i=r("RNIs"),o=r("ewvW"),a=r("UMSQ"),s=r("m/L8").f;n&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),r=a(t.length);return t[0==r?0:r-1]=e}}),i("lastItem"))},"33Wh":function(e,t,r){var n=r("yoRg"),i=r("eDl+");e.exports=Object.keys||function(e){return n(e,i)}},"33yf":function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===o(e,-1);return e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("Q2Ig"))},"3A9y":function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},"3Fdi":function(e,t){var r=Function.prototype,n=r.toString;function i(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},"3I1R":function(e,t,r){var n=r("dG/n");n("hasInstance")},"3Nzz":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("q1tI"),i=n["createContext"](void 0),o=function(e){var t=e.children,r=e.size;return n["createElement"](i.Consumer,null,(function(e){return n["createElement"](i.Provider,{value:r||e},t)}))};t["b"]=i},"3Ree":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewContext=void 0;var n=r("mrSG"),i=r("4K7L"),o=n.__importStar(r("q1tI")),a=r("W1EI"),s=r("g8eg");t.ViewContext=o.default.createContext({view:void 0});var u=function(e){function r(t){return e.call(this,t)||this}return n.__extends(r,e),r.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},r.prototype.componentWillUnmount=function(){this.view&&(this.view.destroy(),this.view=null)},r.prototype.componentDidUpdate=function(e){this.map&&this.view||this.initialize()},r.prototype.initialize=function(){var e=this.map=this.getMap();if(e&&!this.view&&!this.view){var t=[],r=this.props.effects,n=this.props.preserveDrawingBuffer;r&&r.length&&r.forEach((function(e){"bloom"===e?t.push(new i.BloomEffect):"bright"===e?t.push(new i.BrightEffect):"blur"===e&&t.push(new i.BlurEffect)})),this.view=new i.View({effects:t,preserveDrawingBuffer:n,map:e})}},r.prototype.renderChildren=function(e){var t=this;if(e&&this.map&&this.view)return o.default.Children.map(e,(function(e){if(e)return"string"===typeof e.type?e:o.default.cloneElement(e,{map:t.map,view:t.view})}))},r.prototype.render=function(){return o.default.createElement(o.Fragment,null,o.default.createElement(t.ViewContext.Provider,{value:{map:this.map,view:this.view}},this.renderChildren(this.props.children)))},r.contextType=s.MapContext,r}(a.Component);t.default=u},"3RkO":function(e,t,r){"use strict";function n(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},"3bBZ":function(e,t,r){var n=r("2oRo"),i=r("/byt"),o=r("4mDm"),a=r("kRJp"),s=r("tiKp"),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var h in i){var f=n[h],p=f&&f.prototype;if(p){if(p[u]!==c)try{a(p,u,c)}catch(g){p[u]=c}if(p[l]||a(p,l,h),i[h])for(var d in o)if(p[d]!==o[d])try{a(p,d,o[d])}catch(g){p[d]=o[d]}}}},"3uUd":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),l=r("SEBh"),c=r("WGBp"),h=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),r=c(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,o("Set"))),f=s(i.add);return h(r,(function(e){n(e,e,t)&&f.call(i,e)}),void 0,!1,!0),i}})},"49+q":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("fXLg");n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},"4Brf":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("2oRo"),a=r("UTVS"),s=r("hh1v"),u=r("m/L8").f,l=r("6JNq"),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};l(f,c);var p=f.prototype=c.prototype;p.constructor=f;var d=p.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=d.call(e);if(a(h,e))return"";var r=g?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},"4K7L":function(e,t,r){(function(e){(function(e,r){r(t)})(0,(function(t){function r(e){this.options=e||{},this.paneName=this.options.paneName||"labelPane",this.zIndex=this.options.zIndex||1,this._map=e.map,this._lastDrawTime=null,this.show()}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e,t){return function(r){return t(e(r))}}function a(e){var t=function(t){return void 0===t||null===t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function s(e){var t=function(t){if(void 0===t||null===t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"===("undefined"===typeof r?"undefined":Kn(r)))for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in $i&&(t=null),t&&!(t in Ji))throw Error("Unknown model: "+t);if("undefined"===typeof e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){if(t=qi.get(e),null===t)throw Error("Unable to parse color from string: "+e);this.model=t.model;var r=Ji[this.model].channels;this.color=t.value.slice(0,r),this.valpha="number"===typeof t.value[r]?t.value[r]:1}else if(e.length)this.model=t||"rgb",r=Ji[this.model].channels,t=Qi.call(e,0,r),this.color=f(t,r),this.valpha="number"===typeof e[r]?e[r]:1;else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{if(this.valpha=1,t=ur(e),"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0),t=t.sort().join(""),!(t in eo))throw Error("Unable to parse color from object: "+zi(e));this.model=eo[t],r=Ji[this.model].labels;var n=[];for(t=0;t<r.length;t++)n.push(e[r[t]]);this.color=f(n)}if(to[this.model])for(r=Ji[this.model].channels,t=0;t<r;t++)(e=to[this.model][t])&&(this.color[t]=e(this.color[t]));this.valpha=Math.max(0,Math.min(1,this.valpha)),ki&&ki(this)}function l(e){return function(t){return Number(t.toFixed(e))}}function c(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach((function(e){(to[e]||(to[e]=[]))[t]=r})),e=e[0],function(n){if(arguments.length){r&&(n=r(n));var i=this[e]();return i.color[t]=n,i}return i=this[e]().color[t],r&&(i=r(i)),i}}function h(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e,t){for(var r=0;r<t;r++)"number"!==typeof e[r]&&(e[r]=0);return e}function p(e){return e*Math.PI/180}function d(e){return e/Math.PI*180}function g(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function m(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function v(e,t){return 1e-8>Math.abs(e-t)}function y(){}function b(e,t){for(var r in t)e[r]=t[r]}function x(e,t){this.lng=e,this.lat=t}function A(e,t){this.x=e,this.y=t}function w(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r}function _(e){e=e||{},this.gradient=e.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=void 0===e.maxSize?35:e.maxSize,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}function C(e){this.options=e||{},this._initialize()}function M(e,t,r,n,i){var o=1-e,a=1-e;return o*o*o*t+3*a*a*e*r+3*(1-e)*e*e*n+e*e*e*i}function S(e){this.WORLD_SIZE_MC_HALF=20037726.372307256,this.WORLD_SIZE_MC=2*this.WORLD_SIZE_MC_HALF,this.options=e||{},this._initialize()}function T(e,t){return e&&t?Math.round(Math.sqrt(Math.pow(e.lng-t.lng,2)+Math.pow(e.lat-t.lat,2))):0}function E(e){return e=e.split("|"),e[0]=e[0].split(","),{lng:parseFloat(e[0][0]),lat:parseFloat(e[0][1])}}function I(e){for(var t=e.length;0<=--t;)e[t]=0}function R(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=sa,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),la(this.dyn_ltree),la(this.dyn_dtree),la(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),la(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),la(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function D(e){e=this.options=Sa.assign({level:za,method:ja,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ua},e||{}),e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new La,this.strm.avail_out=0;var t=Ma.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Fa)throw Error(jo[t]);if(e.header&&Ma.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"===typeof e.dictionary?Ra.string2buf(e.dictionary):"[object ArrayBuffer]"===Pa.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,t=Ma.deflateSetDictionary(this.strm,e),t!==Fa)throw Error(jo[t]);this._dict_set=!0}}function k(e,t){if(t=new D(t),t.push(e,!0),t.err)throw t.msg||jo[t.err];return t.result}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function F(e){var t=this.options=Sa.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new La,this.strm.avail_out=0,e=ps.inflateInit2(this.strm,t.windowBits),e!==ys)throw Error(jo[e]);if(this.header=new ds,ps.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Ra.string2buf(t.dictionary):"[object ArrayBuffer]"===gs.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ps.inflateSetDictionary(this.strm,t.dictionary),e!==ys)))throw Error(jo[e])}function B(e,t){if(t=new F(t),t.push(e),t.err)throw t.msg||jo[t.err];return t.result}function z(e,t){for(var r=["webgl2","experimental-webgl2","webgl","experimental-webgl"],n=void 0,i=0;i<r.length;i++)try{if(n=e.getContext(r[i],{alpha:!0,premultipliedAlpha:!1,antialias:t.antialias||!0,preserveDrawingBuffer:t.preserveDrawingBuffer||!1}))break}catch(o){}return n}function U(e,t,r){r=gr({TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"REPEAT",TEXTURE_WRAP_T:"REPEAT"},r);var n=e.createTexture();for(var i in e.bindTexture(e.TEXTURE_2D,n),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r)e.texParameteri(e.TEXTURE_2D,e[i],e[r[i]]);return e.bindTexture(e.TEXTURE_2D,null),n}function j(e,t,r,n){if("object"===("undefined"===typeof t?"undefined":Kn(t)))t=U(e,t,n),r(t,null);else{var i=new Image;i.crossOrigin="anonymous",i.onload=function(){var t=m(i.width),o=m(i.height),a=document.createElement("canvas");a.width=t,a.height=o,a.getContext("2d").drawImage(i,0,0,t,o),i=a,t=U(e,i,n),r(t,i)},i.src=t}}function H(e,t,r){r=r||2;var n,i=t&&t.length,o=i?t[0]*r:e.length,a=G(e,0,o,r,!0),s=[];if(!a||a.next===a.prev)return s;if(i){var u,l=r;i=[];var c=0;for(u=t.length;c<u;c++){var h=t[c]*l,f=c<u-1?t[c+1]*l:e.length;h=G(e,h,f,l,!1),h===h.next&&(h.steiner=!0),i.push(K(h))}for(i.sort(q),c=0;c<i.length;c++)l=i[c],t=a,(t=Y(l,t))&&(l=ie(t,l),V(t,t.next),V(l,l.next)),a=V(a,a.next)}if(e.length>80*r){var p=n=e[0],d=i=e[1];for(l=r;l<o;l+=r)c=e[l],t=e[l+1],c<p&&(p=c),t<d&&(d=t),c>n&&(n=c),t>i&&(i=t);n=Math.max(n-p,i-d),n=0!==n?1/n:0}return W(a,s,r,p,d,n),s}function G(e,t,r,n,i){if(i===0<ue(e,t,r,n))for(i=t;i<r;i+=n)var o=oe(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=oe(i,e[i],e[i+1],o);return o&&$(o,o.next)&&(ae(o),o=o.next),o}function V(e,t){if(!e)return e;t||(t=e);do{var r=!1;if(e.steiner||!$(e,e.next)&&0!==Q(e.prev,e,e.next))e=e.next;else{if(ae(e),e=t=e.prev,e===e.next)break;r=!0}}while(r||e!==t);return t}function W(e,t,r,n,i,o,a){if(e){if(!a&&o){var s=e,u=s;do{null===u.z&&(u.z=Z(u.x,u.y,n,i,o)),u.prevZ=u.prev,u=u.nextZ=u.next}while(u!==s);u.prevZ.nextZ=null,u.prevZ=null,s=u;var l,c,h,f,p=1;do{u=s;var d=s=null;for(c=0;u;){c++;var g=u;for(l=h=0;l<p&&(h++,g=g.nextZ,g);l++);for(f=p;0<h||0<f&&g;)0!==h&&(0===f||!g||u.z<=g.z)?(l=u,u=u.nextZ,h--):(l=g,g=g.nextZ,f--),d?d.nextZ=l:s=l,l.prevZ=d,d=l;u=g}d.nextZ=null,p*=2}while(1<c)}for(s=e;e.prev!==e.next;){if(u=e.prev,g=e.next,o)d=X(e,n,i,o);else e:if(d=e,c=d.prev,h=d,p=d.next,0<=Q(c,h,p))d=!1;else{for(l=d.next.next;l!==d.prev;){if(J(c.x,c.y,h.x,h.y,p.x,p.y,l.x,l.y)&&0<=Q(l.prev,l,l.next)){d=!1;break e}l=l.next}d=!0}if(d)t.push(u.i/r),t.push(e.i/r),t.push(g.i/r),ae(e),s=e=g.next;else if(e=g,e===s){if(a){if(1===a){e=V(e),a=t,s=r,u=e;do{g=u.prev,d=u.next.next,!$(g,d)&&ee(g,u,u.next,d)&&ne(g,d)&&ne(d,g)&&(a.push(g.i/s),a.push(u.i/s),a.push(d.i/s),ae(u),ae(u.next),u=e=d),u=u.next}while(u!==e);e=V(u),W(e,t,r,n,i,o,2)}else if(2===a)e:{a=e;do{for(s=a.next.next;s!==a.prev;){if(u=a.i!==s.i){if(u=a,g=s,d=u.next.i!==g.i&&u.prev.i!==g.i){t:{d=u;do{if(d.i!==u.i&&d.next.i!==u.i&&d.i!==g.i&&d.next.i!==g.i&&ee(d,d.next,u,g)){d=!0;break t}d=d.next}while(d!==u);d=!1}d=!d}if(d){if(d=ne(u,g)&&ne(g,u)){d=u,c=!1,h=(u.x+g.x)/2,p=(u.y+g.y)/2;do{d.y>p!==d.next.y>p&&d.next.y!==d.y&&h<(d.next.x-d.x)*(p-d.y)/(d.next.y-d.y)+d.x&&(c=!c),d=d.next}while(d!==u);d=c}d=d&&(Q(u.prev,u,g.prev)||Q(u,g.prev,g))||$(u,g)&&0<Q(u.prev,u,u.next)&&0<Q(g.prev,g,g.next)}u=d}if(u){e=ie(a,s),a=V(a,a.next),e=V(e,e.next),W(a,t,r,n,i,o),W(e,t,r,n,i,o);break e}s=s.next}a=a.next}while(a!==e)}}else W(V(e),t,r,n,i,o,1);break}}}}function X(e,t,r,n){var i=e.prev,o=e.next;if(0<=Q(i,e,o))return!1;var a=i.x>e.x?i.x>o.x?i.x:o.x:e.x>o.x?e.x:o.x,s=i.y>e.y?i.y>o.y?i.y:o.y:e.y>o.y?e.y:o.y,u=Z(i.x<e.x?i.x<o.x?i.x:o.x:e.x<o.x?e.x:o.x,i.y<e.y?i.y<o.y?i.y:o.y:e.y<o.y?e.y:o.y,t,r,n);for(t=Z(a,s,t,r,n),r=e.prevZ,n=e.nextZ;r&&r.z>=u&&n&&n.z<=t;){if(r!==e.prev&&r!==e.next&&J(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Q(r.prev,r,r.next))return!1;if(r=r.prevZ,n!==e.prev&&n!==e.next&&J(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Q(n.prev,n,n.next))return!1;n=n.nextZ}for(;r&&r.z>=u;){if(r!==e.prev&&r!==e.next&&J(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Q(r.prev,r,r.next))return!1;r=r.prevZ}for(;n&&n.z<=t;){if(n!==e.prev&&n!==e.next&&J(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Q(n.prev,n,n.next))return!1;n=n.nextZ}return!0}function q(e,t){return e.x-t.x}function Y(e,t){var r=t,n=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(i===r.y)return r;if(i===r.next.y)return r.next}var s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!s)return null;if(n===o)return s;t=s,a=s.x;var u=s.y,l=1/0;r=s;do{if(n>=r.x&&r.x>=a&&n!==r.x&&J(i<u?n:o,i,a,u,i<u?o:n,i,r.x,r.y)){var c,h=Math.abs(i-r.y)/(n-r.x);if((c=ne(r,e))&&!(c=h<l)&&(c=h===l)&&!(c=r.x>s.x)&&(c=r.x===s.x)){c=s;var f=r;c=0>Q(c.prev,c,f.prev)&&0>Q(f.next,c,c.next)}c&&(s=r,l=h)}r=r.next}while(r!==t);return s}function Z(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),1431655765&(e|e<<1)|(1431655765&(t|t<<1))<<1}function K(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function J(e,t,r,n,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(n-s)-(r-a)*(t-s)&&0<=(r-a)*(o-s)-(i-a)*(n-s)}function Q(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function $(e,t){return e.x===t.x&&e.y===t.y}function ee(e,t,r,n){var i=re(Q(e,t,r)),o=re(Q(e,t,n)),a=re(Q(r,n,e)),s=re(Q(r,n,t));return!!(i!==o&&a!==s||0===i&&te(e,r,t)||0===o&&te(e,n,t)||0===a&&te(r,e,n)||0===s&&te(r,t,n))}function te(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function re(e){return 0<e?1:0>e?-1:0}function ne(e,t){return 0>Q(e.prev,e,e.next)?0<=Q(e,t,e.next)&&0<=Q(e,e.prev,t):0>Q(e,t,e.prev)||0>Q(e,e.next,t)}function ie(e,t){var r=new se(e.i,e.x,e.y),n=new se(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function oe(e,t,r,n){return e=new se(e,t,r),n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function ae(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function se(e,t,r){this.i=e,this.x=t,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function ue(e,t,r,n){for(var i=0,o=r-n;t<r;t+=n)i+=(e[o]-e[t])*(e[t+1]+e[o+1]),o=t;return i}function le(e){try{return Su.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(r){var t=new Mu;return t.append(e),Su.createObjectURL(t.getBlob(type))}}function ce(e,t){this.shapeLayer=e,this.gl=t,this.initData()}function he(e,t,r,n){var i=[];return n=n*Math.PI/180,i[0]=(e-r[0])*Math.cos(n)-(t-r[1])*Math.sin(n)+r[0],i[1]=(e-r[0])*Math.sin(n)+(t-r[1])*Math.cos(n)+r[1],i}function fe(e){var t=0,r=0,n=!0,i=!1,o=void 0;try{for(var a,s=yi(e);!(n=(a=s.next()).done);n=!0){var u=a.value;t+=u.w*u.h,r=Math.max(r,u.w)}}catch(g){i=!0,o=g}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}e.sort((function(e,t){return t.h-e.h})),r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],i=n=0,o=!0,s=!1,a=void 0;try{for(var l,c=yi(e);!(o=(l=c.next()).done);o=!0)for(var h=l.value,f=r.length-1;0<=f;f--){var p=r[f];if(!(h.w>p.w||h.h>p.h)){if(h.x=p.x,h.y=p.y,i=Math.max(i,h.y+h.h),n=Math.max(n,h.x+h.w),h.w===p.w&&h.h===p.h){var d=r.pop();f<r.length&&(r[f]=d)}else h.h===p.h?(p.x+=h.w,p.w-=h.w):(h.w!==p.w&&r.push({x:p.x+h.w,y:p.y,w:p.w-h.w,h:h.h}),p.y+=h.h,p.h-=h.h);break}}}catch(g){s=!0,a=g}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return{w:n,h:i,fill:t/(n*i)||0}}function pe(){qu=!0;for(var e=0;64>e;++e)Vu[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],Wu["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;Wu[45]=62,Wu[95]=63}function de(e,t,r){for(var n=[],i=t;i<r;i+=3)t=(e[i]<<16)+(e[i+1]<<8)+e[i+2],n.push(Vu[t>>18&63]+Vu[t>>12&63]+Vu[t>>6&63]+Vu[63&t]);return n.join("")}function ge(e){qu||pe();for(var t=e.length,r=t%3,n="",i=[],o=0,a=t-r;o<a;o+=16383)i.push(de(e,o,o+16383>a?a:o+16383));return 1===r?(e=e[t-1],n+=Vu[e>>2],n+=Vu[e<<4&63],n+="=="):2===r&&(e=(e[t-2]<<8)+e[t-1],n+=Vu[e>>10],n+=Vu[e>>4&63],n+=Vu[e<<2&63],n+="="),i.push(n),i.join("")}function me(e,t,r,n,i){var o=8*i-n-1,a=(1<<o)-1,s=a>>1,u=-7;i=r?i-1:0;var l=r?-1:1,c=e[t+i];for(i+=l,r=c&(1<<-u)-1,c>>=-u,u+=o;0<u;r=256*r+e[t+i],i+=l,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=n;0<u;o=256*o+e[t+i],i+=l,u-=8);if(0===r)r=1-s;else{if(r===a)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,n),r-=s}return(c?-1:1)*o*Math.pow(2,r-n)}function ve(e,t,r,n,i,o){var a,s=8*o-i-1,u=(1<<s)-1,l=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var h=n?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(t=isNaN(t)?1:0,n=u):(n=Math.floor(Math.log(t)/Math.LN2),1>t*(a=Math.pow(2,-n))&&(n--,a*=2),t=1<=n+l?t+c/a:t+c*Math.pow(2,1-l),2<=t*a&&(n++,a/=2),n+l>=u?(t=0,n=u):1<=n+l?(t=(t*a-1)*Math.pow(2,i),n+=l):(t=t*Math.pow(2,l-1)*Math.pow(2,i),n=0));8<=i;e[r+o]=255&t,o+=h,t/=256,i-=8);for(n=n<<i|t,s+=i;0<s;e[r+o]=255&n,o+=h,n/=256,s-=8);e[r+o-h]|=128*f}function ye(e,t){if((be.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<t)throw new RangeError("Invalid typed array length");return be.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=be.prototype):(null===e&&(e=new be(t)),e.length=t),e}function be(e,t,r){if(!(be.TYPED_ARRAY_SUPPORT||this instanceof be))return new be(e,t,r);if("number"===typeof e){if("string"===typeof t)throw Error("If encoding is specified then the first argument must be a string");return we(this,e)}return xe(this,e,t,r)}function xe(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer){if(t.byteLength,0>r||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),be.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=be.prototype):e=_e(e,t),e}if("string"===typeof t){if(n=e,e=r,"string"===typeof e&&""!==e||(e="utf8"),!be.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return r=0|Te(t,e),n=ye(n,r),t=n.write(t,e),t!==r&&(n=n.slice(0,t)),n}return Ce(e,t)}function Ae(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function we(e,t){if(Ae(t),e=ye(e,0>t?0:0|Me(t)),!be.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function _e(e,t){var r=0>t.length?0:0|Me(t.length);e=ye(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Ce(e,t){if(Se(t)){var r=0|Me(t.length);return e=ye(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return(r="number"!==typeof t.length)||(r=t.length,r=r!==r),r?ye(e,0):_e(e,t);if("Buffer"===t.type&&Zu(t.data))return _e(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Me(e){if(e>=(be.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(be.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|e}function Se(e){return!(null==e||!e._isBuffer)}function Te(e,t){if(Se(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Ue(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return He(e).length;default:if(n)return Ue(e).length;t=(""+t).toLowerCase(),n=!0}}function Ee(e,t,r){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":for(e=t,t=r,r=this.length,(!e||0>e)&&(e=0),(!t||0>t||t>r)&&(t=r),n="",r=e;r<t;++r)e=n,n=this[r],n=16>n?"0"+n.toString(16):n.toString(16),n=e+n;return n;case"utf8":case"utf-8":return Pe(this,t,r);case"ascii":for(e="",r=Math.min(this.length,r);t<r;++t)e+=String.fromCharCode(127&this[t]);return e;case"latin1":case"binary":for(e="",r=Math.min(this.length,r);t<r;++t)e+=String.fromCharCode(this[t]);return e;case"base64":return t=0===t&&r===this.length?ge(this):ge(this.slice(t,r)),t;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(t=this.slice(t,r),r="",e=0;e<t.length;e+=2)r+=String.fromCharCode(t[e]+256*t[e+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Ie(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Re(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),0>r&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(0>r){if(!i)return-1;r=0}if("string"===typeof t&&(t=be.from(t,n)),Se(t))return 0===t.length?-1:Le(e,t,r,n,i);if("number"===typeof t)return t&=255,be.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Le(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Le(e,t,r,n,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;a=2,s/=2,u/=2,r/=2}if(i)for(n=-1;r<s;r++)if(o(e,r)===o(t,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===u)return n*a}else-1!==n&&(r-=r-n),n=-1;else for(r+u>s&&(r=s-u);0<=r;r--){for(s=!0,n=0;n<u;n++)if(o(e,r+n)!==o(t,n)){s=!1;break}if(s)return r}return-1}function Pe(e,t,r){r=Math.min(e.length,r);for(var n=[];t<r;){var i=e[t],o=null,a=239<i?4:223<i?3:191<i?2:1;if(t+a<=r)switch(a){case 1:128>i&&(o=i);break;case 2:var s=e[t+1];128===(192&s)&&(i=(31&i)<<6|63&s,127<i&&(o=i));break;case 3:s=e[t+1];var u=e[t+2];128===(192&s)&&128===(192&u)&&(i=(15&i)<<12|(63&s)<<6|63&u,2047<i&&(55296>i||57343<i)&&(o=i));break;case 4:s=e[t+1],u=e[t+2];var l=e[t+3];128===(192&s)&&128===(192&u)&&128===(192&l)&&(i=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&l,65535<i&&1114112>i&&(o=i))}null===o?(o=65533,a=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=a}if(e=n.length,e<=Ku)n=String.fromCharCode.apply(String,n);else{for(r="",t=0;t<e;)r+=String.fromCharCode.apply(String,n.slice(t,t+=Ku));n=r}return n}function Oe(e,t,r){if(0!==e%1||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function De(e,t,r,n,i,o){if(!Se(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function ke(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Ne(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Fe(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function Be(e,t,r,n,i){return i||Fe(e,t,r,4,34028234663852886e22,-34028234663852886e22),ve(e,t,r,n,23,4),r+4}function ze(e,t,r,n,i){return i||Fe(e,t,r,8,17976931348623157e292,-17976931348623157e292),ve(e,t,r,n,52,8),r+8}function Ue(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if(r=e.charCodeAt(a),55295<r&&57344>r){if(!i){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(t-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--t)break;o.push(r)}else if(2048>r){if(0>(t-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(t-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(t-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function je(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function He(e){if(e=(e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(Ju,""),2>e.length)e="";else for(;0!==e.length%4;)e+="=";qu||pe();var t=e.length;if(0<t%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===e[t-2]?2:"="===e[t-1]?1:0,n=new Xu(3*t/4-r),i=0<r?t-4:t,o=0;for(t=0;t<i;t+=4){var a=Wu[e.charCodeAt(t)]<<18|Wu[e.charCodeAt(t+1)]<<12|Wu[e.charCodeAt(t+2)]<<6|Wu[e.charCodeAt(t+3)];n[o++]=a>>16&255,n[o++]=a>>8&255,n[o++]=255&a}return 2===r?(a=Wu[e.charCodeAt(t)]<<2|Wu[e.charCodeAt(t+1)]>>4,n[o++]=255&a):1===r&&(a=Wu[e.charCodeAt(t)]<<10|Wu[e.charCodeAt(t+1)]<<4|Wu[e.charCodeAt(t+2)]>>2,n[o++]=a>>8&255,n[o++]=255&a),n}function Ge(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Ve(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function We(e,t){var r=[];return e.forEach((function(e){r.push(t?-e:e,e)})),r}function Xe(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0;n<e-1;n++){var i=2*(n+t);r.push(i,i+1,i+2),r.push(i+2,i+1,i+3)}return r}function qe(e){return function(t,r,n){return t=r+e,r=n.length-1,n[0<r?0>t?0:t>r?r:t:t<r?r:0<t?0:t]}}function Ye(e){if(!e[0]||!e[0].length)return e;for(var t=e[0].length,r=[],n=0,i=0;i<e.length;i++)for(var o=0;o<t;o++)r[n++]=e[i][o];return r}function Ze(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[],r=0,n=0;n<e.length;n++){var i=e[n];if(0<n){var o=e[n-1];r+=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2))}t.push(r)}return{arr:t,total:r}}function Ke(){var e=document.createElement("canvas");e.width=e.height=32;var t=e.getContext("2d");return{canvas:e,ctx:t}}function Je(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).color,t=Ke(),r=t.canvas;return t=t.ctx,t.save(),t.moveTo(0,0),t.lineTo(20,0),t.lineTo(32,16),t.lineTo(20,32),t.lineTo(0,32),t.lineTo(10,16),t.fillStyle=e||"#fff",t.fill(),t.restore(),r}function Qe(e,t){return Bs.set(e,-t[1],t[0])}function $e(e,t,r){return Bs.sub(e,t,r),Bs.normalize(e,e),e}function et(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Gt(t),this.reject=Gt(r)}function tt(e,t,r){return r=Math.PI/180*(60*r+30),[e.x+t*Math.cos(r),e.y+t*Math.sin(r)]}function rt(e,t,r){for(var n={},i=[],o=e.length,a=t/2/Math.sin(Math.PI/3),s=1.5*a,u=1,l=0;l<o;++l){var c=e[l].geometry.coordinates;r&&(c=r(c));var h=+c[0],f=+c[1];if(!isNaN(h)&&!isNaN(f)){c=Math.round(f/=s);var p=Math.round(h=h/t-(1&c)/2),d=f-c;if(1<3*Math.abs(d)){var g=h-p,m=p+(h<p?-1:1)/2,v=c+(f<c?-1:1);h-=m,f-=v,g*g+d*d>h*h+f*f&&(p=m+(1&c?1:-1)/2,c=v)}d=p+"-"+c,(g=n[d])?(g.count+=e[l].count||1,u=Math.max(u,g.count)):(n[d]={center:{x:(p+(1&c)/2)*t,y:c*s},count:e[l].count||1},i.push(n[d]))}}return i.max=u,i.r=a,i}function nt(e,t,r,n){switch(n){case 5122:return new Int16Array(e,t,r);case 5123:return new Uint16Array(e,t,r);case 5124:return new Int32Array(e,t,r);case 5125:return new Uint32Array(e,t,r);case 5126:return new Float32Array(e,t,r);default:return null}}function it(e){return nt(e.bufferView.data,e.byteOffset,e.count*wh[e.type],e.componentType)}function ot(e){var t="",r=e.lastIndexOf("/");return-1!==r&&(t=e.substring(0,r+1)),t}function at(e,t){var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&"200"==r.status&&t(r.responseText,this)},r.send(null)}function st(e,t){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.open("GET",e,!0),r.onreadystatechange=function(){if(4==r.readyState&&"200"==r.status){var e=r.response;e&&t&&t(e)}},r.send(null)}function ut(e,t,r){var n=new Image;n.crossOrigin="Anonymous",n.src=e,n.onload=function(){r(n,t)}}function lt(e){function t(e,t){r.uniform1i(e,t.index),r.activeTexture(r.TEXTURE0+t.index),e=w.glTF.textures[t.index],r.bindTexture(r.TEXTURE_2D,e.texture),r.bindSampler(t.index,e.sampler?e.sampler.sampler:a)}var r=e.gl,n=0,i=[];e=r.canvas;var o=function(e,t,r){for(this.glTFScene=e,this.glTF=t,this.id=r,this.rootTransform=js.create(),this.nodeMatrix=Array(t.nodes.length),e=0,t=this.nodeMatrix.length;e<t;e++)this.nodeMatrix[e]=js.create()},a=r.createSampler();r.samplerParameteri(a,r.TEXTURE_MIN_FILTER,r.NEAREST_MIPMAP_LINEAR),r.samplerParameteri(a,r.TEXTURE_MAG_FILTER,r.LINEAR),r.samplerParameteri(a,r.TEXTURE_WRAP_S,r.REPEAT),r.samplerParameteri(a,r.TEXTURE_WRAP_T,r.REPEAT),r.bindVertexArray(null),r.bindVertexArray(null);var s={HAS_SKIN:1,SKIN_VEC8:2,HAS_BASECOLORMAP:4,HAS_NORMALMAP:8,HAS_METALROUGHNESSMAP:16,HAS_OCCLUSIONMAP:32,HAS_EMISSIVEMAP:64},u={},l=function(){this.flags=0,this.programObject=null};l.prototype.hasSkin=function(){return this.flags&s.HAS_SKIN},l.prototype.hasBaseColorMap=function(){return this.flags&s.HAS_BASECOLORMAP},l.prototype.hasNormalMap=function(){return this.flags&s.HAS_NORMALMAP},l.prototype.hasMetalRoughnessMap=function(){return this.flags&s.HAS_METALROUGHNESSMAP},l.prototype.hasOcclusionMap=function(){return this.flags&s.HAS_OCCLUSIONMAP},l.prototype.hasEmissiveMap=function(){return this.flags&s.HAS_EMISSIVEMAP},l.prototype.defineMacro=function(e){void 0!==s[e]&&(this.flags|=s[e])},l.prototype.compile=function(){var e=u[this.flags];if(e)this.programObject=e;else{var t=e="";this.flags&s.HAS_SKIN&&(e+="#define HAS_SKIN\n"),this.flags&s.SKIN_VEC8&&(e+="#define SKIN_VEC8\n"),this.flags&s.HAS_BASECOLORMAP&&(t+="#define HAS_BASECOLORMAP\n"),this.flags&s.HAS_NORMALMAP&&(t+="#define HAS_NORMALMAP\n"),this.flags&s.HAS_METALROUGHNESSMAP&&(t+="#define HAS_METALROUGHNESSMAP\n"),this.flags&s.HAS_OCCLUSIONMAP&&(t+="#define HAS_OCCLUSIONMAP\n"),this.flags&s.HAS_EMISSIVEMAP&&(t+="#define HAS_EMISSIVEMAP\n"),e=Ch.createProgram(r,"#version 300 es\n"+e+"#define POSITION_LOCATION 0\n#define NORMAL_LOCATION 1\n#define TEXCOORD_0_LOCATION 2\n#define JOINTS_0_LOCATION 3\n#define JOINTS_1_LOCATION 5\n#define WEIGHTS_0_LOCATION 4\n#define WEIGHTS_1_LOCATION 6\n#define TANGENT_LOCATION 7\nprecision highp float;precision highp int;uniform mat4 u_MVP;uniform mat4 u_MV;uniform mat4 u_MVNormal;\n#ifdef HAS_SKIN\nuniform JointMatrix{mat4 matrix[65];}u_jointMatrix;\n#endif\nlayout(location=POSITION_LOCATION)in vec3 position;layout(location=NORMAL_LOCATION)in vec3 normal;layout(location=TEXCOORD_0_LOCATION)in vec2 uv;\n#ifdef HAS_SKIN\nlayout(location=JOINTS_0_LOCATION)in vec4 joint0;layout(location=WEIGHTS_0_LOCATION)in vec4 weight0;\n#ifdef SKIN_VEC8\nlayout(location=JOINTS_1_LOCATION)in vec4 joint1;layout(location=WEIGHTS_1_LOCATION)in vec4 weight1;\n#endif\n#endif\nout vec3 v_position;out vec3 v_normal;out vec2 v_uv;void main(){\n#ifdef HAS_SKIN\nmat4 skinMatrix=weight0.x*u_jointMatrix.matrix[int(joint0.x)]+weight0.y*u_jointMatrix.matrix[int(joint0.y)]+weight0.z*u_jointMatrix.matrix[int(joint0.z)]+weight0.w*u_jointMatrix.matrix[int(joint0.w)];\n#ifdef SKIN_VEC8\nskinMatrix+=weight1.x*u_jointMatrix.matrix[int(joint1.x)]+weight1.y*u_jointMatrix.matrix[int(joint1.y)]+weight1.z*u_jointMatrix.matrix[int(joint1.z)]+weight1.w*u_jointMatrix.matrix[int(joint1.w)];\n#endif\n#endif\nv_uv=uv;\n#ifdef HAS_SKIN\nv_normal=normalize((u_MVNormal*transpose(inverse(skinMatrix))*vec4(normal,0)).xyz);vec4 pos=u_MV*skinMatrix*vec4(position,1.0);gl_Position=u_MVP*skinMatrix*vec4(position,1.0);\n#else\nv_normal=normalize((u_MVNormal*vec4(normal,0)).xyz);vec4 pos=u_MV*vec4(position,1.0);gl_Position=u_MVP*vec4(position,1.0);\n#endif\nv_position=vec3(pos.xyz)/pos.w;}","#version 300 es\n"+t+"#define FRAG_COLOR_LOCATION 0\nprecision highp float;precision highp int;uniform sampler2D u_brdfLUT;uniform vec4 u_baseColorFactor;\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_baseColorTexture;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_normalTexture;uniform float u_normalTextureScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_emissiveTexture;uniform vec3 u_emissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_metallicRoughnessTexture;\n#endif\nuniform float u_metallicFactor;uniform float u_roughnessFactor;\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_occlusionTexture;uniform float u_occlusionStrength;\n#endif\nin vec3 v_position;in vec3 v_normal;in vec2 v_uv;layout(location=FRAG_COLOR_LOCATION)out vec4 frag_color;struct PBRInfo{float NdotL;float NdotV;float NdotH;float LdotH;float VdotH;float perceptualRoughness;float metalness;vec3 reflectance0;vec3 reflectance90;float alphaRoughness;vec3 diffuseColor;vec3 specularColor;};const float M_PI=3.141592653589793;const float c_MinRoughness=0.04;vec3 getNormal(){vec3 pos_dx=dFdx(v_position);vec3 pos_dy=dFdy(v_position);vec3 tex_dx=dFdx(vec3(v_uv,0.0));vec3 tex_dy=dFdy(vec3(v_uv,0.0));vec3 t=(tex_dy.t*pos_dx-tex_dx.t*pos_dy)/(tex_dx.s*tex_dy.t-tex_dy.s*tex_dx.t);vec3 ng=v_normal;t=normalize(t-ng*dot(ng,t));vec3 b=normalize(cross(ng,t));mat3 tbn=mat3(t,b,ng);\n#ifdef HAS_NORMALMAP\nvec3 n=texture(u_normalTexture,v_uv).rgb;n=normalize(tbn*((2.0*n-1.0)*vec3(u_normalTextureScale,u_normalTextureScale,1.0)));\n#else\nvec3 n=tbn[2].xyz;\n#endif\nreturn n;}vec3 getIBLContribution(PBRInfo pbrInputs,vec3 n,vec3 reflection){float mipCount=10.0;float lod=(pbrInputs.perceptualRoughness*mipCount);vec3 brdf=texture(u_brdfLUT,vec2(pbrInputs.NdotV,1.0-pbrInputs.perceptualRoughness)).rgb;vec3 diffuseLight=vec3(0.6,0.6,0.6);vec3 specularLight=vec3(0.6,0.6,0.6);vec3 diffuse=diffuseLight*pbrInputs.diffuseColor;vec3 specular=specularLight*(pbrInputs.specularColor*brdf.x+brdf.y);return diffuse+specular;}vec3 diffuse(PBRInfo pbrInputs){return pbrInputs.diffuseColor/M_PI;}vec3 specularReflection(PBRInfo pbrInputs){return pbrInputs.reflectance0+(pbrInputs.reflectance90-pbrInputs.reflectance0)*pow(clamp(1.0-pbrInputs.VdotH,0.0,1.0),5.0);}float geometricOcclusion(PBRInfo pbrInputs){float NdotL=pbrInputs.NdotL;float NdotV=pbrInputs.NdotV;float r=pbrInputs.alphaRoughness;float attenuationL=2.0*NdotL/(NdotL+sqrt(r*r+(1.0-r*r)*(NdotL*NdotL)));float attenuationV=2.0*NdotV/(NdotV+sqrt(r*r+(1.0-r*r)*(NdotV*NdotV)));return attenuationL*attenuationV;}float microfacetDistribution(PBRInfo pbrInputs){float roughnessSq=pbrInputs.alphaRoughness*pbrInputs.alphaRoughness;float f=(pbrInputs.NdotH*roughnessSq-pbrInputs.NdotH)*pbrInputs.NdotH+1.0;return roughnessSq/(M_PI*f*f);}void main(){float perceptualRoughness=u_roughnessFactor;float metallic=u_metallicFactor;\n#ifdef HAS_METALROUGHNESSMAP\nvec4 mrSample=texture(u_metallicRoughnessTexture,v_uv);perceptualRoughness=mrSample.g*perceptualRoughness;metallic=mrSample.b*metallic;\n#endif\nperceptualRoughness=clamp(perceptualRoughness,c_MinRoughness,1.0);metallic=clamp(metallic,0.0,1.0);float alphaRoughness=perceptualRoughness*perceptualRoughness;\n#ifdef HAS_BASECOLORMAP\nvec4 baseColor=texture(u_baseColorTexture,v_uv)*u_baseColorFactor;\n#else\nvec4 baseColor=u_baseColorFactor;\n#endif\nvec3 f0=vec3(0.04);vec3 diffuseColor=baseColor.rgb*(vec3(1.0)-f0);diffuseColor*=1.0-metallic;vec3 specularColor=mix(f0,baseColor.rgb,metallic);float reflectance=max(max(specularColor.r,specularColor.g),specularColor.b);float reflectance90=clamp(reflectance*25.0,0.0,1.0);vec3 specularEnvironmentR0=specularColor.rgb;vec3 specularEnvironmentR90=vec3(1.0,1.0,1.0)*reflectance90;vec3 n=getNormal();vec3 v=normalize(-v_position);vec3 l=normalize(vec3(1.0,1.0,1.0));vec3 h=normalize(l+v);vec3 reflection=-normalize(reflect(v,n));float NdotL=clamp(dot(n,l),0.001,1.0);float NdotV=abs(dot(n,v))+0.001;float NdotH=clamp(dot(n,h),0.0,1.0);float LdotH=clamp(dot(l,h),0.0,1.0);float VdotH=clamp(dot(v,h),0.0,1.0);PBRInfo pbrInputs=PBRInfo(NdotL,NdotV,NdotH,LdotH,VdotH,perceptualRoughness,metallic,specularEnvironmentR0,specularEnvironmentR90,alphaRoughness,diffuseColor,specularColor);vec3 F=specularReflection(pbrInputs);float G=geometricOcclusion(pbrInputs);float D=microfacetDistribution(pbrInputs);vec3 diffuseContrib=(1.0-F)*diffuse(pbrInputs);vec3 specContrib=max(vec3(0.0),F*G*D/(4.0*NdotL*NdotV));vec3 color=NdotL*(diffuseContrib+specContrib);color+=getIBLContribution(pbrInputs,n,reflection);\n#ifdef HAS_OCCLUSIONMAP\nfloat ao=texture(u_occlusionTexture,v_uv).r;color=mix(color,color*ao,u_occlusionStrength);\n#endif\n#ifdef HAS_EMISSIVEMAP\nvec3 emissive=texture(u_emissiveTexture,v_uv).rgb*u_emissiveFactor;color+=emissive;\n#endif\nfrag_color=vec4(color,baseColor.a);}"),this.programObject={program:e,uniformLocations:{},uniformBlockIndices:{}},this.flags&s.HAS_SKIN&&(this.programObject.uniformBlockIndices.JointMatrix=r.getUniformBlockIndex(e,"JointMatrix")),t=this.programObject.uniformLocations,t.MVP=r.getUniformLocation(e,"u_MVP"),t.MVNormal=r.getUniformLocation(e,"u_MVNormal"),t.MV=r.getUniformLocation(e,"u_MV"),t.baseColorFactor=r.getUniformLocation(e,"u_baseColorFactor"),t.metallicFactor=r.getUniformLocation(e,"u_metallicFactor"),t.roughnessFactor=r.getUniformLocation(e,"u_roughnessFactor"),this.flags&s.HAS_BASECOLORMAP&&(t.baseColorTexture=r.getUniformLocation(e,"u_baseColorTexture")),this.flags&s.HAS_NORMALMAP&&(t.normalTexture=r.getUniformLocation(e,"u_normalTexture"),t.normalTextureScale=r.getUniformLocation(e,"u_normalTextureScale")),this.flags&s.HAS_METALROUGHNESSMAP&&(t.metallicRoughnessTexture=r.getUniformLocation(e,"u_metallicRoughnessTexture")),this.flags&s.HAS_OCCLUSIONMAP&&(t.occlusionTexture=r.getUniformLocation(e,"u_occlusionTexture"),t.occlusionStrength=r.getUniformLocation(e,"u_occlusionStrength")),this.flags&s.HAS_EMISSIVEMAP&&(t.emissiveTexture=r.getUniformLocation(e,"u_emissiveTexture"),t.emissiveFactor=r.getUniformLocation(e,"u_emissiveFactor")),r.useProgram(null),u[this.flags]=this.programObject}};var c=1,h=Fs.create(),f=js.create();Us.create();var p=[];r.enable(r.CULL_FACE),r.cullFace(r.BACK),r.frontFace(r.CCW);var d=!0;r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL);var g=g||{},m=null;Fs.create();var v=js.create();js.perspective(v,.785,e.width/e.height,.01,100),js.create();var y=js.create(),b=js.create(),x=js.create();js.create();var A,w,_,C=[1,1,1,1],M=g.drawPrimitive=function(e,n){if(_){b=y=_.matrix,js.invert(x,y),js.transpose(x,x),n=C;var i=e.shader,o=e.material;if(null!==o){var a=o.pbrMetallicRoughness;n=a.baseColorFactor,e.material.doubleSided===d&&((d=!e.material.doubleSided)?r.enable(r.CULL_FACE):r.disable(r.CULL_FACE))}m!=e.shader.programObject&&(m=e.shader.programObject,r.useProgram(m.program)),o&&(i.hasBaseColorMap()&&t(m.uniformLocations.baseColorTexture,a.baseColorTexture),i.hasNormalMap()&&(t(m.uniformLocations.normalTexture,o.normalTexture),r.uniform1f(m.uniformLocations.normalTextureScale,o.normalTexture.scale)),i.hasMetalRoughnessMap()&&t(m.uniformLocations.metallicRoughnessTexture,a.metallicRoughnessTexture),r.uniform1f(m.uniformLocations.metallicFactor,a.metallicFactor),r.uniform1f(m.uniformLocations.roughnessFactor,a.roughnessFactor),i.hasOcclusionMap()&&(t(m.uniformLocations.occlusionTexture,o.occlusionTexture),r.uniform1f(m.uniformLocations.occlusionStrength,o.occlusionTexture.strength)),i.hasEmissiveMap()&&(t(m.uniformLocations.emissiveTexture,o.emissiveTexture),r.uniform3fv(m.uniformLocations.emissiveFactor,o.emissiveFactor))),i.hasSkin()&&r.uniformBlockBinding(m.program,m.uniformBlockIndices.JointMatrix,A),r.activeTexture(r.TEXTURE0+29),r.bindTexture(r.TEXTURE_2D,null),r.uniform4fv(m.uniformLocations.baseColorFactor,n),r.uniformMatrix4fv(m.uniformLocations.MV,!1,y),r.uniformMatrix4fv(m.uniformLocations.MVP,!1,b),r.uniformMatrix4fv(m.uniformLocations.MVNormal,!1,x),r.bindVertexArray(e.vertexArray),null!==e.indices?r.drawElements(e.mode,e.indicesLength,e.indicesComponentType,e.indicesOffset):r.drawArrays(e.mode,e.drawArraysOffset,e.drawArraysCount),r.bindVertexArray(null)}},S=js.create(),T=js.create(),E=g.drawNode=function(e,t,n,i){if(t=n[t],void 0!==i?js.mul(t,i,e.matrix):js.copy(t,e.matrix),null!==e.skin){var o=e.skin;A=o.uniformBlockID;var a=e.skin.joints;for(js.invert(T,t),i=0,u=a.length;i<u;i++){var s=a[i];js.mul(S,n[s.nodeID],o.inverseBindMatrix[i]),js.mul(S,T,S),o.jointMatrixUnidormBufferData.set(S,16*i)}r.bindBuffer(r.UNIFORM_BUFFER,o.jointMatrixUniformBuffer),r.bufferSubData(r.UNIFORM_BUFFER,0,o.jointMatrixUnidormBufferData,0,o.jointMatrixUnidormBufferData.length)}var u;if(null!==e.mesh)for(o=e.mesh,i=0,u=o.primitives.length;i<u;i++)M(o.primitives[i],t);for(null!==e.skin&&r.bindBuffer(r.UNIFORM_BUFFER,null),i=0,u=e.children.length;i<u;i++)E(e.children[i],e.children[i].nodeID,n,t)},I=g.drawScene=function(e){var t=e.glTF;if(t.animations){var r,i=t.animations[n],o=0;for(r=i.samplers.length;o<r;o++)i.samplers[o].getValue(L);for(o=0,r=i.channels.length;o<r;o++){var a=i.channels[o],s=a.sampler,u=t.nodes[a.target.nodeID];switch(a.target.path){case"rotation":Ns.copy(u.rotation,s.curValue);break;case"translation":Fs.copy(u.translation,s.curValue);break;case"scale":Fs.copy(u.scale,s.curValue)}u.updateMatrixFromTRS()}}for(i=0,t=e.glTFScene.nodes.length;i<t;i++)E(e.glTFScene.nodes[i],e.glTFScene.nodes[i].nodeID,e.nodeMatrix,e.rootTransform)},R=performance.now(),L=0;return{setupScene:function(e,t){function a(e,t){if(void 0!==e){var n=e.bufferView;return null===n.target?(r.bindBuffer(r.ARRAY_BUFFER,n.buffer),r.bufferData(r.ARRAY_BUFFER,n.data,r.STATIC_DRAW)):r.bindBuffer(n.target,n.buffer),e.prepareVertexAttrib(t,r),!0}return!1}var s,u;if(e.animations){var d=0;for(s=e.animations.length;d<s;d++)i.add(e.animations[d].name||d)}for(n=0,d=e.scenes[e.defaultScene],Fs.fromValues(1.2*d.boundingBox.transform[0],0,0),Fs.create(),t?t=p[t.id]=new o(d,e,t.id):(t=new o(d,e,p.length),p.push(t)),1===p.length&&(js.identity(f),c=1/Math.max(d.boundingBox.transform[0],Math.max(d.boundingBox.transform[5],d.boundingBox.transform[10])),js.getTranslation(h,d.boundingBox.transform),Fs.scale(h,h,-1),h[0]+=-.5*d.boundingBox.transform[0],h[1]+=-.5*d.boundingBox.transform[5],h[2]+=-.5*d.boundingBox.transform[10],c*=.5,f[0]=c,f[5]=c,f[10]=c,js.translate(f,f,h),Fs.set(h,0,0,-1.5),c=1),d=0,s=e.bufferViews.length;d<s;d++){var g=e.bufferViews[d];g.createBuffer(r),g.bindData(r)}if(e.textures)for(d=0,s=e.textures.length;d<s;d++){var m=e.textures[d];m.createTexture(r)}if(e.samplers)for(d=0,s=e.samplers.length;d<s;d++)m=e.samplers[d],m.createSampler(r);if(e.skins)for(d=0,s=e.skins.length;d<s;d++)m=e.skins[d],m.jointMatrixUniformBuffer=r.createBuffer(),r.bindBufferBase(r.UNIFORM_BUFFER,m.uniformBlockID,m.jointMatrixUniformBuffer),r.bindBuffer(r.UNIFORM_BUFFER,m.jointMatrixUniformBuffer),r.bufferData(r.UNIFORM_BUFFER,m.jointMatrixUnidormBufferData,r.DYNAMIC_DRAW),r.bufferSubData(r.UNIFORM_BUFFER,0,m.jointMatrixUnidormBufferData),r.bindBuffer(r.UNIFORM_BUFFER,null);var v=0;for(u=e.meshes.length;v<u;v++)for(m=e.meshes[v],d=0,s=m.primitives.length;d<s;++d){var y=m.primitives[d];y.shader=new l,y.vertexArray=g=r.createVertexArray(),r.bindVertexArray(g),a(y.attributes.POSITION,0),a(y.attributes.NORMAL,1),a(y.attributes.TEXCOORD_0,2),a(y.attributes.JOINTS_0,3)&&a(y.attributes.WEIGHTS_0,4)&&y.shader.defineMacro("HAS_SKIN"),a(y.attributes.JOINTS_1,5)&&a(y.attributes.WEIGHTS_1,6)&&y.shader.defineMacro("SKIN_VEC8"),null!==y.indices&&(g=e.accessors[y.indices],g=g.bufferView,null===g.target?(r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,g.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,g.data,r.STATIC_DRAW)):r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,g.buffer)),r.bindVertexArray(null),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),(g=y.material)&&(g.pbrMetallicRoughness.baseColorTexture&&y.shader.defineMacro("HAS_BASECOLORMAP"),g.pbrMetallicRoughness.metallicRoughnessTexture&&y.shader.defineMacro("HAS_METALROUGHNESSMAP"),g.normalTexture&&y.shader.defineMacro("HAS_NORMALMAP"),g.occlusionTexture&&y.shader.defineMacro("HAS_OCCLUSIONMAP"),g.emissiveTexture&&y.shader.defineMacro("HAS_EMISSIVEMAP")),y.shader.compile()}return t},render:g.render=function(e){var t;_=e,e=(new Date).getTime();var r=0;for(t=p.length;r<t;r++)w=p[r],I(p[r]);m=null,L=.001*(e-R)}}}function ct(e,t,r,n,i,o){if("string"==typeof t&&"number"==typeof r&&"number"==typeof n)for(t=t.split(o),o=0;o<t.length;o++)e.fillText(t[o],r,n),n+=i}function ht(e){this.options=e=e||{},e.colors=e.colors||["rgba(0,192,73,0.99609375)","rgba(242,48,48,0.99609375)","rgba(255,159,25,0.99609375)"];var t=e.colors;this.drawTogether=!0,this.parseColors(t),this.tileSize=256,this.ratio=window.devicePixelRatio,this.cache={},e.getTileUrl&&(this.getTileUrl=e.getTileUrl),this._loadCount={}}function ft(e){var t=e/2,r=e+t,n=new w(2*r,2*r),i=n.getContext("2d");return i.shadowBlur=t,i.shadowColor="black",i.shadowOffsetX=i.shadowOffsetY=1e4,i.beginPath(),i.arc(r-1e4,r-1e4,e,0,2*Math.PI,!0),i.closePath(),i.fill(),n}var pt=window.BMapGL||window.BMap;pt&&pt.Overlay&&(r.prototype=new pt.Overlay),r.prototype.initialize=function(e){this._map=e;var t=this.canvas=document.createElement("canvas"),r=this.ctx=this.canvas.getContext("2d");t.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";",this.adjustSize(),this.adjustRatio(r),e.getContainer().appendChild(t);var n=this;return e.addEventListener("resize",(function(){n.adjustSize(),n._draw()})),this.canvas},r.prototype.adjustSize=function(){var e=this._map.getSize(),t=this.canvas;t.width=e.width,t.height=e.height,t.style.width=t.width+"px",t.style.height=t.height+"px"},r.prototype.adjustRatio=function(e){var t=(window.devicePixelRatio||1)/(e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),r=e.canvas.width,n=e.canvas.height;e.canvas.width=r*t,e.canvas.height=n*t,e.canvas.style.width=r+"px",e.canvas.style.height=n+"px",e.scale(t,t)},r.prototype.draw=function(){this._draw.apply(this,arguments)},r.prototype._draw=function(){this.dispatchEvent("draw"),this.options.update&&this.options.update.apply(this,arguments)},r.prototype.getContainer=function(){return this.canvas},r.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},r.prototype.hide=function(){this.canvas.style.display="none"},r.prototype.setZIndex=function(e){this.canvas.style.zIndex=e},r.prototype.getZIndex=function(){return this.zIndex};"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;var dt=i((function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),gt=n(dt),mt=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},vt={}.hasOwnProperty,yt=function(e,t){return vt.call(e,t)},bt={}.toString,xt=function(e){return bt.call(e).slice(8,-1)},At=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==xt(e)?e.split(""):Object(e)},wt=function(e){return At(mt(e))},_t=Math.ceil,Ct=Math.floor,Mt=function(e){return isNaN(e=+e)?0:(0<e?Ct:_t)(e)},St=Math.min,Tt=function(e){return 0<e?St(Mt(e),9007199254740991):0},Et=Math.max,It=Math.min,Rt=i((function(e){e=e.exports={version:"2.6.5"},"number"==typeof __e&&(__e=e)})),Lt=i((function(e){e=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=e)})),Pt=i((function(e){var t=Lt["__core-js_shared__"]||(Lt["__core-js_shared__"]={});(e.exports=function(e,r){return t[e]||(t[e]=void 0!==r?r:{})})("versions",[]).push({version:Rt.version,mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),Ot=0,Dt=Math.random(),kt=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Ot+Dt).toString(36))},Nt=Pt("keys"),Ft=function(e){return Nt[e]||(Nt[e]=kt(e))},Bt=function(e){return function(t,r,n){t=wt(t);var i=Tt(t.length);if(n=Mt(n),n=0>n?Et(n+i,0):It(n,i),e&&r!=r){for(;i>n;)if(r=t[n++],r!=r)return!0}else for(;i>n;n++)if((e||n in t)&&t[n]===r)return e||n||0;return!e&&-1}}(!1),zt=Ft("IE_PROTO"),Ut=function(e,t){e=wt(e);var r,n=0,i=[];for(r in e)r!=zt&&yt(e,r)&&i.push(r);for(;t.length>n;)yt(e,r=t[n++])&&(~Bt(i,r)||i.push(r));return i},jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ht=Object.keys||function(e){return Ut(e,jt)},Gt=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Vt=function(e,t,r){if(Gt(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},Wt=function(e){return"object"===typeof e?null!==e:"function"===typeof e},Xt=function(e){if(!Wt(e))throw TypeError(e+" is not an object!");return e},qt=function(e){try{return!!e()}catch(t){return!0}},Yt=!qt((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Zt=Lt.document,Kt=Wt(Zt)&&Wt(Zt.createElement),Jt=!Yt&&!qt((function(){return 7!=Object.defineProperty(Kt?Zt.createElement("div"):{},"a",{get:function(){return 7}}).a})),Qt=function(e,t){if(!Wt(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!Wt(n=r.call(e))||"function"==typeof(r=e.valueOf)&&!Wt(n=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!Wt(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},$t=Object.defineProperty,er={f:Yt?Object.defineProperty:function(e,t,r){if(Xt(e),t=Qt(t,!0),Xt(r),Jt)try{return $t(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},tr=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},rr=Yt?function(e,t,r){return er.f(e,t,tr(1,r))}:function(e,t,r){return e[t]=r,e},nr=function(e,t,r){var n,i=e&nr.F,o=e&nr.G,a=e&nr.S,s=e&nr.P,u=e&nr.B,l=e&nr.W,c=o?Rt:Rt[t]||(Rt[t]={}),h=c.prototype;for(n in a=o?Lt:a?Lt[t]:(Lt[t]||{}).prototype,o&&(r=t),r)if(t=!i&&a&&void 0!==a[n],!t||!yt(c,n)){var f=t?a[n]:r[n];c[n]=o&&"function"!=typeof a[n]?r[n]:u&&t?Vt(f,Lt):l&&a[n]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):s&&"function"==typeof f?Vt(Function.call,f):f,s&&((c.virtual||(c.virtual={}))[n]=f,e&nr.R&&h&&!h[n]&&rr(h,n,f))}};nr.F=1,nr.G=2,nr.S=4,nr.P=8,nr.B=16,nr.W=32,nr.U=64,nr.R=128;var ir=nr,or=function(e,t){var r=(Rt.Object||{})[e]||Object[e],n={};n[e]=t(r),ir(ir.S+ir.F*qt((function(){r(1)})),"Object",n)};or("keys",(function(){return function(e){return Ht(Object(mt(e)))}}));var ar=Rt.Object.keys,sr=i((function(e){e.exports={default:ar,__esModule:!0}})),ur=n(sr),lr=Object.getOwnPropertySymbols,cr={}.propertyIsEnumerable,hr=Object.assign,fr=!hr||qt((function(){var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=hr({},e)[r]||"abcdefghijklmnopqrst"!=Object.keys(hr({},t)).join("")}))?function(e,t){for(var r=Object(mt(e)),n=arguments.length,i=1,o=lr,a=cr;n>i;)for(var s,u=At(arguments[i++]),l=o?Ht(u).concat(o(u)):Ht(u),c=l.length,h=0;c>h;)a.call(u,s=l[h++])&&(r[s]=u[s]);return r}:hr;ir(ir.S+ir.F,"Object",{assign:fr});var pr=Rt.Object.assign,dr=i((function(e){e.exports={default:pr,__esModule:!0}})),gr=n(dr),mr=Ft("IE_PROTO"),vr=Object.prototype,yr=Object.getPrototypeOf||function(e){return e=Object(mt(e)),yt(e,mr)?e[mr]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?vr:null};or("getPrototypeOf",(function(){return function(e){return yr(Object(mt(e)))}}));var br=Rt.Object.getPrototypeOf,xr=i((function(e){e.exports={default:br,__esModule:!0}})),Ar=n(xr);ir(ir.S+ir.F*!Yt,"Object",{defineProperty:er.f});var wr=Rt.Object,_r=function(e,t,r){return wr.defineProperty(e,t,r)},Cr=i((function(e){e.exports={default:_r,__esModule:!0}})),Mr=n(Cr),Sr=i((function(e,t){t.__esModule=!0;var r=Cr&&Cr.__esModule?Cr:{default:Cr};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()})),Tr=n(Sr),Er={},Ir=Yt?Object.defineProperties:function(e,t){Xt(e);for(var r,n=Ht(t),i=n.length,o=0;i>o;)er.f(e,r=n[o++],t[r]);return e},Rr=Lt.document,Lr=Rr&&Rr.documentElement,Pr=Ft("IE_PROTO"),Or=function(){},Dr=function(){var e=Kt?Zt.createElement("iframe"):{},t=jt.length;for(e.style.display="none",Lr.appendChild(e),e.src="javascript:",e=e.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),Dr=e.F;t--;)delete Dr.prototype[jt[t]];return Dr()},kr=Object.create||function(e,t){if(null!==e){Or.prototype=Xt(e);var r=new Or;Or.prototype=null,r[Pr]=e}else r=Dr();return void 0===t?r:Ir(r,t)},Nr=i((function(e){var t=Pt("wks"),r=Lt.Symbol,n="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:kt)("Symbol."+e))}).store=t})),Fr=er.f,Br=Nr("toStringTag"),zr=function(e,t,r){e&&!yt(e=r?e:e.prototype,Br)&&Fr(e,Br,{configurable:!0,value:t})},Ur={};rr(Ur,Nr("iterator"),(function(){return this}));var jr=function(e,t,r){e.prototype=kr(Ur,{next:tr(1,r)}),zr(e,t+" Iterator")},Hr=Nr("iterator"),Gr=!([].keys&&"next"in[].keys()),Vr=function(){return this},Wr=function(e,t,r,n,i,o,a){jr(r,t,n),n=function(e){return!Gr&&e in h?h[e]:function(){return new r(this,e)}};var s,u=t+" Iterator",l="values"==i,c=!1,h=e.prototype,f=h[Hr]||h["@@iterator"]||i&&h[i],p=f||n(i),d=i?l?n("entries"):p:void 0,g="Array"==t&&h.entries||f;if(g&&(e=yr(g.call(new e)),e!==Object.prototype&&e.next&&zr(e,u,!0)),l&&f&&"values"!==f.name&&(c=!0,p=function(){return f.call(this)}),a&&(Gr||c||!h[Hr])&&rr(h,Hr,p),Er[t]=p,Er[u]=Vr,i){var m={values:l?p:n("values"),keys:o?p:n("keys"),entries:d};if(a)for(s in m)s in h||rr(h,s,m[s]);else ir(ir.P+ir.F*(Gr||c),t,m)}return m},Xr=function(e){return function(t,r){t=String(mt(t)),r=Mt(r);var n,i=t.length;if(0>r||r>=i)return e?"":void 0;var o=t.charCodeAt(r);return 55296>o||56319<o||r+1===i||56320>(n=t.charCodeAt(r+1))||57343<n?e?t.charAt(r):o:e?t.slice(r,r+2):n-56320+(o-55296<<10)+65536}}(!0);Wr(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=Xr(e,t),this._i+=e.length,{value:e,done:!1})}));var qr=function(e,t){return{value:t,done:!!e}};Wr(Array,"Array",(function(e,t){this._t=wt(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,qr(1)):qr(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),Er.Arguments=Er.Array;for(var Yr=Nr("toStringTag"),Zr="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),Kr=0;Kr<Zr.length;Kr++){var Jr=Zr[Kr],Qr=Lt[Jr],$r=Qr&&Qr.prototype;$r&&!$r[Yr]&&rr($r,Yr,Jr),Er[Jr]=Er.Array}var en={f:Nr},tn=en.f("iterator"),rn=i((function(e){e.exports={default:tn,__esModule:!0}}));n(rn);var nn=i((function(e){var t=kt("meta"),r=er.f,n=0,i=Object.isExtensible||function(){return!0},o=!qt((function(){return i(Object.preventExtensions({}))})),a=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,r){if(!Wt(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!yt(e,t)){if(!i(e))return"F";if(!r)return"E";a(e)}return e[t].i},getWeak:function(e,r){if(!yt(e,t)){if(!i(e))return!0;if(!r)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&s.NEED&&i(e)&&!yt(e,t)&&a(e),e}}})),on=er.f,an=function(e){var t=Rt.Symbol||(Rt.Symbol={});"_"==e.charAt(0)||e in t||on(t,e,{value:en.f(e)})},sn=Array.isArray||function(e){return"Array"==xt(e)},un=jt.concat("length","prototype"),ln=Object.getOwnPropertyNames||function(e){return Ut(e,un)},cn=ln,hn={}.toString,fn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pn=function(e){if(fn&&"[object Window]"==hn.call(e))try{var t=cn(e)}catch(r){t=fn.slice()}else t=cn(wt(e));return t},dn=Object.getOwnPropertyDescriptor,gn={f:Yt?dn:function(e,t){if(e=wt(e),t=Qt(t,!0),Jt)try{return dn(e,t)}catch(r){}if(yt(e,t))return tr(!cr.call(e,t),e[t])}},mn=nn.KEY,vn=gn.f,yn=er.f,bn=pn,xn=Lt.Symbol,An=Lt.JSON,wn=An&&An.stringify,_n=Nr("_hidden"),Cn=Nr("toPrimitive"),Mn={}.propertyIsEnumerable,Sn=Pt("symbol-registry"),Tn=Pt("symbols"),En=Pt("op-symbols"),In=Object.prototype,Rn="function"==typeof xn,Ln=Lt.QObject,Pn=!Ln||!Ln.prototype||!Ln.prototype.findChild,On=Yt&&qt((function(){return 7!=kr(yn({},"a",{get:function(){return yn(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=vn(In,t);n&&delete In[t],yn(e,t,r),n&&e!==In&&yn(In,t,n)}:yn,Dn=function(e){var t=Tn[e]=kr(xn.prototype);return t._k=e,t},kn=Rn&&"symbol"==typeof xn.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof xn},Nn=function(e,t,r){return e===In&&Nn(En,t,r),Xt(e),t=Qt(t,!0),Xt(r),yt(Tn,t)?(r.enumerable?(yt(e,_n)&&e[_n][t]&&(e[_n][t]=!1),r=kr(r,{enumerable:tr(0,!1)})):(yt(e,_n)||yn(e,_n,tr(1,{})),e[_n][t]=!0),On(e,t,r)):yn(e,t,r)},Fn=function(e,t){Xt(e);var r,n=t=wt(t),i=Ht(n),o=lr;if(o){o=o(n);for(var a,s=cr,u=0;o.length>u;)s.call(n,a=o[u++])&&i.push(a)}for(n=0,a=i.length;a>n;)Nn(e,r=i[n++],t[r]);return e},Bn=function(e){var t=Mn.call(this,e=Qt(e,!0));return!(this===In&&yt(Tn,e)&&!yt(En,e))&&(!(t||!yt(this,e)||!yt(Tn,e)||yt(this,_n)&&this[_n][e])||t)},zn=function(e,t){if(e=wt(e),t=Qt(t,!0),e!==In||!yt(Tn,t)||yt(En,t)){var r=vn(e,t);return!r||!yt(Tn,t)||yt(e,_n)&&e[_n][t]||(r.enumerable=!0),r}},Un=function(e){e=bn(wt(e));for(var t,r=[],n=0;e.length>n;)yt(Tn,t=e[n++])||t==_n||t==mn||r.push(t);return r},jn=function(e){var t=e===In;e=bn(t?En:wt(e));for(var r,n=[],i=0;e.length>i;)yt(Tn,r=e[i++])&&(!t||yt(In,r))&&n.push(Tn[r]);return n};Rn||(xn=function(){if(this instanceof xn)throw TypeError("Symbol is not a constructor!");var e=kt(0<arguments.length?arguments[0]:void 0),t=function(r){this===In&&t.call(En,r),yt(this,_n)&&yt(this[_n],e)&&(this[_n][e]=!1),On(this,e,tr(1,r))};return Yt&&Pn&&On(In,e,{configurable:!0,set:t}),Dn(e)},rr(xn.prototype,"toString",(function(){return this._k})),gn.f=zn,er.f=Nn,ln=pn=Un,cr=Bn,lr=jn,en.f=function(e){return Dn(Nr(e))}),ir(ir.G+ir.W+ir.F*!Rn,{Symbol:xn});for(var Hn="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),Gn=0;Hn.length>Gn;)Nr(Hn[Gn++]);for(var Vn=Ht(Nr.store),Wn=0;Vn.length>Wn;)an(Vn[Wn++]);ir(ir.S+ir.F*!Rn,"Symbol",{for:function(e){return yt(Sn,e+="")?Sn[e]:Sn[e]=xn(e)},keyFor:function(e){if(!kn(e))throw TypeError(e+" is not a symbol!");for(var t in Sn)if(Sn[t]===e)return t},useSetter:function(){Pn=!0},useSimple:function(){Pn=!1}}),ir(ir.S+ir.F*!Rn,"Object",{create:function(e,t){return void 0===t?kr(e):Fn(kr(e),t)},defineProperty:Nn,defineProperties:Fn,getOwnPropertyDescriptor:zn,getOwnPropertyNames:Un,getOwnPropertySymbols:jn}),An&&ir(ir.S+ir.F*(!Rn||qt((function(){var e=xn();return"[null]"!=wn([e])||"{}"!=wn({a:e})||"{}"!=wn(Object(e))}))),"JSON",{stringify:function(e){for(var t,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(t=n=r[1],(Wt(n)||void 0!==e)&&!kn(e))return sn(n)||(n=function(e,r){if("function"==typeof t&&(r=t.call(this,e,r)),!kn(r))return r}),r[1]=n,wn.apply(An,r)}}),xn.prototype[Cn]||rr(xn.prototype,Cn,xn.prototype.valueOf),zr(xn,"Symbol"),zr(Math,"Math",!0),zr(Lt.JSON,"JSON",!0),an("asyncIterator"),an("observable");var Xn=Rt.Symbol,qn=i((function(e){e.exports={default:Xn,__esModule:!0}})),Yn=n(qn),Zn=i((function(e,t){t.__esModule=!0,e=rn&&rn.__esModule?rn:{default:rn};var r=qn&&qn.__esModule?qn:{default:qn},n="function"===typeof r.default&&"symbol"===typeof e.default?function(e){return typeof e}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};t.default="function"===typeof r.default&&"symbol"===n(e.default)?function(e){return"undefined"===typeof e?"undefined":n(e)}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":"undefined"===typeof e?"undefined":n(e)}})),Kn=n(Zn),Jn=i((function(e,t){t.__esModule=!0;var r=Zn&&Zn.__esModule?Zn:{default:Zn};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,r.default)(t))&&"function"!==typeof t?e:t}})),Qn=n(Jn),$n=Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=Vt(Function.call,gn.f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){if(Xt(e),!Wt(n)&&null!==n)throw TypeError(n+": can't set as prototype!");return t?e.__proto__=n:r(e,n),e}}({},!1):void 0);ir(ir.S,"Object",{setPrototypeOf:$n});var ei=Rt.Object.setPrototypeOf,ti=i((function(e){e.exports={default:ei,__esModule:!0}}));n(ti),ir(ir.S,"Object",{create:kr});var ri=Rt.Object,ni=function(e,t){return ri.create(e,t)},ii=i((function(e){e.exports={default:ni,__esModule:!0}})),oi=n(ii),ai=i((function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(ti),i=r(ii),o=r(Zn);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}})),si=n(ai),ui=Nr("toStringTag"),li="Arguments"==xt(function(){return arguments}()),ci=function(e){var t;if(void 0===e)var r="Undefined";else{if(null===e)var n="Null";else{e:{var i=e=Object(e);try{n=i[ui];break e}catch(o){}n=void 0}n="string"==typeof(r=n)?r:li?xt(e):"Object"==(t=xt(e))&&"function"==typeof e.callee?"Arguments":t}r=n}return r},hi=Nr("iterator"),fi=Rt.isIterable=function(e){return e=Object(e),void 0!==e[hi]||"@@iterator"in e||Er.hasOwnProperty(ci(e))},pi=i((function(e){e.exports={default:fi,__esModule:!0}}));n(pi);var di=Nr("iterator"),gi=Rt.getIteratorMethod=function(e){if(void 0!=e)return e[di]||e["@@iterator"]||Er[ci(e)]},mi=Rt.getIterator=function(e){var t=gi(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return Xt(t.call(e))},vi=i((function(e){e.exports={default:mi,__esModule:!0}})),yi=n(vi),bi=i((function(e,t){t.__esModule=!0;var r=pi&&pi.__esModule?pi:{default:pi},n=vi&&vi.__esModule?vi:{default:vi};t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e))){var i=[],o=!0,a=!1,s=void 0;try{for(var u,l=(0,n.default)(e);!(o=(u=l.next()).done)&&(i.push(u.value),!t||i.length!==t);o=!0);}catch(c){a=!0,s=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()})),xi=n(bi),Ai=function(e,t,r,n){try{return n?t(Xt(r)[0],r[1]):t(r)}catch(i){throw t=e["return"],void 0!==t&&Xt(t.call(e)),i}},wi=Nr("iterator"),_i=Array.prototype,Ci=Nr("iterator"),Mi=!1;try{[7][Ci]()["return"]=function(){Mi=!0}}catch(kh){}var Si=function(e,t){if(!t&&!Mi)return!1;var r=!1;try{t=[7];var n=t[Ci]();n.next=function(){return{done:r=!0}},t[Ci]=function(){return n},e(t)}catch(i){}return r};ir(ir.S+ir.F*!Si((function(e){})),"Array",{from:function(e){var t,r=Object(mt(e)),n="function"==typeof this?this:Array,i=arguments.length,o=1<i?arguments[1]:void 0,a=void 0!==o,s=0,u=gi(r);if(a&&(o=Vt(o,2<i?arguments[2]:void 0,2)),void 0!=u&&(n!=Array||void 0===u||Er.Array!==u&&_i[wi]!==u))for(r=u.call(r),n=new n;!(t=r.next()).done;s++)i=n,u=s,t=a?Ai(r,o,[t.value,s],!0):t.value,u in i?er.f(i,u,tr(0,t)):i[u]=t;else for(i=Tt(r.length),n=new n(i);i>s;s++){u=n,t=s;var l=a?o(r[s],s):r[s];t in u?er.f(u,t,tr(0,l)):u[t]=l}return n.length=s,n}});var Ti=Rt.Array.from,Ei=i((function(e){e.exports={default:Ti,__esModule:!0}})),Ii=n(Ei),Ri=i((function(e,t){t.__esModule=!0;var r=Ei&&Ei.__esModule?Ei:{default:Ei};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}})),Li=n(Ri),Pi=nn.onFreeze;or("freeze",(function(e){return function(t){return e&&Wt(t)?e(Pi(t)):t}}));var Oi=Rt.Object.freeze,Di=i((function(e){e.exports={default:Oi,__esModule:!0}})),ki=n(Di),Ni=Rt.JSON||(Rt.JSON={stringify:JSON.stringify}),Fi=function(e){return Ni.stringify.apply(Ni,arguments)},Bi=i((function(e){e.exports={default:Fi,__esModule:!0}})),zi=n(Bi),Ui={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ji=gn.f;or("getOwnPropertyDescriptor",(function(){return function(e,t){return ji(wt(e),t)}}));var Hi=Rt.Object,Gi=function(e,t){return Hi.getOwnPropertyDescriptor(e,t)},Vi=i((function(e){e.exports={default:Gi,__esModule:!0}})),Wi=n(Vi),Xi=i((function(e){var t=Array.prototype.concat,r=Array.prototype.slice,n=e.exports=function(e){for(var n=[],i=0,o=e.length;i<o;i++){var a=e[i],s=!(!(s=a)||"string"===typeof s)&&(s instanceof Array||Array.isArray(s)||0<=s.length&&(s.splice instanceof Function||Wi(s,s.length-1)&&"String"!==s.constructor.name));s?n=t.call(n,r.call(a)):n.push(a)}return n};n.wrap=function(e){return function(){return e(n(arguments))}}})),qi=i((function(e){function t(e,t,r){return Math.min(Math.max(t,e),r)}function r(e){return e=e.toString(16).toUpperCase(),2>e.length?"0"+e:e}var n,i={};for(n in Ui)Ui.hasOwnProperty(n)&&(i[Ui[n]]=n);var o=e.exports={to:{},get:{}};o.get=function(e){switch(e.substring(0,3).toLowerCase()){case"hsl":e=o.get.hsl(e);var t="hsl";break;case"hwb":e=o.get.hwb(e),t="hwb";break;default:e=o.get.rgb(e),t="rgb"}return e?{model:t,value:e}:null},o.get.rgb=function(e){if(!e)return null;var r,n=/^#([a-f0-9]{3,4})$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\D+)/,s=[0,0,0,1];if(r=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=r[2],r=r[1],e=0;3>e;e++)i=2*e,s[e]=parseInt(r.slice(i,i+2),16);n&&(s[3]=Math.round(parseInt(n,16)/255*100)/100)}else if(r=e.match(n)){for(r=r[1],n=r[3],e=0;3>e;e++)s[e]=parseInt(r[e]+r[e],16);n&&(s[3]=Math.round(parseInt(n+n,16)/255*100)/100)}else if(r=e.match(i)){for(e=0;3>e;e++)s[e]=parseInt(r[e+1],0);r[4]&&(s[3]=parseFloat(r[4]))}else{if(!(r=e.match(o)))return(r=e.match(a))?"transparent"===r[1]?[0,0,0,0]:(s=Ui[r[1]],s?(s[3]=1,s):null):null;for(e=0;3>e;e++)s[e]=Math.round(2.55*parseFloat(r[e+1]));r[4]&&(s[3]=parseFloat(r[4]))}for(e=0;3>e;e++)s[e]=t(s[e],0,255);return s[3]=t(s[3],0,1),s},o.get.hsl=function(e){if(!e)return null;var r=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var n=parseFloat(r[4]);e=(parseFloat(r[1])+360)%360;var i=t(parseFloat(r[2]),0,100);return r=t(parseFloat(r[3]),0,100),n=t(isNaN(n)?1:n,0,1),[e,i,r,n]}return null},o.get.hwb=function(e){if(!e)return null;var r=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var n=parseFloat(r[4]);e=(parseFloat(r[1])%360+360)%360;var i=t(parseFloat(r[2]),0,100);return r=t(parseFloat(r[3]),0,100),n=t(isNaN(n)?1:n,0,1),[e,i,r,n]}return null},o.to.hex=function(){var e=Xi(arguments);return"#"+r(e[0])+r(e[1])+r(e[2])+(1>e[3]?r(Math.round(255*e[3])):"")},o.to.rgb=function(){var e=Xi(arguments);return 4>e.length||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},o.to.rgb.percent=function(){var e=Xi(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return 4>e.length||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},o.to.hsl=function(){var e=Xi(arguments);return 4>e.length||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},o.to.hwb=function(){var e=Xi(arguments),t="";return 4<=e.length&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},o.to.keyword=function(e){return i[e.slice(0,3)]}})),Yi=i((function(e){var t={};for(i in Ui)Ui.hasOwnProperty(i)&&(t[Ui[i]]=i);var r,n=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(r in n)if(n.hasOwnProperty(r)){if(!("channels"in n[r]))throw Error("missing channels property: "+r);if(!("labels"in n[r]))throw Error("missing channel labels property: "+r);if(n[r].labels.length!==n[r].channels)throw Error("channel and label counts mismatch: "+r);e=n[r].channels;var i=n[r].labels;delete n[r].channels,delete n[r].labels,Object.defineProperty(n[r],"channels",{value:e}),Object.defineProperty(n[r],"labels",{value:i})}n.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;e=Math.min(t,r,n);var i,o=Math.max(t,r,n),a=o-e;return o===e?i=0:t===o?i=(r-n)/a:r===o?i=2+(n-t)/a:n===o&&(i=4+(t-r)/a),i=Math.min(60*i,360),0>i&&(i+=360),t=(e+o)/2,[i,100*(o===e?0:.5>=t?a/(o+e):a/(2-o-e)),100*t]},n.rgb.hsv=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(r,n,i),a=o-Math.min(r,n,i);if(0===a)var s=t=0;else{t=a/o,e=(o-r)/6/a+.5;var u=(o-n)/6/a+.5;a=(o-i)/6/a+.5,r===o?s=a-u:n===o?s=1/3+e-a:i===o&&(s=2/3+u-e),0>s?s+=1:1<s&&--s}return[360*s,100*t,100*o]},n.rgb.hwb=function(e){var t=e[0],r=e[1],i=e[2];e=n.rgb.hsl(e)[0];var o=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[e,100*o,100*i]},n.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255;e=e[2]/255;var n=Math.min(1-t,1-r,1-e);return[100*((1-t-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-e-n)/(1-n)||0),100*n]},n.rgb.keyword=function(e){var r,n=t[e];if(n)return n;for(r in n=1/0,Ui)if(Ui.hasOwnProperty(r)){var i=Ui[r];if(i=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)+Math.pow(e[2]-i[2],2),i<n){n=i;var o=r}}return o},n.keyword.rgb=function(e){return Ui[e]},n.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255;return e=e[2]/255,t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92,r=.04045<r?Math.pow((r+.055)/1.055,2.4):r/12.92,e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92,[100*(.4124*t+.3576*r+.1805*e),100*(.2126*t+.7152*r+.0722*e),100*(.0193*t+.1192*r+.9505*e)]},n.rgb.lab=function(e){var t=n.rgb.xyz(e);e=t[0];var r=t[1];return t=t[2],e/=95.047,r/=100,t/=108.883,e=.008856<e?Math.pow(e,1/3):7.787*e+16/116,r=.008856<r?Math.pow(r,1/3):7.787*r+16/116,t=.008856<t?Math.pow(t,1/3):7.787*t+16/116,[116*r-16,500*(e-r),200*(r-t)]},n.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100;if(e=e[2]/100,0===r){var n=255*e;return[n,n,n]}r=.5>e?e*(1+r):e+r-e*r,e=2*e-r;for(var i=[0,0,0],o=0;3>o;o++)n=t+1/3*-(o-1),0>n&&n++,1<n&&n--,n=1>6*n?e+6*(r-e)*n:1>2*n?r:2>3*n?e+(r-e)*(2/3-n)*6:e,i[o]=255*n;return i},n.hsl.hsv=function(e){var t=e[0],r=e[1]/100;e=e[2]/100;var n=r,i=Math.max(e,.01);return e*=2,r*=1>=e?e:2-e,n*=1>=i?i:2-i,[t,100*(0===e?2*n/(i+n):2*r/(e+r)),(e+r)/2*100]},n.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100;e=e[2]/100;var n=Math.floor(t)%6,i=t-Math.floor(t);t=255*e*(1-r);var o=255*e*(1-r*i);switch(r=255*e*(1-r*(1-i)),e*=255,n){case 0:return[e,r,t];case 1:return[o,e,t];case 2:return[t,e,r];case 3:return[t,o,e];case 4:return[r,t,e];case 5:return[e,t,o]}},n.hsv.hsl=function(e){var t=e[0],r=e[1]/100;e=e[2]/100;var n=Math.max(e,.01),i=(2-r)*n;return n=r*n/(1>=i?i:2-i)||0,[t,100*n,(2-r)*e/2*100]},n.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100;e=e[2]/100;var n=r+e;switch(1<n&&(r/=n,e/=n),n=Math.floor(6*t),e=1-e,t=6*t-n,0!==(1&n)&&(t=1-t),t=r+t*(e-r),n){default:case 6:case 0:n=e;var i=t;break;case 1:n=t,i=e;break;case 2:n=r,i=e,r=t;break;case 3:n=r,i=t,r=e;break;case 4:n=t,i=r,r=e;break;case 5:n=e,i=r,r=t}return[255*n,255*i,255*r]},n.cmyk.rgb=function(e){var t=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-t)+t)),255*(1-Math.min(1,e[1]/100*(1-t)+t)),255*(1-Math.min(1,e[2]/100*(1-t)+t))]},n.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100;e=3.2406*t+-1.5372*r+-.4986*n;var i=-.9689*t+1.8758*r+.0415*n;return t=.0557*t+-.204*r+1.057*n,e=.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:12.92*i,t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),t=Math.min(Math.max(0,t),1),[255*e,255*i,255*t]},n.xyz.lab=function(e){var t=e[0],r=e[1];return e=e[2],t/=95.047,r/=100,e/=108.883,t=.008856<t?Math.pow(t,1/3):7.787*t+16/116,r=.008856<r?Math.pow(r,1/3):7.787*r+16/116,e=.008856<e?Math.pow(e,1/3):7.787*e+16/116,[116*r-16,500*(t-r),200*(r-e)]},n.lab.xyz=function(e){var t=e[1],r=e[2];e=(e[0]+16)/116,t=t/500+e,r=e-r/200;var n=Math.pow(e,3),i=Math.pow(t,3),o=Math.pow(r,3);return[95.047*(.008856<i?i:(t-16/116)/7.787),100*(.008856<n?n:(e-16/116)/7.787),108.883*(.008856<o?o:(r-16/116)/7.787)]},n.lab.lch=function(e){var t=e[0],r=e[1];e=e[2];var n=360*Math.atan2(e,r)/2/Math.PI;return 0>n&&(n+=360),[t,Math.sqrt(r*r+e*e),n]},n.lch.lab=function(e){var t=e[0],r=e[1];return e=e[2]/360*2*Math.PI,[t,r*Math.cos(e),r*Math.sin(e)]},n.rgb.ansi16=function(e){var t=e[0],r=e[1],i=e[2],o=1 in arguments?arguments[1]:n.rgb.hsv(e)[2];return o=Math.round(o/50),0===o?30:(t=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255)),2===o&&(t+=60),t)},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){var t=e[0],r=e[1];return e=e[2],t===r&&r===e?8>t?16:248<t?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(e/255*5)},n.ansi16.rgb=function(e){var t=e%10;return 0===t||7===t?(50<e&&(t+=3.5),t=t/10.5*255,[t,t,t]):(e=.5*(1+~~(50<e)),[(1&t)*e*255,(t>>1&1)*e*255,(t>>2&1)*e*255])},n.ansi256.rgb=function(e){if(232<=e){var t=10*(e-232)+8;return[t,t,t]}e-=16,t=Math.floor(e/36)/5*255;var r=Math.floor((e%=36)/6)/5*255;return[t,r,e%6/5*255]},n.rgb.hex=function(e){return e=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase(),"000000".substring(e.length)+e},n.hex.rgb=function(e){if(e=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!e)return[0,0,0];var t=e[0];return 3===e[0].length&&(t=t.split("").map((function(e){return e+e})).join("")),e=parseInt(t,16),[e>>16&255,e>>8&255,255&e]},n.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255;e=e[2]/255;var n=Math.max(Math.max(t,r),e),i=Math.min(Math.min(t,r),e),o=n-i;return[(0>=o?0:n===t?(r-e)/o%6:n===r?2+(e-t)/o:(t-r)/o+8)/6%1*360,100*o,100*(1>o?i/(1-o):0)]},n.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=0;return t=.5>r?2*t*r:2*t*(1-r),1>t&&(n=(r-.5*t)/(1-t)),[e[0],100*t,100*n]},n.hsv.hcg=function(e){var t=e[2]/100,r=e[1]/100*t,n=0;return 1>r&&(n=(t-r)/(1-r)),[e[0],100*r,100*n]},n.hcg.rgb=function(e){var t=e[1]/100,r=e[2]/100;if(0===t)return[255*r,255*r,255*r];var n=[0,0,0];e=e[0]/360%1*6;var i=e%1,o=1-i;switch(Math.floor(e)){case 0:n[0]=1,n[1]=i,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=i;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=i,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return r*=1-t,[255*(t*n[0]+r),255*(t*n[1]+r),255*(t*n[2]+r)]},n.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return 0<r&&(n=t/r),[e[0],100*n,100*r]},n.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return 0<r&&.5>r?n=t/(2*r):.5<=r&&1>r&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},n.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},n.hwb.hcg=function(e){var t=1-e[2]/100,r=t-e[1]/100,n=0;return 1>r&&(n=(t-r)/(1-r)),[e[0],100*r,100*n]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=n.gray.hsv=function(e){return[0,0,e[0]]},n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){return e=255&Math.round(e[0]/100*255),e=((e<<16)+(e<<8)+e).toString(16).toUpperCase(),"000000".substring(e.length)+e},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}})),Zi=function(e){for(var t={},r=ur(Yi),n=r.length,i=0;i<n;i++)t[r[i]]={distance:-1,parent:null};for(r=[e],t[e].distance=0;r.length;){e=r.pop(),n=ur(Yi[e]),i=n.length;for(var a=0;a<i;a++){var s=n[a],u=t[s];-1===u.distance&&(u.distance=t[e].distance+1,u.parent=e,r.unshift(s))}}for(r={},e=ur(t),n=e.length,i=0;i<n;i++){var l=e[i];if(null!==t[l].parent){a=l,s=t,u=[s[l].parent,l];var c=Yi[s[l].parent][l];for(l=s[l].parent;s[l].parent;)u.unshift(s[l].parent),c=o(Yi[s[l].parent][l],c),l=s[l].parent;c.conversion=u,r[a]=c}}return r},Ki={};ur(Yi).forEach((function(e){Ki[e]={},Object.defineProperty(Ki[e],"channels",{value:Yi[e].channels}),Object.defineProperty(Ki[e],"labels",{value:Yi[e].labels});var t=Zi(e);ur(t).forEach((function(r){var n=t[r];Ki[e][r]=s(n),Ki[e][r].raw=a(n)}))}));var Ji=Ki,Qi=[].slice,$i=["keyword","gray","hex"],eo={};ur(Ji).forEach((function(e){eo[Qi.call(Ji[e].labels).sort().join("")]=e}));var to={};u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in qi.to?this:this.rgb();return t=t.round("number"===typeof e?e:1),e=1===t.valpha?t.color:t.color.concat(this.valpha),qi.to[t.model](e)},percentString:function(e){return e=this.rgb().round("number"===typeof e?e:1),e=1===e.valpha?e.color:e.color.concat(this.valpha),qi.to.rgb.percent(e)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=Ji[this.model].channels,r=Ji[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(l(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new u(e):Ji[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):qi.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity();return e=e.luminosity(),t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level:function(e){return e=this.contrast(e),7.1<=e?"AAA":4.5<=e?"AA":""},isDark:function(){var e=this.rgb().color;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;3>t;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color;return e=.3*e[0]+.59*e[1]+.11*e[2],u.rgb(e,e,e)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,t.color[0]=0>r?360+r:r,t},mix:function(e,t){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+("undefined"===typeof e?"undefined":Kn(e)));e=e.rgb();var r=this.rgb();t=void 0===t?.5:t;var n=2*t-1,i=e.alpha()-r.alpha();return n=((-1===n*i?n:(n+i)/(1+n*i))+1)/2,i=1-n,u.rgb(n*e.red()+i*r.red(),n*e.green()+i*r.green(),n*e.blue()+i*r.blue(),e.alpha()*t+r.alpha()*(1-t))}},ur(Ji).forEach((function(e){if(-1===$i.indexOf(e)){var t=Ji[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"===typeof arguments[t]?t:this.valpha,n=Ji[this.model][e].raw(this.color);return n=Array.isArray(n)?n:[n],new u(n.concat(r),e)},u[e]=function(r){return"number"===typeof r&&(r=f(Qi.call(arguments),t)),new u(r,e)}}})),b(x.prototype,{equals:function(e){return this.lat===e.lat&&this.lng===e.lng},clone:function(){return new x(this.lat,this.lng)},getLngSpan:function(e){return e=Math.abs(e-this.lng),180<e&&(e=360-e),e},sub:function(e){return new x(this.lat-e.lat,this.lng-e.lng)},toString:function(){return"Point"}}),b(y,{EARTHRADIUS:6370996.81,MCBAND:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(e,t){if(!e||!t)return 0;if(e=this.convertMC2LL(e),!e)return 0;var r=this.toRadians(e.lng);if(e=this.toRadians(e.lat),t=this.convertMC2LL(t),!t)return 0;var n=this.toRadians(t.lng);return t=this.toRadians(t.lat),this.getDistance(r,n,e,t)},getDistanceByLL:function(e,t){if(!e||!t)return 0;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74);var r=this.toRadians(e.lng),n=this.toRadians(e.lat);return e=this.toRadians(t.lng),t=this.toRadians(t.lat),this.getDistance(r,e,n,t)},convertMC2LL:function(e){if(null===e||void 0===e)return new x(0,0);if(180>e.lng&&-180<e.lng&&90>e.lat&&-90<e.lat)return e;for(var t=new x(Math.abs(e.lng),Math.abs(e.lat)),r=0;r<this.MCBAND.length;r++)if(t.lat>=this.MCBAND[r]){var n=this.MC2LL[r];break}return e=this.convertor(e,n),new x(e.lng.toFixed(6),e.lat.toFixed(6))},convertLL2MC:function(e){if(null===e||void 0===e)return new x(0,0);if(180<e.lng||-180>e.lng||90<e.lat||-90>e.lat)return e;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);for(var t=new x(e.lng,e.lat),r=0;r<this.LLBAND.length;r++)if(t.lat>=this.LLBAND[r]){var n=this.LL2MC[r];break}if(!n)for(r=0;r<this.LLBAND.length;r++)if(t.lat<=-this.LLBAND[r]){n=this.LL2MC[r];break}return e=this.convertor(e,n),new x(Number(e.lng.toFixed(2)),Number(e.lat.toFixed(2)))},convertor:function(e,t){if(e&&t){var r=t[0]+t[1]*Math.abs(e.lng),n=Math.abs(e.lat)/t[9];return t=t[2]+t[3]*n+t[4]*n*n+t[5]*n*n*n+t[6]*n*n*n*n+t[7]*n*n*n*n*n+t[8]*n*n*n*n*n*n,r*=0>e.lng?-1:1,t*=0>e.lat?-1:1,new x(r,t)}},getDistance:function(e,t,r,n){return this.EARTHRADIUS*Math.acos(Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(t-e))},toRadians:function(e){return Math.PI*e/180},toDegrees:function(e){return 180*e/Math.PI},getRange:function(e,t,r){return null!=t&&(e=Math.max(e,t)),null!=r&&(e=Math.min(e,r)),e},getLoop:function(e,t,r){for(;e>r;)e-=r-t;for(;e<t;)e+=r-t;return e}}),b(y.prototype,{lngLatToMercator:function(e){return y.convertLL2MC(e)},lngLatToPoint:function(e){return e=y.convertLL2MC(e),new A(e.lng,e.lat)},mercatorToLngLat:function(e){return y.convertMC2LL(e)},pointToLngLat:function(e){return e=new x(e.x,e.y),y.convertMC2LL(e)},pointToPixel:function(e,t,r,n,i){if(e)return e=this.lngLatToMercator(e,i),t=this.getZoomUnits(t),new A(Math.round((e.lng-r.lng)/t+n.width/2),Math.round((r.lat-e.lat)/t+n.height/2))},pixelToPoint:function(e,t,r,n,i){if(e)return t=this.getZoomUnits(t),e=new x(r.lng+t*(e.x-n.width/2),r.lat-t*(e.y-n.height/2)),this.mercatorToLngLat(e,i)},getZoomUnits:function(e){return Math.pow(2,18-e)}}),_.prototype.setMax=function(e){this.max=e||100},_.prototype.setMin=function(e){this.min=e||0},_.prototype.setMaxSize=function(e){this.maxSize=e||35},_.prototype.setMinSize=function(e){this.minSize=e||0},_.prototype.initPalette=function(){var e=this.gradient,t=this.paletteCtx=new w(256,1).getContext("2d"),r=t.createLinearGradient(0,0,256,1);ur(e).forEach((function(t){r.addColorStop(parseFloat(t),e[t])})),t.fillStyle=r,t.fillRect(0,0,256,1),t.imageData=t.getImageData(0,0,256,1).data},_.prototype.getColor=function(e){return e=this.getImageData(e),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},_.prototype.getImageData=function(e){var t=this.paletteCtx.imageData;if(void 0===e)return t;var r=this.max,n=this.min;return e>r&&(e=r),e<n&&(e=n),e=4*Math.floor((e-n)/(r-n)*255),[t[e],t[e+1],t[e+2],t[e+3]]},_.prototype.getSize=function(e){var t=this.max,r=this.min,n=this.maxSize,i=this.minSize;return e>t&&(e=t),e<r&&(e=r),i+(e-r)/(t-r)*(n-i)},C.prototype._initialize=function(){this.v0=this._normalizaCoord(this.options.start),this.v3=this._normalizaCoord(this.options.end),this.v1=this._getControlPoint(this.v0,this.v3,4),this.v2=this._getControlPoint(this.v3,this.v0,5),this.v0[2]||(this.v0[2]=0),this.v3[2]||(this.v3[2]=0)},C.prototype.setOptions=function(e){this.options=e||{},this._initialize()},C.prototype.getPoints=function(e){void 0===e&&(e=20);for(var t=[],r=0;r<=e;r++)t.push(this._getPoint(r/e));return t},C.prototype._normalizaCoord=function(e){return e?(e=y.convertLL2MC({lng:Number(e[0]),lat:Number(e[1])}),[e.lng,e.lat]):[]},C.prototype._getControlPoint=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return[].concat(Li(this._getQuarter(e,t)),[this._getDistance(e,t)/r])},C.prototype._getQuarter=function(e,t){return[(3*e[0]+t[0])/4,(3*e[1]+t[1])/4]},C.prototype._getDistance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},C.prototype._getPoint=function(e){var t=[],r=this.v0,n=this.v1,i=this.v2,o=this.v3;return t.push(M(e,r[0],n[0],i[0],o[0]),M(e,r[1],n[1],i[1],o[1]),M(e,r[2],n[2],i[2],o[2])),t},S.prototype._initialize=function(){this.points=this.options.points||this.options.point||[],this.greatCirclePoints=[];for(var e=[],t=0;t<this.points.length;t++){var r=this._normalizaCoord(this.points[t]);r&&e.push(r)}this.points=e},S.prototype.setOptions=function(e){this.options=e||{},this._initialize()},S.prototype.getPoints=function(){if(0===this.greatCirclePoints.length)for(var e=0;e<this.points.length-1;e++)this._calcGreatCirclePoints(this.points[e],this.points[e+1]);return this.greatCirclePoints},S.prototype._normalizaCoord=function(e){if(!e)return null;e instanceof Array&&(e={lng:Number(e[0]),lat:Number(e[1])});var t=y.convertLL2MC(e);return e=y.convertMC2LL(e),t.latLng=e,t},S.prototype._calcGreatCirclePoints=function(e,t){var r=e.latLng,n=t.latLng;if(!v(r.lng,n.lng)||!v(r.lat,n.lat)){var i=y.getDistance(p(r.lng),p(r.lat),p(n.lng),p(n.lat));if(!(25e4>i)){i=Math.round(i/15e4);var o=this._calcAngularDistance(r,n);this.greatCirclePoints.push([e.lng,e.lat]);for(var a=0;a<i;a++){var s=this._calcMiddlePoint(r,n,a/i,o);s=y.convertLL2MC(s);var u=T(s,e);30037726<u&&(s.lng=s.lng<e.lng?s.lng+this.WORLD_SIZE_MC:s.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([s.lng,s.lat]),e=s}u=T(t,e),30037726<u&&(t.lng=t.lng<e.lng?t.lng+this.WORLD_SIZE_MC:t.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([t.lng,t.lat])}}},S.prototype._calcAngularDistance=function(e,t){var r=p(e.lat),n=p(t.lat);return e=p(e.lng),t=p(t.lng),Math.acos(Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(Math.abs(t-e)))},S.prototype._calcMiddlePoint=function(e,t,r,n){var i=t.lat,o=e.lng;t=t.lng,e=p(e.lat),i=p(i),o=p(o);var a=p(t);return t=Math.sin((1-r)*n)/Math.sin(n),n=Math.sin(r*n)/Math.sin(n),r=t*Math.cos(e)*Math.cos(o)+n*Math.cos(i)*Math.cos(a),o=t*Math.cos(e)*Math.sin(o)+n*Math.cos(i)*Math.sin(a),e=Math.atan2(t*Math.sin(e)+n*Math.sin(i),Math.sqrt(Math.pow(r,2)+Math.pow(o,2))),new x(d(Math.atan2(o,r)),d(e))};var ro=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};gt(this,e),this.options=t,this._initialize()}return Tr(e,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(e){return e?(e instanceof Array&&(e={lng:Number(e[0]),lat:Number(e[1])}),y.convertLL2MC(e)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(e){for(var t=[],r=this.points,n=0;n<r.length-1;n++){var i=this.getCurveByTwoPoints(this._normalizaCoord(r[n]),this._normalizaCoord(r[n+1]),e);i&&0<i.length&&(t=t.concat(i))}return t}},{key:"getCurveByTwoPoints",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;if(!e||!t)return null;var n=[],i=0;if(void 0!==("undefined"===typeof t?"undefined":Kn(t))){var o=parseFloat(e.lat),a=parseFloat(t.lat),s=parseFloat(e.lng),u=parseFloat(t.lng);u>s&&180<parseFloat(u-s)&&0>s&&(s=parseFloat(360+s),u=parseFloat(360+u));var l=0;if(a===o)var c=0,h=s-u;else u===s?(c=Math.PI/2,h=o-a):(c=Math.atan((a-o)/(u-s)),h=(a-o)/Math.sin(c));for(0===l&&(l=c+Math.PI/5),h/=2,c=h*Math.cos(l)+s,l=h*Math.sin(l)+o,h=0;h<r+1;h++){var f=s*(1-2*i+i*i)+c*(2*i-2*i*i)+u*i*i,p=t.lng;n.push([0>e.lng&&0<p?f-360:f,o*(1-2*i+i*i)+l*(2*i-2*i*i)+a*i*i]),i+=1/r}return n}"undefined"===typeof n||Kn(n)}}]),e}(),no=[{n:"\u5317\u4eac",g:"116.395645,39.929986|12"},{n:"\u4e0a\u6d77",g:"121.487899,31.249162|12"},{n:"\u5929\u6d25",g:"117.210813,39.14393|12"},{n:"\u91cd\u5e86",g:"106.530635,29.544606|12"}],io=[{n:"\u5b89\u5fbd",g:"117.216005,31.859252|8",cities:[{n:"\u5408\u80a5",g:"117.282699,31.866942|12"},{n:"\u5b89\u5e86",g:"117.058739,30.537898|13"},{n:"\u868c\u57e0",g:"117.35708,32.929499|13"},{n:"\u4eb3\u5dde",g:"115.787928,33.871211|13"},{n:"\u5de2\u6e56",g:"117.88049,31.608733|13"},{n:"\u6c60\u5dde",g:"117.494477,30.660019|14"},{n:"\u6ec1\u5dde",g:"118.32457,32.317351|13"},{n:"\u961c\u9633",g:"115.820932,32.901211|13"},{n:"\u6dee\u5317",g:"116.791447,33.960023|13"},{n:"\u6dee\u5357",g:"117.018639,32.642812|13"},{n:"\u9ec4\u5c71",g:"118.29357,29.734435|13"},{n:"\u516d\u5b89",g:"116.505253,31.755558|13"},{n:"\u9a6c\u978d\u5c71",g:"118.515882,31.688528|13"},{n:"\u5bbf\u5dde",g:"116.988692,33.636772|13"},{n:"\u94dc\u9675",g:"117.819429,30.94093|14"},{n:"\u829c\u6e56",g:"118.384108,31.36602|12"},{n:"\u5ba3\u57ce",g:"118.752096,30.951642|13"}]},{n:"\u798f\u5efa",g:"117.984943,26.050118|8",cities:[{n:"\u798f\u5dde",g:"119.330221,26.047125|12"},{n:"\u9f99\u5ca9",g:"117.017997,25.078685|13"},{n:"\u5357\u5e73",g:"118.181883,26.643626|13"},{n:"\u5b81\u5fb7",g:"119.542082,26.656527|14"},{n:"\u8386\u7530",g:"119.077731,25.44845|13"},{n:"\u6cc9\u5dde",g:"118.600362,24.901652|12"},{n:"\u4e09\u660e",g:"117.642194,26.270835|14"},{n:"\u53a6\u95e8",g:"118.103886,24.489231|12"},{n:"\u6f33\u5dde",g:"117.676205,24.517065|12"}]},{n:"\u7518\u8083",g:"102.457625,38.103267|6",cities:[{n:"\u5170\u5dde",g:"103.823305,36.064226|12"},{n:"\u767d\u94f6",g:"104.171241,36.546682|13"},{n:"\u5b9a\u897f",g:"104.626638,35.586056|13"},{n:"\u7518\u5357\u5dde",g:"102.917442,34.992211|14"},{n:"\u5609\u5cea\u5173",g:"98.281635,39.802397|13"},{n:"\u91d1\u660c",g:"102.208126,38.516072|13"},{n:"\u9152\u6cc9",g:"98.508415,39.741474|13"},{n:"\u4e34\u590f\u5dde",g:"103.215249,35.598514|13"},{n:"\u9647\u5357",g:"104.934573,33.39448|14"},{n:"\u5e73\u51c9",g:"106.688911,35.55011|13"},{n:"\u5e86\u9633",g:"107.644227,35.726801|13"},{n:"\u5929\u6c34",g:"105.736932,34.584319|13"},{n:"\u6b66\u5a01",g:"102.640147,37.933172|13"},{n:"\u5f20\u6396",g:"100.459892,38.93932|13"}]},{n:"\u5e7f\u4e1c",g:"113.394818,23.408004|8",cities:[{n:"\u5e7f\u5dde",g:"113.30765,23.120049|12"},{n:"\u6f6e\u5dde",g:"116.630076,23.661812|13"},{n:"\u4e1c\u839e",g:"113.763434,23.043024|12"},{n:"\u4f5b\u5c71",g:"113.134026,23.035095|13"},{n:"\u6cb3\u6e90",g:"114.713721,23.757251|12"},{n:"\u60e0\u5dde",g:"114.410658,23.11354|12"},{n:"\u6c5f\u95e8",g:"113.078125,22.575117|13"},{n:"\u63ed\u9633",g:"116.379501,23.547999|13"},{n:"\u8302\u540d",g:"110.931245,21.668226|13"},{n:"\u6885\u5dde",g:"116.126403,24.304571|13"},{n:"\u6e05\u8fdc",g:"113.040773,23.698469|13"},{n:"\u6c55\u5934",g:"116.72865,23.383908|13"},{n:"\u6c55\u5c3e",g:"115.372924,22.778731|14"},{n:"\u97f6\u5173",g:"113.594461,24.80296|13"},{n:"\u6df1\u5733",g:"114.025974,22.546054|12"},{n:"\u9633\u6c5f",g:"111.97701,21.871517|14"},{n:"\u4e91\u6d6e",g:"112.050946,22.937976|13"},{n:"\u6e5b\u6c5f",g:"110.365067,21.257463|13"},{n:"\u8087\u5e86",g:"112.479653,23.078663|13"},{n:"\u4e2d\u5c71",g:"113.42206,22.545178|12"},{n:"\u73e0\u6d77",g:"113.562447,22.256915|13"}]},{n:"\u5e7f\u897f",g:"108.924274,23.552255|7",cities:[{n:"\u5357\u5b81",g:"108.297234,22.806493|12"},{n:"\u767e\u8272",g:"106.631821,23.901512|13"},{n:"\u5317\u6d77",g:"109.122628,21.472718|13"},{n:"\u5d07\u5de6",g:"107.357322,22.415455|14"},{n:"\u9632\u57ce\u6e2f",g:"108.351791,21.617398|15"},{n:"\u6842\u6797",g:"110.26092,25.262901|12"},{n:"\u8d35\u6e2f",g:"109.613708,23.103373|13"},{n:"\u6cb3\u6c60",g:"108.069948,24.699521|14"},{n:"\u8d3a\u5dde",g:"111.552594,24.411054|14"},{n:"\u6765\u5bbe",g:"109.231817,23.741166|14"},{n:"\u67f3\u5dde",g:"109.422402,24.329053|12"},{n:"\u94a6\u5dde",g:"108.638798,21.97335|13"},{n:"\u68a7\u5dde",g:"111.305472,23.485395|13"},{n:"\u7389\u6797",g:"110.151676,22.643974|14"}]},{n:"\u8d35\u5dde",g:"106.734996,26.902826|8",cities:[{n:"\u8d35\u9633",g:"106.709177,26.629907|12"},{n:"\u5b89\u987a",g:"105.92827,26.228595|13"},{n:"\u6bd5\u8282\u5730\u533a",g:"105.300492,27.302612|14"},{n:"\u516d\u76d8\u6c34",g:"104.852087,26.591866|13"},{n:"\u94dc\u4ec1\u5730\u533a",g:"109.196161,27.726271|14"},{n:"\u9075\u4e49",g:"106.93126,27.699961|13"},{n:"\u9ed4\u897f\u5357\u5dde",g:"104.900558,25.095148|11"},{n:"\u9ed4\u4e1c\u5357\u5dde",g:"107.985353,26.583992|11"},{n:"\u9ed4\u5357\u5dde",g:"107.523205,26.264536|11"}]},{n:"\u6d77\u5357",g:"109.733755,19.180501|9",cities:[{n:"\u6d77\u53e3",g:"110.330802,20.022071|13"},{n:"\u767d\u6c99",g:"109.358586,19.216056|12"},{n:"\u4fdd\u4ead",g:"109.656113,18.597592|12"},{n:"\u660c\u6c5f",g:"109.0113,19.222483|12"},{n:"\u510b\u5dde",g:"109.413973,19.571153|13"},{n:"\u6f84\u8fc8",g:"109.996736,19.693135|13"},{n:"\u4e1c\u65b9",g:"108.85101,18.998161|13"},{n:"\u5b9a\u5b89",g:"110.32009,19.490991|13"},{n:"\u743c\u6d77",g:"110.414359,19.21483|13"},{n:"\u743c\u4e2d",g:"109.861849,19.039771|12"},{n:"\u4e50\u4e1c",g:"109.062698,18.658614|12"},{n:"\u4e34\u9ad8",g:"109.724101,19.805922|13"},{n:"\u9675\u6c34",g:"109.948661,18.575985|12"},{n:"\u4e09\u4e9a",g:"109.522771,18.257776|12"},{n:"\u5c6f\u660c",g:"110.063364,19.347749|13"},{n:"\u4e07\u5b81",g:"110.292505,18.839886|13"},{n:"\u6587\u660c",g:"110.780909,19.750947|13"},{n:"\u4e94\u6307\u5c71",g:"109.51775,18.831306|13"}]},{n:"\u6cb3\u5317",g:"115.661434,38.61384|7",cities:[{n:"\u77f3\u5bb6\u5e84",g:"114.522082,38.048958|12"},{n:"\u4fdd\u5b9a",g:"115.49481,38.886565|13"},{n:"\u6ca7\u5dde",g:"116.863806,38.297615|13"},{n:"\u627f\u5fb7",g:"117.933822,40.992521|14"},{n:"\u90af\u90f8",g:"114.482694,36.609308|13"},{n:"\u8861\u6c34",g:"115.686229,37.746929|13"},{n:"\u5eca\u574a",g:"116.703602,39.518611|13"},{n:"\u79e6\u7687\u5c9b",g:"119.604368,39.945462|12"},{n:"\u5510\u5c71",g:"118.183451,39.650531|13"},{n:"\u90a2\u53f0",g:"114.520487,37.069531|13"},{n:"\u5f20\u5bb6\u53e3",g:"114.893782,40.811188|13"}]},{n:"\u6cb3\u5357",g:"113.486804,34.157184|7",cities:[{n:"\u90d1\u5dde",g:"113.649644,34.75661|12"},{n:"\u5b89\u9633",g:"114.351807,36.110267|12"},{n:"\u9e64\u58c1",g:"114.29777,35.755426|13"},{n:"\u7126\u4f5c",g:"113.211836,35.234608|13"},{n:"\u5f00\u5c01",g:"114.351642,34.801854|13"},{n:"\u6d1b\u9633",g:"112.447525,34.657368|12"},{n:"\u6f2f\u6cb3",g:"114.046061,33.576279|13"},{n:"\u5357\u9633",g:"112.542842,33.01142|13"},{n:"\u5e73\u9876\u5c71",g:"113.300849,33.745301|13"},{n:"\u6fee\u9633",g:"115.026627,35.753298|12"},{n:"\u4e09\u95e8\u5ce1",g:"111.181262,34.78332|13"},{n:"\u5546\u4e18",g:"115.641886,34.438589|13"},{n:"\u65b0\u4e61",g:"113.91269,35.307258|13"},{n:"\u4fe1\u9633",g:"114.085491,32.128582|13"},{n:"\u8bb8\u660c",g:"113.835312,34.02674|13"},{n:"\u5468\u53e3",g:"114.654102,33.623741|13"},{n:"\u9a7b\u9a6c\u5e97",g:"114.049154,32.983158|13"}]},{n:"\u9ed1\u9f99\u6c5f",g:"128.047414,47.356592|6",cities:[{n:"\u54c8\u5c14\u6ee8",g:"126.657717,45.773225|12"},{n:"\u5927\u5e86",g:"125.02184,46.596709|12"},{n:"\u5927\u5174\u5b89\u5cad\u5730\u533a",g:"124.196104,51.991789|10"},{n:"\u9e64\u5c97",g:"130.292472,47.338666|13"},{n:"\u9ed1\u6cb3",g:"127.50083,50.25069|14"},{n:"\u9e21\u897f",g:"130.941767,45.32154|13"},{n:"\u4f73\u6728\u65af",g:"130.284735,46.81378|12"},{n:"\u7261\u4e39\u6c5f",g:"129.608035,44.588521|13"},{n:"\u4e03\u53f0\u6cb3",g:"131.019048,45.775005|14"},{n:"\u9f50\u9f50\u54c8\u5c14",g:"123.987289,47.3477|13"},{n:"\u53cc\u9e2d\u5c71",g:"131.171402,46.655102|13"},{n:"\u7ee5\u5316",g:"126.989095,46.646064|13"},{n:"\u4f0a\u6625",g:"128.910766,47.734685|14"}]},{n:"\u6e56\u5317",g:"112.410562,31.209316|8",cities:[{n:"\u6b66\u6c49",g:"114.3162,30.581084|12"},{n:"\u9102\u5dde",g:"114.895594,30.384439|14"},{n:"\u6069\u65bd",g:"109.517433,30.308978|14"},{n:"\u9ec4\u5188",g:"114.906618,30.446109|14"},{n:"\u9ec4\u77f3",g:"115.050683,30.216127|13"},{n:"\u8346\u95e8",g:"112.21733,31.042611|13"},{n:"\u8346\u5dde",g:"112.241866,30.332591|12"},{n:"\u6f5c\u6c5f",g:"112.768768,30.343116|13"},{n:"\u795e\u519c\u67b6\u6797\u533a",g:"110.487231,31.595768|13"},{n:"\u5341\u5830",g:"110.801229,32.636994|13"},{n:"\u968f\u5dde",g:"113.379358,31.717858|13"},{n:"\u5929\u95e8",g:"113.12623,30.649047|13"},{n:"\u4ed9\u6843",g:"113.387448,30.293966|13"},{n:"\u54b8\u5b81",g:"114.300061,29.880657|13"},{n:"\u8944\u9633",g:"112.176326,32.094934|12"},{n:"\u5b5d\u611f",g:"113.935734,30.927955|13"},{n:"\u5b9c\u660c",g:"111.310981,30.732758|13"}]},{n:"\u6e56\u5357",g:"111.720664,27.695864|7",cities:[{n:"\u957f\u6c99",g:"112.979353,28.213478|12"},{n:"\u5e38\u5fb7",g:"111.653718,29.012149|12"},{n:"\u90f4\u5dde",g:"113.037704,25.782264|13"},{n:"\u8861\u9633",g:"112.583819,26.898164|13"},{n:"\u6000\u5316",g:"109.986959,27.557483|13"},{n:"\u5a04\u5e95",g:"111.996396,27.741073|13"},{n:"\u90b5\u9633",g:"111.461525,27.236811|13"},{n:"\u6e58\u6f6d",g:"112.935556,27.835095|13"},{n:"\u6e58\u897f\u5dde",g:"109.745746,28.317951|14"},{n:"\u76ca\u9633",g:"112.366547,28.588088|13"},{n:"\u6c38\u5dde",g:"111.614648,26.435972|13"},{n:"\u5cb3\u9633",g:"113.146196,29.378007|13"},{n:"\u5f20\u5bb6\u754c",g:"110.48162,29.124889|13"},{n:"\u682a\u6d32",g:"113.131695,27.827433|13"}]},{n:"\u6c5f\u82cf",g:"119.368489,33.013797|8",cities:[{n:"\u5357\u4eac",g:"118.778074,32.057236|12"},{n:"\u5e38\u5dde",g:"119.981861,31.771397|12"},{n:"\u6dee\u5b89",g:"119.030186,33.606513|12"},{n:"\u8fde\u4e91\u6e2f",g:"119.173872,34.601549|12"},{n:"\u5357\u901a",g:"120.873801,32.014665|12"},{n:"\u82cf\u5dde",g:"120.619907,31.317987|12"},{n:"\u5bbf\u8fc1",g:"118.296893,33.95205|13"},{n:"\u6cf0\u5dde",g:"119.919606,32.476053|13"},{n:"\u65e0\u9521",g:"120.305456,31.570037|12"},{n:"\u5f90\u5dde",g:"117.188107,34.271553|12"},{n:"\u76d0\u57ce",g:"120.148872,33.379862|12"},{n:"\u626c\u5dde",g:"119.427778,32.408505|13"},{n:"\u9547\u6c5f",g:"119.455835,32.204409|13"}]},{n:"\u6c5f\u897f",g:"115.676082,27.757258|7",cities:[{n:"\u5357\u660c",g:"115.893528,28.689578|12"},{n:"\u629a\u5dde",g:"116.360919,27.954545|13"},{n:"\u8d63\u5dde",g:"114.935909,25.845296|13"},{n:"\u5409\u5b89",g:"114.992039,27.113848|13"},{n:"\u666f\u5fb7\u9547",g:"117.186523,29.303563|12"},{n:"\u4e5d\u6c5f",g:"115.999848,29.71964|13"},{n:"\u840d\u4e61",g:"113.859917,27.639544|13"},{n:"\u4e0a\u9976",g:"117.955464,28.457623|13"},{n:"\u65b0\u4f59",g:"114.947117,27.822322|13"},{n:"\u5b9c\u6625",g:"114.400039,27.81113|13"},{n:"\u9e70\u6f6d",g:"117.03545,28.24131|13"}]},{n:"\u5409\u6797",g:"126.262876,43.678846|7",cities:[{n:"\u957f\u6625",g:"125.313642,43.898338|12"},{n:"\u767d\u57ce",g:"122.840777,45.621086|13"},{n:"\u767d\u5c71",g:"126.435798,41.945859|13"},{n:"\u5409\u6797",g:"126.564544,43.871988|12"},{n:"\u8fbd\u6e90",g:"125.133686,42.923303|13"},{n:"\u56db\u5e73",g:"124.391382,43.175525|12"},{n:"\u677e\u539f",g:"124.832995,45.136049|13"},{n:"\u901a\u5316",g:"125.94265,41.736397|13"},{n:"\u5ef6\u8fb9",g:"129.485902,42.896414|13"}]},{n:"\u8fbd\u5b81",g:"122.753592,41.6216|8",cities:[{n:"\u6c88\u9633",g:"123.432791,41.808645|12"},{n:"\u978d\u5c71",g:"123.007763,41.118744|13"},{n:"\u672c\u6eaa",g:"123.778062,41.325838|12"},{n:"\u671d\u9633",g:"120.446163,41.571828|13"},{n:"\u5927\u8fde",g:"121.593478,38.94871|12"},{n:"\u4e39\u4e1c",g:"124.338543,40.129023|12"},{n:"\u629a\u987a",g:"123.92982,41.877304|12"},{n:"\u961c\u65b0",g:"121.660822,42.01925|14"},{n:"\u846b\u82a6\u5c9b",g:"120.860758,40.74303|13"},{n:"\u9526\u5dde",g:"121.147749,41.130879|13"},{n:"\u8fbd\u9633",g:"123.172451,41.273339|14"},{n:"\u76d8\u9526",g:"122.073228,41.141248|13"},{n:"\u94c1\u5cad",g:"123.85485,42.299757|13"},{n:"\u8425\u53e3",g:"122.233391,40.668651|13"}]},{n:"\u5185\u8499\u53e4",g:"114.415868,43.468238|5",cities:[{n:"\u547c\u548c\u6d69\u7279",g:"111.660351,40.828319|12"},{n:"\u963f\u62c9\u5584\u76df",g:"105.695683,38.843075|14"},{n:"\u5305\u5934",g:"109.846239,40.647119|12"},{n:"\u5df4\u5f66\u6dd6\u5c14",g:"107.423807,40.76918|12"},{n:"\u8d64\u5cf0",g:"118.930761,42.297112|12"},{n:"\u9102\u5c14\u591a\u65af",g:"109.993706,39.81649|12"},{n:"\u547c\u4f26\u8d1d\u5c14",g:"119.760822,49.201636|12"},{n:"\u901a\u8fbd",g:"122.260363,43.633756|12"},{n:"\u4e4c\u6d77",g:"106.831999,39.683177|13"},{n:"\u4e4c\u5170\u5bdf\u5e03",g:"113.112846,41.022363|12"},{n:"\u9521\u6797\u90ed\u52d2\u76df",g:"116.02734,43.939705|11"},{n:"\u5174\u5b89\u76df",g:"122.048167,46.083757|11"}]},{n:"\u5b81\u590f",g:"106.155481,37.321323|8",cities:[{n:"\u94f6\u5ddd",g:"106.206479,38.502621|12"},{n:"\u56fa\u539f",g:"106.285268,36.021523|13"},{n:"\u77f3\u5634\u5c71",g:"106.379337,39.020223|13"},{n:"\u5434\u5fe0",g:"106.208254,37.993561|14"},{n:"\u4e2d\u536b",g:"105.196754,37.521124|14"}]},{n:"\u9752\u6d77",g:"96.202544,35.499761|7",cities:[{n:"\u897f\u5b81",g:"101.767921,36.640739|12"},{n:"\u679c\u6d1b\u5dde",g:"100.223723,34.480485|11"},{n:"\u6d77\u4e1c\u5730\u533a",g:"102.085207,36.51761|11"},{n:"\u6d77\u5317\u5dde",g:"100.879802,36.960654|11"},{n:"\u6d77\u5357\u5dde",g:"100.624066,36.284364|11"},{n:"\u6d77\u897f\u5dde",g:"97.342625,37.373799|11"},{n:"\u9ec4\u5357\u5dde",g:"102.0076,35.522852|11"},{n:"\u7389\u6811\u5dde",g:"97.013316,33.00624|14"}]},{n:"\u5c71\u4e1c",g:"118.527663,36.09929|8",cities:[{n:"\u6d4e\u5357",g:"117.024967,36.682785|12"},{n:"\u6ee8\u5dde",g:"117.968292,37.405314|12"},{n:"\u4e1c\u8425",g:"118.583926,37.487121|12"},{n:"\u5fb7\u5dde",g:"116.328161,37.460826|12"},{n:"\u83cf\u6cfd",g:"115.46336,35.26244|13"},{n:"\u6d4e\u5b81",g:"116.600798,35.402122|13"},{n:"\u83b1\u829c",g:"117.684667,36.233654|13"},{n:"\u804a\u57ce",g:"115.986869,36.455829|12"},{n:"\u4e34\u6c82",g:"118.340768,35.072409|12"},{n:"\u9752\u5c9b",g:"120.384428,36.105215|12"},{n:"\u65e5\u7167",g:"119.50718,35.420225|12"},{n:"\u6cf0\u5b89",g:"117.089415,36.188078|13"},{n:"\u5a01\u6d77",g:"122.093958,37.528787|13"},{n:"\u6f4d\u574a",g:"119.142634,36.716115|12"},{n:"\u70df\u53f0",g:"121.309555,37.536562|12"},{n:"\u67a3\u5e84",g:"117.279305,34.807883|13"},{n:"\u6dc4\u535a",g:"118.059134,36.804685|12"}]},{n:"\u5c71\u897f",g:"112.515496,37.866566|7",cities:[{n:"\u592a\u539f",g:"112.550864,37.890277|12"},{n:"\u957f\u6cbb",g:"113.120292,36.201664|12"},{n:"\u5927\u540c",g:"113.290509,40.113744|12"},{n:"\u664b\u57ce",g:"112.867333,35.499834|13"},{n:"\u664b\u4e2d",g:"112.738514,37.693362|13"},{n:"\u4e34\u6c7e",g:"111.538788,36.099745|13"},{n:"\u5415\u6881",g:"111.143157,37.527316|14"},{n:"\u6714\u5dde",g:"112.479928,39.337672|13"},{n:"\u5ffb\u5dde",g:"112.727939,38.461031|12"},{n:"\u9633\u6cc9",g:"113.569238,37.869529|13"},{n:"\u8fd0\u57ce",g:"111.006854,35.038859|13"}]},{n:"\u9655\u897f",g:"109.503789,35.860026|7",cities:[{n:"\u897f\u5b89",g:"108.953098,34.2778|12"},{n:"\u5b89\u5eb7",g:"109.038045,32.70437|13"},{n:"\u5b9d\u9e21",g:"107.170645,34.364081|12"},{n:"\u6c49\u4e2d",g:"107.045478,33.081569|13"},{n:"\u5546\u6d1b",g:"109.934208,33.873907|13"},{n:"\u94dc\u5ddd",g:"108.968067,34.908368|13"},{n:"\u6e2d\u5357",g:"109.483933,34.502358|13"},{n:"\u54b8\u9633",g:"108.707509,34.345373|13"},{n:"\u5ef6\u5b89",g:"109.50051,36.60332|13"},{n:"\u6986\u6797",g:"109.745926,38.279439|12"}]},{n:"\u56db\u5ddd",g:"102.89916,30.367481|7",cities:[{n:"\u6210\u90fd",g:"104.067923,30.679943|12"},{n:"\u963f\u575d\u5dde",g:"102.228565,31.905763|15"},{n:"\u5df4\u4e2d",g:"106.757916,31.869189|14"},{n:"\u8fbe\u5dde",g:"107.494973,31.214199|14"},{n:"\u5fb7\u9633",g:"104.402398,31.13114|13"},{n:"\u7518\u5b5c\u5dde",g:"101.969232,30.055144|15"},{n:"\u5e7f\u5b89",g:"106.63572,30.463984|13"},{n:"\u5e7f\u5143",g:"105.819687,32.44104|13"},{n:"\u4e50\u5c71",g:"103.760824,29.600958|13"},{n:"\u51c9\u5c71\u5dde",g:"102.259591,27.892393|14"},{n:"\u6cf8\u5dde",g:"105.44397,28.89593|14"},{n:"\u5357\u5145",g:"106.105554,30.800965|13"},{n:"\u7709\u5c71",g:"103.84143,30.061115|13"},{n:"\u7ef5\u9633",g:"104.705519,31.504701|12"},{n:"\u5185\u6c5f",g:"105.073056,29.599462|13"},{n:"\u6500\u679d\u82b1",g:"101.722423,26.587571|14"},{n:"\u9042\u5b81",g:"105.564888,30.557491|12"},{n:"\u96c5\u5b89",g:"103.009356,29.999716|13"},{n:"\u5b9c\u5bbe",g:"104.633019,28.769675|13"},{n:"\u8d44\u9633",g:"104.63593,30.132191|13"},{n:"\u81ea\u8d21",g:"104.776071,29.359157|13"}]},{n:"\u897f\u85cf",g:"89.137982,31.367315|6",cities:[{n:"\u62c9\u8428",g:"91.111891,29.662557|13"},{n:"\u963f\u91cc\u5730\u533a",g:"81.107669,30.404557|11"},{n:"\u660c\u90fd\u5730\u533a",g:"97.185582,31.140576|15"},{n:"\u6797\u829d\u5730\u533a",g:"94.349985,29.666941|11"},{n:"\u90a3\u66f2\u5730\u533a",g:"92.067018,31.48068|14"},{n:"\u65e5\u5580\u5219\u5730\u533a",g:"88.891486,29.269023|14"},{n:"\u5c71\u5357\u5730\u533a",g:"91.750644,29.229027|11"}]},{n:"\u65b0\u7586",g:"85.614899,42.127001|6",cities:[{n:"\u4e4c\u9c81\u6728\u9f50",g:"87.564988,43.84038|12"},{n:"\u963f\u62c9\u5c14",g:"81.291737,40.61568|13"},{n:"\u963f\u514b\u82cf\u5730\u533a",g:"80.269846,41.171731|12"},{n:"\u963f\u52d2\u6cf0\u5730\u533a",g:"88.137915,47.839744|13"},{n:"\u5df4\u97f3\u90ed\u695e",g:"86.121688,41.771362|12"},{n:"\u535a\u5c14\u5854\u62c9\u5dde",g:"82.052436,44.913651|11"},{n:"\u660c\u5409\u5dde",g:"87.296038,44.007058|13"},{n:"\u54c8\u5bc6\u5730\u533a",g:"93.528355,42.858596|13"},{n:"\u548c\u7530\u5730\u533a",g:"79.930239,37.116774|13"},{n:"\u5580\u4ec0\u5730\u533a",g:"75.992973,39.470627|12"},{n:"\u514b\u62c9\u739b\u4f9d",g:"84.88118,45.594331|13"},{n:"\u514b\u5b5c\u52d2\u82cf\u5dde",g:"76.137564,39.750346|11"},{n:"\u77f3\u6cb3\u5b50",g:"86.041865,44.308259|13"},{n:"\u5854\u57ce\u5730\u533a",g:"82.974881,46.758684|12"},{n:"\u56fe\u6728\u8212\u514b",g:"79.198155,39.889223|13"},{n:"\u5410\u9c81\u756a\u5730\u533a",g:"89.181595,42.96047|13"},{n:"\u4e94\u5bb6\u6e20",g:"87.565449,44.368899|13"},{n:"\u4f0a\u7281\u5dde",g:"81.297854,43.922248|11"}]},{n:"\u4e91\u5357",g:"101.592952,24.864213|7",cities:[{n:"\u6606\u660e",g:"102.714601,25.049153|12"},{n:"\u4fdd\u5c71",g:"99.177996,25.120489|13"},{n:"\u695a\u96c4\u5dde",g:"101.529382,25.066356|13"},{n:"\u5927\u7406\u5dde",g:"100.223675,25.5969|14"},{n:"\u5fb7\u5b8f\u5dde",g:"98.589434,24.44124|14"},{n:"\u8fea\u5e86\u5dde",g:"99.713682,27.831029|14"},{n:"\u7ea2\u6cb3\u5dde",g:"103.384065,23.367718|11"},{n:"\u4e3d\u6c5f",g:"100.229628,26.875351|13"},{n:"\u4e34\u6ca7",g:"100.092613,23.887806|14"},{n:"\u6012\u6c5f\u5dde",g:"98.859932,25.860677|14"},{n:"\u666e\u6d31",g:"100.980058,22.788778|14"},{n:"\u66f2\u9756",g:"103.782539,25.520758|12"},{n:"\u662d\u901a",g:"103.725021,27.340633|13"},{n:"\u6587\u5c71",g:"104.089112,23.401781|14"},{n:"\u897f\u53cc\u7248\u7eb3",g:"100.803038,22.009433|13"},{n:"\u7389\u6eaa",g:"102.545068,24.370447|13"}]},{n:"\u6d59\u6c5f",g:"119.957202,29.159494|8",cities:[{n:"\u676d\u5dde",g:"120.219375,30.259244|12"},{n:"\u6e56\u5dde",g:"120.137243,30.877925|12"},{n:"\u5609\u5174",g:"120.760428,30.773992|13"},{n:"\u91d1\u534e",g:"119.652576,29.102899|12"},{n:"\u4e3d\u6c34",g:"119.929576,28.4563|13"},{n:"\u5b81\u6ce2",g:"121.579006,29.885259|12"},{n:"\u8862\u5dde",g:"118.875842,28.95691|12"},{n:"\u7ecd\u5174",g:"120.592467,30.002365|13"},{n:"\u53f0\u5dde",g:"121.440613,28.668283|13"},{n:"\u6e29\u5dde",g:"120.690635,28.002838|12"},{n:"\u821f\u5c71",g:"122.169872,30.03601|13"}]}],oo=[{n:"\u9999\u6e2f",g:"114.186124,22.293586|11"},{n:"\u6fb3\u95e8",g:"113.557519,22.204118|13"},{n:"\u53f0\u6e7e",g:"120.961454,23.80406|8"}],ao=void 0,so=function(){if(void 0!==ao)return ao;var e=navigator.userAgent,t="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");ao=!1;for(var r=0;r<t.length;r++)if(0<e.indexOf(t[r])){ao=!0;break}return ao}(),uo=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),co=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ho=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fo=Array(576);I(fo);var po=Array(60);I(po);var go=Array(512);I(go);var mo=Array(256);I(mo);var vo=Array(29);I(vo);var yo=Array(30);I(yo);var bo=void 0,xo=void 0,Ao=void 0,wo=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},_o=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,wo(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Co=function(e,t,r){_o(e,r[2*t],r[2*t+1])},Mo=function(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(0<--t);return r>>>1},So=function(e,t,r){var n,i=Array(16),o=0;for(n=1;15>=n;n++)i[n]=o=o+r[n-1]<<1;for(r=0;r<=t;r++)o=e[2*r+1],0!==o&&(e[2*r]=Mo(i[o]++,o))},To=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Eo=function(e){8<e.bi_valid?wo(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Io=function(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},Ro=function(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len;){if(i<e.heap_len&&Io(t,e.heap[i+1],e.heap[i],e.depth)&&i++,Io(t,n,e.heap[i],e.depth))break;e.heap[r]=e.heap[i],r=i,i<<=1}e.heap[r]=n},Lo=function(e,t,r){var n=0;if(0!==e.last_lit)do{var i=e.pending_buf[e.d_buf+2*n]<<8|e.pending_buf[e.d_buf+2*n+1],o=e.pending_buf[e.l_buf+n];if(n++,0===i)Co(e,o,t);else{var a=mo[o];Co(e,a+256+1,t);var s=uo[a];0!==s&&(o-=vo[a],_o(e,o,s)),i--,a=256>i?go[i]:go[256+(i>>>7)],Co(e,a,r),s=lo[a],0!==s&&(i-=yo[a],_o(e,i,s))}}while(n<e.last_lit);Co(e,256,t)},Po=function(e,t){var r,n=t.dyn_tree,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems,s=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<a;r++)0!==n[2*r]?(e.heap[++e.heap_len]=s=r,e.depth[r]=0):n[2*r+1]=0;for(;2>e.heap_len;){var u=e.heap[++e.heap_len]=2>s?++s:0;n[2*u]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=i[2*u+1])}for(t.max_code=s,r=e.heap_len>>1;1<=r;r--)Ro(e,n,r);u=a;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ro(e,n,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,n[2*u]=n[2*r]+n[2*i],e.depth[u]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,n[2*r+1]=n[2*i+1]=u,e.heap[1]=u++,Ro(e,n,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],r=t.dyn_tree,u=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits;var l,c=t.stat_desc.extra_base,h=t.stat_desc.max_length,f=0;for(l=0;15>=l;l++)e.bl_count[l]=0;for(r[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var p=e.heap[t];if(l=r[2*r[2*p+1]+1]+1,l>h&&(l=h,f++),r[2*p+1]=l,!(p>u)){e.bl_count[l]++;var d=0;p>=c&&(d=a[p-c]);var g=r[2*p];e.opt_len+=g*(l+d),o&&(e.static_len+=g*(i[2*p+1]+d))}}if(0!==f){do{for(l=h-1;0===e.bl_count[l];)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[h]--,f-=2}while(0<f);for(l=h;0!==l;l--)for(p=e.bl_count[l];0!==p;)i=e.heap[--t],i>u||(r[2*i+1]!==l&&(e.opt_len+=(l-r[2*i+1])*r[2*i],r[2*i+1]=l),p--)}So(n,s,e.bl_count)},Oo=function(e,t,r){var n,i=-1,o=t[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++){var l=o;o=t[2*(n+1)+1],++a<s&&l===o||(a<u?e.bl_tree[2*l]+=a:0!==l?(l!==i&&e.bl_tree[2*l]++,e.bl_tree[32]++):10>=a?e.bl_tree[34]++:e.bl_tree[36]++,a=0,i=l,0===o?(s=138,u=3):l===o?(s=6,u=3):(s=7,u=4))}},Do=function(e,t,r){var n,i=-1,o=t[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),n=0;n<=r;n++){var l=o;if(o=t[2*(n+1)+1],!(++a<s&&l===o)){if(a<u)do{Co(e,l,e.bl_tree)}while(0!==--a);else 0!==l?(l!==i&&(Co(e,l,e.bl_tree),a--),Co(e,16,e.bl_tree),_o(e,a-3,2)):10>=a?(Co(e,17,e.bl_tree),_o(e,a-3,3)):(Co(e,18,e.bl_tree),_o(e,a-11,7));a=0,i=l,0===o?(s=138,u=3):l===o?(s=6,u=3):(s=7,u=4)}}},ko=function(e){var t,r=4093624447;for(t=0;31>=t;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0},No=!1,Fo=function(e,t,r,n){_o(e,n?1:0,3),Eo(e),wo(e,r),wo(e,~r),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Bo=function(e,t,r,n){var i,o=65535&e|0;for(e=e>>>16&65535|0;0!==r;){i=2e3<r?2e3:r,r-=i;do{o=o+t[n++]|0,e=e+o|0}while(--i);o%=65521,e%=65521}return o|e<<16|0},zo=new Uint32Array(function(){for(var e,t=[],r=0;256>r;r++){e=r;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),Uo=function(e,t,r,n){for(r=n+r,e^=-1;n<r;n++)e=e>>>8^zo[255&(e^t[n])];return-1^e},jo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ho={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Go=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(mo[r]+256+1)]++,e.dyn_dtree[2*(256>t?go[t]:go[256+(t>>>7)])]++),e.last_lit===e.lit_bufsize-1},Vo=Ho.Z_NO_FLUSH,Wo=Ho.Z_PARTIAL_FLUSH,Xo=Ho.Z_FULL_FLUSH,qo=Ho.Z_FINISH,Yo=Ho.Z_BLOCK,Zo=Ho.Z_OK,Ko=Ho.Z_STREAM_END,Jo=Ho.Z_STREAM_ERROR,Qo=Ho.Z_DATA_ERROR,$o=Ho.Z_BUF_ERROR,ea=Ho.Z_DEFAULT_COMPRESSION,ta=Ho.Z_FILTERED,ra=Ho.Z_HUFFMAN_ONLY,na=Ho.Z_RLE,ia=Ho.Z_FIXED,oa=Ho.Z_DEFAULT_STRATEGY,aa=Ho.Z_UNKNOWN,sa=Ho.Z_DEFLATED,ua=function(e,t){return e.msg=jo[t],t},la=function(e){for(var t=e.length;0<=--t;)e[t]=0},ca=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},ha=function(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},fa=function(e,t){var r=0<=e.block_start?e.block_start:-1,n=e.strstart-e.block_start,i=0;if(0<e.level){for(2===e.strm.data_type&&(e.strm.data_type=ko(e)),Po(e,e.l_desc),Po(e,e.d_desc),Oo(e,e.dyn_ltree,e.l_desc.max_code),Oo(e,e.dyn_dtree,e.d_desc.max_code),Po(e,e.bl_desc),i=18;3<=i&&0===e.bl_tree[2*ho[i]+1];i--);e.opt_len+=3*(i+1)+14;var o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3;a<=o&&(o=a)}else o=a=n+5;if(n+4<=o&&-1!==r)Fo(e,r,n,t);else if(4===e.strategy||a===o)_o(e,2+(t?1:0),3),Lo(e,fo,po);else{for(_o(e,4+(t?1:0),3),r=e.l_desc.max_code+1,n=e.d_desc.max_code+1,i+=1,_o(e,r-257,5),_o(e,n-1,5),_o(e,i-4,4),o=0;o<i;o++)_o(e,e.bl_tree[2*ho[o]+1],3);Do(e,e.dyn_ltree,r-1),Do(e,e.dyn_dtree,n-1),Lo(e,e.dyn_ltree,e.dyn_dtree)}To(e),t&&Eo(e),e.block_start=e.strstart,ha(e.strm)},pa=function(e,t){e.pending_buf[e.pending++]=t},da=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ga=function(e,t){var r=e.max_chain_length,n=e.strstart,i=e.prev_length,o=e.nice_match,a=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,s=e.window,u=e.w_mask,l=e.prev,c=e.strstart+258,h=s[n+i-1],f=s[n+i];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do{var p=t;if(s[p+i]===f&&s[p+i-1]===h&&s[p]===s[n]&&s[++p]===s[n+1]){for(n+=2,p++;s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&s[++n]===s[++p]&&n<c;);if(p=258-(c-n),n=c-258,p>i){if(e.match_start=t,i=p,p>=o)break;h=s[n+i-1],f=s[n+i]}}}while((t=l[t&u])>a&&0!==--r);return i<=e.lookahead?i:e.lookahead},ma=function(e){var t,r=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=r+(r-262)){e.window.set(e.window.subarray(r,r+r),0),e.match_start-=r,e.strstart-=r,e.block_start-=r;var i=t=e.hash_size;do{var o=e.head[--i];e.head[i]=o>=r?o-r:0}while(--t);i=t=r;do{o=e.prev[--i],e.prev[i]=o>=r?o-r:0}while(--t);n+=r}if(0===e.strm.avail_in)break;i=e.strm,t=e.window,o=e.strstart+e.lookahead;var a=i.avail_in;if(a>n&&(a=n),0===a?t=0:(i.avail_in-=a,t.set(i.input.subarray(i.next_in,i.next_in+a),o),1===i.state.wrap?i.adler=Bo(i.adler,t,a,o):2===i.state.wrap&&(i.adler=Uo(i.adler,t,a,o)),i.next_in+=a,i.total_in+=a,t=a),e.lookahead+=t,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=ca(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=ca(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},va=function(e,t){for(var r;;){if(262>e.lookahead){if(ma(e),262>e.lookahead&&t===Vo)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=ca(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=ga(e,r)),3<=e.match_length)if(r=Go(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=ca(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ca(e,e.ins_h,e.window[e.strstart+1]);else r=Go(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,t===qo?(fa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fa(e,!1),0===e.strm.avail_out)?1:2},ya=function(e,t){for(var r,n;;){if(262>e.lookahead){if(ma(e),262>e.lookahead&&t===Vo)return 1;if(0===e.lookahead)break}if(r=0,3<=e.lookahead&&(e.ins_h=ca(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=ga(e,r),5>=e.match_length&&(e.strategy===ta||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,r=Go(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=ca(e,e.ins_h,e.window[e.strstart+3-1]),e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(fa(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=Go(e,0,e.window[e.strstart-1]))&&fa(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(Go(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,t===qo?(fa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fa(e,!1),0===e.strm.avail_out)?1:2},ba=function(e,t){for(var r,n,i,o=e.window;;){if(258>=e.lookahead){if(ma(e),258>=e.lookahead&&t===Vo)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=e.strstart-1,r=o[n],r===o[++n]&&r===o[++n]&&r===o[++n])){for(i=e.strstart+258;r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<i;);e.match_length=258-(i-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(r=Go(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Go(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===qo?(fa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fa(e,!1),0===e.strm.avail_out)?1:2},xa=function(e,t){for(var r;;){if(0===e.lookahead&&(ma(e),0===e.lookahead)){if(t===Vo)return 1;break}if(e.match_length=0,r=Go(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===qo?(fa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(fa(e,!1),0===e.strm.avail_out)?1:2},Aa=[new P(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(1>=e.lookahead){if(ma(e),0===e.lookahead&&t===Vo)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,fa(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(fa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===qo?(fa(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&fa(e,!1),1)})),new P(4,4,8,4,va),new P(4,5,16,8,va),new P(4,6,32,32,va),new P(4,4,16,16,ya),new P(8,16,32,32,ya),new P(8,16,128,128,ya),new P(8,32,128,256,ya),new P(32,128,258,1024,ya),new P(32,258,258,4096,ya)],wa=function(e){if(!e||!e.state)return ua(e,Jo);e.total_in=e.total_out=0,e.data_type=aa;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=Vo,!No){var r,n,i;for(e=Array(16),i=n=0;28>i;i++)for(vo[i]=n,r=0;r<1<<uo[i];r++)mo[n++]=i;for(mo[n-1]=i,i=n=0;16>i;i++)for(yo[i]=n,r=0;r<1<<lo[i];r++)go[n++]=i;for(n>>=7;30>i;i++)for(yo[i]=n<<7,r=0;r<1<<lo[i]-7;r++)go[256+n++]=i;for(r=0;15>=r;r++)e[r]=0;for(r=0;143>=r;)fo[2*r+1]=8,r++,e[8]++;for(;255>=r;)fo[2*r+1]=9,r++,e[9]++;for(;279>=r;)fo[2*r+1]=7,r++,e[7]++;for(;287>=r;)fo[2*r+1]=8,r++,e[8]++;for(So(fo,287,e),r=0;30>r;r++)po[2*r+1]=5,po[2*r]=Mo(r,5);bo=new R(fo,uo,257,286,15),xo=new R(po,lo,0,30,15),Ao=new R([],co,0,19,7),No=!0}return t.l_desc=new L(t.dyn_ltree,bo),t.d_desc=new L(t.dyn_dtree,xo),t.bl_desc=new L(t.bl_tree,Ao),t.bi_buf=0,t.bi_valid=0,To(t),Zo},_a=function(e){var t=wa(e);return t===Zo&&(e=e.state,e.window_size=2*e.w_size,la(e.head),e.max_lazy_match=Aa[e.level].max_lazy,e.good_match=Aa[e.level].good_length,e.nice_match=Aa[e.level].nice_length,e.max_chain_length=Aa[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},Ca=function(e,t,r,n,i,o){if(!e)return Jo;var a=1;if(t===ea&&(t=6),0>n?(a=0,n=-n):15<n&&(a=2,n-=16),1>i||9<i||r!==sa||8>n||15<n||0>t||9<t||0>o||o>ia)return ua(e,Jo);8===n&&(n=9);var s=new O;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=r,_a(e)},Ma={deflateInit:function(e,t){return Ca(e,t,sa,15,8,oa)},deflateInit2:Ca,deflateReset:_a,deflateResetKeep:wa,deflateSetHeader:function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,Zo):Jo},deflate:function(e,t){if(!e||!e.state||t>Yo||0>t)return e?ua(e,Jo):Jo;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==qo)return ua(e,0===e.avail_out?$o:Jo);r.strm=e;var n=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,pa(r,31),pa(r,139),pa(r,8),r.gzhead?(pa(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),pa(r,255&r.gzhead.time),pa(r,r.gzhead.time>>8&255),pa(r,r.gzhead.time>>16&255),pa(r,r.gzhead.time>>24&255),pa(r,9===r.level?2:r.strategy>=ra||2>r.level?4:0),pa(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(pa(r,255&r.gzhead.extra.length),pa(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Uo(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(pa(r,0),pa(r,0),pa(r,0),pa(r,0),pa(r,0),pa(r,9===r.level?2:r.strategy>=ra||2>r.level?4:0),pa(r,3),r.status=113);else{var i=sa+(r.w_bits-8<<4)<<8;i|=(r.strategy>=ra||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6,0!==r.strstart&&(i|=32),r.status=113,da(r,i+(31-i%31)),0!==r.strstart&&(da(r,e.adler>>>16),da(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),ha(e),i=r.pending,r.pending!==r.pending_buf_size));)pa(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),ha(e),i=r.pending,r.pending===r.pending_buf_size)){var o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,pa(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),ha(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,pa(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=Uo(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ha(e),r.pending+2<=r.pending_buf_size&&(pa(r,255&e.adler),pa(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(ha(e),0===e.avail_out)return r.last_flush=-1,Zo}else if(0===e.avail_in&&(t<<1)-(4<t?9:0)<=(n<<1)-(4<n?9:0)&&t!==qo)return ua(e,$o);if(666===r.status&&0!==e.avail_in)return ua(e,$o);if(0!==e.avail_in||0!==r.lookahead||t!==Vo&&666!==r.status){if(n=r.strategy===ra?xa(r,t):r.strategy===na?ba(r,t):Aa[r.level].func(r,t),3!==n&&4!==n||(r.status=666),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),Zo;if(2===n&&(t===Wo?(_o(r,2,3),Co(r,256,fo),16===r.bi_valid?(wo(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):8<=r.bi_valid&&(r.pending_buf[r.pending++]=255&r.bi_buf,r.bi_buf>>=8,r.bi_valid-=8)):t!==Yo&&(Fo(r,0,0,!1),t===Xo&&(la(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ha(e),0===e.avail_out))return r.last_flush=-1,Zo}return t!==qo?Zo:0>=r.wrap?Ko:(2===r.wrap?(pa(r,255&e.adler),pa(r,e.adler>>8&255),pa(r,e.adler>>16&255),pa(r,e.adler>>24&255),pa(r,255&e.total_in),pa(r,e.total_in>>8&255),pa(r,e.total_in>>16&255),pa(r,e.total_in>>24&255)):(da(r,e.adler>>>16),da(r,65535&e.adler)),ha(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?Zo:Ko)},deflateEnd:function(e){if(!e||!e.state)return Jo;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?ua(e,Jo):(e.state=null,113===t?ua(e,Qo):Zo)},deflateSetDictionary:function(e,t){var r=t.length;if(!e||!e.state)return Jo;var n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return Jo;if(1===i&&(e.adler=Bo(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(la(n.head),n.strstart=0,n.block_start=0,n.insert=0);var o=new Uint8Array(n.w_size);o.set(t.subarray(r-n.w_size,r),0),t=o,r=n.w_size}o=e.avail_in;var a=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,ma(n);3<=n.lookahead;){t=n.strstart,r=n.lookahead-2;do{n.ins_h=ca(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--r);n.strstart=t,n.lookahead=2,ma(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,n.wrap=i,Zo},deflateInfo:"pako deflate (from Nodeca project)"},Sa={assign:function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==("undefined"===typeof r?"undefined":Kn(r)))throw new TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},flattenChunks:function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;t=new Uint8Array(t),n=r=0;for(var i=e.length;r<i;r++){var o=e[r];t.set(o,n),n+=o.length}return t}},Ta=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(kh){Ta=!1}for(var Ea=new Uint8Array(256),Ia=0;256>Ia;Ia++)Ea[Ia]=252<=Ia?6:248<=Ia?5:240<=Ia?4:224<=Ia?3:192<=Ia?2:1;Ea[254]=Ea[254]=1;var Ra={string2buf:function(e){var t,r,n=e.length,i=0;for(t=0;t<n;t++){var o=e.charCodeAt(t);if(55296===(64512&o)&&t+1<n){var a=e.charCodeAt(t+1);56320===(64512&a)&&(o=65536+(o-55296<<10)+(a-56320),t++)}i+=128>o?1:2048>o?2:65536>o?3:4}var s=new Uint8Array(i);for(t=r=0;r<i;t++)o=e.charCodeAt(t),55296===(64512&o)&&t+1<n&&(a=e.charCodeAt(t+1),56320===(64512&a)&&(o=65536+(o-55296<<10)+(a-56320),t++)),128>o?s[r++]=o:(2048>o?s[r++]=192|o>>>6:(65536>o?s[r++]=224|o>>>12:(s[r++]=240|o>>>18,s[r++]=128|o>>>12&63),s[r++]=128|o>>>6&63),s[r++]=128|63&o);return s},buf2string:function(e,t){var r,n,i=t||e.length;for(t=Array(2*i),r=n=0;r<i;){var o=e[r++];if(128>o)t[n++]=o;else{var a=Ea[o];if(4<a)t[n++]=65533,r+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&r<i;)o=o<<6|63&e[r++],a--;1<a?t[n++]=65533:65536>o?t[n++]=o:(o-=65536,t[n++]=55296|o>>10&1023,t[n++]=56320|1023&o)}}}if(e=n,65534>e&&t.subarray&&Ta)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);t=r}return t},utf8border:function(e,t){t=t||e.length,t>e.length&&(t=e.length);for(var r=t-1;0<=r&&128===(192&e[r]);)r--;return 0>r||0===r?t:r+Ea[e[r]]>t?r:t}},La=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Pa=Object.prototype.toString,Oa=Ho.Z_NO_FLUSH,Da=Ho.Z_SYNC_FLUSH,ka=Ho.Z_FULL_FLUSH,Na=Ho.Z_FINISH,Fa=Ho.Z_OK,Ba=Ho.Z_STREAM_END,za=Ho.Z_DEFAULT_COMPRESSION,Ua=Ho.Z_DEFAULT_STRATEGY,ja=Ho.Z_DEFLATED;D.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?Na:Oa,"string"===typeof e?r.input=Ra.string2buf(e):"[object ArrayBuffer]"===Pa.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(t===Da||t===ka)&&6>=r.avail_out)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(e=Ma.deflate(r,t),e===Ba)return 0<r.next_out&&this.onData(r.output.subarray(0,r.next_out)),e=Ma.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===Fa;if(0===r.avail_out)this.onData(r.output);else if(0<t&&0<r.next_out)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}return!0},D.prototype.onData=function(e){this.chunks.push(e)},D.prototype.onEnd=function(e){e===Fa&&(this.result=Sa.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ha=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ga=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Va=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Xa=function(e,t,r,n,i,o,a,s){var u,l,c,h,f,p,d,g=s.bits,m=0,v=new Uint16Array(16),y=new Uint16Array(16),b=0;for(u=0;15>=u;u++)v[u]=0;for(l=0;l<n;l++)v[t[r+l]]++;var x=g;for(c=15;1<=c&&0===v[c];c--);if(x>c&&(x=c),0===c)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(g=1;g<c&&0===v[g];g++);for(x<g&&(x=g),u=h=1;15>=u;u++)if(h<<=1,h-=v[u],0>h)return-1;if(0<h&&(0===e||1!==c))return-1;for(y[1]=0,u=1;15>u;u++)y[u+1]=y[u]+v[u];for(l=0;l<n;l++)0!==t[r+l]&&(a[y[t[r+l]]++]=l);if(0===e)var A=d=a,w=19;else 1===e?(A=Ha,m-=257,d=Ga,b-=257,w=256):(A=Va,d=Wa,w=-1);l=f=0,u=g;var _=o;n=x,y=0;var C=-1,M=1<<x,S=M-1;if(1===e&&852<M||2===e&&592<M)return 1;for(;;){var T=u-y;if(a[l]<w)var E=0,I=a[l];else a[l]>w?(E=d[b+a[l]],I=A[m+a[l]]):(E=96,I=0);h=1<<u-y,g=p=1<<n;do{p-=h,i[_+(f>>y)+p]=T<<24|E<<16|I|0}while(0!==p);for(h=1<<u-1;f&h;)h>>=1;if(0!==h?(f&=h-1,f+=h):f=0,l++,0===--v[u]){if(u===c)break;u=t[r+a[l]]}if(u>x&&(f&S)!==C){for(0===y&&(y=x),_+=g,n=u-y,h=1<<n;n+y<c;){if(h-=v[n+y],0>=h)break;n++,h<<=1}if(M+=1<<n,1===e&&852<M||2===e&&592<M)return 1;C=f&S,i[C]=x<<24|n<<16|_-o|0}}return 0!==f&&(i[_+f]=u-y<<24|4194304),s.bits=x,0},qa=Ho.Z_FINISH,Ya=Ho.Z_BLOCK,Za=Ho.Z_TREES,Ka=Ho.Z_OK,Ja=Ho.Z_STREAM_END,Qa=Ho.Z_NEED_DICT,$a=Ho.Z_STREAM_ERROR,es=Ho.Z_DATA_ERROR,ts=Ho.Z_MEM_ERROR,rs=Ho.Z_BUF_ERROR,ns=Ho.Z_DEFLATED,is=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},os=function(e){if(!e||!e.state)return $a;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ka},as=function(e){if(!e||!e.state)return $a;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,os(e)},ss=function(e,t){if(!e||!e.state)return $a;var r=e.state;if(0>t){var n=0;t=-t}else n=1+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?$a:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,as(e))},us=function(e,t){if(!e)return $a;var r=new N;return e.state=r,r.window=null,t=ss(e,t),t!==Ka&&(e.state=null),t},ls=!0,cs=void 0,hs=void 0,fs=function(e,t,r,n){var i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(e=i.wsize-i.wnext,e>n&&(e=n),i.window.set(t.subarray(r-n,r-n+e),i.wnext),(n-=e)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=e,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=e))),0},ps={inflateReset:as,inflateReset2:ss,inflateResetKeep:os,inflateInit:function(e){return us(e,15)},inflateInit2:us,inflate:function(e,t){var r=new Uint8Array(4),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return $a;var i=e.state;12===i.mode&&(i.mode=13);var o=e.next_out,a=e.output,s=e.avail_out,u=e.next_in,l=e.input,c=e.avail_in,h=i.hold,f=i.bits,p=c,d=s,g=Ka;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;16>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(2&i.wrap&&35615===h){i.check=0,r[0]=255&h,r[1]=h>>>8&255,i.check=Uo(i.check,r,2,0),f=h=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",i.mode=30;break}if((15&h)!==ns){e.msg="unknown compression method",i.mode=30;break}h>>>=4,f-=4;var m=8+(15&h);if(0===i.wbits)i.wbits=m;else if(m>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<i.wbits,e.adler=i.check=1,i.mode=512&h?10:12,f=h=0;break;case 2:for(;16>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(i.flags=h,(255&i.flags)!==ns){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(r[0]=255&h,r[1]=h>>>8&255,i.check=Uo(i.check,r,2,0)),f=h=0,i.mode=3;case 3:for(;32>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.head&&(i.head.time=h),512&i.flags&&(r[0]=255&h,r[1]=h>>>8&255,r[2]=h>>>16&255,r[3]=h>>>24&255,i.check=Uo(i.check,r,4,0)),f=h=0,i.mode=4;case 4:for(;16>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(r[0]=255&h,r[1]=h>>>8&255,i.check=Uo(i.check,r,2,0)),f=h=0,i.mode=5;case 5:if(1024&i.flags){for(;16>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(r[0]=255&h,r[1]=h>>>8&255,i.check=Uo(i.check,r,2,0)),f=h=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags){var v=i.length;if(v>c&&(v=c),v&&(i.head&&(m=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(l.subarray(u,u+v),m)),512&i.flags&&(i.check=Uo(i.check,l,v,u)),c-=v,u+=v,i.length-=v),i.length)break e}i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===c)break e;v=0;do{m=l[u+v++],i.head&&m&&65536>i.length&&(i.head.name+=String.fromCharCode(m))}while(m&&v<c);if(512&i.flags&&(i.check=Uo(i.check,l,v,u)),c-=v,u+=v,m)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===c)break e;v=0;do{m=l[u+v++],i.head&&m&&65536>i.length&&(i.head.comment+=String.fromCharCode(m))}while(m&&v<c);if(512&i.flags&&(i.check=Uo(i.check,l,v,u)),c-=v,u+=v,m)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;16>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(h!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}f=h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;32>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}e.adler=i.check=is(h),f=h=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=o,e.avail_out=s,e.next_in=u,e.avail_in=c,i.hold=h,i.bits=f,Qa;e.adler=i.check=1,i.mode=12;case 12:if(t===Ya||t===Za)break e;case 13:if(i.last){h>>>=7&f,f-=7&f,i.mode=27;break}for(;3>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}switch(i.last=1&h,h>>>=1,--f,3&h){case 0:i.mode=14;break;case 1:if(v=i,ls){for(cs=new Int32Array(512),hs=new Int32Array(32),m=0;144>m;)v.lens[m++]=8;for(;256>m;)v.lens[m++]=9;for(;280>m;)v.lens[m++]=7;for(;288>m;)v.lens[m++]=8;for(Xa(1,v.lens,0,288,cs,0,v.work,{bits:9}),m=0;32>m;)v.lens[m++]=5;Xa(2,v.lens,0,32,hs,0,v.work,{bits:5}),ls=!1}if(v.lencode=cs,v.lenbits=9,v.distcode=hs,v.distbits=5,i.mode=20,t===Za){h>>>=2,f-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}h>>>=2,f-=2;break;case 14:for(h>>>=7&f,f-=7&f;32>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&h,f=h=0,i.mode=15,t===Za)break e;case 15:i.mode=16;case 16:if(v=i.length){if(v>c&&(v=c),v>s&&(v=s),0===v)break e;a.set(l.subarray(u,u+v),o),c-=v,u+=v,s-=v,o+=v,i.length-=v;break}i.mode=12;break;case 17:for(;14>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(i.nlen=257+(31&h),h>>>=5,f-=5,i.ndist=1+(31&h),h>>>=5,f-=5,i.ncode=4+(15&h),h>>>=4,f-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;3>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.lens[n[i.have++]]=7&h,h>>>=3,f-=3}for(;19>i.have;)i.lens[n[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,v={bits:i.lenbits},g=Xa(0,i.lens,0,19,i.lencode,0,i.work,v),i.lenbits=v.bits,g){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;;){var y=i.lencode[h&(1<<i.lenbits)-1];if(v=y>>>24,y&=65535,v<=f)break;if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(16>y)h>>>=v,f-=v,i.lens[i.have++]=y;else{if(16===y){for(m=v+2;f<m;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(h>>>=v,f-=v,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}m=i.lens[i.have-1],v=3+(3&h),h>>>=2,f-=2}else if(17===y){for(m=v+3;f<m;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}h>>>=v,f-=v,m=0,v=3+(7&h),h>>>=3,f-=3}else{for(m=v+7;f<m;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}h>>>=v,f-=v,m=0,v=11+(127&h),h>>>=7,f-=7}if(i.have+v>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;v--;)i.lens[i.have++]=m}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,v={bits:i.lenbits},g=Xa(1,i.lens,0,i.nlen,i.lencode,0,i.work,v),i.lenbits=v.bits,g){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,v={bits:i.distbits},g=Xa(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,v),i.distbits=v.bits,g){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,t===Za)break e;case 20:i.mode=21;case 21:if(6<=c&&258<=s){e.next_out=o,e.avail_out=s,e.next_in=u,e.avail_in=c,i.hold=h,i.bits=f,l=e;var b=l.state;a=l.next_in;var x=l.input;u=a+(l.avail_in-5),o=l.next_out;var A=l.output;c=o-(d-l.avail_out),s=o+(l.avail_out-257),h=b.dmax,f=b.wsize,v=b.whave,m=b.wnext;var w=b.window,_=b.hold,C=b.bits;y=b.lencode;var M=b.distcode,S=(1<<b.lenbits)-1,T=(1<<b.distbits)-1;t:do{15>C&&(_+=x[a++]<<C,C+=8,_+=x[a++]<<C,C+=8);var E=y[_&S];r:for(;;){var I=E>>>24;if(_>>>=I,C-=I,I=E>>>16&255,0===I)A[o++]=65535&E;else{if(!(16&I)){if(0===(64&I)){E=y[(65535&E)+(_&(1<<I)-1)];continue r}32&I?b.mode=12:(l.msg="invalid literal/length code",b.mode=30);break t}var R=65535&E;(I&=15)&&(C<I&&(_+=x[a++]<<C,C+=8),R+=_&(1<<I)-1,_>>>=I,C-=I),15>C&&(_+=x[a++]<<C,C+=8,_+=x[a++]<<C,C+=8),E=M[_&T];n:for(;;){if(I=E>>>24,_>>>=I,C-=I,I=E>>>16&255,!(16&I)){if(0===(64&I)){E=M[(65535&E)+(_&(1<<I)-1)];continue n}l.msg="invalid distance code",b.mode=30;break t}if(E&=65535,I&=15,C<I&&(_+=x[a++]<<C,C+=8,C<I&&(_+=x[a++]<<C,C+=8)),E+=_&(1<<I)-1,E>h){l.msg="invalid distance too far back",b.mode=30;break t}if(_>>>=I,C-=I,I=o-c,E>I){if(I=E-I,I>v&&b.sane){l.msg="invalid distance too far back",b.mode=30;break t}var L=0,P=w;if(0===m){if(L+=f-I,I<R){R-=I;do{A[o++]=w[L++]}while(--I);L=o-E,P=A}}else if(m<I){if(L+=f+m-I,I-=m,I<R){R-=I;do{A[o++]=w[L++]}while(--I);if(L=0,m<R){I=m,R-=I;do{A[o++]=w[L++]}while(--I);L=o-E,P=A}}}else if(L+=m-I,I<R){R-=I;do{A[o++]=w[L++]}while(--I);L=o-E,P=A}for(;2<R;)A[o++]=P[L++],A[o++]=P[L++],A[o++]=P[L++],R-=3;R&&(A[o++]=P[L++],1<R&&(A[o++]=P[L++]))}else{L=o-E;do{A[o++]=A[L++],A[o++]=A[L++],A[o++]=A[L++],R-=3}while(2<R);R&&(A[o++]=A[L++],1<R&&(A[o++]=A[L++]))}break}}break}}while(a<u&&o<s);R=C>>3,a-=R,C-=R<<3,l.next_in=a,l.next_out=o,l.avail_in=a<u?u-a+5:5-(a-u),l.avail_out=o<s?s-o+257:257-(o-s),b.hold=_&(1<<C)-1,b.bits=C,o=e.next_out,a=e.output,s=e.avail_out,u=e.next_in,l=e.input,c=e.avail_in,h=i.hold,f=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;;){if(y=i.lencode[h&(1<<i.lenbits)-1],v=y>>>24,m=y>>>16&255,y&=65535,v<=f)break;if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(m&&0===(240&m)){for(w=v,_=m,C=y;;){if(y=i.lencode[C+((h&(1<<w+_)-1)>>w)],v=y>>>24,m=y>>>16&255,y&=65535,w+v<=f)break;if(0===c)break e;c--,h+=l[u++]<<f,f+=8}h>>>=w,f-=w,i.back+=w}if(h>>>=v,f-=v,i.back+=v,i.length=y,0===m){i.mode=26;break}if(32&m){i.back=-1,i.mode=12;break}if(64&m){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&m,i.mode=22;case 22:if(i.extra){for(m=i.extra;f<m;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;;){if(y=i.distcode[h&(1<<i.distbits)-1],v=y>>>24,m=y>>>16&255,y&=65535,v<=f)break;if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(0===(240&m)){for(w=v,_=m,C=y;;){if(y=i.distcode[C+((h&(1<<w+_)-1)>>w)],v=y>>>24,m=y>>>16&255,y&=65535,w+v<=f)break;if(0===c)break e;c--,h+=l[u++]<<f,f+=8}h>>>=w,f-=w,i.back+=w}if(h>>>=v,f-=v,i.back+=v,64&m){e.msg="invalid distance code",i.mode=30;break}i.offset=y,i.extra=15&m,i.mode=24;case 24:if(i.extra){for(m=i.extra;f<m;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===s)break e;if(v=d-s,i.offset>v){if(v=i.offset-v,v>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}v>i.wnext?(v-=i.wnext,m=i.wsize-v):m=i.wnext-v,v>i.length&&(v=i.length),w=i.window}else w=a,m=o-i.offset,v=i.length;v>s&&(v=s),s-=v,i.length-=v;do{a[o++]=w[m++]}while(--v);0===i.length&&(i.mode=21);break;case 26:if(0===s)break e;a[o++]=i.length,s--,i.mode=21;break;case 27:if(i.wrap){for(;32>f;){if(0===c)break e;c--,h|=l[u++]<<f,f+=8}if(d-=s,e.total_out+=d,i.total+=d,d&&(e.adler=i.check=i.flags?Uo(i.check,a,d,o-d):Bo(i.check,a,d,o-d)),d=s,(i.flags?h:is(h))!==i.check){e.msg="incorrect data check",i.mode=30;break}f=h=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;32>f;){if(0===c)break e;c--,h+=l[u++]<<f,f+=8}if(h!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}f=h=0}i.mode=29;case 29:g=Ja;break e;case 30:g=es;break e;case 31:return ts;default:return $a}return e.next_out=o,e.avail_out=s,e.next_in=u,e.avail_in=c,i.hold=h,i.bits=f,(i.wsize||d!==e.avail_out&&30>i.mode&&(27>i.mode||t!==qa))&&fs(e,e.output,e.next_out,d-e.avail_out),p-=e.avail_in,d-=e.avail_out,e.total_in+=p,e.total_out+=d,i.total+=d,i.wrap&&d&&(e.adler=i.check=i.flags?Uo(i.check,a,d,e.next_out-d):Bo(i.check,a,d,e.next_out-d)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===p&&0===d||t===qa)&&g===Ka&&(g=rs),g},inflateEnd:function(e){if(!e||!e.state)return $a;var t=e.state;return t.window&&(t.window=null),e.state=null,Ka},inflateGetHeader:function(e,t){return e&&e.state?(e=e.state,0===(2&e.wrap)?$a:(e.head=t,t.done=!1,Ka)):$a},inflateSetDictionary:function(e,t){var r=t.length;if(!e||!e.state)return $a;var n=e.state;if(0!==n.wrap&&11!==n.mode)return $a;if(11===n.mode){var i=Bo(1,t,r,0);if(i!==n.check)return es}return fs(e,t,r,r)?(n.mode=31,ts):(n.havedict=1,Ka)},inflateInfo:"pako inflate (from Nodeca project)"},ds=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},gs=Object.prototype.toString,ms=Ho.Z_NO_FLUSH,vs=Ho.Z_FINISH,ys=Ho.Z_OK,bs=Ho.Z_STREAM_END,xs=Ho.Z_NEED_DICT,As=Ho.Z_STREAM_ERROR,ws=Ho.Z_DATA_ERROR,_s=Ho.Z_MEM_ERROR;F.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;if(this.ended)return!1;var o=t===~~t?t:!0===t?vs:ms;for("[object ArrayBuffer]"===gs.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),t=ps.inflate(r,o),t===xs&&i&&(t=ps.inflateSetDictionary(r,i),t===ys?t=ps.inflate(r,o):t===ws&&(t=xs));0<r.avail_in&&t===bs&&0<r.state.wrap&&0!==e[r.next_in];)ps.inflateReset(r),t=ps.inflate(r,o);switch(t){case As:case ws:case xs:case _s:return this.onEnd(t),this.ended=!0,!1}var a=r.avail_out;if(r.next_out&&(0===r.avail_out||t===bs))if("string"===this.options.to){var s=Ra.utf8border(r.output,r.next_out),u=r.next_out-s,l=Ra.buf2string(r.output,s);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(s,s+u),0),this.onData(l)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(t!==ys||0!==a){if(t===bs){t=ps.inflateEnd(this.strm),this.onEnd(t),this.ended=!0;break}if(0===r.avail_in)break}}return!0},F.prototype.onData=function(e){this.chunks.push(e)},F.prototype.onEnd=function(e){e===ys&&(this.result="string"===this.options.to?this.chunks.join(""):Sa.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Cs={Deflate:D,deflate:k,deflateRaw:function(e,t){return t=t||{},t.raw=!0,k(e,t)},gzip:function(e,t){return t=t||{},t.gzip=!0,k(e,t)},Inflate:F,inflate:B,inflateRaw:function(e,t){return t=t||{},t.raw=!0,B(e,t)},ungzip:B,constants:Ho},Ms=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=function(e){t.ARRAY_TYPE=n=e},t.toRadian=function(e){return e*i},t.equals=function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))},t.RANDOM=t.ARRAY_TYPE=t.EPSILON=void 0;var r=1e-6;t.EPSILON=r;var n="undefined"!==typeof Float32Array?Float32Array:Array;t.ARRAY_TYPE=n,t.RANDOM=Math.random;var i=Math.PI/180}));n(Ms);var Ss=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2];return r=r[3],e[0]=n*a+o*s,e[1]=i*a+t*s,e[2]=n*u+o*r,e[3]=i*u+t*r,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},t.fromValues=function(e,t,r,n){var o=new i.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*t-i*n;return o?(o=1/o,e[0]=t*o,e[1]=-n*o,e[2]=-i*o,e[3]=r*o,e):null},t.adjoint=function(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e},t.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},t.multiply=r,t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+o*a,e[1]=i*r+t*a,e[2]=n*-a+o*r,e[3]=i*-a+t*r,e},t.scale=function(e,t,r){var n=t[1],i=t[2],o=t[3],a=r[0];return r=r[1],e[0]=t[0]*a,e[1]=n*a,e[2]=i*r,e[3]=o*r,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=-r,e[3]=t,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},t.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},t.LDU=function(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2];e=e[3];var a=t[0],s=t[1],u=t[2];return t=t[3],Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.mul=r,t.sub=n}));n(Ss);var Ts=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=r[0],l=r[1],c=r[2],h=r[3],f=r[4];return r=r[5],e[0]=n*u+o*l,e[1]=i*u+a*l,e[2]=n*c+o*h,e[3]=i*c+a*h,e[4]=n*f+o*r+s,e[5]=i*f+a*r+t,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},t.fromValues=function(e,t,r,n,o,a){var s=new i.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=o,s[5]=a,s},t.set=function(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4];t=t[5];var s=r*o-n*i;return s?(s=1/s,e[0]=o*s,e[1]=-n*s,e[2]=-i*s,e[3]=r*s,e[4]=(i*t-o*a)*s,e[5]=(n*a-r*t)*s,e):null},t.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},t.multiply=r,t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=Math.sin(r);return r=Math.cos(r),e[0]=n*r+o*u,e[1]=i*r+a*u,e[2]=n*-u+o*r,e[3]=i*-u+a*r,e[4]=s,e[5]=t,e},t.scale=function(e,t,r){var n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=r[0];return r=r[1],e[0]=t[0]*u,e[1]=n*u,e[2]=i*r,e[3]=o*r,e[4]=a,e[5]=s,e},t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=r[0];return r=r[1],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=n*u+o*r+s,e[5]=i*u+a*r+t,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=-r,e[3]=t,e[4]=0,e[5]=0,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},t.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},t.subtract=n,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4];e=e[5];var u=t[0],l=t[1],c=t[2],h=t[3],f=t[4];return t=t[5],Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-f)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.mul=r,t.sub=n}));n(Ts);var Es=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=r[0],f=r[1],p=r[2],d=r[3],g=r[4],m=r[5],v=r[6],y=r[7];return r=r[8],e[0]=h*n+f*a+p*l,e[1]=h*i+f*s+p*c,e[2]=h*o+f*u+p*t,e[3]=d*n+g*a+m*l,e[4]=d*i+g*s+m*c,e[5]=d*o+g*u+m*t,e[6]=v*n+y*a+r*l,e[7]=v*i+y*s+r*c,e[8]=v*o+y*u+r*t,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},t.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},t.clone=function(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromValues=function(e,t,r,n,o,a,s,u,l){var c=new i.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},t.set=function(e,t,r,n,i,o,a,s,u,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7];t=t[8];var c=t*a-s*l,h=-t*o+s*u,f=l*o-a*u,p=r*c+n*h+i*f;return p?(p=1/p,e[0]=c*p,e[1]=(-t*n+i*l)*p,e[2]=(s*n-i*a)*p,e[3]=h*p,e[4]=(t*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=f*p,e[7]=(-l*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null},t.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7];return t=t[8],e[0]=a*t-s*l,e[1]=i*l-n*t,e[2]=n*s-i*a,e[3]=s*u-o*t,e[4]=r*t-i*u,e[5]=i*o-r*s,e[6]=o*l-a*u,e[7]=n*u-r*l,e[8]=r*a-n*o,e},t.determinant=function(e){var t=e[3],r=e[4],n=e[5],i=e[6],o=e[7],a=e[8];return e[0]*(a*r-n*o)+e[1]*(-a*t+n*i)+e[2]*(o*t-r*i)},t.multiply=r,t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=r[0];return r=r[1],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*n+r*a+l,e[7]=h*i+r*s+c,e[8]=h*o+r*u+t,e},t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=Math.sin(r);return r=Math.cos(r),e[0]=r*n+h*a,e[1]=r*i+h*s,e[2]=r*o+h*u,e[3]=r*a-h*n,e[4]=r*s-h*i,e[5]=r*u-h*o,e[6]=l,e[7]=c,e[8]=t,e},t.scale=function(e,t,r){var n=r[0];return r=r[1],e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=0,e[3]=-r,e[4]=t,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},t.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r+r,a=n+n,s=i+i;r*=o;var u=n*o;n*=a;var l=i*o,c=i*a;return i*=s,o*=t,a*=t,t*=s,e[0]=1-n-i,e[3]=u-t,e[6]=l+a,e[1]=u+t,e[4]=1-r-i,e[7]=c-o,e[2]=l-a,e[5]=c+o,e[8]=1-r-n,e},t.normalFromMat4=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];t=t[15];var v=r*s-n*a,y=r*u-i*a,b=r*l-o*a,x=n*u-i*s,A=n*l-o*s,w=i*l-o*u,_=c*g-h*d,C=c*m-f*d;c=c*t-p*d;var M=h*m-f*g;return h=h*t-p*g,f=f*t-p*m,p=v*f-y*h+b*M+x*c-A*C+w*_,p?(p=1/p,e[0]=(s*f-u*h+l*M)*p,e[1]=(u*c-a*f-l*C)*p,e[2]=(a*h-s*c+l*_)*p,e[3]=(i*h-n*f-o*M)*p,e[4]=(r*f-i*c+o*C)*p,e[5]=(n*c-r*h-o*_)*p,e[6]=(g*w-m*A+t*x)*p,e[7]=(m*b-d*w-t*y)*p,e[8]=(d*A-g*b+t*v)*p,e):null},t.projection=function(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},t.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},t.subtract=n,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7];e=e[8];var h=t[0],f=t[1],p=t[2],d=t[3],g=t[4],m=t[5],v=t[6],y=t[7];return t=t[8],Math.abs(r-h)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-p)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-d)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-g)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-v)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.mul=r,t.sub=n}));n(Es);var Is=i((function(e,t){function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function n(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],p=t[10],d=t[11],g=t[12],m=t[13],v=t[14];t=t[15];var y=r[0],b=r[1],x=r[2],A=r[3];return e[0]=y*n+b*s+x*h+A*g,e[1]=y*i+b*u+x*f+A*m,e[2]=y*o+b*l+x*p+A*v,e[3]=y*a+b*c+x*d+A*t,y=r[4],b=r[5],x=r[6],A=r[7],e[4]=y*n+b*s+x*h+A*g,e[5]=y*i+b*u+x*f+A*m,e[6]=y*o+b*l+x*p+A*v,e[7]=y*a+b*c+x*d+A*t,y=r[8],b=r[9],x=r[10],A=r[11],e[8]=y*n+b*s+x*h+A*g,e[9]=y*i+b*u+x*f+A*m,e[10]=y*o+b*l+x*p+A*v,e[11]=y*a+b*c+x*d+A*t,y=r[12],b=r[13],x=r[14],A=r[15],e[12]=y*n+b*s+x*h+A*g,e[13]=y*i+b*u+x*f+A*m,e[14]=y*o+b*l+x*p+A*v,e[15]=y*a+b*c+x*d+A*t,e}function i(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=n+n,u=i+i,l=o+o;t=n*s;var c=n*u;n*=l;var h=i*u;return i*=l,o*=l,s*=a,u*=a,a*=l,e[0]=1-(h+o),e[1]=c+a,e[2]=n-u,e[3]=0,e[4]=c-a,e[5]=1-(t+o),e[6]=i+s,e[7]=0,e[8]=n+u,e[9]=i-s,e[10]=1-(t+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new a.ARRAY_TYPE(16);return a.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},t.clone=function(e){var t=new a.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.fromValues=function(e,t,r,n,i,o,s,u,l,c,h,f,p,d,g,m){var v=new a.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=o,v[6]=s,v[7]=u,v[8]=l,v[9]=c,v[10]=h,v[11]=f,v[12]=p,v[13]=d,v[14]=g,v[15]=m,v},t.set=function(e,t,r,n,i,o,a,s,u,l,c,h,f,p,d,g,m){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=h,e[11]=f,e[12]=p,e[13]=d,e[14]=g,e[15]=m,e},t.identity=r,t.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];t=t[15];var v=r*s-n*a,y=r*u-i*a,b=r*l-o*a,x=n*u-i*s,A=n*l-o*s,w=i*l-o*u,_=c*g-h*d,C=c*m-f*d,M=c*t-p*d,S=h*m-f*g,T=h*t-p*g,E=f*t-p*m,I=v*E-y*T+b*S+x*M-A*C+w*_;return I?(I=1/I,e[0]=(s*E-u*T+l*S)*I,e[1]=(i*T-n*E-o*S)*I,e[2]=(g*w-m*A+t*x)*I,e[3]=(f*A-h*w-p*x)*I,e[4]=(u*M-a*E-l*C)*I,e[5]=(r*E-i*M+o*C)*I,e[6]=(m*b-d*w-t*y)*I,e[7]=(c*w-f*b+p*y)*I,e[8]=(a*T-s*M+l*_)*I,e[9]=(n*M-r*T-o*_)*I,e[10]=(d*A-g*b+t*v)*I,e[11]=(h*b-c*A-p*v)*I,e[12]=(s*C-a*S-u*_)*I,e[13]=(r*S-n*C+i*_)*I,e[14]=(g*y-d*x-m*v)*I,e[15]=(c*x-h*y+f*v)*I,e):null},t.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];return t=t[15],e[0]=s*(f*t-p*m)-h*(u*t-l*m)+g*(u*p-l*f),e[1]=-(n*(f*t-p*m)-h*(i*t-o*m)+g*(i*p-o*f)),e[2]=n*(u*t-l*m)-s*(i*t-o*m)+g*(i*l-o*u),e[3]=-(n*(u*p-l*f)-s*(i*p-o*f)+h*(i*l-o*u)),e[4]=-(a*(f*t-p*m)-c*(u*t-l*m)+d*(u*p-l*f)),e[5]=r*(f*t-p*m)-c*(i*t-o*m)+d*(i*p-o*f),e[6]=-(r*(u*t-l*m)-a*(i*t-o*m)+d*(i*l-o*u)),e[7]=r*(u*p-l*f)-a*(i*p-o*f)+c*(i*l-o*u),e[8]=a*(h*t-p*g)-c*(s*t-l*g)+d*(s*p-l*h),e[9]=-(r*(h*t-p*g)-c*(n*t-o*g)+d*(n*p-o*h)),e[10]=r*(s*t-l*g)-a*(n*t-o*g)+d*(n*l-o*s),e[11]=-(r*(s*p-l*h)-a*(n*p-o*h)+c*(n*l-o*s)),e[12]=-(a*(h*m-f*g)-c*(s*m-u*g)+d*(s*f-u*h)),e[13]=r*(h*m-f*g)-c*(n*m-i*g)+d*(n*f-i*h),e[14]=-(r*(s*m-u*g)-a*(n*m-i*g)+d*(n*u-i*s)),e[15]=r*(s*f-u*h)-a*(n*f-i*h)+c*(n*u-i*s),e},t.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],p=e[12],d=e[13],g=e[14];return e=e[15],(t*a-r*o)*(h*e-f*g)-(t*s-n*o)*(c*e-f*d)+(t*u-i*o)*(c*g-h*d)+(r*s-n*a)*(l*e-f*p)-(r*u-i*a)*(l*g-h*p)+(n*u-i*s)*(l*d-c*p)},t.multiply=n,t.translate=function(e,t,r){var n=r[0],i=r[1];if(r=r[2],t===e)e[12]=t[0]*n+t[4]*i+t[8]*r+t[12],e[13]=t[1]*n+t[5]*i+t[9]*r+t[13],e[14]=t[2]*n+t[6]*i+t[10]*r+t[14],e[15]=t[3]*n+t[7]*i+t[11]*r+t[15];else{var o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7],p=t[8],d=t[9],g=t[10],m=t[11];e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=p,e[9]=d,e[10]=g,e[11]=m,e[12]=o*n+l*i+p*r+t[12],e[13]=a*n+c*i+d*r+t[13],e[14]=s*n+h*i+g*r+t[14],e[15]=u*n+f*i+m*r+t[15]}return e},t.scale=function(e,t,r){var n=r[0],i=r[1];return r=r[2],e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.rotate=function(e,t,r,n){var i=n[0],o=n[1];n=n[2];var s=Math.sqrt(i*i+o*o+n*n);if(s<a.EPSILON)return null;s=1/s,i*=s,o*=s,n*=s;var u=Math.sin(r),l=Math.cos(r),c=1-l;r=t[0],s=t[1];var h=t[2],f=t[3],p=t[4],d=t[5],g=t[6],m=t[7],v=t[8],y=t[9],b=t[10],x=t[11],A=i*i*c+l,w=o*i*c+n*u,_=n*i*c-o*u,C=i*o*c-n*u,M=o*o*c+l,S=n*o*c+i*u,T=i*n*c+o*u;return i=o*n*c-i*u,o=n*n*c+l,e[0]=r*A+p*w+v*_,e[1]=s*A+d*w+y*_,e[2]=h*A+g*w+b*_,e[3]=f*A+m*w+x*_,e[4]=r*C+p*M+v*S,e[5]=s*C+d*M+y*S,e[6]=h*C+g*M+b*S,e[7]=f*C+m*M+x*S,e[8]=r*T+p*i+v*o,e[9]=s*T+d*i+y*o,e[10]=h*T+g*i+b*o,e[11]=f*T+m*i+x*o,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},t.rotateX=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[4],o=t[5],a=t[6],s=t[7],u=t[8],l=t[9],c=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+u*n,e[5]=o*r+l*n,e[6]=a*r+c*n,e[7]=s*r+h*n,e[8]=u*r-i*n,e[9]=l*r-o*n,e[10]=c*r-a*n,e[11]=h*r-s*n,e},t.rotateY=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[8],l=t[9],c=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r-u*n,e[1]=o*r-l*n,e[2]=a*r-c*n,e[3]=s*r-h*n,e[8]=i*n+u*r,e[9]=o*n+l*r,e[10]=a*n+c*r,e[11]=s*n+h*r,e},t.rotateZ=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=t[5],c=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+u*n,e[1]=o*r+l*n,e[2]=a*r+c*n,e[3]=s*r+h*n,e[4]=u*r-i*n,e[5]=l*r-o*n,e[6]=c*r-a*n,e[7]=h*r-s*n,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=function(e,t,r){var n=r[0],i=r[1];r=r[2];var o=Math.sqrt(n*n+i*i+r*r);if(o<a.EPSILON)return null;o=1/o,n*=o,i*=o,r*=o,o=Math.sin(t),t=Math.cos(t);var s=1-t;return e[0]=n*n*s+t,e[1]=i*n*s+r*o,e[2]=r*n*s-i*o,e[3]=0,e[4]=n*i*s-r*o,e[5]=i*i*s+t,e[6]=r*i*s+n*o,e[7]=0,e[8]=n*r*s+i*o,e[9]=i*r*s-n*o,e[10]=r*r*s+t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromXRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotationTranslation=i,t.fromQuat2=function(e,t){var r=new a.ARRAY_TYPE(3),n=-t[0],o=-t[1],s=-t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7],p=n*n+o*o+s*s+u*u;return 0<p?(r[0]=2*(l*u+f*n+c*s-h*o)/p,r[1]=2*(c*u+f*o+h*n-l*s)/p,r[2]=2*(h*u+f*s+l*o-c*n)/p):(r[0]=2*(l*u+f*n+c*s-h*o),r[1]=2*(c*u+f*o+h*n-l*s),r[2]=2*(h*u+f*s+l*o-c*n)),i(e,t,r),e},t.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},t.getScaling=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9];return t=t[10],e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+a*a+s*s),e[2]=Math.sqrt(u*u+l*l+t*t),e},t.getRotation=function(e,t){var r=t[0]+t[5]+t[10];return 0<r?(r=2*Math.sqrt(r+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},t.fromRotationTranslationScale=function(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a;t=i*u;var h=i*l;i*=c;var f=o*l;o*=c,a*=c,u*=s,l*=s,s*=c,c=n[0];var p=n[1];return n=n[2],e[0]=(1-(f+a))*c,e[1]=(h+s)*c,e[2]=(i-l)*c,e[3]=0,e[4]=(h-s)*p,e[5]=(1-(t+a))*p,e[6]=(o+u)*p,e[7]=0,e[8]=(i+l)*n,e[9]=(o-u)*n,e[10]=(1-(t+f))*n,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},t.fromRotationTranslationScaleOrigin=function(e,t,r,n,i){var o=t[0],a=t[1],s=t[2],u=t[3],l=o+o,c=a+a,h=s+s;t=o*l;var f=o*c,p=o*h;o=a*c,a*=h;var d=s*h;s=u*l,c*=u;var g=u*h,m=n[0],v=n[1];h=n[2],n=i[0],u=i[1],i=i[2],l=(1-(o+d))*m;var y=(f+g)*m;return m*=p-c,f=(f-g)*v,d=(1-(t+d))*v,v*=a+s,p=(p+c)*h,a=(a-s)*h,t=(1-(t+o))*h,e[0]=l,e[1]=y,e[2]=m,e[3]=0,e[4]=f,e[5]=d,e[6]=v,e[7]=0,e[8]=p,e[9]=a,e[10]=t,e[11]=0,e[12]=r[0]+n-(l*n+f*u+p*i),e[13]=r[1]+u-(y*n+d*u+a*i),e[14]=r[2]+i-(m*n+v*u+t*i),e[15]=1,e},t.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r+r,a=n+n,s=i+i;r*=o;var u=n*o;n*=a;var l=i*o,c=i*a;return i*=s,o*=t,a*=t,t*=s,e[0]=1-n-i,e[1]=u+t,e[2]=l-a,e[3]=0,e[4]=u-t,e[5]=1-r-i,e[6]=c+o,e[7]=0,e[8]=l+a,e[9]=c-o,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=function(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e},t.perspective=function(e,t,r,n,i){return t=1/Math.tan(t/2),e[0]=t/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&1/0!==i?(r=1/(n-i),e[10]=(i+n)*r,e[14]=2*i*n*r):(e[10]=-1,e[14]=-2*n),e},t.perspectiveFromFieldOfView=function(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180);t=Math.tan(t.rightDegrees*Math.PI/180);var s=2/(a+t),u=2/(i+o);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-t)*s*.5,e[9]=(i-o)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},t.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*l,e[15]=1,e},t.lookAt=function(e,t,n,i){var o=t[0],s=t[1];t=t[2];var u=i[0],l=i[1],c=i[2],h=n[0];i=n[1];var f=n[2];if(Math.abs(o-h)<a.EPSILON&&Math.abs(s-i)<a.EPSILON&&Math.abs(t-f)<a.EPSILON)return r(e);n=o-h,i=s-i,h=t-f;var p=1/Math.sqrt(n*n+i*i+h*h);n*=p,i*=p,h*=p,f=l*h-c*i,c=c*n-u*h,u=u*i-l*n,(p=Math.sqrt(f*f+c*c+u*u))?(p=1/p,f*=p,c*=p,u*=p):u=c=f=0,l=i*u-h*c;var d=h*f-n*u,g=n*c-i*f;return(p=Math.sqrt(l*l+d*d+g*g))?(p=1/p,l*=p,d*=p,g*=p):g=d=l=0,e[0]=f,e[1]=l,e[2]=n,e[3]=0,e[4]=c,e[5]=d,e[6]=i,e[7]=0,e[8]=u,e[9]=g,e[10]=h,e[11]=0,e[12]=-(f*o+c*s+u*t),e[13]=-(l*o+d*s+g*t),e[14]=-(n*o+i*s+h*t),e[15]=1,e},t.targetTo=function(e,t,r,n){var i=t[0],o=t[1];t=t[2];var a=n[0],s=n[1],u=n[2];n=i-r[0];var l=o-r[1];r=t-r[2];var c=n*n+l*l+r*r;0<c&&(c=1/Math.sqrt(c),n*=c,l*=c,r*=c);var h=s*r-u*l;return u=u*n-a*r,a=a*l-s*n,c=h*h+u*u+a*a,0<c&&(c=1/Math.sqrt(c),h*=c,u*=c,a*=c),e[0]=h,e[1]=u,e[2]=a,e[3]=0,e[4]=l*a-r*u,e[5]=r*h-n*a,e[6]=n*u-l*h,e[7]=0,e[8]=n,e[9]=l,e[10]=r,e[11]=0,e[12]=i,e[13]=o,e[14]=t,e[15]=1,e},t.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},t.subtract=o,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],g=e[12],m=e[13],v=e[14];e=e[15];var y=t[0],b=t[1],x=t[2],A=t[3],w=t[4],_=t[5],C=t[6],M=t[7],S=t[8],T=t[9],E=t[10],I=t[11],R=t[12],L=t[13],P=t[14];return t=t[15],Math.abs(r-y)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-b)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-A)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-w)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-_)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-C)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(c-M)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-S)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-T)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-E)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(d-I)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(g-R)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(m-L)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-P)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.mul=n,t.sub=o}));n(Is);var Rs=i((function(e,t){function r(){var e=new p.ARRAY_TYPE(3);return p.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function n(e){var t=e[0],r=e[1];return e=e[2],Math.sqrt(t*t+r*r+e*e)}function i(e,t,r){var n=new p.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function a(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function s(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function u(e,t){var r=t[0]-e[0],n=t[1]-e[1];return e=t[2]-e[2],Math.sqrt(r*r+n*n+e*e)}function l(e,t){var r=t[0]-e[0],n=t[1]-e[1];return e=t[2]-e[2],r*r+n*n+e*e}function c(e){var t=e[0],r=e[1];return e=e[2],t*t+r*r+e*e}function h(e,t){var r=t[0],n=t[1],i=t[2];return r=r*r+n*n+i*i,0<r&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function f(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new p.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.length=n,t.fromValues=i,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},t.subtract=o,t.multiply=a,t.divide=s,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},t.distance=u,t.squaredDistance=l,t.squaredLength=c,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},t.normalize=h,t.dot=f,t.cross=function(e,t,r){var n=t[0],i=t[1];t=t[2];var o=r[0],a=r[1];return r=r[2],e[0]=i*r-t*a,e[1]=t*o-n*r,e[2]=n*a-i*o,e},t.lerp=function(e,t,r,n){var i=t[0],o=t[1];return t=t[2],e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=t+n*(r[2]-t),e},t.hermite=function(e,t,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1);return o=a*(3-2*o),e[0]=t[0]*s+r[0]*u+n[0]*l+i[0]*o,e[1]=t[1]*s+r[1]*u+n[1]*l+i[1]*o,e[2]=t[2]*s+r[2]*u+n[2]*l+i[2]*o,e},t.bezier=function(e,t,r,n,i,o){var a=1-o,s=a*a,u=o*o,l=s*a;return s*=3*o,a*=3*u,o*=u,e[0]=t[0]*l+r[0]*s+n[0]*a+i[0]*o,e[1]=t[1]*l+r[1]*s+n[1]*a+i[1]*o,e[2]=t[2]*l+r[2]*s+n[2]*a+i[2]*o,e},t.random=function(e,t){t=t||1;var r=2*p.RANDOM()*Math.PI,n=2*p.RANDOM()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1];t=t[2];var o=r[3]*n+r[7]*i+r[11]*t+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*t+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*t+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*t+r[14])/o,e},t.transformMat3=function(e,t,r){var n=t[0],i=t[1];return t=t[2],e[0]=n*r[0]+i*r[3]+t*r[6],e[1]=n*r[1]+i*r[4]+t*r[7],e[2]=n*r[2]+i*r[5]+t*r[8],e},t.transformQuat=function(e,t,r){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1];t=t[2];var u=i*t-o*s,l=o*a-n*t,c=n*s-i*a;return r=2*r[3],e[0]=a+u*r+2*(i*c-o*l),e[1]=s+l*r+2*(o*u-n*c),e[2]=t+c*r+2*(n*l-i*u),e},t.rotateX=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.rotateY=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.rotateZ=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.angle=function(e,t){return e=i(e[0],e[1],e[2]),t=i(t[0],t[1],t[2]),h(e,e),h(t,t),t=f(e,t),1<t?0:-1>t?Math.PI:Math.acos(t)},t.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e},t.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.equals=function(e,t){var r=e[0],n=e[1];e=e[2];var i=t[0],o=t[1];return t=t[2],Math.abs(r-i)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-t)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0;var p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.sub=o,t.mul=a,t.div=s,t.dist=u,t.sqrDist=l,t.len=n,t.sqrLen=c,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=3),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],o(e,e,a),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2];return t}}(),t.forEach=e}));n(Rs);var Ls=i((function(e,t){function r(){var e=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function o(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function a(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return e=t[3]-e[3],Math.sqrt(r*r+n*n+i*i+e*e)}function s(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return e=t[3]-e[3],r*r+n*n+i*i+e*e}function u(e){var t=e[0],r=e[1],n=e[2];return e=e[3],Math.sqrt(t*t+r*r+n*n+e*e)}function l(e){var t=e[0],r=e[1],n=e[2];return e=e[3],t*t+r*r+n*n+e*e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new c.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.fromValues=function(e,t,r,n){var i=new c.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.multiply=i,t.divide=o,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=a,t.squaredDistance=s,t.length=u,t.squaredLength=l,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*r+n*n+i*i+t*t;return 0<o&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=t*o,e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.cross=function(e,t,r,n){var i=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],a=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1];r=r[2]*n[3]-r[3]*n[2],n=t[0];var l=t[1],c=t[2];return t=t[3],e[0]=l*r-c*u+t*s,e[1]=-n*r+c*a-t*o,e[2]=n*u-l*a+t*i,e[3]=-n*s+l*o-c*i,e},t.lerp=function(e,t,r,n){var i=t[0],o=t[1],a=t[2];return t=t[3],e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=t+n*(r[3]-t),e},t.random=function(e,t){t=t||1;do{var r=2*c.RANDOM()-1,n=2*c.RANDOM()-1,i=r*r+n*n}while(1<=i);do{var o=2*c.RANDOM()-1,a=2*c.RANDOM()-1,s=o*o+a*a}while(1<=s);return i=Math.sqrt((1-i)/s),e[0]=t*r,e[1]=t*n,e[2]=t*o*i,e[3]=t*a*i,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1],o=t[2];return t=t[3],e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*t,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*t,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*t,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*t,e},t.transformQuat=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];r=r[3];var l=r*n+s*o-u*i,c=r*i+u*n-a*o,h=r*o+a*i-s*n;return n=-a*n-s*i-u*o,e[0]=l*r+n*-a+c*-u-h*-s,e[1]=c*r+n*-s+h*-a-l*-u,e[2]=h*r+n*-u+l*-s-c*-a,e[3]=t[3],e},t.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2];e=e[3];var o=t[0],a=t[1],s=t[2];return t=t[3],Math.abs(r-o)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.sub=n,t.mul=i,t.div=o,t.dist=a,t.sqrDist=s,t.len=u,t.sqrLen=l,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=4),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],o(e,e,a),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3];return t}}(),t.forEach=e}));n(Ls);var Ps=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}function n(){var e=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function i(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function o(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2];return r=r[3],e[0]=n*r+t*a+i*u-o*s,e[1]=i*r+t*s+o*a-n*u,e[2]=o*r+t*u+n*s-i*a,e[3]=t*r-n*a-i*s-o*u,e}function a(e,t,r,n){var i=t[0],o=t[1],a=t[2];t=t[3];var s=r[0],l=r[1],c=r[2];r=r[3];var h=i*s+o*l+a*c+t*r;if(0>h&&(h=-h,s=-s,l=-l,c=-c,r=-r),1-h>u.EPSILON){var f=Math.acos(h),p=Math.sin(f);h=Math.sin((1-n)*f)/p,n=Math.sin(n*f)/p}else h=1-n;return e[0]=h*i+n*s,e[1]=h*o+n*l,e[2]=h*a+n*c,e[3]=h*t+n*r,e}function s(e,t){var r=t[0]+t[4]+t[8];if(0<r)r=Math.sqrt(r+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var i=(n+1)%3,o=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*i+i]-t[3*o+o]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+n]+t[3*n+i])*r,e[o]=(t[3*o+n]+t[3*n+o])*r}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},t.setAxisAngle=i,t.getAxisAngle=function(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>u.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r},t.multiply=o,t.rotateX=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+t*a,e[1]=i*r+o*a,e[2]=o*r-i*a,e[3]=t*r-n*a,e},t.rotateY=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r-o*a,e[1]=i*r+t*a,e[2]=o*r+n*a,e[3]=t*r-i*a,e},t.rotateZ=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+i*a,e[1]=i*r-n*a,e[2]=o*r+t*a,e[3]=t*r-o*a,e},t.calculateW=function(e,t){var r=t[0],n=t[1];return t=t[2],e[0]=r,e[1]=n,e[2]=t,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-t*t)),e},t.slerp=a,t.random=function(e){var t=u.RANDOM(),r=u.RANDOM(),n=u.RANDOM(),i=Math.sqrt(1-t);return t=Math.sqrt(t),e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=t*Math.sin(2*Math.PI*n),e[3]=t*Math.cos(2*Math.PI*n),e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*r+n*n+i*i+t*t;return o=o?1/o:0,e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=t*o,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},t.fromMat3=s,t.fromEuler=function(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i,i=Math.sin(t),t=Math.cos(t);var o=Math.sin(r);r=Math.cos(r);var a=Math.sin(n);return n=Math.cos(n),e[0]=i*r*n-t*o*a,e[1]=t*o*n+i*r*a,e[2]=t*r*a-i*o*n,e[3]=t*r*n+i*o*a,e},t.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.setAxes=t.sqlerp=t.rotationTo=t.equals=t.exactEquals=t.normalize=t.sqrLen=t.squaredLength=t.len=t.length=t.lerp=t.dot=t.scale=t.mul=t.add=t.set=t.copy=t.fromValues=t.clone=void 0;var u=r(Ms),l=r(Es),c=r(Rs);e=r(Ls),t.clone=e.clone,t.fromValues=e.fromValues,t.copy=e.copy,t.set=e.set,t.add=e.add,t.mul=o,t.scale=e.scale,t.dot=e.dot,t.lerp=e.lerp;var h=e.length;t.length=h,t.len=h,h=e.squaredLength,t.squaredLength=h,t.sqrLen=h;var f=e.normalize;t.normalize=f,t.exactEquals=e.exactEquals,t.equals=e.equals,e=function(){var e=c.create(),t=c.fromValues(1,0,0),r=c.fromValues(0,1,0);return function(n,o,a){var s=c.dot(o,a);return-.999999>s?(c.cross(e,t,o),1e-6>c.len(e)&&c.cross(e,r,o),c.normalize(e,e),i(n,e,Math.PI),n):.999999<s?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(c.cross(e,o,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,f(n,n))}}(),t.rotationTo=e,e=function(){var e=n(),t=n();return function(r,n,i,o,s,u){return a(e,n,s,u),a(t,i,o,u),a(r,e,t,2*u*(1-u)),r}}(),t.sqlerp=e,e=function(){var e=l.create();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],f(t,s(t,e))}}(),t.setAxes=e}));n(Ps);var Os=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}function n(e,t,r){var n=.5*r[0],i=.5*r[1];r=.5*r[2];var o=t[0],a=t[1],s=t[2];return t=t[3],e[0]=o,e[1]=a,e[2]=s,e[3]=t,e[4]=n*t+i*s-r*a,e[5]=i*t+r*o-n*s,e[6]=r*t+n*a-i*o,e[7]=-n*o-i*a-r*s,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function o(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[4],u=r[5],l=r[6],c=r[7],h=t[4],f=t[5],p=t[6];t=t[7];var d=r[0],g=r[1],m=r[2];return r=r[3],e[0]=n*r+a*d+i*m-o*g,e[1]=i*r+a*g+o*d-n*m,e[2]=o*r+a*m+n*g-i*d,e[3]=a*r-n*d-i*g-o*m,e[4]=n*c+a*s+i*l-o*u+h*r+t*d+f*m-p*g,e[5]=i*c+a*u+o*s-n*l+f*r+t*g+p*d-h*m,e[6]=o*c+a*l+n*u-i*s+p*r+t*m+h*g-f*d,e[7]=a*c-n*s-i*u-o*l+t*r-h*d-f*g-p*m,e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new a.ARRAY_TYPE(8);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},t.clone=function(e){var t=new a.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},t.fromValues=function(e,t,r,n,i,o,s,u){var l=new a.ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=o,l[6]=s,l[7]=u,l},t.fromRotationTranslationValues=function(e,t,r,n,i,o,s){var u=new a.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,i*=.5,o*=.5,s*=.5,u[4]=i*n+o*r-s*t,u[5]=o*n+s*e-i*r,u[6]=s*n+i*t-o*e,u[7]=-i*e-o*t-s*r,u},t.fromRotationTranslation=n,t.fromTranslation=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},t.fromRotation=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.fromMat4=function(e,t){var r=s.create();u.getRotation(r,t);var i=new a.ARRAY_TYPE(3);return u.getTranslation(i,t),n(e,r,i),e},t.copy=i,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.set=function(e,t,r,n,i,o,a,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e},t.getDual=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},t.setDual=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},t.getTranslation=function(e,t){var r=t[4],n=t[5],i=t[6],o=t[7],a=-t[0],s=-t[1],u=-t[2];return t=t[3],e[0]=2*(r*t+o*a+n*u-i*s),e[1]=2*(n*t+o*s+i*a-r*u),e[2]=2*(i*t+o*u+r*s-n*a),e},t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=.5*r[0],u=.5*r[1];r=.5*r[2];var l=t[4],c=t[5],h=t[6];return t=t[7],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=a*s+i*r-o*u+l,e[5]=a*u+o*s-n*r+c,e[6]=a*r+n*u-i*s+h,e[7]=-n*s-i*u-o*r+t,e},t.rotateX=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateX(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateY=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateY(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateZ=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateZ(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateByQuatAppend=function(e,t,r){var n=r[0],i=r[1],o=r[2];r=r[3];var a=t[0],s=t[1],u=t[2],l=t[3];return e[0]=a*r+l*n+s*o-u*i,e[1]=s*r+l*i+u*n-a*o,e[2]=u*r+l*o+a*i-s*n,e[3]=l*r-a*n-s*i-u*o,a=t[4],s=t[5],u=t[6],l=t[7],e[4]=a*r+l*n+s*o-u*i,e[5]=s*r+l*i+u*n-a*o,e[6]=u*r+l*o+a*i-s*n,e[7]=l*r-a*n-s*i-u*o,e},t.rotateByQuatPrepend=function(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2],l=r[3];return e[0]=n*l+t*a+i*u-o*s,e[1]=i*l+t*s+o*a-n*u,e[2]=o*l+t*u+n*s-i*a,e[3]=t*l-n*a-i*s-o*u,a=r[4],s=r[5],u=r[6],l=r[7],e[4]=n*l+t*a+i*u-o*s,e[5]=i*l+t*s+o*a-n*u,e[6]=o*l+t*u+n*s-i*a,e[7]=t*l-n*a-i*s-o*u,e},t.rotateAroundAxis=function(e,t,r,n){if(Math.abs(n)<a.EPSILON)return i(e,t);var o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var s=Math.sin(n),u=s*r[0]/o,l=s*r[1]/o;r=s*r[2]/o,n=Math.cos(n),o=t[0],s=t[1];var c=t[2],h=t[3];return e[0]=o*n+h*u+s*r-c*l,e[1]=s*n+h*l+c*u-o*r,e[2]=c*n+h*r+o*l-s*u,e[3]=h*n-o*u-s*l-c*r,o=t[4],s=t[5],c=t[6],t=t[7],e[4]=o*n+t*u+s*r-c*l,e[5]=s*n+t*l+c*u-o*r,e[6]=c*n+t*r+o*l-s*u,e[7]=t*n-o*u-s*l-c*r,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e},t.multiply=o,t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e},t.lerp=function(e,t,r,n){var i=1-n;return 0>l(t,r)&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e},t.invert=function(e,t){var r=c(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},t.normalize=function(e,t){var r=c(t);if(0<r){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,o=t[2]/r,a=t[3]/r,s=t[4],u=t[5],l=t[6];t=t[7];var h=n*s+i*u+o*l+a*t;e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=(s-n*h)/r,e[5]=(u-i*h)/r,e[6]=(l-o*h)/r,e[7]=(t-a*h)/r}return e},t.str=function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6];e=e[7];var c=t[0],h=t[1],f=t[2],p=t[3],d=t[4],g=t[5],m=t[6];return t=t[7],Math.abs(r-c)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-d)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-g)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-m)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sqrLen=t.squaredLength=t.len=t.length=t.dot=t.mul=t.setReal=t.getReal=void 0;var a=r(Ms),s=r(Ps),u=r(Is);t.getReal=s.copy,t.setReal=s.copy,t.mul=o;var l=s.dot;t.dot=l,e=s.length,t.length=e,t.len=e;var c=s.squaredLength;t.squaredLength=c,t.sqrLen=c}));n(Os);var Ds=i((function(e,t){function r(){var e=new c.ARRAY_TYPE(2);return c.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function o(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function a(e,t){var r=t[0]-e[0];return e=t[1]-e[1],Math.sqrt(r*r+e*e)}function s(e,t){var r=t[0]-e[0];return e=t[1]-e[1],r*r+e*e}function u(e){var t=e[0];return e=e[1],Math.sqrt(t*t+e*e)}function l(e){var t=e[0];return e=e[1],t*t+e*e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new c.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},t.fromValues=function(e,t){var r=new c.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.set=function(e,t,r){return e[0]=t,e[1]=r,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},t.subtract=n,t.multiply=i,t.divide=o,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e},t.distance=a,t.squaredDistance=s,t.length=u,t.squaredLength=l,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var r=t[0],n=t[1];return r=r*r+n*n,0<r&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,r){return t=t[0]*r[1]-t[1]*r[0],e[0]=e[1]=0,e[2]=t,e},t.lerp=function(e,t,r,n){var i=t[0];return t=t[1],e[0]=i+n*(r[0]-i),e[1]=t+n*(r[1]-t),e},t.random=function(e,t){t=t||1;var r=2*c.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},t.transformMat2=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[2]*t,e[1]=r[1]*n+r[3]*t,e},t.transformMat2d=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[2]*t+r[4],e[1]=r[1]*n+r[3]*t+r[5],e},t.transformMat3=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[3]*t+r[6],e[1]=r[1]*n+r[4]*t+r[7],e},t.transformMat4=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[4]*t+r[12],e[1]=r[1]*n+r[5]*t+r[13],e},t.rotate=function(e,t,r,n){var i=t[0]-r[0];t=t[1]-r[1];var o=Math.sin(n);return n=Math.cos(n),e[0]=i*n-t*o+r[0],e[1]=i*o+t*n+r[1],e},t.angle=function(e,t){var r=e[0];e=e[1];var n=t[0];t=t[1];var i=r*r+e*e;0<i&&(i=1/Math.sqrt(i));var o=n*n+t*t;return 0<o&&(o=1/Math.sqrt(o)),r=(r*n+e*t)*i*o,1<r?0:-1>r?Math.PI:Math.acos(r)},t.zero=function(e){return e[0]=0,e[1]=0,e},t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(e,t){var r=e[0];e=e[1];var n=t[0];return t=t[1],Math.abs(r-n)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}(Ms);t.len=u,t.sub=n,t.mul=i,t.div=o,t.dist=a,t.sqrDist=s,t.sqrLen=l,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=2),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],o(e,e,a),t[n]=e[0],t[n+1]=e[1];return t}}(),t.forEach=e}));n(Ds);var ks=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Mr&&Wi?Wi(e,r):{};n.get||n.set?Mr(t,r,n):t[r]=e[r]}return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=t.vec3=t.vec2=t.quat2=t.quat=t.mat4=t.mat3=t.mat2d=t.mat2=t.glMatrix=void 0,e=r(Ms),t.glMatrix=e,e=r(Ss),t.mat2=e,e=r(Ts),t.mat2d=e,e=r(Es),t.mat3=e,e=r(Is),t.mat4=e,e=r(Ps),t.quat=e,e=r(Os),t.quat2=e,e=r(Ds),t.vec2=e,e=r(Rs),t.vec3=e,e=r(Ls),t.vec4=e}));n(ks);var Ns=ks.vec4,Fs=ks.vec3,Bs=ks.vec2,zs=ks.quat2,Us=ks.quat,js=ks.mat4,Hs=ks.mat3,Gs=ks.mat2d,Vs=ks.mat2,Ws=ks.glMatrix,Xs=function(){function e(t,r,n){gt(this,e),this.options=r,this.gl=t,n&&(this.map=n.map),n=this.getVertexShader(r.vertexShader);var i=this.getFragmentShader(r.fragmentShader);r=t.createShader(t.VERTEX_SHADER),t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?(n=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?(i=t.createProgram(),t.attachShader(i,r),t.attachShader(i,n),t.deleteShader(r),t.deleteShader(n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?r=i:(r="Shader program failed to link.  The error log is:"+t.getProgramInfoLog(i),console.error(r),r=-1)):(r="Fragment shader failed to compile.  The error log is:"+t.getShaderInfoLog(n),console.error(r),r=-1)):(r="Vertex shader failed to compile.  The error log is:"+t.getShaderInfoLog(r),console.error(r),r=-1),r=this.program=r,n={},i=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES);for(var o=0;o<i;o++){var a=t.getActiveAttrib(r,o);n[a.name]=t.getAttribLocation(r,a.name)}o={},a={};for(var s=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),u=0;u<s;u++){var l=t.getActiveUniform(r,u);o[l.name]=t.getUniformLocation(r,l.name),a[l.name]=l.type}this.parameter=t={attributes:n,numAttributes:i,uniformsType:a,uniforms:o},this.attributes=t.attributes,this.uniforms=t.uniforms,this.parameter=t}return Tr(e,[{key:"getVertexShader",value:function(e){var t="";return this.map&&"cesium"===this.map.type&&(t="#define LOG_DEPTH\n"),t+="#ifdef LOG_DEPTH\nuniform float currentFrustumX;varying float v_depthFromNearPlusOne;\n#endif\nuniform vec2 MAPV_resolution;\n#if defined(PICK)\nuniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}\n#endif\nvoid afterMain(){\n#if defined(LOG_DEPTH)\nv_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;\n#endif\n#if defined(PICK)\nvPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}\n#endif\n}",e=this.getDefines()+t+e,e=e.replace("void main","void originMain"),e+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(e){var t="";return this.map&&"cesium"===this.map.type&&(t="#define LOG_DEPTH\n"),t+="#if defined(LOG_DEPTH)\n#extension GL_EXT_frag_depth : enable\n#endif\nprecision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;\n#if defined(PICK)\nvarying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}\n#endif\n#if defined(LOG_DEPTH)\nuniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}\n#endif\nvoid afterMain(){\n#if defined(PICK)\nif(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}\n#endif\n#if defined(LOG_DEPTH)\nwriteLogDepth(v_depthFromNearPlusOne);\n#endif\n}",e=this.getDefines()+t+e,e=e.replace("void main","void originMain"),e+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var e="",t=this.options.defines;if(t)for(var r=0;r<t.length;r++)e+="#define "+t[r]+"\n";return e}},{key:"use",value:function(e,t){this.gl=e,e.useProgram(this.program),this.map&&"cesium"===this.map.type&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[e.canvas.width,e.canvas.height]})}},{key:"setUniform",value:function(e,t){var r=this.gl,n=this.uniforms[e];if(n)switch(this.parameter.uniformsType[e]){case r.FLOAT:r.uniform1f(n,t);break;case r.FLOAT_VEC2:r.uniform2f(n,t[0],t[1]);break;case r.FLOAT_VEC3:r.uniform3f(n,t[0],t[1],t[2]);break;case r.FLOAT_VEC4:r.uniform4f(n,t[0],t[1],t[2],t[3]);break;case r.SAMPLER_2D:case r.SAMPLER_CUBE:r.activeTexture(r["TEXTURE"+this.textureIndex]),r.uniform1i(n,this.textureIndex),r.bindTexture(r.TEXTURE_2D,t),this.textureIndex++;break;case r.INT:case r.BOOL:r.uniform1i(n,t);break;case r.INT_VEC2:case r.BOOL_VEC2:r.uniform2i(n,t[0],t[1]);break;case r.INT_VEC3:case r.BOOL_VEC3:r.uniform3i(n,t[0],t[1],t[2]);break;case r.INT_VEC4:case r.BOOL_VEC4:r.uniform4i(n,t[0],t[1],t[2],t[3]);break;case r.FLOAT_MAT2:r.uniformMatrix2fv(n,!1,t);break;case r.FLOAT_MAT3:r.uniformMatrix3fv(n,!1,t);break;case r.FLOAT_MAT4:r.uniformMatrix4fv(n,!1,t);break;default:console.error("Unrecognized uniform type: "+e)}else console.warn("Unrecognized uniform type: "+e)}},{key:"setUniforms",value:function(e){for(var t in this.textureIndex=0,e)this.setUniform(t,e[t])}}]),e}(),qs=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==("undefined"===typeof e?"undefined":Kn(e))||!e||"object"!==("undefined"===typeof t?"undefined":Kn(t))||!t)return!1;var o=ur(e),a=ur(t);if(o.length!==a.length)return!1;a=Object.prototype.hasOwnProperty.bind(t);for(var s=0;s<o.length;s++){if(i=o[s],!a(i))return!1;var u=e[i],l=t[i];if(i=r?r.call(n,u,l,i):void 0,!1===i||void 0===i&&u!==l)return!1}return!0},Ys=function(){function e(t){gt(this,e),this.options=t,this.gl=t.gl,this.savedState=[],this.currentState=this.getDefaultState()}return Tr(e,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){var e=this.gl;return{blend:!1,blendEquation:e.FUNC_ADD,blendFunc:[e.ONE,e.ZERO],depthMask:!0,depthTest:!0,depthFunc:e.LEQUAL,polygonOffset:[0,0],cullFace:!1,stencilTest:!1}}},{key:"getRealState",value:function(){var e=this.gl;return{blend:e.getParameter(e.BLEND),blendEquation:e.getParameter(e.BLEND_EQUATION),depthMask:e.getParameter(e.DEPTH_WRITEMASK),depthTest:e.getParameter(e.DEPTH_TEST),depthFunc:e.getParameter(e.DEPTH_FUNC),polygonOffset:[e.getParameter(e.POLYGON_OFFSET_FACTOR),e.getParameter(e.POLYGON_OFFSET_UNITS)],cullFace:e.getParameter(e.CULL_FACE),stencilTest:e.getParameter(e.STENCIL_TEST)}}},{key:"getCurrentState",value:function(){return this.currentState}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var e=this.savedState.pop();this.setState(e,{force:!0})}},{key:"setState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e=gr(this.getDefaultState(),e),this.setBlend(e,t),this.setDepth(e,t),this.setCullFace(e,t),this.setPolygonOffset(e,t),this.setStencil(e,t),this.currentState=e}},{key:"setBlend",value:function(e,t){var r=this.gl,n=this.getCurrentState();!(t=t.force)&&qs(e.blend,n.blend)||(e.blend?r.enable(r.BLEND):r.disable(r.BLEND)),!t&&qs(e.blendEquation,n.blendEquation)||r.blendEquation(e.blendEquation),!t&&qs(e.blendFunc,n.blendFunc)||r.blendFunc(e.blendFunc[0],e.blendFunc[1])}},{key:"setDepth",value:function(e,t){var r=this.gl,n=this.getCurrentState();!(t=t.force)&&qs(e.depthTest,n.depthTest)||(e.depthTest?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST)),!t&&qs(e.depthMask,n.depthMask)||(e.depthMask?r.depthMask(!0):r.depthMask(!1)),!t&&qs(e.depthFunc,n.depthFunc)||r.depthFunc(e.depthFunc)}},{key:"setPolygonOffset",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&qs(e.polygonOffset,n.polygonOffset)||(0!==e.polygonOffset[0]&&0!==e.polygonOffset[1]?r.enable(r.POLYGON_OFFSET_FILL):r.disable(r.POLYGON_OFFSET_FILL),r.polygonOffset(e.polygonOffset[0],e.polygonOffset[1]))}},{key:"setCullFace",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&qs(e.cullFace,n.cullFace)||(e.cullFace?(r.enable(r.CULL_FACE),r.cullFace(r.BACK)):r.disable(r.CULL_FACE))}},{key:"setStencil",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&qs(e.stencilTest,n.stencilTest)||(e.stencilTest?r.enable(r.STENCIL_TEST):r.disable(r.STENCIL_TEST))}}]),e}(),Zs=function(){function e(t){gt(this,e),this.options=t,this.gl=t.gl,this.buffer=this.gl.createBuffer(),t.data&&this.updateData(t.data)}return Tr(e,[{key:"updateData",value:function(e){var t=this.options,r=this.gl;this.bind(),r.bufferData(r[t.target],e,r[t.usage])}},{key:"bind",value:function(e){e=e||this.gl,e.bindBuffer(e[this.options.target],this.buffer)}},{key:"unBind",value:function(e){e=e||this.gl,e.bindBuffer(e[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),e}(),Ks={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},Js=function(){function e(t){for(gt(this,e),this.options=t,this.attributes=t.attributes,this.gl=t.gl,this.program=t.program,t=this.stride=0;t<this.attributes.length;t++)this.stride+=Ks[this.attributes[t].type]*this.attributes[t].size}return Tr(e,[{key:"setVertexAttribPointers",value:function(){for(var e=this.gl,t=this.program,r=0;r<this.attributes.length;r++){var n=this.attributes[r],i=t.attributes[n.name];void 0!==i&&(n.buffer.bind(e),e.vertexAttribPointer(i,n.size,e[n.type],n.normalize||!1,void 0!==n.stride?n.stride:this.stride,n.offset),e.enableVertexAttribArray(i))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),e}(),Qs=function e(t,r,n){gt(this,e),r=r||t.canvas.width,n=n||t.canvas.height;var i=t.createFramebuffer(),o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,n,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i.texture=o;var a=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r,n),i.depthBuffer=a,t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,a),r=t.checkFramebufferStatus(t.FRAMEBUFFER),t.FRAMEBUFFER_COMPLETE===r&&(t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),this.framebuffer=i)},$s=function(){function e(t){gt(this,e),this.options={},gr(this.options,t),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return Tr(e,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(e){}},{key:"render",value:function(e){var t=e.gl;e=e.texture;var r=this.programSample;t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);var i=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,0),t.drawArrays(t.TRIANGLES,0,i.length/3)}}]),e}(),eu=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture,this.getOptions(),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var r=this.getProgram(t);t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.uniform2fv(r.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}]),t}($s),tu=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){if(this.program1||(this.program1=new Xs(e,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;\n#define SMAA_THRESHOLD 0.1\nuniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}"})),this.program2||(this.program2=new Xs(e,{vertexShader:"precision highp float;\n#define SMAA_MAX_SEARCH_STEPS 8\n#define SMAA_AREATEX_MAX_DISTANCE 16\n#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )\nattribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;\n#define SMAA_MAX_SEARCH_STEPS 8\n#define SMAA_AREATEX_MAX_DISTANCE 16\n#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )\n#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )\nuniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}"})),this.program3||(this.program3=new Xs(e,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var t=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new Js({gl:e,program:this.program1,attributes:t}),this.vertexArray2=new Js({gl:e,program:this.program2,attributes:t}),this.vertexArray3=new Js({gl:e,program:this.program3,attributes:t})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new Qs(e),this.bloomBuffer=new Qs(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qs(e)),this.bloomBuffer||(this.bloomBuffer=new Qs(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo,this.getOptions(),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var n=this.getProgram(t),i=n.program1,o=n.program2;n=n.program3;var a=this.getExtraFbo(t),s=a.collectBrightBuffer;a=a.bloomBuffer;var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(i.attributes.position),t.vertexAttribPointer(i.attributes.position,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.position),t.vertexAttribPointer(o.attributes.position,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.attributes.position),t.vertexAttribPointer(n.attributes.position,3,t.FLOAT,!1,0,0),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(i.attributes.uv),t.vertexAttribPointer(i.attributes.uv,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.uv),t.vertexAttribPointer(o.attributes.uv,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.attributes.uv),t.vertexAttribPointer(n.attributes.uv,2,t.FLOAT,!1,0,0),t.useProgram(i.program),t.bindFramebuffer(t.FRAMEBUFFER,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(i.uniforms.tDiffuse,2),t.uniform2fv(i.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,a),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,s.texture),t.uniform1i(o.uniforms.uSampler,2),t.uniform2fv(o.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(n.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(n.uniforms.tDiffuse,2),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,a.texture),t.uniform1i(n.uniforms.tColor,3),t.uniform2fv(n.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}]),t}($s),ru=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new Js({gl:e,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture,t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var r=this.getProgram(t);r.use(t),this.vertexArray.bind(),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3)}}]),t}($s),nu=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){return this.programBright||(this.programBright=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new Qs(e),this.bloomBuffer=new Qs(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qs(e)),this.bloomBuffer||(this.bloomBuffer=new Qs(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo;var n=this.getOptions();t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var i=this.getProgram(t),o=i.programBright,a=i.programBloom;i=i.programResult;var s=this.getExtraFbo(t),u=s.collectBrightBuffer;s=s.bloomBuffer;var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(o.attributes.aPos),t.vertexAttribPointer(o.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.attributes.aPos),t.vertexAttribPointer(a.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i.attributes.aPos),t.vertexAttribPointer(i.attributes.aPos,3,t.FLOAT,!1,0,0),l=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(o.attributes.aTextureCoord),t.vertexAttribPointer(o.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.attributes.aTextureCoord),t.vertexAttribPointer(a.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i.attributes.aTextureCoord),t.vertexAttribPointer(i.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(o.uniforms.uSampler,1),t.uniform1f(o.uniforms.threshold,n.threshold||0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(a.uniforms.uSampler,1),t.uniform1i(a.uniforms.isVertical,!0),t.uniform1f(a.uniforms.blurSize,n.blurSize||2),t.uniform1f(a.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(a.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,s.texture),t.uniform1i(a.uniforms.uSampler,1),t.uniform1i(a.uniforms.isVertical,!1),t.uniform1f(a.uniforms.blurSize,n.blurSize||2),t.uniform1f(a.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(a.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(i.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(i.uniforms.originalTexture,1),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(i.uniforms.bloomTexture,0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}]),t}($s),iu=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){return this.programBright||(this.programBright=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new Qs(e),this.bloomBuffer=new Qs(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qs(e)),this.bloomBuffer||(this.bloomBuffer=new Qs(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo;var n=this.getOptions(),i="clarity"in n?n.clarity:1;i=Math.max(0,i),i=Math.min(1,i),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var o=this.getProgram(t),a=o.programBright,s=o.programBloom;o=o.programResult;var u=this.getExtraFbo(t),l=u.collectBrightBuffer;u=u.bloomBuffer;var c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(a.attributes.aPos),t.vertexAttribPointer(a.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.attributes.aPos),t.vertexAttribPointer(s.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.aPos),t.vertexAttribPointer(o.attributes.aPos,3,t.FLOAT,!1,0,0),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(a.attributes.aTextureCoord),t.vertexAttribPointer(a.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.attributes.aTextureCoord),t.vertexAttribPointer(s.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.aTextureCoord),t.vertexAttribPointer(o.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,l),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(a.uniforms.uSampler,1),t.uniform1f(a.uniforms.threshold,n.threshold||0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(s.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,l.texture),t.uniform1i(s.uniforms.uSampler,1),t.uniform1i(s.uniforms.isVertical,!0),t.uniform1f(s.uniforms.blurSize,n.blurSize||2),t.uniform1f(s.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(s.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(s.program),t.bindFramebuffer(t.FRAMEBUFFER,l),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(s.uniforms.uSampler,1),t.uniform1i(s.uniforms.isVertical,!1),t.uniform1f(s.uniforms.blurSize,n.blurSize||2),t.uniform1f(s.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(s.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(o.uniforms.originalTexture,1),t.uniform1f(o.uniforms.toneScale,i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,l.texture),t.uniform1i(o.uniforms.bloomTexture,0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}]),t}($s),ou=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new Xs(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture;var r=this.getProgram(t);t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.uniform2fv(r.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3)}}]),t}($s),au=function(){function e(t){gt(this,e),this.gl=t,this.effects=[],this.initFbo()}return Tr(e,[{key:"addEffect",value:function(e){this.effects.push(e)}},{key:"removeEffect",value:function(e){}},{key:"setEffects",value:function(e){this.effects=e}},{key:"onResize",value:function(){this.initFbo();var e=this.gl,t=this.effects;if(t&&1<t.length)for(var r=1;r<t.length;r++){var n=t[r];n.onResize&&n.onResize(e)}}},{key:"initFbo",value:function(){var e=this.gl;e&&(this.fbo=[new Qs(e),new Qs(e)])}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var e=this.gl,t=this.effects;if(t&&0<t.length)for(var r={},n=0;n<t.length;n++){var i=this.fbo[n%2].framebuffer;n===t.length-1&&(i=null),e.bindFramebuffer(e.FRAMEBUFFER,i);var o=[0,0,0,0];e.clearColor(o[0],o[1],o[2],o[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t[n].render({isPickRender:!1,gl:e,texture:r.texture,fbo:i}),r=i}}}]),e}(),su=function(){function e(t,r){gt(this,e),this.map=t,this.options=r||{},this.eventMap={}}return Tr(e,[{key:"onResize",value:function(e){}},{key:"onUpdate",value:function(e){throw"\u672a\u5b9e\u73b0onUpdate\u65b9\u6cd5"}},{key:"getContainer",value:function(){throw"\u672a\u5b9e\u73b0getContainer\u65b9\u6cd5"}},{key:"getSize",value:function(){throw"\u672a\u5b9e\u73b0getSize\u65b9\u6cd5"}},{key:"getTilt",value:function(){throw"\u672a\u5b9e\u73b0getTilt\u65b9\u6cd5"}},{key:"getHeading",value:function(){throw"\u672a\u5b9e\u73b0getHeading\u65b9\u6cd5"}},{key:"getZoomUnits",value:function(){throw"\u672a\u5b9e\u73b0getZoomUnits\u65b9\u6cd5"}},{key:"getCenter",value:function(){throw"\u672a\u5b9e\u73b0getCenter\u65b9\u6cd5"}},{key:"getMapType",value:function(){throw"\u672a\u5b9e\u73b0getMapType\u65b9\u6cd5"}},{key:"lnglatToMercator",value:function(e,t){return"gcj02"===this.options.coordinateSystem?(t=t*Math.PI/180,t=3189068.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),[parseFloat((e*Math.PI/180*6378137).toFixed(2)),parseFloat(t.toFixed(2))]):(e=y.convertLL2MC({lng:e,lat:t}),[e.lng,e.lat])}}]),e}(),uu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.eventMap={},e}return si(t,e),Tr(t,[{key:"onResize",value:function(e){this.map.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onMousemove",value:function(e){e=this.extendCallback(e),this.map.addEventListener("mousemove",e),this.eventMap.mousemove=e}},{key:"onClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("click",e),this.eventMap.click=e}},{key:"onDblClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("dblclick",e),this.eventMap.dblclick=e}},{key:"onRightClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("rightclick",e),this.eventMap.rightclick=e}},{key:"onUpdate",value:function(e){this.map.addEventListener("update",e),this.map.addEventListener("onearthstatuschange",e),this.eventMap.update=e,this.eventMap.onearthstatuschange=e}},{key:"extendCallback",value:function(e){return function(t){e(gr(t,{x:t.x,y:t.y}))}}},{key:"unbind",value:function(e){var t=this;this.eventMap[e]?(this.map.removeEventListener(e,this.eventMap[e]),delete this.eventMap[e]):(ur(this.eventMap).forEach((function(e){t.map.removeEventListener(e,t.eventMap[e])})),this.eventMap={})}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return this.map.getTilt()}},{key:"getHeading",value:function(){return this.map.getHeading()}},{key:"getZoomUnits",value:function(){return this.map.getZoomUnits()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getCenter",value:function(){var e=this.map.getCenter();return-180<=e.lng&&180>=e.lng&&(e=this.map.lnglatToMercator(e.lng,e.lat),e={lng:e[0],lat:e[1]}),e}},{key:"getMapType",value:function(){return this.map.getMapType()}},{key:"lnglatToMercator",value:function(e,t){return this.map.lnglatToMercator(e,t)}},{key:"mercatorToLnglat",value:function(e,t){return this.map.mercatorToLnglat(e,t)}}]),t}(su),lu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.div=document.createElement("div"),e.div.style.position="absolute",e.div.style.userSelect="none",e.map.getPanes().mapPane.appendChild(e.div),e.eventMap={},e}return si(t,e),Tr(t,[{key:"onResize",value:function(e){this.map.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onMousemove",value:function(e){e=this.extendCallback(e),this.map.addEventListener("mousemove",e),this.eventMap.mousemove=e}},{key:"onClick",value:function(e){e=this.extendCallback(e),so?(this.map.addEventListener("touchend",e),this.eventMap.touchend=e):(this.map.addEventListener("click",e),this.eventMap.click=e)}},{key:"onDblClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("dblclick",e),this.eventMap.dblclick=e}},{key:"onRightClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("rightclick",e),this.eventMap.rightclick=e}},{key:"changeCanvas",value:function(){var e=this.map,t=e.getSize(),r=e.getCenter();e=e.pointToOverlayPixel(r),this.div.style.left=e.x-t.width/2+"px",this.div.style.top=e.y-t.height/2+"px"}},{key:"onUpdate",value:function(e){var t=this,r=function(){t.changeCanvas(),e()};this.map.addEventListener("moveend",r),this.map.addEventListener("moving",r),this.map.addEventListener("zoomend",r),this.eventMap.moveend=r,this.eventMap.moving=r,this.eventMap.zoomend=r}},{key:"extendCallback",value:function(e){return function(t){e(gr(t,{x:t.pixel.x,y:t.pixel.y}))}}},{key:"unbind",value:function(){var e=this;ur(this.eventMap).forEach((function(t){e.map.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.div}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return 0}},{key:"getHeading",value:function(){return 0}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getZoomUnits",value:function(){var e=this.getZoom();return this.map.getMapType().getZoomUnits?this.map.getMapType().getZoomUnits(e):Math.pow(2,18-e)}},{key:"getCenter",value:function(){var e=this.map.getMapType().getProjection().lngLatToPoint(this.map.getCenter());return{lng:e.x,lat:e.y}}},{key:"lnglatToMercator",value:function(e,t){return e=this.map.getMapType().getProjection().lngLatToPoint({lng:e,lat:t}),[e.x,e.y]}},{key:"mercatorToLnglat",value:function(e,t){return e=this.map.getMapType().getProjection().pointToLngLat({lng:e,lat:t}),[e.lng,e.lat]}}]),t}(su),cu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.eventMap={},e}return si(t,e),Tr(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;ur(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container.getElementsByClassName("cesium-widget")[0]}},{key:"getSize",value:function(){var e=this.map;return{width:e.canvas.clientWidth,height:e.canvas.clientHeight}}},{key:"getTilt",value:function(){return 180*this.map.camera.pitch/Math.PI+90}},{key:"getHeading",value:function(){return 360-180*this.map.camera.heading/Math.PI}},{key:"getZoomUnits",value:function(){var e=this.map;return 6.8*e.scene.globe.ellipsoid.cartesianToCartographic(e.camera.position).height/6500}},{key:"getZoom",value:function(){return 10}},{key:"getCenter",value:function(){var e=this.map;return e=e.camera.pickEllipsoid(new Cesium.Cartesian2(e.canvas.clientWidth/2,e.canvas.clientHeight/2)),e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e),e=this.getMercator([180*e.longitude/Math.PI,180*e.latitude/Math.PI]),{lng:e[0],lat:e[1]}}},{key:"getMercator",value:function(e){var t=[];return t[0]=e[0]*Math.PI/180*6378137,e=e[1]*Math.PI/180,t[1]=3189068.5*Math.log((1+Math.sin(e))/(1-Math.sin(e))),t}}]),t}(su),hu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.eventMap={},e}return si(t,e),Tr(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;ur(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getZoom",value:function(){return this.map.zoom}},{key:"getCenter",value:function(){return this.map.center}}]),t}(su),fu=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.eventMap={},e}return si(t,e),Tr(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;ur(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),t}(su),pu=function(){function e(t,r){var n=this;gt(this,e),r=r||{},"bmap"===r.mapType?this.map=new lu(t,r):"blank"===r.mapType?this.map=new hu(t,r):"cesium"===r.mapType?this.map=new cu(t,r):"three"===r.mapType?this.map=new fu(t,r):(r.mapType="bmapgl",this.map=new uu(t,r)),this.map.type=r.mapType,this._dpr=window.devicePixelRatio,"bmapgl"===r.mapType&&(this._dpr=this.map.map.config.ratio),this.options=r||{},this.renderArr=[],(t=r.canvas)||(t=document.createElement("canvas")),this.canvas=t,this.gl=r.gl?r.gl:z(t,r),["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"].forEach((function(e){n.gl.getExtension(e)})),this.changeSize(),this.projectionMatrix=js.create(Float64Array),this.orthoMatrix=js.create(Float64Array),this.matrix=js.create(Float64Array),this.viewMatrix=js.create(Float64Array),this.pointToPixelMatrix=js.create(Float64Array),this.pixelToViewMatrix=js.create(Float64Array),this.fovy=35,this.fps=Math.min(r.fps,60)||60,this.renderTime=(new Date).valueOf(),this._animation=this.animation.bind(this),this._update=this.update.bind(this),this.onInitialize(this.options.onInitialize),this.options.onRender&&this.renderArr.push(this.options.onRender),this.stateManager=new Ys({gl:this.gl}),this.pickFBO=new Qs(this.gl),this.transferOptions={},this.bind()}return Tr(e,[{key:"bind",value:function(){var e=this,t=this.map;t.onResize((function(){e.changeSize(),e.render()})),t.onUpdate(this._update),t.onClick&&t.onClick((function(t){e.onClick&&e.onClick(t)})),t.onDblClick&&t.onDblClick((function(t){e.onDblClick&&e.onDblClick(t)})),t.onRightClick&&t.onRightClick((function(t){e.onRightClick&&e.onRightClick(t)})),t.onMousemove&&t.onMousemove((function(t){e.onMousemove&&e.onMousemove(t)})),this.options.canvas||t.getContainer().appendChild(this.canvas)}},{key:"unbind",value:function(){var e=this.map;e.unbind&&e.unbind()}},{key:"setOptions",value:function(e){this.options=e}},{key:"onInitialize",value:function(e){e&&(this.transferOptions=e.bind(this)(this.gl)||{})}},{key:"bindFramebuffer",value:function(e){var t=this.gl;e?t.bindFramebuffer(t.FRAMEBUFFER,e.framebuffer):t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"saveFramebuffer",value:function(){var e=this.gl;this.preFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING)}},{key:"restoreFramebuffer",value:function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.preFramebuffer)}},{key:"onRender",value:function(e){this.renderArr.push(e)}},{key:"changeSize",value:function(){var e=this.canvas,t=this.options;if(e){var r=e.style,n=this.map.getSize(),i=this._dpr;e.width=n.width*i,e.height=n.height*i,r.cssText="position: absolute;left:0;top:0;width:"+n.width+"px;height:"+n.height+"px;z-index:2;","cesium"!==t.mapType||t.canvas||(r.pointerEvents="none"),this.gl.viewport(0,0,e.width,e.height)}}},{key:"update",value:function(){!1===this.options.autoUpdate||this.isAnimation&&60<=this.fps||this.render()}},{key:"render",value:function(){if(this.map&&this.gl){var e=this.options,t=this.projectionMatrix,r=this.viewMatrix;if("three"===e.mapType)r=this.map.map.camera,t=r.projectionMatrix.elements,r=r.matrixWorldInverse.elements;else if("cesium"===e.mapType){r=this.map.map;var n=r.camera.frustum.projectionMatrix;t=new Float32Array([n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]),n=r.camera.viewMatrix,r=new Float32Array([n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]])}else"B_EARTH_MAP"===this.map.map.mapType?(t=this.map.map.getEarth().scene._camera.getProjectionMatrix(),r=this.map.map.getEarth().scene._camera.getModelViewMatrix()):(this.updateProjectionMatrix(),this.updateModelViewMatrix());for(n=js.multiply(this.matrix,t,r),gr(this.transferOptions,{gl:this.gl,matrix:n,pointToPixelMatrix:this.pointToPixelMatrix,pixelToViewMatrix:this.pixelToViewMatrix,projectionMatrix:t,orthoMatrix:this.orthoMatrix,viewMatrix:r,stateManager:this.stateManager}),"three"!==e.mapType&&"cesium"!==e.mapType&&!1!==e.autoUpdate&&this.clear(),e=0;e<this.renderArr.length;e++)this.renderArr[e]&&this.renderArr[e].bind(this)(this.transferOptions)}}},{key:"clear",value:function(e){var t=this.gl,r=this.options.clearColor||[0,0,0,0];t.clearColor(r[0],r[1],r[2],r[3]),e&&(e instanceof Array||(e=u(e).unitArray()),t.clearColor(e[0],e[1],e[2],e[3])),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}},{key:"updateProjectionMatrix",value:function(){var e=this.gl.canvas.width/this.gl.canvas.height,t=this.options.cameraNear||1,r=this.options.cameraFar||4e3;js.perspective(this.projectionMatrix,p(this.fovy),e,t,r),e=this.map.getSize(),js.ortho(this.orthoMatrix,-e.width/2,e.width/2,-e.height/2,e.height/2,t,r)}},{key:"updateModelViewMatrix",value:function(){var e=this.map,t=this.viewMatrix,r=this.pointToPixelMatrix,n=this.pixelToViewMatrix;js.identity(t),js.identity(r),js.identity(n);var i=e.getSize();i=Math.round(-i.height/(2*Math.tan(p(this.fovy)/2))),js.translate(n,n,[0,0,i]),js.rotate(n,n,p(e.getTilt()),[-1,0,0]),js.rotate(n,n,p(e.getHeading()),[0,0,-1]),i=e.getCenter();var o=this.options.pointOffset||[0,0];e=e.getZoomUnits(),js.translate(r,r,[(o[0]-i.lng)/e,(o[1]-i.lat)/e,0]),e=1/e,js.scale(r,r,[e,e,e]),js.multiply(t,n,r)}},{key:"destroy",value:function(){this.stopAnimation(),this.unbind();var e=this.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),this.map.getContainer().removeChild(this.canvas),this.gl=this.canvas=null}},{key:"animation",value:function(){if(this.isAnimation){if(60<=this.fps)this.render();else{var e=(new Date).valueOf(),t=Math.floor(1e3/this.fps),r=e-this.renderTime;r>t&&(this.render(),this.renderTime=e-r%t)}window.requestAnimationFrame(this._animation)}}},{key:"startAnimation",value:function(){this.isAnimation||(this.isAnimation=!0,window.requestAnimationFrame(this._animation))}},{key:"stopAnimation",value:function(){this.isAnimation=!1}}]),e}(),du=function(){function e(t){gt(this,e),this.layers=[],this.options=t,this.webglLayer=t.webglLayer}return Tr(e,[{key:"addLayer",value:function(e){for(var t=!1,r=0;r<this.layers.length;r++)if(this.layers[r]===e){t=!0;break}t||(e.map=this.webglLayer.map,"threeLayer"===e.layerType?(e.setWebglLayer(this.webglLayer),t=e.getThreeLayer(),this.addLayer(t),e.initialize&&e.initialize(t)):(e.setWebglLayer(this.webglLayer),e.commonInitialize&&e.commonInitialize(this.webglLayer.gl),e.initialize&&e.initialize(this.webglLayer.gl),e.onOptionsChanged(e.getOptions(),{}),e.onDataChanged(e.getData()),e.onChanged(e.getOptions(),e.getData())),this.putInLayer(e)),this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"putInLayer",value:function(e){void 0===e.options.renderOrder&&(e.options.renderOrder=this.layers.length),this.layers.push(e),this.layers=this.layers.sort((function(e,t){return e.options.renderOrder-t.options.renderOrder}))}},{key:"removeLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&this.layers.splice(t,1);this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"showLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&e.show();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"hideLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&e.hide();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeAllLayers",value:function(){this.layers=[],this.webglLayer.stopAnimation(),this.webglLayer.render()}},{key:"destroyAllLayers",value:function(){for(var e=0;e<this.layers.length;e++){var t=this.layers[e];t.destroy&&t.destroy()}}},{key:"getAllLayers",value:function(){return this.layers}},{key:"getAllThreeLayers",value:function(){for(var e=[],t=0;t<this.layers.length;t++){var r=this.layers[t];"ThreeLayer"===r.layerType&&e.push(r)}return e}},{key:"isRequestAnimation",value:function(){for(var e=!1,t=0;t<this.layers.length;t++)if(this.layers[t].isRequestAnimation()){e=!0;break}return e}},{key:"beforeRender",value:function(e){e.gl&&this.webglLayer.stateManager.setDefaultState()}},{key:"afterRender",value:function(e){(e=e.gl)&&(e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.useProgram(null))}},{key:"renderGLLayers",value:function(e){this.webglLayer.stateManager.save();for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||(this.beforeRender(e),r.render(e),this.afterRender(e))}}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayer",value:function(e){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setState({blendFunc:[e.gl.SRC_ALPHA,e.gl.ONE],depthMask:!1,depthTest:!0,depthFunc:e.gl.LESS,cullFace:!1});for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"ThreeLayer"===r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||r.render(e)}}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayers",value:function(e){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setState({blendFunc:[e.gl.SRC_ALPHA,e.gl.ONE],depthMask:!1,depthTest:!0,depthFunc:e.gl.LESS,cullFace:!1});for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"===r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||r.render(e)}}this.webglLayer.stateManager.restore()}},{key:"onClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onDblClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onDblClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onDblClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onRightClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onRightClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onRightClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onMousemove",value:function(e){for(var t=!1,r=0;r<this.layers.length;r++){var n=this.layers[r];if(!0===n._visible&&"threeLayer"!==n.layerType&&"ThreeLayer"!==n.layerType){var i=n.map.getZoom(),o=n.getOptions().zoomThreshold;o&&(i<=o[0]||i>=o[1])||!n.options.enablePicked||!n.pick||(i=n.pick(e.x,e.y),this.webglLayer.map.map.platform.style.cursor=-1===i.dataIndex?"default":"pointer",n.options.onMousemove&&n.options.onMousemove(i,e),n.options.autoSelect&&(t=!0))}}t&&(this.webglLayer.isAnimation||this.webglLayer.render())}},{key:"destroy",value:function(){this.destroyAllLayers(),this.removeAllLayers()}}]),e}(),gu=function(){function e(t){var r=this;gt(this,e),this.options={autoUpdate:!0},this._visible=!0,gr(this.options,t);var n=t.pointOffset;this.webglLayer=t.webglLayer||new pu(t.map,this.options),this.layerManager=new du({autoUpdate:this.options.autoUpdate,webglLayer:this.webglLayer}),this.effectManager=new au(this.webglLayer.gl),this.webglRender={render:function(){}},this.options.effects&&this.effectManager.setEffects([this.webglRender].concat(this.options.effects)),this.webglLayer.onRender((function(e){r._render(e)})),this.webglLayer.onClick=function(e){r._visible&&r.layerManager.onClick(e)},this.webglLayer.onDblClick=function(e){r._visible&&r.layerManager.onDblClick(e)},this.webglLayer.onRightClick=function(e){r._visible&&r.layerManager.onRightClick(e)},this.webglLayer.onMousemove=function(e){r._visible&&r.layerManager.onMousemove(e)},n||"cesium"===this.webglLayer.options.mapType||(n=this.webglLayer.map.getCenter(),this.webglLayer.options.pointOffset=[n.lng,n.lat]),this.webglLayer.map.onResize((function(){r.effectManager.onResize()})),(this.postProcessing=t.postProcessing)&&(this.postProcessing.setWebglLayer(this.webglLayer),t=this.postProcessing.getThreeLayer(),this.addLayer(t),this.postProcessing.initialize(t),t.postProcessing=this.postProcessing)}return Tr(e,[{key:"renderCanvas",value:function(e){var t=this;this.postProcessing?this.postProcessing.addRender((function(){t.layerManager.renderGLLayers(e)})):this.layerManager.renderGLLayers(e),this.layerManager.renderThreeLayers(e),this.layerManager.renderThreeLayer(e)}},{key:"render",value:function(){this.webglLayer&&this.webglLayer.render()}},{key:"_render",value:function(e){var t=this;if(this._visible){var r=this.options.effects;r&&0<r.length?(this.webglRender.render=function(){t.renderCanvas(e)},this.effectManager.render()):(this.webglLayer.saveFramebuffer(),this.renderCanvas(e),this.webglLayer.restoreFramebuffer())}}},{key:"onRender",value:function(e){this.webglLayer.onRender(e)}},{key:"destroy",value:function(){this.stopAnimation(),this.layerManager.destroy(),this.effectManager.destroy(),this.webglLayer.destroy()}},{key:"isRequestAnimation",value:function(){return this.layerManager.isRequestAnimation()}},{key:"startAnimation",value:function(){this.webglLayer.startAnimation()}},{key:"stopAnimation",value:function(){this.webglLayer.stopAnimation()}},{key:"show",value:function(){!0!==this._visible&&(this._visible=!0,this.webglLayer.render(),this.isRequestAnimation()&&this.startAnimation())}},{key:"hide",value:function(){!1!==this._visible&&(this._visible=!1,this.stopAnimation(),this.webglLayer.clear())}},{key:"showLayer",value:function(e){this.layerManager.showLayer(e)}},{key:"hideLayer",value:function(e){this.layerManager.hideLayer(e)}},{key:"add",value:function(e){this.addLayer(e)}},{key:"remove",value:function(e){this.removeLayer(e)}},{key:"addLayer",value:function(e){this.layerManager.addLayer(e)}},{key:"removeLayer",value:function(e){this.layerManager.removeLayer(e)}},{key:"removeAllLayers",value:function(){this.layerManager.removeAllLayers()}},{key:"getAllLayers",value:function(){return this.layerManager.getAllLayers()}},{key:"getAllThreeLayers",value:function(){return this.layerManager.getAllThreeLayers()}}]),e}(),mu=function(){function e(t){gt(this,e),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=gr(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=gr(this.options,t),this.options.data&&(this.data=this.options.data,delete this.options.data)}return Tr(e,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(e){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"clear",value:function(){this.setData([])}},{key:"setData",value:function(e,t){t=t||{},this.data=e,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),t),!1!==t.autoRender&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(e,t){e=e||{},t=t||{};var r=gr({},this.getOptions());gr(this.options,e),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),r),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),t),e.data?(this.setData(e.data,t),delete e.data):!1!==t.autoRender&&this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(e,t){}},{key:"onDataChanged",value:function(e){}},{key:"onChanged",value:function(e,t){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(e,t){}},{key:"setWebglLayer",value:function(e){this.webglLayer=e}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),e}(),vu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.pickedColor=[-1,-1,-1],e}return si(t,e),Tr(t,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,zoomThreshold:[0,30],repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(e){var t=this.getOptions();this.gl=e,t.enablePicked&&(this.pickBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var e=[];return this.getOptions().enablePicked&&e.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),e}},{key:"getProperty",value:function(e,t,r){return"[object Function]"===Object.prototype.toString.call(t)?t(r):(t=r[e]||t,"properties"in r&&e in r.properties&&(t=r.properties[e]),t)}},{key:"normizedColor",value:function(e){var t=e;return e instanceof Array||(t=u(e).unitArray()),void 0===t[3]&&(t[3]=1),t}},{key:"normizedPoint",value:function(e){var t=this.getPointOffset();if(!e||!e[0]||!e[1])return[t[0],t[1],0];var r=Number(e[0]),n=Number(e[1]);-180<=r&&180>=r&&-90<=n&&90>=n&&(n=this.webglLayer.map.lnglatToMercator(r,n),r=n[0],n=n[1]);var i=Number(e[2])||0;return this.webglLayer&&"cesium"===this.webglLayer.options.mapType&&window.Cesium?(r=this.convertLngLat([r,n]),i=window.Cesium.Cartesian3.fromDegrees(r[0],r[1],i),r=i.x,n=i.y,i=i.z):this.webglLayer&&"bmapgl"===this.webglLayer.options.mapType&&"B_EARTH_MAP"===this.webglLayer.map.map.mapType&&(r=this.convertLngLat([r,n]),i=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:r[0],lat:r[1]}),r=i.x,n=i.y,i=i.z),3<e.length?[r-t[0],n-t[1],i].concat(Li(e.slice(3))):[r-t[0],n-t[1],i]}},{key:"convertLngLat",value:function(e){return[e[0]/20037508.34*180,180/Math.PI*(2*Math.atan(Math.exp(e[1]/20037508.34*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var e=[0,0],t=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?e=this.webglLayer.options.pointOffset:t.pointOffset&&(e=t.pointOffset),e}},{key:"indexToRgb",value:function(e){e++;var t=Math.floor(e/65536);e-=65536*t;var r=Math.floor(e/256);return[e-256*r,r,t]}},{key:"rgbToIndex",value:function(e){return e[0]+256*e[1]+65536*e[2]-1}},{key:"getCommonUniforms",value:function(e){e=e.isPickRender;var t=this.getOptions(),r={};if(t.enablePicked){var n=0<=t.selectedIndex?t.selectedIndex:-1;n=t.autoSelect?this.pickedColor:this.indexToRgb(n),r=gr(r,{uSelectedColor:this.normizedColor(t.selectedColor),uEnablePicked:t.enablePicked,uPickedColor:n.map((function(e){return e/255})),uIsPickRender:!!e})}return r}},{key:"pick",value:function(e,t){var r=this.gl,n=this.webglLayer._dpr;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:r,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var i=new Uint8Array(4);return r.readPixels(e*n,r.canvas.height-t*n,1,1,r.RGBA,r.UNSIGNED_BYTE,i),e=this.rgbToIndex(i),t=this.getData(),this.pickedColor=[i[0],i[1],i[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:e,dataItem:t[e]}}},{key:"setGLState",value:function(e){this.webglLayer.stateManager.setState(e)}},{key:"addMultipleCoords",value:function(e,t,r){if(!this.options.repeat||!this.webglLayer||"bmapgl"!==this.webglLayer.options.mapType||"B_EARTH_MAP"===this.webglLayer.map.map.mapType)return[e];var n=this.webglLayer.map.map;t=t||n.getZoom();var i=r?n.worldSize(t):40075452.74461451;if(t=function(e){return[[e[0]-i,e[1],e[2]||0],[e[0]+i,e[1],e[2]||0]]},e instanceof Array&&!(e[0]instanceof Array))return t=t(e),t=xi(t,2),[e,t[0],t[1]];if(e instanceof Array&&e[0]instanceof Array&&!(e[0][0]instanceof Array)){r=[],n=[];for(var o=0;o<e.length;o++){var a=t(e[o]);a=xi(a,2);var s=a[1];r.push(a[0]),n.push(s)}return[e,r,n]}for(r=[],n=[],o=0;o<e.length;o++){a=[],s=[];for(var u=0;u<e[o].length;u++){var l=t(e[o][u]);l=xi(l,2);var c=l[1];a.push(l[0]),s.push(c)}r.push(a),n.push(s)}return[e,r,n]}}]),t}(mu),yu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="CircleLayer",e.bufferData=[],e.initializeTime=new Date,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!0,depthTest:!0,size:10,unit:"px",color:"blue",antialias:!0}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.program=new Xs(this.gl,{vertexShader:"attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;float x=aPos.x;float y=aPos.y;float z=aPos.z*uZoomUnits;vSize=aSize*uZoomUnits;if(aIndex==1.0){x+=vSize;y-=vSize;}else if(aIndex==2.0){x-=vSize;y+=vSize;}else if(aIndex==3.0){x+=vSize;y+=vSize;}else{x-=vSize;y-=vSize;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}",fragmentShader:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;uniform float lineWidth;uniform float uAntiAliasing;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>vSize){discard;}vec4 color=vColor;if(uAntiAliasing==1.0&&d>0.9*vSize&&d<=vSize){color.a*=1.0-smoothstep(0.9*vSize,vSize,d);}gl_FragColor=color;}",defines:t.enablePicked?["PICK"]:[]},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{stride:36,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:36,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:36,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:36,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onChanged",value:function(e,t){this.gl&&t&&(this.uniforms={},this.data=t,this.processData(),e.enablePicked&&this.parsePickData(t))}},{key:"processData",value:function(){var e=this,t=[],r=[];this.data.forEach((function(n,i){var o=n.color||n.properties&&n.properties.color||e.options.color,a=n.size||n.properties&&n.properties.size||e.options.size;o=e.normizedColor(o),n=e.normizedPoint(n.geometry.coordinates);for(var s=0;4>s;s++)t.push(n[0],n[1],n[2]||0,a,s),t.push(o[0],o[1],o[2],o[3]);o=4*i,0<i&&r.push(o-1,o),r.push(o,o+1,o+2,o+3)})),this.bufferData=t,this.indexData=r,this.buffer.updateData(new Float32Array(t)),this.indexBuffer.updateData(new Uint32Array(r))}},{key:"parsePickData",value:function(e){var t=[];if(this.getOptions().enablePicked){for(var r=0;r<e.length;r++){var n=this.indexToRgb(r);t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255)}this.pickBuffer.updateData(new Float32Array(t))}}},{key:"render",value:function(e){var t=this.getOptions(),r=this.program,n=e.gl,i=e.matrix;this.setGLState({blend:!0,blendEquation:n.FUNC_ADD,blendFunc:[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA],depthTest:t.depthTest,depthMask:t.depthWrite}),r.use(n),this.vertexArray.bind(),this.indexBuffer.bind(),t=this.map.getZoomUnits(),gr(this.uniforms,this.getCommonUniforms(e),{uZoomUnits:"px"===this.options.unit?t:1,uMatrix:i,uAntiAliasing:this.options.antialias?1:0}),r.setUniforms(this.uniforms),n.drawElements(n.TRIANGLE_STRIP,this.indexData.length,n.UNSIGNED_INT,0)}}]),t}(vu),bu={wave:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;uniform float uAntiAliasing;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}vec4 color=vColor;float R=vRadius;float center=vSize;float time=vStartTime+uTime;float alpha=sin((R-d)/R*trail*2.0*3.14+time/duration);if(d<=center){if(uAntiAliasing==1.0&&d>0.9*center&&d<=center){if(alpha>=0.5){color.a=0.9;}else{color.a=1.0-smoothstep(0.9*center,center,d);}}}else{if(alpha>=0.5){color.a=0.9;if(uAntiAliasing==1.0){if(alpha>=0.5&&alpha<=0.6){color.a*=smoothstep(0.0,0.1,alpha-0.5);}if(d>=0.98*R&&d<=R){color.a*=1.0-smoothstep(0.98,1.0,d/R);}}}else{color.a=0.0;}}gl_FragColor=color;}",bubble:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;uniform float uAntiAliasing;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}float time=vStartTime+uTime;float range=mod(time,(duration+trail));float percent=0.0;if(range<=duration){percent=range/duration;}else{percent=1.0;}float center=vSize;float R=vRadius;float r=R*percent;vec4 color=vColor;if(d<=center){if(uAntiAliasing==1.0&&d>0.9*center&&d<=center){color.a=1.0-smoothstep(0.9*center,center,d);}}else{if(d<r){color.a=smoothstep(0.1,0.9,pow(d/r,2.0)*0.9);if(uAntiAliasing==1.0&&d>=0.9*r&&d<=r){color.a*=1.0-smoothstep(0.9,1.0,d/r);}if(range>duration){color.a*=1.0-(range-duration)/trail;}}else{color.a=0.0;}}gl_FragColor=color;}",breath:"varying vec4 vPosition;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform float uTime;uniform float duration;uniform float trail;uniform float uAntiAliasing;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}vec4 color=vColor;if(uAntiAliasing==1.0&&d>0.9*vRadius&&d<=vRadius){color.a=1.0-smoothstep(0.9*vRadius,vRadius,d);}float time=vStartTime+uTime;float range=mod(time,(duration+trail));float percent=0.0;if(range<=duration){percent=range/duration;}else{percent=1.0;}color.a*=abs(1.0-percent*2.0)+0.2;gl_FragColor=color;}"},xu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="RippleCircleLayer",e.autoUpdate=!0,e.bufferData=[],e.initializeTime=new Date,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,depthTest:!0,type:"bubble",size:10,duration:1,trail:1,unit:"px",random:!0,color:"blue",antialias:!0,radius:function(e){return 2*e}}}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;attribute float aStartTime;attribute float aRadius;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vWidth;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vStartTime=aStartTime;vSize=aSize*uZoomUnits;vRadius=aRadius*uZoomUnits;float x=aPos.x;float y=aPos.y;float z=aPos.z*uZoomUnits;float R=vRadius;if(aIndex==1.0){x+=R;y-=R;}else if(aIndex==2.0){x-=R;y+=R;}else if(aIndex==3.0){x+=R;y+=R;}else{x-=R;y-=R;}vPosition=vec4(aPos.xy,z,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}",fragmentShader:bu[this.options.type]||"bubble",defines:this.options.enablePicked?["PICK"]:[]},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"});var t=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20},{stride:44,name:"aRadius",buffer:this.buffer,size:1,type:"FLOAT",offset:36},{stride:44,name:"aStartTime",buffer:this.buffer,size:1,type:"FLOAT",offset:40}];t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onChanged",value:function(e,t){this.gl&&t&&(this.uniforms={duration:e.duration,trail:e.trail},this.data=t,this.processData(),e.enablePicked&&this.parsePickData(t))}},{key:"processData",value:function(){var e=this,t=[],r=[];this.data.forEach((function(n,i){var o=n.size||e.options.size,a=n.radius||e.options.radius||1.618*o;"function"===typeof a&&(a=a(o));var s=n.color||e.options.color;s=e.normizedColor(s),n=e.normizedPoint(n.geometry.coordinates);for(var u=e.options.random?Math.random()*e.data.length*9999:0,l=0;4>l;l++)t.push(n[0],n[1],n[2]||0,o,l),t.push(s[0],s[1],s[2],s[3]),t.push(a),t.push(u);o=4*i,0<i&&r.push(o-1,o),r.push(o,o+1,o+2,o+3)})),this.bufferData=t,this.indexData=r,this.buffer.updateData(new Float32Array(t)),this.indexBuffer.updateData(new Uint32Array(r))}},{key:"parsePickData",value:function(e){var t=[];if(this.getOptions().enablePicked){for(var r=0;r<e.length;r++){var n=this.indexToRgb(r);t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255),t.push(n[0]/255,n[1]/255,n[2]/255)}this.pickBuffer.updateData(new Float32Array(t))}}},{key:"render",value:function(e){var t=this.getOptions(),r=this.program,n=e.gl,i=e.matrix;r.use(n);var o=this.map.getZoomUnits();gr(this.uniforms,this.getCommonUniforms(e),{uTime:(new Date-this.initializeTime)/1e3,uZoomUnits:"m"===t.unit?1:o,uMatrix:i,uAntiAliasing:t.antialias?1:0}),r.setUniforms(this.uniforms),this.setGLState({blend:!0,blendEquation:n.FUNC_ADD,blendFunc:[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA],depthTest:t.depthTest,depthMask:t.depthWrite}),0<this.indexData.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),n.drawElements(n.TRIANGLE_STRIP,this.indexData.length,n.UNSIGNED_INT,0))}}]),t}(vu),Au=ur(bu),wu=i((function(e,t){t.__esModule=!0;var r=xr&&xr.__esModule?xr:{default:xr},n=Vi&&Vi.__esModule?Vi:{default:Vi};t.default=function e(t,i,o){null===t&&(t=Function.prototype);var a=(0,n.default)(t,i);return void 0!==a?"value"in a?a.value:(i=a.get,void 0===i?void 0:i.call(o)):(t=(0,r.default)(t),null!==t?e(t,i,o):void 0)}})),_u=n(wu);H.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(ue(e,0,i?t[0]*r:e.length,r));if(i){i=0;for(var a=t.length;i<a;i++)o-=Math.abs(ue(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r))}for(i=t=0;i<n.length;i+=3){a=n[i]*r;var s=n[i+1]*r,u=n[i+2]*r;t+=Math.abs((e[a]-e[u])*(e[s+1]-e[a+1])-(e[a]-e[s])*(e[u+1]-e[a+1]))}return 0===o&&0===t?0:Math.abs((t-o)/o)},H.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);0<i&&(n+=e[i-1].length,r.holes.push(n))}return r},H.default=H;var Cu="undefined"===typeof Yn?"__target":Yn(),Mu=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Su=window.URL||window.webkitURL,Tu=window.Worker;if(Tu){var Eu=le("self.onmessage = function () {}"),Iu=new Uint8Array(1);try{if(/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent))throw Error("Not available");var Ru=new Tu(Eu);Ru.postMessage(Iu,[Iu.buffer])}catch(Nh){Tu=null}finally{Su.revokeObjectURL(Eu),Ru&&Ru.terminate()}}var Lu=new function(e,t){return function(r){var n=this;if(!t)return new Tu(e);if(Tu&&!r)return r=(""+t).replace(/^function.+?{/,"").slice(0,-1),r=le(r),this[Cu]=new Tu(r),Su.revokeObjectURL(r),this[Cu];var i={postMessage:function(e){n.onmessage&&setTimeout((function(){return n.onmessage({data:e,target:i})}))}};t.call(i),this.postMessage=function(e){setTimeout((function(){return i.onmessage({data:e,target:n})}))},this.isThisThread=!0}}("./worker.js",(function(e,t){})),Pu={window:1,windowAnimation:2,gradual:3,ripple:4,water:6},Ou=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="ShapeLayer",e._isShow=!0,r=e.getOptions(),("windowAnimation"===r.style||"ripple"===r.style||0<r.riseTime)&&(e.autoUpdate=!0),e.selectedColor=[-1,-1,-1],e.textureCache={},e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:"rgba(50, 50, 230, 1.0)",opacity:.8,height:0,isTextureFull:!1,topColor:"rgba(76, 76, 76, 0.8)",textureRotate:0,textureScale:1,useLight:!0,useTopColor:!1,riseTime:0,polygonOffset:[0,0],depthTest:!0}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.dataMgr=new ce(this,this.gl),this.texture=null,this.isUseTexture=!1;var r=[];t.enablePicked&&r.push("PICK"),t.texture&&r.push("USE_TEXTURE"),this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform vec4 uSelectedColor;attribute vec4 a_pos;attribute vec3 a_normal;attribute vec4 a_color;attribute vec4 a_pre_color;attribute float a_height;attribute float a_pre_height;\n#if defined(USE_TEXTURE)\nattribute vec2 a_texture_coord;\n#endif\nuniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;uniform mat4 u_normal_matrix;uniform vec3 u_side_light_dir;uniform bool u_use_lighting;uniform bool u_use_texture;uniform vec3 u_ripple_center;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform float dataTime;uniform float riseTime;uniform vec2 uMapCenter;uniform float uMapZoom;varying float v_height;varying vec4 v_color;varying vec3 v_position;varying vec2 v_texture_coord;const vec3 point_color=vec3(0.06,0.06,0.06);const vec3 light_color=vec3(0.53,0.53,0.53);const vec3 light_color_2=vec3(0.4,0.4,0.4);const vec3 uAmbientColor=vec3(0.8,0.8,0.8);const vec3 uLightingDirection=vec3(0.0,1.0,1.0);const vec3 uDirectionalColor=vec3(1.0,1.0,1.0);float getTransitionValue(float pre_value,float to_value,float dataTime,float riseTime){float result=0.0;if(pre_value==to_value){result=to_value;}else{if(riseTime>0.0&&dataTime<riseTime){result=(pre_value+(to_value-pre_value)*(dataTime/riseTime));}else{result=to_value;}}return result;}void main(){vec4 pos=a_pos;pos.z=pos.z+pos.w*getTransitionValue(a_pre_height,a_height,dataTime,riseTime);v_position=pos.xyz;v_height=a_height;\n#if defined(USE_TEXTURE)\nif(u_use_texture){v_texture_coord=a_texture_coord;}\n#endif\nvec4 position=u_proj_matrix*u_mv_matrix*vec4(pos.xyz,1.0);gl_Position=position;vec4 icolor=a_color;\n#if defined(PICK)\nif(mapvIsPicked()){icolor=uSelectedColor;}\n#endif\nif(u_use_lighting){vec3 N=normalize(vec3(u_normal_matrix*vec4(a_normal,1.0)));vec4 point_dir=u_mv_matrix*vec4(0,1,0,0);vec3 L_point=normalize(point_dir.xyz);float lambert_point=max(0.0,dot(N,-L_point));vec4 light_dir=u_mv_matrix*vec4(u_side_light_dir,0);vec3 L=normalize(light_dir.xyz);float lambert=max(0.0,dot(N,-L));if(pos.z<5.0){float deepGradientColor=(5.0-pos.z)/8.0;lambert=lambert-deepGradientColor;}vec4 light_dir_2=u_mv_matrix*vec4(0,0,-1,0);vec3 L2=normalize(light_dir_2.xyz);float lambert_2=max(0.0,dot(N,-L2));if(a_pre_color.r==a_color.r&&a_pre_color.g==a_color.g&&a_pre_color.b==a_color.b){}else{if(riseTime>0.0&&dataTime<riseTime){icolor.r=a_pre_color.r+(a_color.r-a_pre_color.r)*(dataTime/riseTime);icolor.g=a_pre_color.g+(a_color.g-a_pre_color.g)*(dataTime/riseTime);icolor.b=a_pre_color.b+(a_color.b-a_pre_color.b)*(dataTime/riseTime);}}v_color.rgb=icolor.rgb+icolor.rgb*light_color*lambert+icolor.rgb*light_color_2*lambert_2+icolor.rgb*point_color*lambert_point;v_color.a=icolor.a;if(u_use_texture){mat3 normalMatrix=mat3(u_normal_matrix);vec3 transformedNormal=normalMatrix*a_normal;vec3 dir=uLightingDirection;dir=vec3(normalMatrix*vec3(0.0,-1.0,2.0));float directionalLightWeighting=max(dot(normalize(transformedNormal),normalize(dir)),0.0);vec4 vLightWeighting;vLightWeighting=vec4(uAmbientColor+uDirectionalColor*directionalLightWeighting,1.0);v_color=vLightWeighting;}}else{v_color=icolor;}}",fragmentShader:"precision highp float;varying vec4 v_color;varying vec3 v_position;varying float v_height;varying vec2 v_texture_coord;uniform vec3 u_ripple_center;uniform vec4 top_color;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform sampler2D u_sampler;uniform bool u_use_lighting;uniform bool u_use_texture;uniform bool u_use_top_color;void main(){vec4 color=vec4(v_color);vec4 textureColor=vec4(1.0,1.0,1.0,1.0);if(u_use_texture){if(style==6.0){float x=v_texture_coord.s;float y=v_texture_coord.t;vec2 cPos=-1.0+2.0*gl_FragCoord.xy/MAPV_resolution;float cLength=length(cPos);vec2 uv=gl_FragCoord.xy/MAPV_resolution+(cPos/cLength)*cos(cLength*12.0-time/1000.0*4.0)*0.03;textureColor=texture2D(u_sampler,uv/2.0+vec2(x,y));}else{textureColor=texture2D(u_sampler,vec2(v_texture_coord.s,v_texture_coord.t));}if(u_use_lighting){color=vec4(textureColor*v_color*1.1);}else{color=textureColor;}if(u_use_top_color&&v_position.z>=v_height){color=top_color;}}if(style==1.0||style==2.0){float t=time/1000.0;float diffDistance=5.0;float modX=mod(v_position.x,diffDistance*2.0);float modZ=mod(v_position.z,diffDistance*2.0);if(modX<diffDistance&&modZ<diffDistance&&v_position.z<v_height){color*=1.05;if(time>0.0&&style==2.0){float iX=ceil(v_position.x/diffDistance);float iZ=ceil(v_position.z/diffDistance);float timeDistance=8.0;t+=tan(sin(iZ));color*=(1.0+mod(t,timeDistance)/timeDistance);}}color.a=alpha;}else if(style==5.0){float t=time/1000.0;float diffDistance=10.0;float modZ=mod(v_position.z-t*40.0,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.5);if(v_position.z/v_height<0.3){color.r+=0.2;color.g+=0.2;color.b+=0.2;}if(modZ<diffDistance*2.0-4.0){discard;}}else if(style==3.0){float diffDistance=10.0;float modX=mod(v_position.x,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.3);}else if(style==4.0){float dis=distance(u_ripple_center,v_position);float rSize=400.0;if(v_position.z>=v_height){color=top_color;}if(dis>u_radius-rSize&&dis<u_radius+rSize){color*=(1.0-abs(dis-u_radius)/rSize)*2.0+1.0;}}else if(style==6.0){}gl_FragColor=color;}",defines:r},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.heightBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.textureBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),r=[{name:"a_pos",buffer:this.vertexBuffer,stride:28,size:4,type:"FLOAT",offset:0},{name:"a_normal",buffer:this.vertexBuffer,size:3,stride:28,type:"FLOAT",offset:16},{name:"a_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:0},{name:"a_pre_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:16},{name:"a_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:0},{name:"a_pre_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:4}],t.texture&&r.push({name:"a_texture_coord",buffer:this.textureBuffer,size:2,stride:8,type:"FLOAT",offset:0}),r=r.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:r}),this.initializeTime=new Date,this.normalMatrix=js.create()}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){var r=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout((function(){r.loadTexture((function(){r.dataMgr.parseData(t),r.dataTime=new Date,r.webglLayer.render()}))}),0))}},{key:"render",value:function(e){var t=e.gl,r=e.projectionMatrix,n=e.viewMatrix;if(this._isShow){var i=this.getData();if(i&&!(0>=i.length)){i=this.getOptions();var o=this.program;if(o.use(t),!i.texture||this.texture){var a=0;i.style&&Pu[i.style]&&(a=Pu[i.style]);var s=[t.ONE,t.ZERO];if(i.blend&&(s=[t.ONE,t.ONE]),0!==i.height&&"gradual"!==i.style||(s=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]),this.setGLState({cullFace:!1,blend:!0,blendEquation:t.FUNC_ADD,blendFunc:s,polygonOffset:i.polygonOffset,depthTest:i.depthTest,depthMask:"gradual"!==i.style}),s=this.normizedColor(i.topColor),"ripple"===i.style&&i.rippleLayer&&i.rippleLayer.data&&i.rippleLayer.data[0]){var u=this.normizedPoint(i.rippleLayer.data[0].geometry.coordinates);o.setUniforms({u_ripple_center:[u[0],u[1],0],u_radius:i.rippleLayer.options.size*i.rippleLayer.currentScale})}u=Fs.fromValues(0,-1,2),i.lightDir&&(u=Fs.fromValues(i.lightDir[0],i.lightDir[1],i.lightDir[2]));var l=this.normalMatrix;js.invert(l,n),js.transpose(l,l),o.setUniforms(gr(this.getCommonUniforms(e),{u_normal_matrix:l,u_sampler:this.texture,u_proj_matrix:r,u_mv_matrix:n,style:a,u_use_top_color:i.useTopColor,top_color:s,u_use_lighting:i.useLight,u_use_texture:this.isUseTexture,alpha:void 0===i.opacity?.8:parseFloat(i.opacity),time:new Date-this.initializeTime,dataTime:new Date-this.dataTime,riseTime:i.riseTime,u_side_light_dir:u})),e=this.dataMgr.getData(),0<e.vertex.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),t.drawElements(t.TRIANGLES,e.index.length,t.UNSIGNED_INT,0))}}}else this.webglLayer.clear()}},{key:"loadTexture",value:function(e){var t=this,r=this.getOptions();r.texture?(this.isUseTexture=!0,j(this.gl,r.texture,(function(r,n){t.image=n,t.texture=r,e&&e(),t.webglLayer.render()}))):(this.isUseTexture=!1,this.image=this.texture=null,e&&e())}}]),t}(vu);ce.prototype.initData=function(){this.outBuilding3d={pickColorVertex:[],vertex:[],texture:[],color:[],height:[],index:[]}},ce.prototype.getData=function(){return this.outBuilding3d},ce.prototype.initWorker=function(){this.worker=new Lu,this.worker.onmessage=function(e){}},ce.prototype.parseData=function(e){var t=this;this.initData();for(var r=this.shapeLayer.getOptions(),n=0;n<e.length;n++){var i=e[n],o=i.height||r.height;"properties"in i&&"height"in i.properties&&(o=i.properties.height),o*=1;var a=i.color||r.color;"properties"in i&&"color"in i.properties&&(a=i.properties.color),"properties"in i&&"fillColor"in i.properties&&(a=i.properties.fillColor),"[object Function]"===Object.prototype.toString.call(a)&&(a=a(i)),a=this.shapeLayer.normizedColor(a);var s=this.shapeLayer.getProperty("angle",r.textureRotate,i),u=void 0;r.enablePicked&&(u=this.shapeLayer.indexToRgb(n));var l=void 0,c=void 0;if(r.riseTime&&(c=i.preColor,"properties"in i&&"preColor"in i.properties&&(c=i.properties.preColor),l=i.preHeight,"properties"in i&&"preHeight"in i.properties&&(l=i.properties.preHeight),void 0===l&&(l=0)),i.geometry.coordinates){if("LineString"===i.geometry.type){var h=i.geometry.coordinates.map((function(e){return t.shapeLayer.normizedPoint(e)})),f=H.flatten([h]);h=f.vertices,f=f.holes;for(var p=[],d=[],g=0;g<h.length;g+=3)p.push(h[g+0],h[g+1]),d.push(h[g+2]);this.parseBuilding3d(this.outBuilding3d,p,d,l,o,c,a,u,s,f)}if("MultiPolygon"===i.geometry.type){for(h=i.geometry.coordinates,i=[],f=0;f<h.length;f++)i.push(h[f].map((function(e){return e.map((function(e){return t.shapeLayer.normizedPoint(e)}))})));for(h=0;h<i.length;h++){f=[],p=[],g=H.flatten(i[h]),d=g.vertices,g=g.holes;for(var m=0;m<d.length;m+=3)f.push(d[m+0],d[m+1]),p.push(d[m+2]);this.parseBuilding3d(this.outBuilding3d,f,p,l,o,c,a,u,s,g)}}else{for(h=[],f=0;f<i.geometry.coordinates.length;f++)h.push(i.geometry.coordinates[f].map((function(e){return t.shapeLayer.normizedPoint(e)})));for(h=H.flatten(h),i=h.vertices,h=h.holes,f=[],p=[],d=0;d<i.length;d+=3)f.push(i[d+0],i[d+1]),p.push(i[d+2]);this.parseBuilding3d(this.outBuilding3d,f,p,l,o,c,a,u,s,h)}}}this.shapeLayer.vertexBuffer.updateData(new Float32Array(this.outBuilding3d.vertex)),this.shapeLayer.colorBuffer.updateData(new Float32Array(this.outBuilding3d.color)),this.shapeLayer.heightBuffer.updateData(new Float32Array(this.outBuilding3d.height)),this.shapeLayer.textureBuffer.updateData(new Float32Array(this.outBuilding3d.texture)),this.shapeLayer.indexBuffer.updateData(new Uint32Array(this.outBuilding3d.index)),r.enablePicked&&this.shapeLayer.pickBuffer.updateData(new Float32Array(this.outBuilding3d.pickColorVertex))},ce.prototype.getBounds=function(e,t){for(var r=e[0],n=e[1],i=e[0],o=e[1],a=0;a<e.length;a+=2)r=Math.min(e[a],r),n=Math.min(e[a+1],n),i=Math.max(e[a],i),o=Math.max(e[a+1],o);if(a=[(i-r)/2+r,(o-n)/2+n],0===t||!t)return{minX:r,minY:n,maxX:i,maxY:o,width:i-r,height:o-n,center:a};for(r=e.slice(0),n=0;n<r.length;n+=2)i=he(e[n],e[n+1],a,t),r[n]=i[0],r[n+1]=i[1];return this.getBounds(r,0)},ce.prototype.parseBuilding3d=function(e,t,r,n,i,o,a,s,u,l){void 0===n&&(n=i);var c=this.shapeLayer.options,h=e.vertex,f=e.texture,p=e.color,d=e.height,g=e.pickColorVertex;e=e.index,void 0===o&&(o=a);var m=0,v=0;if(this.shapeLayer.image&&(m=this.shapeLayer.image.width*c.textureScale,v=this.shapeLayer.image.height*c.textureScale),"gradual"!==c.style){l=l&&l.length?H(t,l,2):H(t);var y=l[0],b=l[1],x=l[2];y=[t[2*y],t[2*y+1],1],b=[t[2*b],t[2*b+1],1];var A,w=[t[2*x],t[2*x+1],1];x=[],Fs.cross(x,[w[0]-b[0],w[1]-b[1],w[2]-b[2]],[y[0]-b[0],y[1]-b[1],y[2]-b[2]]),b=h.length/7,c.texture&&(A=this.getBounds(t,u)),y=c.isTextureFull,w=0;for(var _=t.length;w<_;w+=2){if(h.push(t[w],t[w+1],r[w/2],1,x[0],x[1],x[2]),p.push(a[0],a[1],a[2],a[3],o[0],o[1],o[2],o[3]),d.push(i,n),c.texture){var C=he(t[w],t[w+1],A.center,u),M=xi(C,2);C=M[0],M=M[1],y?(C=(C-A.minX)/A.width,M=(M-A.minY)/A.height):(C=(C-A.minX)/m,M=(M-A.minY)/v),f.push(C,M)}s&&g.push(s[0]/255,s[1]/255,s[2]/255)}for(u=0,A=l.length;u<A;u++)e.push(l[u]+b)}if(!(i===n&&0>=i))for(u=0,l=t.length;u<l;u+=2)A=h.length/7,_=t[u],C=t[u+1],x=[_,C,r[u/2],0],b=[_,C,r[u/2],1],w=u+2,M=u+3,u===l-2&&(w=0,M=1),w=t[w],M=t[M],_=Math.sqrt(Math.pow(w-_,2),Math.pow(M-C,2)),C=[w,M,r[u/2],0],w=[w,M,r[u/2],1],M=[],Fs.cross(M,[C[0]-x[0],C[1]-x[1],C[2]-x[2]],[b[0]-x[0],b[1]-x[1],b[2]-x[2]]),h.push(x[0],x[1],x[2],x[3]),h.push(M[0],M[1],M[2]),h.push(b[0],b[1],b[2],b[3]),h.push(M[0],M[1],M[2]),h.push(C[0],C[1],C[2],C[3]),h.push(M[0],M[1],M[2]),h.push(w[0],w[1],w[2],w[3]),h.push(M[0],M[1],M[2]),p.push(a[0],a[1],a[2],a[3]),p.push(o[0],o[1],o[2],o[3]),p.push(a[0],a[1],a[2],a[3]),p.push(o[0],o[1],o[2],o[3]),p.push(a[0],a[1],a[2],a[3]),p.push(o[0],o[1],o[2],o[3]),p.push(a[0],a[1],a[2],a[3]),p.push(o[0],o[1],o[2],o[3]),d.push(i),d.push(n),d.push(i),d.push(n),d.push(i),d.push(n),d.push(i),d.push(n),c.texture&&(y?(f.push(0,0),f.push(0,1),f.push(1,0),f.push(1,1)):(f.push(0,0),f.push(0,i/v),f.push(_/m,0),f.push(_/m,i/v))),s&&(g.push(s[0]/255,s[1]/255,s[2]/255),g.push(s[0]/255,s[1]/255,s[2]/255),g.push(s[0]/255,s[1]/255,s[2]/255),g.push(s[0]/255,s[1]/255,s[2]/255)),e.push(A,A+2,A+3,A,A+3,A+1)};var Du=i((function(e,t){(function(t,r){e.exports=r()})(0,(function(){function e(r,n,i,o,a){for(;o>i;){if(600<o-i){var s=o-i+1,u=n-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*c*(s-c)/s)*(0>u-s/2?-1:1),e(r,n,Math.max(i,Math.floor(n-u*c/s+l)),Math.min(o,Math.floor(n+(s-u)*c/s+l)),a)}for(s=r[n],u=i,c=o,t(r,i,n),0<a(r[o],s)&&t(r,i,o);u<c;){for(t(r,u,c),u++,c--;0>a(r[u],s);)u++;for(;0<a(r[c],s);)c--}0===a(r[i],s)?t(r,i,c):(c++,t(r,c,o)),c<=n&&(i=c+1),n<=c&&(o=c-1)}}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}function n(e,t){i(e,0,e.children.length,t,e)}function i(e,t,r,n,i){for(i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;t<r;t++){var a=e.children[t];o(i,e.leaf?n(a):a)}return i}function o(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function a(e,t){return e.minX-t.minX}function s(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function l(e){return e.maxX-e.minX+(e.maxY-e.minY)}function c(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(t,n,i,o,a){for(var s=[n,i];s.length;)if(i=s.pop(),n=s.pop(),!(i-n<=o)){var u=n+Math.ceil((i-n)/o/2)*o;e(t,u,n||0,i||t.length-1,a||r),s.push(n,u,u,i)}}var d=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(e){var t=this.data,r=[];if(!h(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?n(a):a;h(e,s)&&(t.leaf?r.push(a):c(e,s)?this._all(a,r):i.push(a))}t=i.pop()}return r},d.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],o=t.leaf?this.toBBox(i):i;if(h(e,o)){if(t.leaf||c(e,o))return!0;r.push(i)}}t=r.pop()}return!1},d.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}return e=this._build(e.slice(),0,e.length-1,0),this.data.children.length?this.data.height===e.height?this._splitRoot(this.data,e):(this.data.height<e.height&&(t=this.data,this.data=e,e=t),this._insert(e,this.data.height-e.height-1,!0)):this.data=e,this},d.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},d.prototype.clear=function(){return this.data=f([]),this},d.prototype.remove=function(e,t){if(!e)return this;for(var r,n,i,o=this.data,a=this.toBBox(e),s=[],u=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],r=u.pop(),i=!0),o.leaf){e:{var l=e,h=o.children,f=t;if(f){for(var p=0;p<h.length;p++)if(f(l,h[p])){l=p;break e}l=-1}else l=h.indexOf(l)}if(-1!==l){o.children.splice(l,1),s.push(o),this._condense(s);break}}i||o.leaf||!c(o,a)?n?(r++,o=n.children[r],i=!1):o=null:(s.push(o),u.push(r),r=0,n=o,o=o.children[0])}return this},d.prototype.toBBox=function(e){return e},d.prototype.compareMinX=function(e,t){return e.minX-t.minX},d.prototype.compareMinY=function(e,t){return e.minY-t.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(e){return this.data=e,this},d.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},d.prototype._build=function(e,t,r,i){var o=r-t+1,a=this._maxEntries;if(o<=a){var s=f(e.slice(t,r+1));return n(s,this.toBBox),s}for(i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=f([]),s.leaf=!1,s.height=i,o=Math.ceil(o/a),a=o*Math.ceil(Math.sqrt(a)),p(e,t,r,a,this.compareMinX);t<=r;t+=a){var u=Math.min(t+a-1,r);p(e,t,u,o,this.compareMinY);for(var l=t;l<=u;l+=o)s.children.push(this._build(e,l,Math.min(l+o-1,u),i-1))}return n(s,this.toBBox),s},d.prototype._chooseSubtree=function(e,t,r,n){for(;;){if(n.push(t),t.leaf||n.length-1===r)break;for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),h=(Math.max(l.maxX,e.maxX)-Math.min(l.minX,e.minX))*(Math.max(l.maxY,e.maxY)-Math.min(l.minY,e.minY))-c;h<o?(o=h,i=c<i?c:i,a=l):h===o&&c<i&&(i=c,a=l)}t=a||t.children[0]}return t},d.prototype._insert=function(e,t,r){r=r?e:this.toBBox(e);var n=[],i=this._chooseSubtree(r,this.data,t,n);for(i.children.push(e),o(i,r);0<=t;){if(!(n[t].children.length>this._maxEntries))break;this._split(n,t),t--}this._adjustParentBBoxes(r,n,t)},d.prototype._split=function(e,t){var r=e[t],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i),i=this._chooseSplitIndex(r,o,i),i=f(r.children.splice(i,r.children.length-i)),i.height=r.height,i.leaf=r.leaf,n(r,this.toBBox),n(i,this.toBBox),t?e[t-1].children.push(i):this._splitRoot(r,i)},d.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(e,t,r){for(var n,o=1/0,a=1/0,s=t;s<=r-t;s++){var l=i(e,0,s,this.toBBox),c=i(e,s,r,this.toBBox),h=Math.max(0,Math.min(l.maxX,c.maxX)-Math.max(l.minX,c.minX))*Math.max(0,Math.min(l.maxY,c.maxY)-Math.max(l.minY,c.minY));l=u(l)+u(c),h<o?(o=h,n=s,a=l<a?l:a):h===o&&l<a&&(a=l,n=s)}return n||r-t},d.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:a,i=e.leaf?this.compareMinY:s,o=this._allDistMargin(e,t,r,n);t=this._allDistMargin(e,t,r,i),o<t&&e.children.sort(n)},d.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n),n=this.toBBox;for(var a=i(e,0,t,n),s=i(e,r-t,r,n),u=l(a)+l(s),c=t;c<r-t;c++){var h=e.children[c];o(a,e.leaf?n(h):h),u+=l(a)}for(r=r-t-1;r>=t;r--)a=e.children[r],o(s,e.leaf?n(a):a),u+=l(s);return u},d.prototype._adjustParentBBoxes=function(e,t,r){for(;0<=r;r--)o(t[r],e)},d.prototype._condense=function(e){for(var t,r=e.length-1;0<=r;r--)0===e[r].children.length?0<r?(t=e[r-1].children,t.splice(t.indexOf(e[r]),1)):this.clear():n(e[r],this.toBBox)},d}))})),ku=function(e){function t(e){gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="TextLayer";var r=e.canvas=document.createElement("canvas");return r=e.ctx=r.getContext("2d"),r.textAlign="start",r.textBaseline="top",e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,depthTest:!0,color:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,flat:!1,collides:!0,unit:"px",angle:0,offset:[0,0],padding:[2,2],margin:[0,0],polygonOffset:[0,0],shadow:{}}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform bool uFlat;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute float scale;attribute float rotation;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)+size.x*sin(rotation);}else if(corner==2.0){x+=size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)-size.x*sin(rotation);}else if(corner==3.0){x+=size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)-size.x*sin(rotation);}else{x+=-size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)+size.x*sin(rotation);}return vec3(x,y,coord.z);}void main(){vTextCoord=aTextCoord;if(uFlat){vec2 pixelOffset=offset;vec2 halfSize=size/2.0*scale;if(uUnitPx){halfSize*=zoomUnits;pixelOffset*=zoomUnits;}vec3 current=transformCoord(position,halfSize,corner);current.z+=zIndex;gl_Position=matrix*vec4(current.x+pixelOffset[0],current.y-pixelOffset[1],current.z,1.0);}else{vec2 pixelOffset=offset*zoomUnits;vec4 projection=matrix*vec4(position.x+pixelOffset[0],position.y-pixelOffset[1],position.z+zIndex,1.0);vec3 screen=projection.xyz/projection.w;vec2 halfSize=size/MAPV_resolution*devicePixelRatio*scale;vec3 current=transformCoord(screen,halfSize,corner);gl_Position=vec4(current,1.0);}}",fragmentShader:"precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){gl_FragColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"position",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"scale",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t)}},{key:"processCache",value:function(e,t){this.cachedData=[];for(var r=0;r<t.length;r++){var n=this.normizedPoint(t[r].geometry.coordinates),i=t[r].text;"properties"in t[r]&&"text"in t[r].properties&&(i=t[r].properties.text);var o=this.getProperty("angle",e.angle,t[r]),a=this.getProperty("color",e.color,t[r]);n&&void 0!==i&&this.cachedData.push({point:n,text:i,angle:o,color:a,index:r})}}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.map){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.throttleUpdate(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite});var o=this.map.getZoomUnits();i.setUniforms(gr(this.getCommonUniforms(e),{matrix:r,devicePixelRatio:window.devicePixelRatio,textureImage:this.texture,uFlat:n.flat,offset:n.offset,zoomUnits:o,zIndex:n.zIndex,uUnitPx:"px"===n.unit})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"throttleUpdate",value:function(e){this.updateText(e)}},{key:"updateText",value:function(e){var t=e.gl,r=e.matrix,n=this.getOptions();e=n.fontSize;var i=n.fontFamily,o=n.padding,a=n.margin,s=n.collides,u=n.enablePicked,l=n.shadow,c=t.canvas.width/window.devicePixelRatio,h=t.canvas.height/window.devicePixelRatio,f=this.canvas;t=this.ctx,t.save(),t.scale(window.devicePixelRatio,window.devicePixelRatio),t.textBaseline="top",t.font="20px "+i;var p=new Du;n=[];for(var d=0;d<this.cachedData.length;d++){var g=this.cachedData[d],m=g.point,v=g.text,y=g.angle,b=g.color;g=g.index;var x=xi(m,3);x=Ns.clone([x[0],x[1],x[2],1]),Ns.transformMat4(x,x,r),Ns.scale(x,x,1/x[3]);var A=(x[0]+1)/2*c,w=(1-x[1])/2*h,_=t.measureText(v);x=_.width+2*o[0];var C=20;_.actualBoundingBoxAscent&&_.actualBoundingBoxDescent&&(C=_.actualBoundingBoxDescent-_.actualBoundingBoxAscent),C+=2*o[1];var M=x+a[0];if(_=C+a[1],A-=M/2,w-=_/2,M=A+M,_=w+_,!(0>M||0>_||A>c||w>h)){if(s){if(_={minX:A,maxX:M,minY:w,maxY:_},p.collides(_))continue;p.insert(_)}n.push({w:x,h:C,point:m,text:v,angle:y,color:b,dataIndex:g})}}for(t.restore(),a=fe(n),r=a.w,a=a.h,0>=r&&(r=1),0>=a&&(a=1),f.width=r*window.devicePixelRatio,f.height=a*window.devicePixelRatio,t.save(),t.scale(window.devicePixelRatio,window.devicePixelRatio),t.textBaseline="top",t.font="20px "+i,t.shadowColor=l&&l.color,t.shadowOffsetX=l&&l.offsetX,t.shadowOffsetY=l&&l.offsetY,t.shadowBlur=l&&l.blur,i=[],l=[],f=[],s=[],c=0,h=n.length;c<h;++c){for(p=n[c],t.fillStyle=p.color,t.fillText(p.text,p.x+o[0],p.y+o[1]),v=xi(p.point,3),d=v[0],m=v[1],v=v[2],y=0;4>y;y++)i.push(d,m,v),i.push(y),i.push(p.w,p.h),i.push(e/20,p.angle*Math.PI/180);d=p.x/r,m=(p.x+p.w)/r,v=(p.y+p.h)/a,y=p.y/a,l.push(d,v,d,y,m,y,m,v),d=4*c,f.push(d,d+2,d+1,d,d+3,d+2),u&&(p=this.indexToRgb(p.dataIndex),s.push(p[0]/255,p[1]/255,p[2]/255),s.push(p[0]/255,p[1]/255,p[2]/255),s.push(p[0]/255,p[1]/255,p[2]/255),s.push(p[0]/255,p[1]/255,p[2]/255))}t.restore(),this.loadTexture(),this.index=f,this.vertexBuffer.updateData(new Float32Array(i)),this.uvBuffer.updateData(new Float32Array(l)),this.indexBuffer.updateData(new Uint32Array(f)),u&&this.pickBuffer.updateData(new Float32Array(s))}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t}),{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),t}(vu),Nu=function(e){function t(e){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e))}return si(t,e),Tr(t,[{key:"initialize",value:function(e){var t=this;this.children&&this.children.forEach((function(r){r.map=t.map,r.setWebglLayer(t.getWebglLayer()),r.commonInitialize&&r.commonInitialize(e),r.initialize&&r.initialize(e),r.onOptionsChanged(r.getOptions()),r.onDataChanged(r.getData()),r.onChanged(r.getOptions(),r.getData())}))}},{key:"isRequestAnimation",value:function(){if(void 0!==this.autoUpdate)return _u(t.prototype.__proto__||Ar(t.prototype),"isRequestAnimation",this).call(this);for(var e=!1,r=0;r<this.children.length;r++)if(this.children[r].isRequestAnimation()){e=!0;break}return e}},{key:"render",value:function(e){this.children&&this.children.forEach((function(t){t.render(e)}))}}]),t}(mu),Fu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.preHeightMapper={},e.preColorMapper={},e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return gr(_u(t.prototype.__proto__||Ar(t.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,gridGap:5,height:function(){return 1e3},color:function(){return"rgb(200, 200, 20)"}})}},{key:"generateGrid",value:function(e,t){var r=t.gridSize,n=[],i={};t=e.length;for(var o=this.getPointOffset(),a=0;a<t;a++){var s=this.normizedPoint(e[a].geometry.coordinates);s=~~((s[0]+o[0])/r)+"_"+~~((s[1]+o[1])/r),void 0===i[s]&&(i[s]=0);var u=~~e[a].count||1;"properties"in e[a]&&"count"in e[a].properties&&(u=~~e[a].properties.count),i[s]+=u}return ur(i).forEach((function(e){var t=e.split("_");n.push([t[0]*r+r/2,t[1]*r+r/2,i[e]])})),n}},{key:"onChanged",value:function(e,r){r=this.processData(r),_u(t.prototype.__proto__||Ar(t.prototype),"onChanged",this).call(this,e,r)}},{key:"getGridDataRange",value:function(){var e=this.gridData,t=void 0,r=void 0;e[0]&&(t=e[0][2],r=e[0][2]);for(var n=e.length,i=0;i<n;i++){var o=e[i];t=Math.max(o[2],t),r=Math.min(o[2],r)}return{max:t/2,min:r}}},{key:"processData",value:function(e){var t=this.getOptions(),r=t.gridSize,n=[];if("normal"===t.style)for(var i=this.getPointOffset(),o=0;o<e.length;o++){var a=this.normizedPoint(e[o].geometry.coordinates),s=a[0]+i[0];a=a[1]+i[1];var l=~~e[o].count||1;"properties"in e[o]&&"count"in e[o].properties&&(l=~~e[o].properties.count);var c=e[o].color;"properties"in e[o]&&"color"in e[o].properties&&(c=~~e[o].properties.color),n.push([s,a,l,c])}else n=this.generateGrid(e,t);for(e=[],this._preHeightMapper={},this._preColorMapper={},i=0;i<n.length;i++)o=n[i],o[0]=o[0],o[1]=o[1],s=o[2],t.height&&(s="function"===typeof t.height?t.height({count:o[2],coordinates:[o[0],o[1]]}):t.height),a=r/2-t.gridGap,l=o[3],t.color&&(l="function"===typeof t.color?t.color({count:o[2],color:o[3]}):u(l||t.color).unitArray()),c="p"+o[0]+o[1],e.push({geometry:{type:"Polygon",coordinates:[[[o[0]-a,o[1]-a],[o[0]-a,o[1]+a],[o[0]+a,o[1]+a],[o[0]+a,o[1]-a]]]},color:l,origin:o,count:o[2],preHeight:this.preHeightMapper[c],preColor:this.preColorMapper[c],height:s}),this._preHeightMapper[c]=s,this._preColorMapper[c]=l;return this.preHeightMapper=this._preHeightMapper,this.preColorMapper=this._preColorMapper,this.gridData=e}}]),t}(Ou),Bu=function(e){function t(e){gt(this,t);var r=Qn(this,(t.__proto__||Ar(t)).call(this,e));return r.gridLayer=new Fu(e),r.options.textOptions=gr({show:!1,flat:!0,unit:"m",fontSize:100,collides:!1},e.textOptions||{}),r.textLayer=new ku(r.options.textOptions),r.children=[r.gridLayer,r.textLayer],r}return si(t,e),Tr(t,[{key:"setData",value:function(e){this.gridLayer.setData(e),this.options.textOptions.show&&this.setTextData()}},{key:"setTextData",value:function(){var e=this.gridLayer.gridData.map((function(e){return{geometry:{type:"Point",coordinates:[e.origin[0],e.origin[1],e.height+5]},properties:{text:e.count}}}));this.textLayer.setData(e)}},{key:"setOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.options.textOptions;gr(this.options,e),this.gridLayer.setOptions(this.options),e.textOptions&&(this.options.textOptions.show&&this.setTextData(),this.options.textOptions=gr(t||{},e.textOptions),this.textLayer.setOptions(this.options.textOptions))}},{key:"getData",value:function(){return this.gridLayer.getData()}},{key:"render",value:function(e){this.gridLayer.render(e),this.options.textOptions.show&&this.textLayer.render(e)}}]),t}(Nu),zu=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.gridLayer=new Bu(e.getGridOptions()),e.children=[e.gridLayer],e.options.riseTime&&(e.autoUpdate=!0),e}return si(t,e),Tr(t,[{key:"onDataChanged",value:function(e){this.gridLayer.setData(e)}},{key:"getGridOptions",value:function(){var e=this.getOptions(),t=e.max,r=e.min;void 0===t&&(r=this.gridLayer.getGridDataRange(),t=r.max,r=r.min);var n=new _({max:t,min:r,gradient:e.gradient,maxSize:e.maxHeight,minSize:e.minHeight});return e.height=function(e){var t=n.getSize(e.count);return"properties"in e&&"count"in e.properties&&(t=n.getSize(e.properties.count)),t},e.color=function(e){var t=n.getImageData(e.count);return"properties"in e&&"count"in e.properties&&(t=n.getImageData(e.properties.count)),[t[0]/255,t[1]/255,t[2]/255,t[3]/255]},e}},{key:"onOptionsChanged",value:function(e){this.gridLayer.setOptions(this.getGridOptions())}},{key:"getDefaultOptions",value:function(){return{style:"grid",gridSize:500,maxHeight:8e3,minHeight:200,gradient:{0:"rgb(50, 50, 256)",.1:"rgb(50, 250, 56)",.5:"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}}]),t}(Nu),Uu=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="SimpleLineLayer",e.bufferData=[],e}return si(t,e),Tr(t,[{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;attribute vec3 aPos;attribute vec4 aColor;varying vec4 vColor;\n#if defined(DASH)\nvarying vec3 vPos;\n#endif\nvoid main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos,1.0);\n#if defined(DASH)\nvPos=aPos;\n#endif\n}",fragmentShader:"precision highp float;varying vec4 vColor;varying vec3 vPos;void main(){\n#if defined(DASH)\nif(mod(vPos.x,3.0)<1.5){discard;}\n#endif\ngl_FragColor=vColor;}",defines:t.useDash?["DASH"]:""},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new Js({gl:e,program:this.program,attributes:[{stride:28,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12}]})}},{key:"onDestroy",value:function(){this.bufferData=[]}},{key:"onChanged",value:function(e,t){var r=this;if(this.gl){var n=[],i=function(e,t){if(e)for(var i=0;i<e.length-1;i++){var o=r.normizedPoint(e[i]);n.push(o[0]),n.push(o[1]),n.push(o[2]),n.push(t[0],t[1],t[2],t[3]),o=r.normizedPoint(e[i+1]),n.push(o[0]),n.push(o[1]),n.push(o[2]),n.push(t[0],t[1],t[2],t[3])}};e=e.color;for(var o=0;o<t.length;o++){var a=this.getProperty("color",e,t[o]);a=this.normizedColor(a);var s=t[o].geometry,u=s.coordinates;if("MultiPolygon"===s.type){if(u)for(s=0;s<u.length;s++)i(u[s][0],a)}else if("Polygon"===s.type)u&&i(u[0],a);else if("MultiLineString"===s.type){if(u)for(s=0;s<u.length;s++)i(u[s],a)}else i(u,a)}this.bufferData=n,this.buffer.updateData(new Float32Array(n))}}},{key:"render",value:function(e){var t=e.gl;if(e=e.matrix,this.bufferData&&!(0>=this.bufferData.length)){var r=this.program;r.use(t),this.vertexArray.bind(),r.setUniforms({u_matrix:e}),e=this.getOptions(),this.setGLState({blend:!0,blendFunc:"lighter"===e.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],blendEquation:t.FUNC_ADD}),t.drawArrays(t.LINES,0,this.bufferData.length/7)}}}]),t}(vu),ju=en.f("species"),Hu=i((function(e){e.exports={default:ju,__esModule:!0}}));n(Hu);var Gu="undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},Vu=[],Wu=[],Xu="undefined"!==typeof Uint8Array?Uint8Array:Array,qu=!1,Yu={}.toString,Zu=Array.isArray||function(e){return"[object Array]"==Yu.call(e)};be.TYPED_ARRAY_SUPPORT=void 0===Gu.TYPED_ARRAY_SUPPORT||Gu.TYPED_ARRAY_SUPPORT,be.poolSize=8192,be._augment=function(e){return e.__proto__=be.prototype,e},be.from=function(e,t,r){return xe(null,e,t,r)},be.TYPED_ARRAY_SUPPORT&&(be.prototype.__proto__=Uint8Array.prototype,be.__proto__=Uint8Array),be.alloc=function(e,t,r){return Ae(e),e=0>=e?ye(null,e):void 0!==t?"string"===typeof r?ye(null,e).fill(t,r):ye(null,e).fill(t):ye(null,e),e},be.allocUnsafe=function(e){return we(null,e)},be.allocUnsafeSlow=function(e){return we(null,e)},be.isBuffer=function(e){return null!=e&&(!!e._isBuffer||Ve(e)||"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&Ve(e.slice(0,0)))},be.compare=function(e,t){if(!Se(e)||!Se(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},be.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},be.concat=function(e,t){if(!Zu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return be.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;t=be.allocUnsafe(t);var n=0;for(r=0;r<e.length;++r){var i=e[r];if(!Se(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(t,n),n+=i.length}return t},be.byteLength=Te,be.prototype._isBuffer=!0,be.prototype.swap16=function(){var e=this.length;if(0!==e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ie(this,t,t+1);return this},be.prototype.swap32=function(){var e=this.length;if(0!==e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ie(this,t,t+3),Ie(this,t+1,t+2);return this},be.prototype.swap64=function(){var e=this.length;if(0!==e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ie(this,t,t+7),Ie(this,t+1,t+6),Ie(this,t+2,t+5),Ie(this,t+3,t+4);return this},be.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Pe(this,0,e):Ee.apply(this,arguments)},be.prototype.equals=function(e){if(!Se(e))throw new TypeError("Argument must be a Buffer");return this===e||0===be.compare(this,e)},be.prototype.inspect=function(){var e="";return 0<this.length&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(e+=" ... ")),"<Buffer "+e+">"},be.prototype.compare=function(e,t,r,n,i){if(!Se(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>t||r>e.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;var o=i-n,a=r-t,s=Math.min(o,a);for(n=this.slice(n,i),e=e.slice(t,r),t=0;t<s;++t)if(n[t]!==e[t]){o=n[t],a=e[t];break}return o<a?-1:a<o?1:0},be.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},be.prototype.indexOf=function(e,t,r){return Re(this,e,t,r,!0)},be.prototype.lastIndexOf=function(e,t,r){return Re(this,e,t,r,!1)},be.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),0<e.length&&(0>r||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":e:{if(t=Number(t)||0,n=this.length-t,r?(r=Number(r),r>n&&(r=n)):r=n,n=e.length,0!==n%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(e.substr(2*n,2),16),isNaN(i)){e=n;break e}this[t+n]=i}e=n}return e;case"utf8":case"utf-8":return Ge(Ue(e,this.length-t),this,t,r);case"ascii":return Ge(je(e),this,t,r);case"latin1":case"binary":return Ge(je(e),this,t,r);case"base64":return Ge(He(e),this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=e,i=this.length-t;for(var o=[],a=0;a<n.length&&!(0>(i-=2));++a){var s=n.charCodeAt(a);e=s>>8,s%=256,o.push(s),o.push(e)}return Ge(o,this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},be.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ku=4096;be.prototype.slice=function(e,t){var r=this.length;if(e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),t<e&&(t=e),be.TYPED_ARRAY_SUPPORT)t=this.subarray(e,t),t.__proto__=be.prototype;else{r=t-e,t=new be(r,void 0);for(var n=0;n<r;++n)t[n]=this[n+e]}return t},be.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Oe(e,t,this.length),r=this[e];for(var n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return r},be.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Oe(e,t,this.length),r=this[e+--t];for(var n=1;0<t&&(n*=256);)r+=this[e+--t]*n;return r},be.prototype.readUInt8=function(e,t){return t||Oe(e,1,this.length),this[e]},be.prototype.readUInt16LE=function(e,t){return t||Oe(e,2,this.length),this[e]|this[e+1]<<8},be.prototype.readUInt16BE=function(e,t){return t||Oe(e,2,this.length),this[e]<<8|this[e+1]},be.prototype.readUInt32LE=function(e,t){return t||Oe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},be.prototype.readUInt32BE=function(e,t){return t||Oe(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},be.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Oe(e,t,this.length),r=this[e];for(var n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return r>=128*n&&(r-=Math.pow(2,8*t)),r},be.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Oe(e,t,this.length),r=t;for(var n=1,i=this[e+--r];0<r&&(n*=256);)i+=this[e+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*t)),i},be.prototype.readInt8=function(e,t){return t||Oe(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},be.prototype.readInt16LE=function(e,t){return t||Oe(e,2,this.length),e=this[e]|this[e+1]<<8,32768&e?4294901760|e:e},be.prototype.readInt16BE=function(e,t){return t||Oe(e,2,this.length),e=this[e+1]|this[e]<<8,32768&e?4294901760|e:e},be.prototype.readInt32LE=function(e,t){return t||Oe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},be.prototype.readInt32BE=function(e,t){return t||Oe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},be.prototype.readFloatLE=function(e,t){return t||Oe(e,4,this.length),me(this,e,!0,23,4)},be.prototype.readFloatBE=function(e,t){return t||Oe(e,4,this.length),me(this,e,!1,23,4)},be.prototype.readDoubleLE=function(e,t){return t||Oe(e,8,this.length),me(this,e,!0,52,8)},be.prototype.readDoubleBE=function(e,t){return t||Oe(e,8,this.length),me(this,e,!1,52,8)},be.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||De(this,e,t,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[t]=255&e;++i<r&&(n*=256);)this[t+i]=e/n&255;return t+r},be.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||De(this,e,t,r,Math.pow(2,8*r)-1,0),n=r-1;var i=1;for(this[t+n]=255&e;0<=--n&&(i*=256);)this[t+n]=e/i&255;return t+r},be.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,1,255,0),be.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},be.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,65535,0),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ke(this,e,t,!0),t+2},be.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,65535,0),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ke(this,e,t,!1),t+2},be.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,4294967295,0),be.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Ne(this,e,t,!0),t+4},be.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,4294967295,0),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ne(this,e,t,!1),t+4},be.prototype.writeIntLE=function(e,t,r,n){e=+e,t|=0,n||(n=Math.pow(2,8*r-1),De(this,e,t,r,n-1,-n)),n=0;var i=1,o=0;for(this[t]=255&e;++n<r&&(i*=256);)0>e&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/i>>0)-o&255;return t+r},be.prototype.writeIntBE=function(e,t,r,n){e=+e,t|=0,n||(n=Math.pow(2,8*r-1),De(this,e,t,r,n-1,-n)),n=r-1;var i=1,o=0;for(this[t+n]=255&e;0<=--n&&(i*=256);)0>e&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/i>>0)-o&255;return t+r},be.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,1,127,-128),be.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},be.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,32767,-32768),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ke(this,e,t,!0),t+2},be.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,2,32767,-32768),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ke(this,e,t,!1),t+2},be.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,2147483647,-2147483648),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Ne(this,e,t,!0),t+4},be.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||De(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Ne(this,e,t,!1),t+4},be.prototype.writeFloatLE=function(e,t,r){return Be(this,e,t,!0,r)},be.prototype.writeFloatBE=function(e,t,r){return Be(this,e,t,!1,r)},be.prototype.writeDoubleLE=function(e,t,r){return ze(this,e,t,!0,r)},be.prototype.writeDoubleBE=function(e,t,r){return ze(this,e,t,!1,r)},be.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&r<t&&t<n)for(n=i-1;0<=n;--n)e[n+t]=this[n+r];else if(1e3>i||!be.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},be.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!be.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(0>t||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(n=t;n<r;++n)this[n]=e;else for(e=Se(e)?e:Ue(new be(e,n).toString()),i=e.length,n=0;n<r-t;++n)this[n+t]=e[n%i];return this};var Ju=/[^+\/0-9A-Za-z-_]/g,Qu={normal:null,road:Je()},$u=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="LineLayer3D",e.initData(),e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",offset:0,blend:"normal",width:4,unit:"px",flat:!1,antialias:!1,style:"normal",dashArray:[0,0],dashOffset:0,polygonOffset:[0,0]}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[],uv:[]}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions(),r=[];t.enablePicked&&r.push("PICK"),Qu[t.style]&&(this.isUseTexture=!0,r.push("USE_TEXTURE")),this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform vec4 uSelectedColor;uniform mat4 uMatrix;uniform bool uFlat;uniform bool uUnitPx;uniform vec2 uDashArray;uniform float thickness;uniform float zoomUnits;uniform float devicePixelRatio;uniform float uOffset;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aDistance;attribute float aTotalDistance;\n#if defined(USE_TEXTURE)\nattribute vec2 uv;\n#endif\nvarying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vTotalDistance;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}vec3 getNormalAndWidth(vec2 currentScreen,vec2 previousScreen,vec2 nextScreen,float thickness){vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){thickness=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);return vec3(normal,thickness);}void main(){vColor=aColor;vCounter=aDistance/aTotalDistance;vDashArray=uDashArray/aTotalDistance;if(uUnitPx){vDashArray*=zoomUnits;}vTotalDistance=aTotalDistance;\n#if defined(USE_TEXTURE)\nvUV=uv;\n#endif\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\nif(uFlat){float width=thickness;if(uUnitPx){width*=zoomUnits;}vec3 nw=getNormalAndWidth(position.xy,previous.xy,next.xy,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;float offsetXy=uOffset;float offsetHeight=uOffset/100.0;if(uUnitPx){offsetXy/=zoomUnits;offsetHeight*=zoomUnits;}gl_Position=uMatrix*vec4(position.xy+normal*(direction+offsetXy),position.z+offsetHeight,1.0);}else{vec4 previousProjected=uMatrix*vec4(previous,1.0);vec4 currentProjected=uMatrix*vec4(position,1.0);vec4 nextProjected=uMatrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float width=thickness*devicePixelRatio;if(!uUnitPx){width/=zoomUnits;}vec3 nw=getNormalAndWidth(currentScreen,previousScreen,nextScreen,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;vec2 pos=currentScreen+normal*direction;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}}",fragmentShader:"precision highp float;varying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vCounter;varying float vTotalDistance;uniform bool uAntialias;uniform float uDashOffset;uniform float zoomUnits;uniform float thickness;\n#if defined(USE_TEXTURE)\nuniform float uTextureMargin;uniform sampler2D textureImage;\n#endif\nvoid main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.8,1.0,length(vNormal));color.a*=blur;}\n#if defined(USE_TEXTURE)\nfloat segLen=uTextureMargin*zoomUnits;float textureLen=thickness*zoomUnits;float deltaX=mod(vUV.x,segLen);float middle=segLen/2.0;if(deltaX>=middle&&deltaX<=middle+textureLen){float uvx=(deltaX-middle)/textureLen;vec4 texture=texture2D(textureImage,vec2(uvx,vUV.y));color=texture.a>=0.5 ? texture : color;}\n#endif\nif(vDashArray.y>0.0){float offset=uDashOffset*zoomUnits/vTotalDistance;color.a*=(1.0-step(vDashArray.x,mod(vCounter+offset,vDashArray.x+vDashArray.y)));}gl_FragColor=color;}",defines:r},this),this.prevBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),r=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:8,name:"aDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0},{stride:8,name:"aTotalDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:4}],r=r.concat(this.getCommonAttributes()),Qu[t.style]&&(r.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),this.setOptions({texture:Qu[t.style]}),this.loadTexture()),this.vertexArray=new Js({gl:e,program:this.program,attributes:r})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){var r=this;if(this.gl){this.initData();for(var n=e.color,i=[],o=0;o<t.length;o++){var a=[],s=t[o].geometry.coordinates;s&&0<s.length&&(a="MultiPolygon"===t[o].geometry.type?s.reduce((function(e,t){return e.concat(t)}))[0].map((function(e){return r.normizedPoint(e)})):"Polygon"===t[o].geometry.type||"MultiLineString"===t[o].geometry.type?s[0].map((function(e){return r.normizedPoint(e)})):s.map((function(e){return r.normizedPoint(e)}))),s=this.getProperty("color",n,t[o]),s=this.getProperty("lineColor",n,t[o]),s=this.normizedColor(s);for(var u=this.addMultipleCoords(a),l=0;l<u.length;l++)this.processData(this.dataMgr,u[l],s);if(e.enablePicked)for(s=this.indexToRgb(o),u=0;u<a.length;u++)i.push(s[0]/255,s[1]/255,s[2]/255),i.push(s[0]/255,s[1]/255,s[2]/255),e.repeat&&(i.push(s[0]/255,s[1]/255,s[2]/255),i.push(s[0]/255,s[1]/255,s[2]/255),i.push(s[0]/255,s[1]/255,s[2]/255),i.push(s[0]/255,s[1]/255,s[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(this.dataMgr.uv)),e.enablePicked&&this.pickBuffer.updateData(new Float32Array(i))}}},{key:"processData",value:function(e,t,r){var n,i,o,a,s,u,l,c,h=t.length,f=e.position.length/6,p=Ze(t),d=p.arr,g=p.total;p=We(d.map((function(e){return[e,g]}))),d=d.map((function(e){return[e,0,e,1]}));var m=We(t.map((function(e){return-1})),!0),v=We(t),y=We(t.map(qe(-1))),b=We(t.map(qe(1)));t=We(t.map((function(e){return r}))),h=Xe(h,f),(n=e.uv).push.apply(n,Li(Ye(d))),(i=e.counter).push.apply(i,Li(Ye(p))),(o=e.position).push.apply(o,Li(Ye(v))),(a=e.prev).push.apply(a,Li(Ye(y))),(s=e.next).push.apply(s,Li(Ye(b))),(u=e.direction).push.apply(u,Li(m)),(l=e.color).push.apply(l,Li(Ye(t))),(c=e.index).push.apply(c,Li(h))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=this.dataMgr;if(n&&!(0>=n.index.length)&&this.map){var i=this.getOptions(),o=this.program;o.use(t),e=gr(this.getCommonUniforms(e),{uMatrix:r,uFlat:i.flat,uUnitPx:"px"===i.unit,zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio,thickness:i.width,uDashArray:i.dashArray,uDashOffset:i.dashOffset,uAntialias:i.antialias,uOffset:i.offset}),this.isUseTexture&&(e=gr(e,{uTextureMargin:140,textureImage:this.texture})),o.setUniforms(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===i.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:i.polygonOffset}),this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,n.index.length,t.UNSIGNED_INT,0)}}},{key:"loadTexture",value:function(e){var t=this,r=this.getOptions();r.texture?j(this.gl,r.texture,(function(r,n){t.image=n,t.texture=r,e&&e(),t.webglLayer.render()})):(this.image=this.texture=null,e&&e())}}]),t}(vu),el=function(){function e(t){gt(this,e),this.join=t.join||"miter",this.cap=t.cap||"butt",this.thickness=t.thickness||4,this.miterLimit=t.miterLimit||2*this.thickness,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],colors:[],uvs:[],startIndex:0,maxDistance:0},this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0}return Tr(e,[{key:"extrude",value:function(e,t,r,n){var i=this.complex;if(1>=e.length)return i;this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0;for(var o=e.length,a=i.startIndex,s=null,u=1;u<o;u++){var l=s||e[u-1],c=e[u],h=u<o-1?e[u+1]:null;h&&c[0]===h[0]&&c[1]===h[1]&&c[2]===h[2]?s=l:(l=this._segment(i,a,l,c,h,t,r,n),-1!==l&&(a+=l,s=null))}return this.dash&&(i.maxDistance=Math.max(this._totalDistance,i.maxDistance)),i.startIndex=i.positions.length/7,i}},{key:"_segment",value:function(e,t,r,n,i,o,a,s){var u=0,l=Bs.create(),c=Bs.create(),h=Bs.create(),f=Bs.create(),p=e.indices,d=e.positions,g=e.normals,m=e.colors;e=e.uvs;var v="square"===this.cap,y="round"===this.cap,b="bevel"===this.join,x="round"===this.join,A=[n[0],n[1]],w=[r[0],r[1]];$e(c,A,w);var _=0;if(this.dash&&(_=this._calcDistance(A,w),this._totalDistance+=_),this._normal||(this._normal=Bs.create(),Qe(this._normal,c)),!this._started)if(this._started=!0,v){w=Bs.create();var C=Bs.create();Bs.add(w,this._normal,c),Bs.sub(C,this._normal,c),g.push(C[0],C[1],0),g.push(w[0],w[1],0),d.push(r[0],r[1],r[2],this._totalDistance-_,o,a,0),d.push(r[0],r[1],r[2],this._totalDistance-_,-o,a,0),e.push(this._totalDistance-_,0,this._totalDistance-_,1),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3])}else if(y){w=Bs.fromValues(-c[0],-c[1]),C=Bs.create(),Bs.sub(C,this._normal,c),Bs.normalize(C,C);var M=Bs.create();Bs.add(M,this._normal,c),Bs.normalize(M,M);var S=Bs.fromValues(this._normal[0],this._normal[1]),T=Bs.fromValues(-this._normal[0],-this._normal[1]);for(g.push(w[0],w[1],0),g.push(C[0],C[1],0),g.push(-M[0],-M[1],0),g.push(S[0],S[1],0),g.push(T[0],T[1],0),w=0;5>w;w++)d.push(r[0],r[1],r[2],this._totalDistance-_,o,a,0),e.push(this._totalDistance-_,0),m.push(s[0],s[1],s[2],s[3]);p.push(t+0,t+2,t+1,t+1,t+2,t+3,t+3,t+2,t+4),u+=3,t+=3}else this._extrusions(d,g,e,m,r,this._normal,o,this._totalDistance-_,a,s);if(p.push.apply(p,Li(-1===this._lastFlip?[t+0,t+1,t+2]:[t+1,t+0,t+2])),i)$e(h,[i[0],i[1]],A),Bs.create(),Bs.add(f,c,h),Bs.normalize(f,f),_=Bs.fromValues(-f[1],f[0]),c=Bs.fromValues(-c[1],c[0]),c=[o/Bs.dot(_,c),_],c=xi(c,2),_=c[0],c=c[1],f=0<Bs.dot(f,this._normal)?-1:1,b||"miter"!==this.join||Math.abs(_)>this.miterLimit&&(b=!0),b?(x=Math.min(2*o,Math.abs(_)),g.push(this._normal[0],this._normal[1],0),g.push(c[0],c[1],0),d.push(n[0],n[1],n[2],this._totalDistance,o*f,a,0),d.push(n[0],n[1],n[2],this._totalDistance,-x*f,a,0),p.push.apply(p,Li(this._lastFlip===-f?[t+2,t+1,t+3]:[t+0,t+2,t+3])),Qe(l,h),Bs.copy(this._normal,l),g.push(this._normal[0],this._normal[1],0),d.push(n[0],n[1],n[2],this._totalDistance,o*f,a,0),p.push.apply(p,Li(1===f?[t+2,t+3,t+4]:[t+3,t+2,t+4])),this._flipedUV(e,this._totalDistance,f,!0),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3]),u+=3):x?(x=Math.min(2*o,Math.abs(_)),g.push(this._normal[0],this._normal[1],0),g.push(c[0],c[1],0),g.push(c[0],c[1],0),d.push(n[0],n[1],n[2],this._totalDistance,o*f,a,0),d.push(n[0],n[1],n[2],this._totalDistance,o*f,a,0),d.push(n[0],n[1],n[2],this._totalDistance,-x*f,a,0),p.push.apply(p,Li(this._lastFlip===-f?[t+2,t+1,t+4,t+2,t+4,t+3]:[t+0,t+2,t+4,t+2,t+3,t+4])),Qe(l,h),Bs.copy(this._normal,l),g.push(this._normal[0],this._normal[1],0),d.push(n[0],n[1],n[2],this._totalDistance,o*f,a,0),p.push.apply(p,Li(1===f?[t+4,t+3,t+5]:[t+3,t+4,t+5])),this._flipedUV(e,this._totalDistance,f,!1),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3]),u+=4):(this._extrusions(d,g,e,m,n,c,_,this._totalDistance,a,s),p.push.apply(p,Li(-1===this._lastFlip?[t+2,t+1,t+3]:[t+2,t+0,t+3])),f=-1,Bs.copy(this._normal,c),u+=2),this._lastFlip=f;else if(Qe(this._normal,c),v?(l=Bs.create(),h=Bs.create(),Bs.add(l,c,this._normal),Bs.sub(h,c,this._normal),g.push(l[0],l[1],0),g.push(h[0],h[1],0),d.push(n[0],n[1],n[2],this._totalDistance,o,a,0),d.push(n[0],n[1],n[2],this._totalDistance,o,a,0),e.push(this._totalDistance,0,this._totalDistance,1),m.push(s[0],s[1],s[2],s[3]),m.push(s[0],s[1],s[2],s[3])):this._extrusions(d,g,e,m,n,this._normal,o,this._totalDistance,a,s),p.push.apply(p,Li(-1===this._lastFlip?[t+2,t+1,t+3]:[t+2,t+0,t+3])),u+=2,y){for(l=Bs.create(),Bs.add(l,c,this._normal),Bs.normalize(l,l),h=Bs.create(),Bs.sub(h,c,this._normal),Bs.normalize(h,h),x=Bs.fromValues(c[0],c[1]),g.push(l[0],l[1],0),g.push(h[0],h[1],0),g.push(x[0],x[1],0),g=0;3>g;g++)d.push(n[0],n[1],n[2],this._totalDistance-_,o,a,0),e.push(this._totalDistance-_,0),m.push(s[0],s[1],s[2],s[3]);p.push(t+2,t+3,t+4,t+4,t+3,t+5,t+4,t+5,t+6),u+=3}return u}},{key:"_extrusions",value:function(e,t,r,n,i,o,a,s,u,l){t.push(o[0],o[1],0),t.push(o[0],o[1],0),e.push(i[0],i[1],i[2],s,a,u,0),e.push(i[0],i[1],i[2],s,-a,u,0),r.push(s,0,s,1),n.push(l[0],l[1],l[2],l[3]),n.push(l[0],l[1],l[2],l[3])}},{key:"_calcDistance",value:function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}},{key:"_flipedUV",value:function(e,t,r,n){n?-1===r?e.push(t,0,t,1,t,0):e.push(t,1,t,0,t,1):-1===r?e.push(t,0,t,0,t,1,t,0):e.push(t,1,t,1,t,0,t,1)}}]),e}(),tl={normal:null,road:Je,arrow:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.width;e=e.color;var r=Ke(),n=r.canvas;return r=r.ctx,r.save(),r.moveTo(5,0),r.lineTo(32,16),r.lineTo(5,32),r.strokeStyle=e||"#fff",r.lineWidth=t||8,r.stroke(),r.restore(),n}},rl=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="LineLayer",e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{style:"normal",styleOptions:{},color:"rgba(25, 25, 250, 1)",blend:"normal",lineJoin:"miter",lineCap:"butt",unit:"px",width:4,offset:0,antialias:!1,dashArray:[0,0],dashOffset:0,animation:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25,polygonOffset:[0,0],depthTest:!0,depthWrite:!0}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions(),r=[];t.enablePicked&&r.push("PICK"),tl[t.style]&&(this.isUseTexture=!0,this.prevStyle=t.style,this.prevStyleOptions=t.styleOptions,r.push("USE_TEXTURE")),!0===t.animation&&(this.isAnimateLine=!0,this.date=new Date,this.autoUpdate=!0,r.push("USE_LINE_ANIMATION")),!0===t.useDash&&r.push("USE_SIMPLE_DASH"),this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform vec4 uSelectedColor;uniform mat4 u_matrix;uniform vec2 u_dash_array;uniform float u_zoom_units;uniform float u_zIndex;uniform bool u_unit_px;attribute vec4 a_color;attribute vec3 a_position;attribute vec3 a_normal;attribute float a_distance;attribute float a_total_distance;attribute float a_width;attribute float a_offset;\n#if defined(USE_TEXTURE)\nattribute vec2 uv;\n#endif\nvarying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_total_distance;varying float v_counter;varying float v_width;\n#if defined(USE_SIMPLE_DASH)\nvarying vec3 v_position;\n#endif\nvoid main(){v_width=a_width;v_color=a_color;v_counter=a_distance/a_total_distance;v_dash_array=u_dash_array/a_total_distance;if(u_unit_px){v_dash_array*=u_zoom_units;}v_total_distance=a_total_distance;v_normal=vec2(normalize(a_normal.xy)*sign(a_width));\n#if defined(USE_TEXTURE)\nv_uv=uv;\n#endif\n#if defined(PICK)\nif(mapvIsPicked()){v_color=uSelectedColor;}\n#endif\nvec2 extrude=a_normal.xy*a_width/2.0;if(u_unit_px){extrude*=u_zoom_units;}vec2 offsetXY=a_normal.xy*-a_offset;float offsetZ=a_offset/100.0+u_zIndex;if(u_unit_px){offsetXY*=u_zoom_units;offsetZ*=u_zoom_units;}\n#if defined(USE_SIMPLE_DASH)\nv_position=a_position;\n#endif\ngl_Position=u_matrix*vec4(a_position.xy+extrude+offsetXY,a_position.z+offsetZ,1.0);}",fragmentShader:"precision highp float;varying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_counter;varying float v_total_distance;varying float v_width;\n#if defined(USE_SIMPLE_DASH)\nvarying vec3 v_position;\n#endif\nuniform bool u_antialias;uniform float u_dash_offset;uniform float u_zoom_units;\n#if defined(USE_LINE_ANIMATION)\nuniform bool u_animate;uniform float u_time;uniform float u_duration;uniform float u_interval;uniform float u_trail_length;\n#endif\n#if defined(USE_TEXTURE)\nuniform float u_texture_width;uniform float u_texture_margin;uniform sampler2D u_sampler;\n#endif\nvoid main(){vec4 color=v_color;\n#if defined(USE_SIMPLE_DASH)\nif(mod(v_position.x,5.0)<3.0){discard;}\n#endif\nif(u_antialias){float blur=1.0;blur=1.0-smoothstep(0.9,1.0,length(v_normal));color.a*=blur;}\n#if defined(USE_LINE_ANIMATION)\nif(u_animate){float alpha=1.0-fract(mod(1.0-v_counter,u_interval)*(1.0/u_interval)+u_time/u_duration);alpha=(alpha+u_trail_length-1.0)/u_trail_length;color.a*=alpha;gl_FragColor=color;return;}\n#endif\n#if defined(USE_TEXTURE)\nfloat margin_width=u_texture_margin*u_zoom_units;float margin_width_half=margin_width/2.0;float texture_width=u_texture_width*u_zoom_units;float delta=mod(v_uv.x,texture_width+margin_width);if(delta>=margin_width_half&&delta<=margin_width_half+texture_width){float uvx=(delta-margin_width_half)/texture_width;vec4 texture=texture2D(u_sampler,vec2(uvx,v_uv.y));color=texture.a>=0.5 ? texture : color;}\n#endif\nif(v_dash_array.y>0.0){float offset=u_dash_offset*u_zoom_units/v_total_distance;color.a*=(1.0-step(v_dash_array.x,mod(v_counter+offset,v_dash_array.x+v_dash_array.y)));}gl_FragColor=color;}",defines:r},this),this.positionBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.normalBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),r=[{stride:28,name:"a_position",buffer:this.positionBuffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"a_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:12},{stride:28,name:"a_width",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:16},{stride:28,name:"a_offset",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:20},{stride:28,name:"a_total_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:24},{stride:12,name:"a_normal",buffer:this.normalBuffer,size:3,type:"FLOAT",offset:0},{stride:16,name:"a_color",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0}],r=r.concat(this.getCommonAttributes()),this.isUseTexture&&(this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),r.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),t=(0,tl[t.style])(t.styleOptions),this.setOptions({texture:t}),this.loadTexture()),this.vertexArray=new Js({gl:e,program:this.program,attributes:r})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){var r=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(this.gl)if(!this.isUseTexture||this.prevStyle===e.style&&zi(this.prevStyleOptions)===zi(e.styleOptions))this.parseData(e,t,n);else{this.prevStyle=e.style,this.prevStyleOptions=e.styleOptions;var i=(0,tl[e.style])(e.styleOptions);this.setOptions({texture:i}),this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout((function(){r.loadTexture((function(){r.parseData(e,t,n)}))}),0)}}},{key:"parseData",value:function(e,t,r){var n=this,i=e.dashArray,o=e.width,a=e.color,s=e.offset;i=!!this.isUseTexture||!!i[1]||!!this.isAnimateLine;for(var u=new el({dash:i,cap:e.lineCap,join:e.lineJoin,miterLimit:e.miterLimit,thickness:o}),l=[],c=function(i){var c=t[i].geometry.coordinates;c&&0<c.length&&("MultiPolygon"===t[i].geometry.type?c=c.reduce((function(e,t){return e.concat(t)})):"LineString"===t[i].geometry.type&&(c=[c]),c=c.map((function(e){return e=e.map((function(e){return n.normizedPoint(e)})),!0===r.closePath&&e[0].toString()!==e[e.length-1].toString()&&e.push(e[0]),e})));var h=n.getProperty("color",a,t[i]);h=n.normizedColor(h);var f=n.getProperty("width",o,t[i]);f=Number(f);var p=n.getProperty("offset",s,t[i]);p=Number(p);var d=u.complex.startIndex;c=n.addMultipleCoords(c);for(var g=0;g<c.length;g++)c[g].forEach((function(e){u.extrude(e,f,p,h)}));if(e.enablePicked)for(i=n.indexToRgb(i),c=u.complex.startIndex;d<c;d++)l.push(i[0]/255,i[1]/255,i[2]/255),e.repeat&&(l.push(i[0]/255,i[1]/255,i[2]/255),l.push(i[0]/255,i[1]/255,i[2]/255))},h=0;h<t.length;h++)c(h);if(c=u.complex,i)for(h=0;h<c.positions.length/7;h++)c.positions[7*h+6]=c.maxDistance;this.lineData=c,this.positionBuffer.updateData(new Float32Array(c.positions)),this.normalBuffer.updateData(new Float32Array(c.normals)),this.colorBuffer.updateData(new Float32Array(c.colors)),this.indexBuffer.updateData(new Uint32Array(c.indices)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(c.uvs)),e.enablePicked&&this.pickBuffer.updateData(new Float32Array(l))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=this.lineData;if(n&&!(0>=n.indices.length)&&this.map){var i=this.getOptions(),o=this.program;o.use(t),e=gr(this.getCommonUniforms(e),{u_matrix:r,u_zoom_units:this.map.getZoomUnits(),u_dash_array:i.dashArray,u_dash_offset:i.dashOffset,u_antialias:i.antialias,u_unit_px:"px"===i.unit,u_zIndex:i.zIndex}),this.isUseTexture&&(e=gr(e,{u_texture_width:i.width,u_texture_margin:140,u_sampler:this.texture})),this.isAnimateLine&&(r=this.map.getZoom(),e=gr(e,{u_time:(new Date-this.date)/1e3,u_animate:!!(r>=i.minZoom&&r<=i.maxZoom&&this.autoUpdate),u_duration:i.duration,u_interval:i.interval,u_trail_length:i.trailLength})),o.setUniforms(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===i.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:i.polygonOffset,depthTest:i.depthTest,depthMask:i.depthWrite}),this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,n.indices.length,t.UNSIGNED_INT,0)}}},{key:"loadTexture",value:function(e){var t=this,r=this.getOptions();r.texture?j(this.gl,r.texture,(function(r,n){t.image=n,t.texture=r,e&&e(),t.webglLayer.render()})):(this.image=this.texture=null,e&&e())}}]),t}(vu),nl=function(){function e(t,r){gt(this,e),this.layer=t,this.gl=r,this.initData()}return Tr(e,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(e,t){this.initData();var r=e.color,n=e.height,i=e.gradient;e=this.gl;for(var o=0;o<t.length;o++){var a=t[o].geometry.coordinates,s=a.length;this.maxLength=s>this.maxLength?s:this.maxLength;for(var u=[],l=0;l<s;l++){var c=this.layer.normizedPoint(a[l]);u.push(c)}s=t[o].color||r,"properties"in t[o]&&"color"in t[o].properties&&(s=t[o].properties.color),i||"[object Function]"!==Object.prototype.toString.call(s)||(s=s(t[o])),a=this.layer.normizedColor(i?i[0]:s),s=this.layer.normizedColor(i?i[1]:s),l=t[o].height||n,"properties"in t[o]&&"height"in t[o].properties&&(l=t[o].properties.height),"[object Function]"===Object.prototype.toString.call(l)&&(l=l(t[o])),this.processData(this.outWall3d,u,a,s,l)}for(t=0;t<this.outWall3d.vertex.length;t++){for(r=[],n=this.outWall3d.vertex[t].length,i=0;i<n;i++)r.push.apply(r,Li(this.outWall3d.vertex[t][i]));n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),this.outWall3d.vertexBuffer[t]=n,e.bindBuffer(e.ARRAY_BUFFER,null),n=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[t]),e.STATIC_DRAW),this.outWall3d.indexBuffer[t]=n,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(e,t,r,n,i){var o=e.vertex[e.vertex.length-1],a=e.index[e.index.length-1],s=t.length;(!a||65536<=a.length+2*s+2)&&(o=[],a=[],e.vertex.push(o),e.index.push(a)),(e=o.length)&&a.push(e-1,e);for(var u=e=0;u<s;u++){var l=[],c=[],h=t[u];l.push(h[0],h[1]),l.push(h[2]?Number(h[2])+i:i),l.push(h[3]?Number(h[3]):u),l.push(e),l.push(r[0],r[1],r[2],r[3]),c.push(h[0],h[1]),c.push(h[2]?Number(h[2]):0),c.push(h[3]?Number(h[3]):u),c.push(e),c.push(n[0],n[1],n[2],n[3]),h=o.length,o.push(l,c),a.push(h,h+1),u<s-1&&(e+=this.getDistance(t[u],t[u+1]))}}},{key:"getDistance",value:function(e,t){return Math.sqrt(Math.pow(Math.abs(e[0]-t[0]),2)+Math.pow(Math.abs(e[1]-t[1]),2))}}]),e}(),il=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.startTime=e.options.startTime||0,e.endTime=e.options.endTime,e.time=e.startTime,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(e){this.gl=e,this.dataMgr=new nl(this,this.gl),this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute float aDistance;attribute vec4 aColor;varying vec4 vColor;varying float vHeight;varying float vTime;varying float vDistance;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vHeight=aPos.z;vColor=aColor;vDistance=aDistance;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;varying float vDistance;varying float vHeight;uniform float currentTime;void main(){if(vTime>1.0||vTime<0.0){}float radius=2.5;float distance=vDistance+currentTime*20.0;float modDistance=mod(distance,9.0);float alpha=1.0;if(modDistance>radius*2.0){discard;}else{float x=abs(modDistance-radius);float y=abs(vHeight-radius);float dis=sqrt(pow(x,2.0)+pow(y,2.0));if(dis>radius){discard;}alpha=dis/radius;}gl_FragColor=vec4(vColor.rgb,1.0-alpha);}"})}},{key:"onChanged",value:function(e,t){this.gl&&(this.dataMgr.onLayerChange(e,t),void 0===e.endTime&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;if((e=this.dataMgr.getData())&&!(0>=e.vertex.length)){var n=this.getOptions(),i=this.program;for(t.useProgram(i.program),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}),t.enableVertexAttribArray(i.attributes.aPos),t.enableVertexAttribArray(i.attributes.aDistance),t.enableVertexAttribArray(i.attributes.aColor),t.uniformMatrix4fv(i.uniforms.u_matrix,!1,r),t.uniform1f(i.uniforms.currentTime,this.time),t.uniform1f(i.uniforms.trailLength,n.trailLength),r=0;r<e.vertex.length;r++)if(!(0>=e.vertex[r].length)){var o=e.vertex[r],a=new Float32Array(o[0]).BYTES_PER_ELEMENT;o=a*o[0].length,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer[r]),t.vertexAttribPointer(i.attributes.aPos,4,t.FLOAT,!1,o,0),t.vertexAttribPointer(i.attributes.aDistance,1,t.FLOAT,!1,o,4*a),t.vertexAttribPointer(i.attributes.aColor,4,t.FLOAT,!1,o,5*a),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer[r]),t.drawElements(t.TRIANGLE_STRIP,e.index[r].length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}this.time+=n.step,this.time>this.endTime&&(this.time=this.startTime)}}}]),t}(vu),ol=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e},al=i((function(e){var t={},r={};e=e.exports=function(e,n,i,o,a){var s,u;if(a=a?function(){return e}:gi(e),i=Vt(i,o,n?2:1),o=0,"function"!=typeof a)throw TypeError(e+" is not iterable!");if(void 0===a||Er.Array!==a&&_i[wi]!==a){for(o=a.call(e);!(u=o.next()).done;)if(a=Ai(o,i,u.value,n),a===t||a===r)return a}else for(s=Tt(e.length);s>o;o++)if(a=n?i(Xt(u=e[o])[0],u[1]):i(e[o]),a===t||a===r)return a},e.BREAK=t,e.RETURN=r})),sl=Nr("species"),ul=function(e,t){var r;return e=Xt(e).constructor,void 0===e||void 0==(r=Xt(e)[sl])?t:Gt(r)},ll=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},cl=Lt.process,hl=Lt.setImmediate,fl=Lt.clearImmediate,pl=Lt.MessageChannel,dl=Lt.Dispatch,gl=0,ml={},vl=function(){var e=+this;if(ml.hasOwnProperty(e)){var t=ml[e];delete ml[e],t()}},yl=function(e){vl.call(e.data)};if(!hl||!fl)if(hl=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return ml[++gl]=function(){ll("function"==typeof e?e:Function(e),t)},bl(gl),gl},fl=function(e){delete ml[e]},"process"==xt(cl))var bl=function(e){cl.nextTick(Vt(vl,e,1))};else if(dl&&dl.now)bl=function(e){dl.now(Vt(vl,e,1))};else if(pl){var xl=new pl,Al=xl.port2;xl.port1.onmessage=yl,bl=Vt(Al.postMessage,Al,1)}else Lt.addEventListener&&"function"==typeof postMessage&&!Lt.importScripts?(bl=function(e){Lt.postMessage(e+"","*")},Lt.addEventListener("message",yl,!1)):bl="onreadystatechange"in(Kt?Zt.createElement("script"):{})?function(e){Lr.appendChild(Kt?Zt.createElement("script"):{}).onreadystatechange=function(){Lr.removeChild(this),vl.call(e)}}:function(e){setTimeout(Vt(vl,e,1),0)};var wl,_l=hl,Cl=Lt.MutationObserver||Lt.WebKitMutationObserver,Ml=Lt.process,Sl=Lt.Promise,Tl="process"==xt(Ml),El={f:function(e){return new et(e)}},Il=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}},Rl=Lt.navigator,Ll=Rl&&Rl.userAgent||"",Pl=function(e,t){if(Xt(e),Wt(t)&&t.constructor===e)return t;e=El.f(e);var r=e.resolve;return r(t),e.promise},Ol=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:rr(e,n,t[n]);return e},Dl=Nr("species"),kl=function(e){e="function"==typeof Rt[e]?Rt[e]:Lt[e],Yt&&e&&!e[Dl]&&er.f(e,Dl,{configurable:!0,get:function(){return this}})},Nl=function(){var e,t,r=function(){var r;for(Tl&&(r=Ml.domain)&&r.exit();e;){var i=e.fn;e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(Tl)var n=function(){Ml.nextTick(r)};else if(!Cl||Lt.navigator&&Lt.navigator.standalone)if(Sl&&Sl.resolve){var i=Sl.resolve(void 0);n=function(){i.then(r)}}else n=function(){_l.call(Lt,r)};else{var o=!0,a=document.createTextNode("");new Cl(r).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}return function(r){r={fn:r,next:void 0},t&&(t.next=r),e||(e=r,n()),t=r}}(),Fl=Lt.TypeError,Bl=Lt.process,zl=Bl&&Bl.versions,Ul=zl&&zl.v8||"",jl=Lt.Promise,Hl="process"==ci(Bl),Gl=function(){},Vl=wl=El.f,Wl=!!function(){try{var e=jl.resolve(1),t=(e.constructor={})[Nr("species")]=function(e){e(Gl,Gl)};return(Hl||"function"==typeof PromiseRejectionEvent)&&e.then(Gl)instanceof t&&0!==Ul.indexOf("6.6")&&-1===Ll.indexOf("Chrome/66")}catch(r){}}(),Xl=function(e){var t;return!(!Wt(e)||"function"!=typeof(t=e.then))&&t},ql=function(e,t){if(!e._n){e._n=!0;var r=e._c;Nl((function(){for(var n=e._v,i=1==e._s,o=0;r.length>o;){var a=void 0,s=void 0,u=void 0,l=r[o++],c=i?l.ok:l.fail,h=l.resolve,f=l.reject,p=l.domain;try{c?(i||(2==e._h&&Zl(e),e._h=1),!0===c?u=n:(p&&p.enter(),u=c(n),p&&(p.exit(),a=!0)),u===l.promise?f(Fl("Promise-chain cycle")):(s=Xl(u))?s.call(u,h,f):h(u)):f(n)}catch(d){p&&!a&&p.exit(),f(d)}}e._c=[],e._n=!1,t&&!e._h&&Yl(e)}))}},Yl=function(e){_l.call(Lt,(function(){var t,r,n=e._v,i=1!==e._h&&0===(e._a||e._c).length;if(i){var o=Il((function(){Hl?Bl.emit("unhandledRejection",n,e):(t=Lt.onunhandledrejection)?t({promise:e,reason:n}):(r=Lt.console)&&r.error&&r.error("Unhandled promise rejection",n)}));e._h=Hl||1!==e._h&&0===(e._a||e._c).length?2:1}if(e._a=void 0,i&&o.e)throw o.v}))},Zl=function(e){_l.call(Lt,(function(){var t;Hl?Bl.emit("rejectionHandled",e):(t=Lt.onrejectionhandled)&&t({promise:e,reason:e._v})}))},Kl=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),ql(t,!0))},Jl=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Fl("Promise can't be resolved itself");(t=Xl(e))?Nl((function(){var n={_w:r,_d:!1};try{t.call(e,Vt(Jl,n,1),Vt(Kl,n,1))}catch(i){Kl.call(n,i)}})):(r._v=e,r._s=1,ql(r,!1))}catch(n){Kl.call({_w:r,_d:!1},n)}}};if(!Wl){jl=function(e){ol(this,jl,"Promise","_h"),Gt(e),Ql.call(this);try{e(Vt(Jl,this,1),Vt(Kl,this,1))}catch(t){Kl.call(this,t)}};var Ql=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};Ql.prototype=Ol(jl.prototype,{then:function(e,t){var r=Vl(ul(this,jl));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Hl?Bl.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&ql(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var $l=function(){var e=new Ql;this.promise=e,this.resolve=Vt(Jl,e,1),this.reject=Vt(Kl,e,1)};El.f=Vl=function(e){return e===jl||e===ec?new $l(e):wl(e)}}ir(ir.G+ir.W+ir.F*!Wl,{Promise:jl}),zr(jl,"Promise"),kl("Promise");var ec=Rt.Promise;ir(ir.S+ir.F*!Wl,"Promise",{reject:function(e){var t=Vl(this),r=t.reject;return r(e),t.promise}}),ir(ir.S+1*ir.F,"Promise",{resolve:function(e){return Pl(this===ec?jl:this,e)}}),ir(ir.S+ir.F*!(Wl&&Si((function(e){jl.all(e)["catch"](Gl)}))),"Promise",{all:function(e){var t=this,r=Vl(t),n=r.resolve,i=r.reject,o=Il((function(){var r=[],o=0,a=1;al(e,!1,(function(e){var s=o++,u=!1;r.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=Vl(t),n=r.reject,i=Il((function(){al(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}}),ir(ir.P+ir.R,"Promise",{finally:function(e){var t=ul(this,Rt.Promise||Lt.Promise),r="function"==typeof e;return this.then(r?function(r){return Pl(t,e()).then((function(){return r}))}:e,r?function(r){return Pl(t,e()).then((function(){throw r}))}:e)}}),ir(ir.S,"Promise",{try:function(e){var t=El.f(this);return e=Il(e),(e.e?t.reject:t.resolve)(e.v),t.promise}});var tc=Rt.Promise,rc=i((function(e){e.exports={default:tc,__esModule:!0}})),nc=n(rc),ic=function(e,t){if(!Wt(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},oc=er.f,ac=nn.fastKey,sc=Yt?"_s":"size",uc=function(e,t){var r=ac(t);if("F"!==r)return e._i[r];for(e=e._f;e;e=e.n)if(e.k==t)return e},lc={getConstructor:function(e,t,r,n){var i=e((function(e,o){ol(e,i,t,"_i"),e._t=t,e._i=kr(null),e._f=void 0,e._l=void 0,e[sc]=0,void 0!=o&&al(o,r,e[n],e)}));return Ol(i.prototype,{clear:function(){for(var e=ic(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[sc]=0},delete:function(e){var r=ic(this,t);if(e=uc(r,e)){var n=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=n),n&&(n.p=i),r._f==e&&(r._f=n),r._l==e&&(r._l=i),r[sc]--}return!!e},forEach:function(e){ic(this,t);for(var r,n=Vt(e,1<arguments.length?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!uc(ic(this,t),e)}}),Yt&&oc(i.prototype,"size",{get:function(){return ic(this,t)[sc]}}),i},def:function(e,t,r){var n,i=uc(e,t);return i?i.v=r:(e._l=i={i:n=ac(t,!0),k:t,v:r,p:t=e._l,n:void 0,r:!1},e._f||(e._f=i),t&&(t.n=i),e[sc]++,"F"!==n&&(e._i[n]=i)),e},getEntry:uc,setStrong:function(e,t,r){Wr(e,t,(function(e,r){this._t=ic(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?qr(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,qr(1))}),r?"entries":"values",!r,!0),kl(t)}},cc=Nr("species"),hc=function(e,t){if(sn(e)){var r=e.constructor;"function"!=typeof r||r!==Array&&!sn(r.prototype)||(r=void 0),Wt(r)&&(r=r[cc],null===r&&(r=void 0))}return new(void 0===r?Array:r)(t)},fc=er.f,pc=function(e,t){var r=1==e,n=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,u=t||hc;return function(t,l,c){var h=Object(mt(t)),f=At(h);l=Vt(l,c,3),c=Tt(f.length);var p,d,g=0;for(t=r?u(t,c):n?u(t,0):void 0;c>g;g++)if((s||g in f)&&(p=f[g],d=l(p,g,h),e))if(r)t[g]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:t.push(p)}else if(o)return!1;return a?-1:i||o?o:t}}(0);(function(e,t,r,n,i,o){var a=Lt[e],s=a,u=i?"set":"add",l=s&&s.prototype,c={};Yt&&"function"==typeof s&&(o||l.forEach&&!qt((function(){(new s).entries().next()})))?(s=t((function(t,r){ol(t,s,e,"_c"),t._c=new a,void 0!=r&&al(r,i,t[u],t)})),pc("add clear delete forEach get has set keys values entries toJSON".split(" "),(function(e){var t="add"==e||"set"==e;e in l&&(!o||"clear"!=e)&&rr(s.prototype,e,(function(r,n){return ol(this,s,e),t||!o||Wt(r)?(r=this._c[e](0===r?0:r,n),t?this:r):"get"==e&&void 0}))})),o||fc(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(t,e,i,u),Ol(s.prototype,r),nn.NEED=!0),zr(s,e),c[e]=s,ir(ir.G+ir.W+ir.F,c),o||n.setStrong(s,e,i)})("Map",(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(e){return(e=lc.getEntry(ic(this,"Map"),e))&&e.v},set:function(e,t){return lc.def(ic(this,"Map"),0===e?0:e,t)}},lc,!0),ir(ir.P+ir.R,"Map",{toJSON:function(e){return function(){if(ci(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return al(this,!1,t.push,t,void 0),t}}("Map")}),function(e){ir(ir.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}("Map"),function(e){ir(ir.S,e,{from:function(e,t,r){var n;if(Gt(this),(n=void 0!==t)&&Gt(t),void 0==e)return new this;var i=[];if(n){var o=0,a=Vt(t,r,2);al(e,!1,(function(e){i.push(a(e,o++))}))}else al(e,!1,i.push,i);return new this(i)}})}("Map");var dc,gc,mc=Rt.Map,vc=i((function(e){e.exports={default:mc,__esModule:!0}})),yc=n(vc),bc=i((function(e,t){t.__esModule=!0;var r=Cr&&Cr.__esModule?Cr:{default:Cr};t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}})),xc=n(bc),Ac=(dc={},xc(dc,1,1),xc(dc,2,1),xc(dc,3,1),dc),wc=(gc={},xc(gc,1,1),xc(gc,2,1),xc(gc,3,1),gc),_c=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.vertCount=0,e.bufferMap={},e.bufferData=[],e.autoUpdate=!0,r=e.canvas=document.createElement("canvas"),e.ctx=r.getContext("2d"),e.iconHash=new yc,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[1,1,1,.8],speed:1,size:5,pointFade:!0,pointFadeBuffer:1,minLineLength:2,animationType:2,shapeType:2,depthTest:!1,delay:0,unit:"px",padding:0}}},{key:"initialize",value:function(e){this.gl=e,this.texture=null,this.isUseTexture=!1;var t=this.getOptions();this.updateUniformsFromOptions(t),this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec3 aPos;attribute vec3 aNextPos;attribute float aIndex;attribute float aNextIndex;attribute float aLength;attribute float aSpeed;attribute float aDelay;attribute vec3 aUV;uniform float uSize;uniform mat4 u_matrix;uniform float uOriginSpeed;uniform float uElapsedSteps;uniform int uAnimationType;uniform int uPointFade;uniform float uPointFadeBuffer;uniform float uZoomUnits;varying float vAddOpacity;varying vec3 vUV;void main(){if(uAnimationType==1){if(abs(aIndex-mod(uElapsedSteps,aLength))>.1){gl_Position=vec4(-2.,-2.,0,1.0);return;}gl_Position=u_matrix*vec4(aPos.xyz,1.0);vAddOpacity=1.;}else if(uAnimationType==2){float lineLength=aLength-1.;float cIndex=mod(uElapsedSteps,lineLength);float rest=cIndex-aIndex;if(rest<1.&&rest>=0.){if(uPointFade==1){if(cIndex<uPointFadeBuffer){vAddOpacity=cIndex/uPointFadeBuffer;}else if(cIndex>lineLength-uPointFadeBuffer){vAddOpacity=(lineLength-cIndex)/uPointFadeBuffer;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}else if(uAnimationType==3){float speedRatio=aSpeed/uOriginSpeed;float percent=mod(mod(uElapsedSteps*aSpeed,aLength)/aLength-aDelay,1.0);if(percent<=aNextIndex&&percent>=aIndex){if(uPointFade==1){float fadePercent=uPointFadeBuffer*1000./aLength;if(percent<fadePercent){vAddOpacity=percent/fadePercent;}else if(percent>1.-fadePercent){vAddOpacity=(1.-percent)/fadePercent;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}float rest=(percent-aIndex)/(aNextIndex-aIndex);gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}vUV=aUV;gl_PointSize=uSize/uZoomUnits;}",fragmentShader:"precision highp float;uniform vec4 uColor;uniform int ushapeType;uniform bool uUseTexture;uniform sampler2D uSampler;varying float vAddOpacity;varying vec3 vUV;void main(){if(ushapeType==2){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}else if(ushapeType==3){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*smoothstep(1.0,0.0,d*2.)*vAddOpacity);}else{gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}if(uUseTexture){float ratio=vUV.z;vec2 uv=vUV.xy;gl_FragColor=texture2D(uSampler,vec2(gl_PointCoord.x*ratio+uv.x,1.0-(uv.y+gl_PointCoord.y*ratio)));}}"}),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"bindAttributeBufferData",value:function(e,t,r,n){var i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),r=new Float32Array(r),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),this.bufferMap[t]={buffer:i,data:r,elementSize:n}}},{key:"onChanged",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.gl&&(Array.isArray(t)||(t=[]),this.processCache(e,t,r))}},{key:"processCache",value:function(e,t,r){var n=this;this.cachedData=[];for(var i=e.icon,o=e.speed,a=0;a<t.length;a++){var s=t[a].geometry.coordinates,u=this.getProperty("icon",i,t[a]),l=this.getProperty("speed",o,t[a]),c=this.getProperty("delay",0,t[a]);s&&(this.cachedData.push({coordinates:s,icon:u,speed:l,delay:c}),this.iconHash.get(u)||this.iconHash.set(u,u))}t=Ii(this.iconHash.entries()).filter((function(e){return"string"===typeof e[1]})).map((function(e){var t=xi(e,2)[0];return new nc((function(e,r){n.url2canvas(t,(function(r){n.iconHash.set(t,r),e()}))}))})),nc.all(t).then((function(t){n.buildSprite(e),!1!==r.autoRender&&n.webglLayer&&n.webglLayer.render()}))}},{key:"buildSprite",value:function(e){var t=e.padding,r=this.canvas,n=this.ctx,i=0,o=[],a=new yc;if(e.icon){i=!0;var s=!1,u=void 0;try{for(var l,c=yi(this.iconHash);!(i=(l=c.next()).done);i=!0){var h=xi(l.value,2),f=h[1];if("string"!==typeof f){var p=f.width,d=p+t;o.push({w:d,h:d,width:p,key:h[0],icon:f})}}}catch(m){s=!0,u=m}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}for(c=fe(o),l=0;l<o.length;l++)h=o[l],a.get(h.key)||a.set(h.key,h);for(i=Math.max(g(c.w),g(c.h)),r.width=i||1,r.height=i||1,n.save(),r=0;r<o.length;r++)c=o[r],n.drawImage(c.icon,c.x+t,c.y+t,c.width,c.width);n.restore()}this.loadTexture(),this.buildVertex(e,a,i)}},{key:"buildVertex",value:function(e,t,r){var n=this.gl;this.updateUniformsFromOptions(e);for(var i=[],o=[],a=[],s=[],u=[],l=[],c=[],h=[],f=e.minLineLength,p=0;p<this.cachedData.length;p++){var d=this.cachedData[p],g=d.coordinates,m=d.icon,v=d.speed;d=d.delay;var y=g.length,b=[];if(!(y<f)){for(e.icon&&(b=(b=t.get(m))?[b.x/r,b.y/r,b.w/r]:[0,0,0]),m=0;m<y;++m){var x=this.normizedPoint(g[m]);i.push(x[0]),i.push(x[1]),i.push(x[2]||0),h.push.apply(h,Li(b)),3!==this.animationType&&(o.push(m),s.push(y))}if(1!==this.animationType){for(m=i.length-3*y+3,b=i.length,g=m;g<b;++g)u.push(i[g]);if(i.splice(b-3,3),h.splice(b-3,3),2===this.animationType)o.pop(),s.pop();else if(3===this.animationType){for(m-=3,b=i.length-3,g=0,y=[],x=m;x<=b;x+=3)m=Math.sqrt(Math.pow(u[x]-i[x],2)+Math.pow(u[x+1]-i[x+1],2)+Math.pow(u[x+2]-i[x+2],2)),g+=m,y.push(m);o.push(0),l.push(v),d/=g/v,c.push(d),x=b=0;for(var A=y.length-1;x<A;++x)b+=y[x],m=b/g,o.push(m),a.push(m),s.push(g),l.push(v),c.push(d);a.push(1),s.push(g)}}}}this.bindAttributeBufferData(n,"aPos",i,3),this.bindAttributeBufferData(n,"aIndex",o,1),this.bindAttributeBufferData(n,"aLength",s,1),1!==this.animationType&&(this.bindAttributeBufferData(n,"aNextPos",u,3),3===this.animationType&&(this.bindAttributeBufferData(n,"aNextIndex",a,1),this.bindAttributeBufferData(n,"aSpeed",l,1),this.bindAttributeBufferData(n,"aDelay",c,1))),e.icon&&this.bindAttributeBufferData(n,"aUV",h,3),this.vertCount=i.length/3}},{key:"updateUniformsFromOptions",value:function(e){this.color=this.normizedColor(e.color),this.startTime=(new Date).getTime(),Ac[e.animationType]||(e.animationType=2),wc[e.shapeType]||(e.shapeType=2),(isNaN(e.minLineLength)||2>e.minLineLength)&&(e.minLineLength=2),this.animationType=e.animationType}},{key:"renderAttributeArr",value:function(e,t,r){if(void 0!==t.attributes[r]){var n=this.bufferMap[r];n&&(e.bindBuffer(e.ARRAY_BUFFER,n.buffer),e.enableVertexAttribArray(t.attributes[r]),e.vertexAttribPointer(t.attributes[r],n.elementSize,e.FLOAT,!1,n.data.BYTES_PER_ELEMENT*n.elementSize,0))}}},{key:"render",value:function(e){var t=e.gl;if(e=e.matrix,!(0>=this.vertCount)){var r=this.getOptions(),n=this.program;t.useProgram(n.program),this.renderAttributeArr(t,n,"aPos"),this.renderAttributeArr(t,n,"aIndex"),this.renderAttributeArr(t,n,"aLength"),1!==this.animationType&&(this.renderAttributeArr(t,n,"aNextPos"),3===this.animationType&&(this.renderAttributeArr(t,n,"aNextIndex"),this.renderAttributeArr(t,n,"aSpeed"),this.renderAttributeArr(t,n,"aDelay"))),r.icon&&this.texture&&(this.renderAttributeArr(t,n,"aUV"),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1i(n.uniforms.uSampler,0)),t.uniform1i(n.uniforms.uUseTexture,this.isUseTexture);var i=(new Date).getTime()-this.startTime;i<this.options.delay?i=0:(i-=this.options.delay,i=1===this.animationType?Math.round(i/1e3*this.options.speed*20):3===this.animationType?i/1e3*this.options.speed*1e3:i/1e3*this.options.speed);var o=this.options.size;if(Array.isArray(o)){var a=this.map.map.getMaxZoom(),s=this.map.map.getMinZoom();o=o[0]+(this.map.getZoom()-s)/(a-s)*(o[1]-o[0])}t.uniformMatrix4fv(n.uniforms.u_matrix,!1,e),t.uniform4f(n.uniforms.uColor,this.color[0],this.color[1],this.color[2],this.color[3]),t.uniform1f(n.uniforms.uSize,o),t.uniform1f(n.uniforms.uElapsedSteps,i),t.uniform1f(n.uniforms.uOriginSpeed,this.options.speed),t.uniform1i(n.uniforms.uAnimationType,this.animationType),t.uniform1i(n.uniforms.ushapeType,this.options.shapeType),t.uniform1i(n.uniforms.uPointFade,this.options.pointFade?1:0),t.uniform1f(n.uniforms.uPointFadeBuffer,this.options.pointFadeBuffer),t.uniform1f(n.uniforms.uZoomUnits,"m"===this.options.unit?this.map.getZoomUnits():1),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===r.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],depthTest:!!r.depthTest}),t.drawArrays(t.POINTS,0,this.vertCount)}}},{key:"url2canvas",value:function(e,t){if("object"===("undefined"===typeof e?"undefined":Kn(e)))t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var e=document.createElement("canvas");e.width=128,e.height=128,e.getContext("2d").drawImage(r,0,0,128,128),t(e)},r.src=e}}},{key:"loadTexture",value:function(){var e=this;this.canvas&&this.getOptions().icon?j(this.gl,this.canvas,(function(t){e.isUseTexture=!0,e.texture=t})):(this.isUseTexture=!1,this.texture=null)}}]),t}(vu);_c.ANIMATION_TYPE_LEAP=1,_c.ANIMATION_TYPE_SMOOTH=2,_c.ANIMATION_TYPE_UNIFORM_SPEED=3,_c.SHAPE_TYPE_SQUARE=1,_c.SHAPE_TYPE_CIRCLE=2,_c.SHAPE_TYPE_CIRCLE_GRADIENT=3;var Cc=function(){function e(t,r){gt(this,e),this.layer=t,this.gl=r,this.initData()}return Tr(e,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]}}},{key:"getData",value:function(){return this.outWall3d}},{key:"onLayerChange",value:function(e,t){this.initData();for(var r=e.color,n=e.height,i=e.gradient,o=e.enablePreciseMap,a=e.repeatMap,s=this.gl,u=0;u<t.length;u++){var l=t[u],c=l.color||r;"properties"in l&&"color"in l.properties&&(c=l.properties.color),i||"[object Function]"!==Object.prototype.toString.call(c)||(c=c(l));var h=this.layer.normizedColor(i?i[0]:c);c=this.layer.normizedColor(i?i[1]:c);var f=l.height||n;if("properties"in l&&"height"in l.properties&&(f=l.properties.height),"[object Function]"===Object.prototype.toString.call(f)&&(f=f(l)),"MultiLineString"===l.geometry.type||"Polygon"===l.geometry.type)for(var p=0;p<l.geometry.coordinates.length;p++){for(var d=l.geometry.coordinates[p],g=d.length,m=[],v=[],y=0,b=0;b<g;b++){var x=this.layer.normizedPoint(d[b]);if(0<b&&(o||a)){var A=this.layer.normizedPoint(d[b-1]);y+=Math.sqrt(Math.pow(x[0]-A[0],2)+Math.pow(x[1]-A[1],2))}m.push(x),v.push(y)}this.processData(this.outWall3d,e,m,v,h,c,f)}else{for(l=l.geometry.coordinates,p=l.length,d=[],g=[],v=m=0;v<p;v++)y=this.layer.normizedPoint(l[v]),0<v&&(o||a)&&(b=this.layer.normizedPoint(l[v-1]),m+=Math.sqrt(Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2))),d.push(y),g.push(m);this.processData(this.outWall3d,e,d,g,h,c,f)}}for(e=0;e<this.outWall3d.vertex.length;e++){for(t=[],r=this.outWall3d.vertex[e].length,n=0;n<r;n++)t.push.apply(t,Li(this.outWall3d.vertex[e][n]));r=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,r),s.bufferData(s.ARRAY_BUFFER,new Float32Array(t),s.STATIC_DRAW),this.outWall3d.vertexBuffer[e]=r,s.bindBuffer(s.ARRAY_BUFFER,null),r=s.createBuffer(),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,r),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[e]),s.STATIC_DRAW),this.outWall3d.indexBuffer[e]=r,s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(e,t,r,n,i,o,a){var s=n[n.length-1],u=e.vertex[e.vertex.length-1],l=e.index[e.index.length-1],c=r.length;for((!l||65536<=l.length+2*c+2)&&(u=[],l=[],e.vertex.push(u),e.index.push(l)),(e=u.length)&&l.push(e-1,e),e=0;e<c;e++){var h=[],f=[],p=r[e];h.push(p[0],p[1],p[2]+a),h.push(i[0],i[1],i[2],i[3]),f.push(p[0],p[1],p[2]),f.push(o[0],o[1],o[2],o[3]),t.texture&&(p=n[e],t.enablePreciseMap||t.repeatMap?(h.push(p,1,s),f.push(p,0,s)):(h.push(e,1,c-1),f.push(e,0,c-1))),p=u.length,u.push(h,f),l.push(p,p+1)}}}]),e}(),Mc=function(e){function t(e,r){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e,r))}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{texture:null,enablePreciseMap:!1,repeatMap:0,height:100,color:[1,1,1,1]}}},{key:"initialize",value:function(e){this.gl=e,this.dataMgr=new Cc(this,this.gl),this.texture=null,this.isUseTexture=!1,this.vertexLength=10,this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform bool uUseTexture;attribute vec3 aPos;attribute vec4 aColor;attribute vec2 aTextureCoords;attribute float aTotalDistance;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}if(uUseTexture){vTextureCoords=aTextureCoords;vTotalDistance=aTotalDistance;}gl_Position=u_matrix*vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform bool uUseTexture;uniform float uDistance;uniform sampler2D uSampler;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(uUseTexture){float uvx=vTextureCoords.x/vTotalDistance;if(uDistance>0.0){uvx=mod(vTextureCoords.x,uDistance)/uDistance;}gl_FragColor=vec4(1.0,1.0,1.0,1.0)*texture2D(uSampler,vec2(uvx,vTextureCoords.y));}else{gl_FragColor=vColor;}}"}),this.loadTexture()}},{key:"onChanged",value:function(e,t){var r=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout((function(){r.loadTexture((function(){r.dataMgr.onLayerChange(e,t),r.webglLayer.render()}))}),0))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;if((e=this.dataMgr.getData())&&!(0>=e.vertex.length)){var n=this.getOptions(),i=this.program;if(t.useProgram(i.program),n.texture){if(!this.texture)return;t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1i(i.uniforms.uSampler,0)}for(this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],depthMask:!!n.texture,depthFunc:n.texture?t.LESS:t.LEQUAL}),n.texture?t.enableVertexAttribArray(i.attributes.aTextureCoords):t.disableVertexAttribArray(i.attributes.aTextureCoords),t.enableVertexAttribArray(i.attributes.aPos),t.enableVertexAttribArray(i.attributes.aColor),t.uniformMatrix4fv(i.uniforms.u_matrix,!1,r),t.uniform1i(i.uniforms.uUseTexture,this.isUseTexture),t.uniform1f(i.uniforms.uDistance,n.repeatMap),r=0;r<e.vertex.length;r++)if(!(0>=e.vertex[r].length)){var o=e.vertex[r],a=new Float32Array(o[0]).BYTES_PER_ELEMENT;o=a*o[0].length,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer[r]),t.vertexAttribPointer(i.attributes.aPos,3,t.FLOAT,!1,o,0),t.vertexAttribPointer(i.attributes.aColor,4,t.FLOAT,!1,o,3*a),n.texture&&(t.vertexAttribPointer(i.attributes.aTextureCoords,2,t.FLOAT,!1,o,7*a),t.vertexAttribPointer(i.attributes.aTotalDistance,1,t.FLOAT,!1,o,9*a)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer[r]),t.drawElements(t.TRIANGLE_STRIP,e.index[r].length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}}}},{key:"loadTexture",value:function(e){var t=this,r=this.getOptions();r.texture?(this.isUseTexture=!0,j(this.gl,r.texture,(function(r,n){t.image=n,t.texture=r,e&&e(),t.webglLayer.render()}))):(this.isUseTexture=!1,this.image=this.texture=null,e&&e())}}]),t}(vu),Sc=function(){function e(t,r){gt(this,e),this.layer=t,this.gl=r,this.initData()}return Tr(e,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(e,t){this.initData();var r=e.color,n=e.height,i=e.gradient;e=this.gl;for(var o=0;o<t.length;o++){var a=t[o].geometry.coordinates,s=a.length;this.maxLength=s>this.maxLength?s:this.maxLength;for(var u=[],l=0;l<s;l++){var c=this.layer.normizedPoint(a[l]);u.push(c)}s=t[o].color||r,"properties"in t[o]&&"color"in t[o].properties&&(s=t[o].properties.color),i||"[object Function]"!==Object.prototype.toString.call(s)||(s=s(t[o])),a=this.layer.normizedColor(i?i[0]:s),s=this.layer.normizedColor(i?i[1]:s),l=t[o].height||n,"properties"in t[o]&&"height"in t[o].properties&&(l=t[o].properties.height),"[object Function]"===Object.prototype.toString.call(l)&&(l=l(t[o])),this.processData(this.outWall3d,u,a,s,l)}for(t=0;t<this.outWall3d.vertex.length;t++){for(r=[],n=this.outWall3d.vertex[t].length,i=0;i<n;i++)r.push.apply(r,Li(this.outWall3d.vertex[t][i]));n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),this.outWall3d.vertexBuffer[t]=n,e.bindBuffer(e.ARRAY_BUFFER,null),n=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[t]),e.STATIC_DRAW),this.outWall3d.indexBuffer[t]=n,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(e,t,r,n,i){var o=e.vertex[e.vertex.length-1],a=e.index[e.index.length-1],s=t.length;for((!a||65536<=a.length+2*s+2)&&(o=[],a=[],e.vertex.push(o),e.index.push(a)),(e=o.length)&&a.push(e-1,e),e=0;e<s;e++){var u=[],l=[],c=t[e];u.push(c[0],c[1]),u.push(c[2]?Number(c[2])+i:i),u.push(c[3]?Number(c[3]):e),u.push(r[0],r[1],r[2],r[3]),l.push(c[0],c[1]),l.push(c[2]?Number(c[2]):0),l.push(c[3]?Number(c[3]):e),l.push(n[0],n[1],n[2],n[3]),c=o.length,o.push(u,l),a.push(c,c+1)}}}]),e}(),Tc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.startTime=e.options.startTime||0,e.endTime=e.options.endTime,e.time=e.startTime,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(e){this.gl=e,this.dataMgr=new Sc(this,this.gl),this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;varying float vTime;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vColor=aColor;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"})}},{key:"onChanged",value:function(e,t){this.gl&&(this.dataMgr.onLayerChange(e,t),void 0===e.endTime&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;if((e=this.dataMgr.getData())&&!(0>=e.vertex.length)){var n=this.getOptions(),i=this.program;for(t.useProgram(i.program),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}),t.enableVertexAttribArray(i.attributes.aPos),t.enableVertexAttribArray(i.attributes.aColor),t.uniformMatrix4fv(i.uniforms.u_matrix,!1,r),t.uniform1f(i.uniforms.currentTime,this.time),t.uniform1f(i.uniforms.trailLength,n.trailLength),r=0;r<e.vertex.length;r++)if(!(0>=e.vertex[r].length)){var o=e.vertex[r],a=new Float32Array(o[0]).BYTES_PER_ELEMENT;o=a*o[0].length,t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer[r]),t.vertexAttribPointer(i.attributes.aPos,4,t.FLOAT,!1,o,0),t.vertexAttribPointer(i.attributes.aColor,4,t.FLOAT,!1,o,4*a),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer[r]),t.drawElements(t.TRIANGLE_STRIP,e.index[r].length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}this.time+=n.step,this.time>this.endTime&&(this.time=this.startTime)}}}]),t}(vu),Ec=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.simpleLineLayer=new Uu(e.getHeatOptions()),e.children=[e.simpleLineLayer],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{blend:"normal",gradient:{0:"rgb(50, 50, 256)",.1:"rgb(50, 250, 56)",.5:"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}},{key:"onDataChanged",value:function(e){this.simpleLineLayer.setData(e)}},{key:"onOptionsChanged",value:function(e){this.simpleLineLayer.setOptions(this.getHeatOptions())}},{key:"getHeatOptions",value:function(){var e=this.getOptions(),t=e.max,r=e.min;void 0===t&&(r=this.getDataRange(),t=r.max,r=r.min);var n=new _({max:t,min:r,gradient:e.gradient});return e.color=function(e){var t=~~e.count||1;return"properties"in e&&"count"in e.properties&&(t=~~e.properties.count),e=n.getImageData(t),[e[0]/255,e[1]/255,e[2]/255,e[3]/255]},e}},{key:"getDataRange",value:function(){var e=this.getData(),t=0,r=0;e[0]&&(t=~~e[0].count||1,r=~~e[0].count||1),"properties"in e[0]&&"count"in e[0].properties&&(t=~~e[0].properties.count,r=~~e[0].properties.count);for(var n=e.length,i=0;i<n;i++){var o=~~e[i].count||1;"properties"in e[i]&&"count"in e[i].properties&&(o=~~e[i].properties.count),t=Math.max(o,t),r=Math.min(o,r)}return{max:t/2,min:r}}}]),t}(Nu),Ic=i((function(e,t){(function(t,r){e.exports=r()})(0,(function(){function e(r,n,i,o,a,s){if(!(a-o<=i)){var u=o+a>>1;t(r,n,u,o,a,s%2),e(r,n,i,o,u-1,s+1),e(r,n,i,u+1,a,s+1)}}function t(e,n,i,o,a,s){for(;a>o;){if(600<a-o){var u=a-o+1,l=i-o+1,c=Math.log(u),h=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*h*(u-h)/u)*(0>l-u/2?-1:1),t(e,n,i,Math.max(o,Math.floor(i-l*h/u+c)),Math.min(a,Math.floor(i+(u-l)*h/u+c)),s)}for(u=n[2*i+s],l=o,h=a,r(e,n,o,i),n[2*a+s]>u&&r(e,n,o,a);l<h;){for(r(e,n,l,h),l++,h--;n[2*l+s]<u;)l++;for(;n[2*h+s]>u;)h--}n[2*o+s]===u?r(e,n,o,h):(h++,r(e,n,h,a)),h<=i&&(o=h+1),i<=h&&(a=h-1)}}function r(e,t,r,i){n(e,r,i),n(t,2*r,2*i),n(t,2*r+1,2*i+1)}function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function i(e,t){return e=e.geometry.coordinates,{x:e[0]/360+.5,y:s(e[1]),zoom:1/0,index:t,parentId:-1}}function o(e){var t=e.id,r=a(e);return{type:"Feature",id:t,properties:r,geometry:{type:"Point",coordinates:[360*(e.x-.5),360*Math.atan(Math.exp((180-360*e.y)*Math.PI/180))/Math.PI-90]}}}function a(e){var t=e.numPoints,r=1e4<=t?Math.round(t/1e3)+"k":1e3<=t?Math.round(t/100)/10+"k":t;return u(u({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function s(e){return e=Math.sin(e*Math.PI/180),e=.5-.25*Math.log((1+e)/(1-e))/Math.PI,0>e?0:1<e?1:e}function u(e,t){for(var r in t)e[r]=t[r];return e}function l(e){return e.x}function c(e){return e.y}var h=function(e){return e[0]},f=function(e){return e[1]},p=function(t,r,n,i,o){void 0===r&&(r=h),void 0===n&&(n=f),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=t;var a=this.ids=new(65536>t.length?Uint16Array:Uint32Array)(t.length);o=this.coords=new o(2*t.length);for(var s=0;s<t.length;s++)a[s]=s,o[2*s]=r(t[s]),o[2*s+1]=n(t[s]);e(a,o,i,0,a.length-1,0)};p.prototype.range=function(e,t,r,n){for(var i,o,a=this.ids,s=this.coords,u=this.nodeSize,l=[0,a.length-1,0],c=[];l.length;){var h=l.pop(),f=l.pop(),p=l.pop();if(f-p<=u)for(h=p;h<=f;h++)i=s[2*h],o=s[2*h+1],i>=e&&i<=r&&o>=t&&o<=n&&c.push(a[h]);else{var d=Math.floor((p+f)/2);i=s[2*d],o=s[2*d+1],i>=e&&i<=r&&o>=t&&o<=n&&c.push(a[d]);var g=(h+1)%2;(0===h?e<=i:t<=o)&&(l.push(p),l.push(d-1),l.push(g)),(0===h?r>=i:n>=o)&&(l.push(d+1),l.push(f),l.push(g))}}return c},p.prototype.within=function(e,t,r){for(var n=this.ids,i=this.coords,o=this.nodeSize,a=[0,n.length-1,0],s=[],u=r*r;a.length;){var l=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(l=h;l<=c;l++){h=i[2*l]-e;var f=i[2*l+1]-t;h*h+f*f<=u&&s.push(n[l])}else{f=Math.floor((h+c)/2);var p=i[2*f],d=i[2*f+1],g=p-e,m=d-t;g*g+m*m<=u&&s.push(n[f]),g=(l+1)%2,(0===l?e-r<=p:t-r<=d)&&(a.push(h),a.push(f-1),a.push(g)),(0===l?e+r>=p:t+r>=d)&&(a.push(f+1),a.push(c),a.push(g))}}return s};var d={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},g=function(e){this.options=u(oi(d),e),this.trees=Array(this.options.maxZoom+1)};return g.prototype.load=function(e){var t=this.options,r=t.minZoom,n=t.maxZoom;t=t.nodeSize,this.points=e;for(var o=[],a=0;a<e.length;a++)e[a].geometry&&o.push(i(e[a],a));for(this.trees[n+1]=new p(o,l,c,t,Float32Array),e=n;e>=r;e--)o=this._cluster(o,e),this.trees[e]=new p(o,l,c,t,Float32Array);return this},g.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])r=-180,i=180;else if(r>i)return r=this.getClusters([r,n,180,a],t),n=this.getClusters([-180,n,i,a],t),r.concat(n);t=this.trees[this._limitZoom(t)],e=[];var u=0;for(n=t.range(r/360+.5,s(a),i/360+.5,s(n));u<n.length;u+=1)i=t.points[n[u]],e.push(i.numPoints?o(i):this.points[i.index]);return e},g.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n=this.trees[r];if(!n)throw Error("No cluster with the specified id.");var i=n.points[t];if(!i)throw Error("No cluster with the specified id.");t=[];var a=0;for(r=n.within(i.x,i.y,this.options.radius/(this.options.extent*Math.pow(2,r-1)));a<r.length;a+=1)i=n.points[r[a]],i.parentId===e&&t.push(i.numPoints?o(i):this.points[i.index]);if(0===t.length)throw Error("No cluster with the specified id.");return t},g.prototype.getLeaves=function(e,t,r){var n=[];return this._appendLeaves(n,e,t||10,r||0,0),n},g.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)];e=Math.pow(2,e);var i=this.options;i=i.radius/i.extent;var o=(r-i)/e,a=(r+1+i)/e,s={features:[]};return this._addTileFeatures(n.range((t-i)/e,o,(t+1+i)/e,a),n.points,t,r,e,s),0===t&&this._addTileFeatures(n.range(1-i/e,o,1,a),n.points,e,r,e,s),t===e-1&&this._addTileFeatures(n.range(0,o,i/e,a),n.points,-1,r,e,s),s.features.length?s:null},g.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){if(e=this.getChildren(e),t++,1!==e.length)break;e=e[0].properties.cluster_id}return t},g.prototype._appendLeaves=function(e,t,r,n,i){var o=0;for(t=this.getChildren(t);o<t.length;o+=1){var a=t[o],s=a.properties;if(s&&s.cluster?i=i+s.point_count<=n?i+s.point_count:this._appendLeaves(e,s.cluster_id,r,n,i):i<n?i++:e.push(a),e.length===r)break}return i},g.prototype._addTileFeatures=function(e,t,r,n,i,o){for(var s=0;s<e.length;s+=1){var u=t[e[s]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-r)),Math.round(this.options.extent*(u.y*i-n))]],tags:l?a(u):this.points[u.index].properties},h=void 0;l?h=u.id:this.options.generateId?h=u.index:this.points[u.index].id&&(h=this.points[u.index].id),void 0!==h&&(c.id=h),o.features.push(c)}},g.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},g.prototype._cluster=function(e,t){var r=[],n=this.options,i=n.reduce,o=n.minPoints;n=n.radius/(n.extent*Math.pow(2,t));for(var a=0;a<e.length;a++){var s=e[a];if(!(s.zoom<=t)){s.zoom=t;for(var u=this.trees[t+1],l=u.within(s.x,s.y,n),c=s.numPoints||1,h=c,f=0,p=l;f<p.length;f+=1){var d=u.points[p[f]];d.zoom>t&&(h+=d.numPoints||1)}if(h>=o){f=s.x*c,p=s.y*c,c=i&&1<c?this._map(s,!0):null,d=(a<<5)+(t+1)+this.points.length;for(var g=0;g<l.length;g+=1){var m=u.points[l[g]];if(!(m.zoom<=t)){m.zoom=t;var v=m.numPoints||1;f+=m.x*v,p+=m.y*v,m.parentId=d,i&&(c||(c=this._map(s,!0)),i(c,this._map(m)))}}s.parentId=d,r.push({x:f/h,y:p/h,zoom:1/0,id:d,parentId:-1,numPoints:h,properties:c})}else if(r.push(s),1<h)for(s=0,h=l;s<h.length;s+=1)l=u.points[h[s]],l.zoom<=t||(l.zoom=t,r.push(l))}}return r},g.prototype._getOriginId=function(e){return e-this.points.length>>5},g.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},g.prototype._map=function(e,t){if(e.numPoints)return t?u({},e.properties):e.properties;e=this.points[e.index].properties;var r=this.options.map(e);return t&&r===e?u({},r):r},g}))})),Rc=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.shapeLayer=new Ou(e.options),e.textLayer=new ku(e.options.textOptions),e.children=[e.shapeLayer,e.textLayer],e.max=[],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{size:50,height:0,maxZoom:19,minZoom:5,gradient:{0:"rgb(50, 50, 256)",.1:"rgb(50, 250, 56)",.5:"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},enableCluster:!1,showText:!0,textOptions:{fontSize:13,color:"white"}}}},{key:"onOptionsChanged",value:function(e){this.textLayer.setOptions(e.textOptions)}},{key:"setOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.options.textOptions;e.textOptions&&gr(t,e.textOptions);var r=e.minZoom,n=e.maxZoom,i=e.size;r=n&&n!==this.options.maxZoom||r&&r!==this.options.minZoom||i&&i!==this.options.size,gr(this.options,e,{textOptions:t}),r?this.onChanged(this.options,this.data):this.refreshLayer(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(e,t){if(t&&t.length){this.zoom=Math.floor(this.map.getZoom());var r=e.maxZoom,n=e.minZoom,i=e.enableCluster;e=e.size,this.zoom>r?this.zoom=r:this.zoom<n&&(this.zoom=n),i&&(this.supercluster=new Ic({maxZoom:r,minZoom:n,radius:e/2}),this.supercluster.load(t)),this.refreshLayer()}}},{key:"refreshLayer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.data,r=this.map,n=this.zoom;if(e.enableCluster&&this.supercluster&&(t=this.getClusterData(e)),t&&t.length){var i=e.gradient,o=e.showText,a=e.textOptions,s=e.height,u=e.size;u*=Math.pow(2,18-n),t=rt(t,u,(function(e){var t=xi(e,2),n=t[0];return t=t[1],-180<=n&&180>=n&&-90<=t&&90>=t&&(t=r.lnglatToMercator(n,t),n=t[0],t=t[1]),e[0]=n,e[1]=t,e})),this.max[n]=Math.max(this.max[n]||0,t.max);var l=new _({max:this.max[n],min:0,maxSize:s*Math.pow(2,18-n),minSize:0,gradient:i});if(i=[],o){var c=a&&a.format;c="function"===typeof c?c:null,i=t.map((function(e){return{geometry:{coordinates:[e.center.x,e.center.y,l.getSize(e.count)+a.fontSize/2*Math.pow(2,18-n)]},text:c?c(e.count):e.count}}))}this.textLayer.setData(i),o=t.map((function(e){for(var r=e.center,n=t.r,i=[],o=0;6>o;o++)i.push(tt({x:r.x,y:r.y},n,o));return{geometry:{type:"Polygon",coordinates:[i]},properties:{height:l.getSize(e.count),color:l.getColor(e.count)}}})),this.shapeLayer.setData(o),e.enablePicked&&e.autoSelect&&this.pick(-1,-1)}}},{key:"getClusterData",value:function(){var e=this.map,t=e.getBounds(),r=t.ne;t=t.sw,this.ne=r,this.sw=t;var n=r,i=n.lng;n=n.lat;var o=[];return-180<=i&&180>=i&&-90<=n&&90>=n?o=[t.lng,t.lat,r.lng,r.lat]:(r=e.mercatorToLnglat(this.ne.lng,this.ne.lat),t=e.mercatorToLnglat(this.sw.lng,this.sw.lat),o=t.concat(r)),this.supercluster.getClusters(o,this.zoom).map((function(e){var t=0;return e.properties&&e.properties.point_count&&(t=e.properties.point_count),{geometry:e.geometry,count:t}}))}},{key:"pick",value:function(e,t){return this.shapeLayer.pick(e,t)}},{key:"shouldUpdate",value:function(){if(!this.data)return!1;var e=this.map,t=Math.floor(e.getZoom()),r=this.options,n=r.maxZoom;return r=r.minZoom,t>n?t=n:t<r&&(t=r),this.zoom!==t?(this.zoom=t,!0):!!this.options.enableCluster&&(t=e.getBounds(),e=t.ne,t=t.sw,!!(e&&t&&this.ne&&this.sw)&&(this.ne.lng!==e.lng||this.ne.lat!==e.lat||this.sw.lng!==t.lng||this.sw.lat!==t.lat||void 0))}},{key:"render",value:function(e){this.shouldUpdate()?this.refreshLayer():_u(t.prototype.__proto__||Ar(t.prototype),"render",this).call(this,e)}}]),t}(Nu),Lc=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="PointLayer",e.bufferData=[],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],blend:"normal",shape:"circle",size:5,unit:"px",borderWidth:0,borderColor:[1,1,1,.9],polygonOffset:[0,0],depthTest:!0}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions(),r=[];t.enablePicked&&r.push("PICK"),t.shape&&"circle"===t.shape&&r.push("SHAPE_CIRCLE"),this.program=new Xs(this.gl,{vertexShader:"attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aBorderWidth;attribute vec4 aBorderColor;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float size=aSize*devicePixelRatio;float borderWidth=aBorderWidth*devicePixelRatio;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=uUnitPx ? size : size/zoomUnits;vSize=size;vBorderWidth=borderWidth;vBorderColor=aBorderColor;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}",fragmentShader:"varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){vec4 color=vColor;\n#if defined(SHAPE_CIRCLE)\nfloat d=distance(gl_PointCoord,vec2(0.5,0.5));float ratio=1.0-vBorderWidth/vSize*2.0;if(d>0.5){discard;}if(d>ratio*0.5){color=vBorderColor;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;\n#else\nfloat ratio=vBorderWidth/vSize;if(gl_PointCoord.x<ratio||gl_PointCoord.x>1.0-ratio||gl_PointCoord.y<ratio||gl_PointCoord.y>1.0-ratio){color=vBorderColor;}\n#endif\ngl_FragColor=color;}",defines:r},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{stride:52,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:52,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:52,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28},{stride:52,name:"aBorderWidth",buffer:this.buffer,size:1,type:"FLOAT",offset:32},{stride:52,name:"aBorderColor",buffer:this.buffer,size:4,type:"FLOAT",offset:36}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){this.bufferData=[]}},{key:"onChanged",value:function(e,t){if(this.gl){for(var r=[],n=e.color,i=e.size,o=e.borderWidth,a=e.borderColor,s=0;s<t.length;s++){var u=this.normizedPoint(t[s].geometry.coordinates),l=this.getProperty("color",n,t[s]);l=this.normizedColor(l);var c=this.getProperty("size",i,t[s]);c=Number(c);var h=this.getProperty("borderWidth",o,t[s]);h=Number(h);var f=this.getProperty("borderColor",a,t[s]);f=this.normizedColor(f),u=this.addMultipleCoords(u);for(var p=0;p<u.length;p++){var d=u[p];r.push(d[0],d[1],Number(d[2]||0)),r.push(l[0],l[1],l[2],l[3]),r.push(c),r.push(h,f[0],f[1],f[2],f[3])}}this.bufferData=r,this.buffer.updateData(new Float32Array(r)),e.enablePicked&&this.parsePickData(t)}}},{key:"parsePickData",value:function(e){var t=this.getOptions(),r=[];if(t.enablePicked)for(var n=0;n<e.length;n++){var i=this.indexToRgb(n);r.push(i[0]/255,i[1]/255,i[2]/255),t.repeat&&(r.push(i[0]/255,i[1]/255,i[2]/255),r.push(i[0]/255,i[1]/255,i[2]/255))}t.enablePicked&&this.pickBuffer.updateData(new Float32Array(r))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=e.isPickRender;if(!(0>=this.bufferData.length)){var i=this.getOptions(),o=this.program;o.use(t),e=this.getCommonUniforms(e),e=gr(e,{uMatrix:r,uUnitPx:"px"===i.unit,zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio}),o.setUniforms(e),this.setGLState({blend:!n,blendFunc:"lighter"===i.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],blendEquation:t.FUNC_ADD,polygonOffset:i.polygonOffset,depthTest:i.depthTest}),this.vertexArray.bind(),t.drawArrays(t.POINTS,0,this.bufferData.length/13)}}}]),t}(vu),Pc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="GroundRippleLayer",e.bufferDataArr=[],e.indexDataArr=[],e.vertexBuffer=[],e.indexBuffer=[],e.position=[],e.opacity=1,e.currentScale=1,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],size:5,segs:32,scale:2,unit:"m",step:.1}}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_projectionMatrix;uniform mat4 u_modelViewMatrix;uniform mat4 u_modelMatrix;uniform float u_opacity;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;void main(){vColor=aColor;vColor.a=u_opacity;gl_Position=u_projectionMatrix*u_modelViewMatrix*u_modelMatrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;void main(){if(vColor.a==0.0){discard;}gl_FragColor=vColor;}"})}},{key:"onDestroy",value:function(){this.bufferDataArr=[],this.indexDataArr=[],this.vertexBuffer=[],this.indexBuffer=[]}},{key:"onChanged",value:function(e,t){var r=this.gl;if(r&&(this.currentScale=this.opacity=1,(this.data=t)&&t.length)){var n=e.color,i=e.segs;e=e.size;for(var o=360/i,a=0;a<t.length;a++){var s=[],u=[],l=this.normizedPoint(t[a].geometry.coordinates),c=n;"[object Function]"===Object.prototype.toString.call(c)?c=c(t[a]):(c=t[a].color||n,"properties"in t[a]&&"color"in t[a].properties&&(c=t[a].properties.color)),c=this.normizedColor(c);var h="[object Function]"===Object.prototype.toString.call(e)?e(t[a]):Number(e),f=l[0],p=l[1];s.push(0,0,-.5),s.push(c[0],c[1],c[2],0);for(var d=1,g=0;d<=i;d++,g+=o)s.push(l[0]-f+Math.cos(Math.PI/180*g)*h,l[1]-p+Math.sin(Math.PI/180*g)*h,-.5),s.push(c[0],c[1],c[2],this.opacity),d===i?u.push(0,0+d,1):u.push(0,0+d,0+d+1);c=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW),this.vertexBuffer[a]=c,this.bufferDataArr[a]=s,r.bindBuffer(r.ARRAY_BUFFER,null),s=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,s),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(u),r.STATIC_DRAW),this.indexBuffer[a]=s,this.indexDataArr[a]=u,r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),this.position[a]=[l[0],l[1]]}this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(e){var t=e.gl,r=e.projectionMatrix,n=e.viewMatrix;for(e=this.program,t.useProgram(e.program),t.uniformMatrix4fv(e.uniforms.u_projectionMatrix,!1,r),t.uniformMatrix4fv(e.uniforms.u_modelViewMatrix,!1,n),r=this.opacity,void 0!==this.options.opacity&&(r=this.options.opacity),t.uniform1f(e.uniforms.u_opacity,r),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.DST_ALPHA]}),t.enableVertexAttribArray(e.attributes.aPos),t.enableVertexAttribArray(e.attributes.aColor),r=0;r<this.bufferDataArr.length;r++)if(!(0>=this.bufferDataArr[r].length)){n=new Float32Array(this.bufferDataArr[r]).BYTES_PER_ELEMENT,t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer[r]),t.vertexAttribPointer(e.attributes.aColor,4,t.FLOAT,!1,7*n,3*n),t.vertexAttribPointer(e.attributes.aPos,3,t.FLOAT,!1,7*n,0),n=this.position[r];var i=js.create(),o=[this.currentScale,this.currentScale,this.currentScale];"px"===this.options.unit&&this.map&&(o=this.map.getZoomUnits(),o=[this.currentScale*o,this.currentScale*o,this.currentScale]),js.identity(i),js.translate(i,i,[n[0],n[1],0]),js.scale(i,i,o),t.uniformMatrix4fv(e.uniforms.u_modelMatrix,!1,i),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer[r]),t.drawElements(t.TRIANGLES,this.indexDataArr[r].length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}e=this.getOptions(),t=e.scale,e=e.step,this.opacity-=e/10,this.currentScale+=t*e,0>this.opacity&&(this.currentScale=this.opacity=1)}}]),t}(vu),Oc=function(e){function t(e){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="RippleLayer",e.bufferData=[],e.date=new Date,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthTest:!0,polygonOffset:[0,0],color:[.1,.1,.9,1],blend:"normal",size:20,unit:"px",duration:2}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.program=new Xs(this.gl,{vertexShader:"attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform float uTime;uniform float duration;uniform float zoomUnits;varying vec4 vColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float percent=mod(uTime,duration)/duration;vColor.a=1.-percent;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize/zoomUnits*percent;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}",fragmentShader:"varying vec4 vColor;void main(void){vec4 color=vColor;float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;gl_FragColor=color;}",defines:t.enablePicked?["PICK"]:[]},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{stride:32,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:32,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:32,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){this.bufferData=[]}},{key:"onChanged",value:function(e,t){if(this.gl){for(var r=[],n=e.color,i=e.size,o=0;o<t.length;o++){var a=t[o].geometry.coordinates,s=n;"[object Function]"===Object.prototype.toString.call(s)?s=s(t[o]):(s=t[o].color||n,"properties"in t[o]&&"color"in t[o].properties&&(s=t[o].properties.color)),s=this.normizedColor(s),a=this.normizedPoint(a);var u=t[o].size||i;"properties"in t[o]&&"size"in t[o].properties&&(u=t[o].properties.size),u="[object Function]"===Object.prototype.toString.call(u)?u(t[o]):Number(u),r.push(a[0],a[1],Number(a[2]||0)),r.push(s[0],s[1],s[2],s[3]),r.push(u*window.devicePixelRatio)}this.bufferData=r,this.buffer.updateData(new Float32Array(r)),e.enablePicked&&this.parsePickData(t)}}},{key:"parsePickData",value:function(e){var t=this.getOptions(),r=[];if(t.enablePicked)for(var n=0;n<e.length;n++){var i=this.indexToRgb(n);r.push(i[0]/255,i[1]/255,i[2]/255)}t.enablePicked&&this.pickBuffer.updateData(new Float32Array(r))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=e.isPickRender;if(!(0>=this.bufferData.length)){var i=this.getOptions(),o=this.program;o.use(t),this.vertexArray.bind(),e=this.getCommonUniforms(e);var a=1;"m"===i.unit&&this.map&&(a=this.map.getZoomUnits()),e=gr(e,{zoomUnits:a,uTime:(new Date-this.date)/1e3,duration:i.duration,uMatrix:r}),o.setUniforms(e),this.setGLState({blend:!n,blendFunc:"lighter"===i.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],blendEquation:t.FUNC_ADD,polygonOffset:i.polygonOffset,depthTest:i.depthTest}),t.drawArrays(t.POINTS,0,this.bufferData.length/8)}}}]),t}(vu),Dc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="SparkLayer",e.bufferData=[],e.startTime=Number(e.options.startTime)||0,e.endTime=Number(e.options.endTime),e.time=e.startTime,e.segs=Number(e.options.segs)||10,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[.9,.1,.1,1],trailLength:3,height:100,step:.1,segs:10,polygonOffset:[0,0]}}},{key:"setTime",value:function(e){this.time=e}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"precision mediump float;attribute vec4 aPos;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision mediump float;uniform vec3 uFragColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(uFragColor,1.0*vTime);}"}),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"onDestroy",value:function(){this.bufferData=[]}},{key:"onChanged",value:function(e,t){var r=this.gl;if(r){this.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.buffer);for(var n=[],i=e.height,o=0;o<t.length;o++)for(var a=t[o].geometry.coordinates,s="[object Function]"===Object.prototype.toString.call(i)?i(t[o]):Number(i),u=0,l=0;l<this.segs;l++){var c=this.normizedPoint(a);n.push(c[0],c[1],u),void 0===a[2]?n.push(l):n.push(Number(a[2])),u+=s/this.segs,n.push(c[0],c[1],u),void 0===a[2]?n.push(l+1):n.push(Number(a[2]))}void 0===e.endTime&&(this.endTime=this.segs),this.bufferData=n,r.bufferData(r.ARRAY_BUFFER,new Float32Array(n),r.STATIC_DRAW),this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;e=this.program,t.useProgram(e.program),t.uniformMatrix4fv(e.uniforms.u_matrix,!1,r),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.enableVertexAttribArray(e.attributes.aPos),t.vertexAttribPointer(e.attributes.aPos,4,t.FLOAT,!1,0,0),r=this.normizedColor(this.options.color),t.uniform3f(e.uniforms.uFragColor,r[0],r[1],r[2]),t.uniform1f(e.uniforms.currentTime,this.time),t.uniform1f(e.uniforms.trailLength,this.options.trailLength),this.setGLState({blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE],blendEquation:t.FUNC_ADD,polygonOffset:this.options.polygonOffset}),t.drawArrays(t.LINES,0,this.bufferData.length/4),this.time+=Number(this.options.step),this.time>1.5*this.endTime&&(this.time=this.startTime)}}]),t}(vu),kc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="IconLayer",e.index=[],r=e.canvas=document.createElement("canvas"),e.ctx=r.getContext("2d"),e.iconHash=new yc,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!0,depthTest:!0,flat:!1,unit:"px",scale:1,angle:0,opacity:1,offset:[0,0],padding:[0,0],polygonOffset:[0,0]}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute vec2 a_size;attribute vec2 a_offset;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float devicePixelRatio;uniform float u_zoom_units;uniform float u_zIndex;uniform float u_scale;uniform bool u_unit_px;uniform bool u_flat;varying vec2 v_texture_coord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)+size.x*sin(a_rotation);}else if(corner==2.0){x+=size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)-size.x*sin(a_rotation);}else if(corner==3.0){x+=size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)-size.x*sin(a_rotation);}else{x+=-size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)+size.x*sin(a_rotation);}return vec3(x,y,coord.z);}void main(){v_texture_coord=a_texture_coord;if(u_flat){vec2 offset=a_offset;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;offset*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=u_zIndex;gl_Position=u_matrix*vec4(current.x+offset[0],current.y-offset[1],current.z,1.0);}else{vec4 position=u_matrix*vec4(a_pos,1.0);vec3 screen=position.xyz/position.w;vec2 halfSize=a_size/MAPV_resolution*devicePixelRatio*u_scale;vec2 offset=a_offset*2./MAPV_resolution*devicePixelRatio;if(!u_unit_px){halfSize/=u_zoom_units;offset/=u_zoom_units;}vec3 current=transformCoord(screen,halfSize,a_corner);current.xy=current.xy-offset;current.z+=u_zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:"precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform float u_opacity;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}textureColor.a*=u_opacity;gl_FragColor=textureColor;\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:36,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:16},{name:"a_offset",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:32},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}},{key:"processCache",value:function(e,t,r){var n=this;this.cachedData=[];for(var i=e.icon,o=e.width,a=e.height,s=e.offset,u=e.angle,l=0;l<t.length;l++){var c=this.normizedPoint(t[l].geometry.coordinates),h=this.getProperty("icon",i,t[l]),f=this.getProperty("width",o,t[l]),p=this.getProperty("height",a,t[l]),d=this.getProperty("offset",s,t[l]),g=this.getProperty("angle",u,t[l]);c&&h&&(this.cachedData.push({point:c,icon:h,width:f,height:p,offset:d,angle:g,index:l}),this.iconHash.get(h)||this.iconHash.set(h,h))}t=Ii(this.iconHash.entries()).filter((function(e){return"string"===typeof e[1]})).map((function(e){var t=xi(e,2)[0];return new nc((function(e,r){n.url2canvas(t,(function(r){n.iconHash.set(t,r),e()}))}))})),nc.all(t).then((function(t){n.buildSprite(e),!1!==r.autoRender&&n.webglLayer&&n.webglLayer.render()}))}},{key:"buildSprite",value:function(e){var t=e.padding,r=this.canvas,n=this.ctx,i=[],o=new yc,a=!0,s=!1,u=void 0;try{for(var l,c=yi(this.iconHash);!(a=(l=c.next()).done);a=!0){var h=xi(l.value,2),f=h[1];if("string"!==typeof f){var p=f.width,d=f.height;i.push({w:p+t[0],h:d+t[0],width:p,height:d,key:h[0],icon:f})}}}catch(m){s=!0,u=m}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}for(s=fe(i),a=0;a<i.length;a++)u=i[a],o.get(u.key)||o.set(u.key,u);for(a=g(s.w),s=g(s.h),r.width=a||1,r.height=s||1,n.save(),r=0;r<i.length;r++)u=i[r],n.drawImage(u.icon,u.x+t[0],u.y+t[1],u.width,u.height);n.restore(),this.loadTexture(),this.buildVertex(e,o,a,s)}},{key:"buildVertex",value:function(e,t,r,n){e=e.enablePicked;for(var i=[],o=[],a=[],s=[],u=0;u<this.cachedData.length;u++){var l=this.cachedData[u],c=l.point,h=l.width,f=l.height,p=l.offset,d=l.angle,g=l.index;if(l=t.get(l.icon)){h=h||l.icon.width,f=f||l.icon.height;var m=xi(c,3);c=m[0];var v=m[1];m=m[2];for(var y=0;4>y;y++)i.push(c,v,m),i.push(y),i.push(h,f),i.push.apply(i,Li(p)),i.push(d*Math.PI/180);h=l.x/r,f=(l.x+l.w)/r,p=(l.y+l.h)/n,l=l.y/n,o.push(h,p,h,l,f,l,f,p),l=4*u,a.push(l,l+2,l+1,l,l+3,l+2),e&&(g=this.indexToRgb(g),s.push(g[0]/255,g[1]/255,g[2]/255),s.push(g[0]/255,g[1]/255,g[2]/255),s.push(g[0]/255,g[1]/255,g[2]/255),s.push(g[0]/255,g[1]/255,g[2]/255))}}this.index=a,this.vertexBuffer.updateData(new Float32Array(i)),this.uvBuffer.updateData(new Float32Array(o)),this.indexBuffer.updateData(new Uint32Array(a)),e&&this.pickBuffer.updateData(new Float32Array(s))}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.setGLState({blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite}),i.setUniforms(gr(this.getCommonUniforms(e),{u_icon:this.texture,u_matrix:r,u_flat:n.flat,u_unit_px:"px"===n.unit,u_zoom_units:this.map.getZoomUnits(),u_scale:n.scale,u_opacity:n.opacity,u_zIndex:n.zIndex,devicePixelRatio:window.devicePixelRatio})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"url2canvas",value:function(e,t){if("object"===("undefined"===typeof e?"undefined":Kn(e)))t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var e=r.width,n=r.height,i=document.createElement("canvas");i.width=e,i.height=n,i.getContext("2d").drawImage(r,0,0,e,n),t(i)},r.onerror=function(){var e=document.createElement("canvas");e.width=20,e.height=40;var r=e.getContext("2d");r.fillStyle="red",r.beginPath(),r.lineTo(0,0),r.lineTo(20,0),r.lineTo(10,40),r.closePath(),r.fill(),t(e)},r.src=e}}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t})):this.texture=null}}]),t}(vu),Nc=function(e){function t(e){gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.pointLayer=new Lc(e.options),e.options.textOptions=gr({depthTest:!1},e.options.textOptions),e.textLayer=new ku(e.options.textOptions);var r=gr({},e.options,e.options.iconOptions);return e.iconLayer=new kc(r),e.children=[e.pointLayer,e.textLayer,e.iconLayer],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{minSize:25,maxSize:40,clusterRadius:200,minPoints:2,extent:400,showText:!0,maxZoom:19,minZoom:4,gradient:{0:"rgb(50, 50, 256)",.1:"rgb(50, 250, 56)",.5:"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},textOptions:{fontSize:12,color:"white"},iconOptions:{}}}},{key:"onOptionsChanged",value:function(e){this.textLayer.setOptions(e.textOptions)}},{key:"setOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.options.textOptions;e.textOptions&&gr(t,e.textOptions);var r=e.minZoom,n=e.maxZoom,i=e.clusterRadius;r=n&&n!==this.options.maxZoom||r&&r!==this.options.minZoom||i&&i!==this.options.clusterRadius,gr(this.options,e,{textOptions:t}),r?this.onChanged(this.options,this.data):this.refreshCluster(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(e,t){var r=this;t&&t.length?(t.forEach((function(e){var t=xi(e.geometry.coordinates,2),n=t[0];t=t[1],-180<=n&&180>=n&&-90<=t&&90>=t||(n=r.map.mercatorToLnglat(n,t),e.geometry.coordinates[0]=n[0],e.geometry.coordinates[1]=n[1])})),this.supercluster=new Ic({maxZoom:e.maxZoom,minZoom:e.minZoom,radius:e.clusterRadius,minPoints:e.minPoints,extent:e.extent}),this.supercluster.load(t),this.supercluster.trees.forEach((function(e){var t=0,r=1/0;e.points.forEach((function(e){t=Math.max(e.numPoints||0,t),r=Math.min(e.numPoints||1/0,r)})),e.max=t,e.min=r})),this.refreshCluster()):(this.supercluster=null,this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]))}},{key:"refreshCluster",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;if(this.supercluster){var t=this.getClusterData(e);if(t&&t.length)if("function"===typeof e.beforeRender&&!1===e.beforeRender(t))this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]);else{var r=[],n=[],i=[];t.forEach((function(e){e.properties.text?(r.push(e),i.push({geometry:e.geometry,properties:{text:e.properties.text}})):e.properties.icon?n.push(e):r.push(e)})),this.pointLayer.setData(r),this.iconLayer.setData(n),this.textLayer.setData(e.showText?i:[]),e.enablePicked&&e.autoSelect&&this.pick(-1,-1)}}}},{key:"getClusterData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options,t=this.map.getBounds(),r=this.ne=t.getNorthEast();t=this.sw=t.getSouthWest();var n=r,i=n.lng;return n=n.lat,-180<=i&&180>=i&&-90<=n&&90>=n?t=[t.lng,t.lat,r.lng,r.lat]:(r=this.map.mercatorToLnglat(this.ne.lng,this.ne.lat),t=this.map.mercatorToLnglat(this.sw.lng,this.sw.lat),t=t.concat(r)),r=Math.floor(this.map.getZoom()),t=this.supercluster.getClusters(t,r),this.zoom!==r&&0<t.length&&(this.zoom=r,n=this.supercluster.trees,i=n[r]&&n[r].max||this.max,r=n[r]&&n[r].min||this.min,i!==r&&(this.max=i,this.min=r)),this.processData(t,e)}},{key:"processData",value:function(e,t){var r=t.defaultColor,n=t.defaultSize,i=t.gradient,o=t.minSize,a=t.textOptions,s=new _({max:this.max,min:~~this.min||1,minSize:o||8,maxSize:t.maxSize||30,gradient:i});r=r||i[0]||"black",n=n||.5*o||5;var u=a&&a.format;return u="function"===typeof u?u:null,e.map((function(e){var t=n,i=r,o="";return e.properties&&e.properties.point_count&&(o=e.properties.point_count,t=s.getSize(o)||t,i=s.getColor(o),o=u?u(o):o),t=gr({},e.properties,{text:o,size:t,color:i}),gr({},e,{properties:t,children:e.id})}))}},{key:"pick",value:function(e,t){var r=this.pointLayer.pick(e,t);return 0>r.dataIndex&&(r=this.iconLayer.pick(e,t)),(e=r.dataItem)&&"number"===typeof e.children&&(e.children=this.getClusterPoints(e.children)),r}},{key:"getClusterPoints",value:function(e){var t=this;return e?this.supercluster.getChildren(e).map((function(e){return"Feature"===e.type?t.getClusterPoints(e.id):e})).flat():[]}},{key:"shouldUpdate",value:function(){if(!this.data||!this.supercluster)return!1;if(this.zoom!==Math.floor(this.map.getZoom()))return!0;var e=this.map.getBounds(),t=e.getNorthEast();return e=e.getSouthWest(),this.ne.lng!==t.lng||this.ne.lat!==t.lat||this.sw.lng!==e.lng||this.sw.lat!==e.lat||void 0}},{key:"render",value:function(e){this.shouldUpdate()?this.refreshCluster():_u(t.prototype.__proto__||Ar(t.prototype),"render",this).call(this,e)}}]),t}(Nu),Fc=function(e){function t(e,r){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e,r))}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return gr(_u(t.prototype.__proto__||Ar(t.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,gradient:{0:"rgb(50, 50, 256)",.1:"rgb(50, 250, 56)",.5:"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}})}},{key:"onChanged",value:function(e,r){this.gl&&(r=this.processData(r,e),_u(t.prototype.__proto__||Ar(t.prototype),"onChanged",this).call(this,e,r))}},{key:"generateGrid",value:function(e,t){var r=t.gridSize,n=[],i={};t=e.length;for(var o=this.getPointOffset(),a=0;a<t;a++){var s=this.normizedPoint(e[a].geometry.coordinates),u=s[2];s=~~((s[0]+o[0])/r)+"_"+~~((s[1]+o[1])/r),void 0===i[s]&&(i[s]={count:0,num:0,z:0});var l=~~e[a].count||1;"properties"in e[a]&&"count"in e[a].properties&&(l=~~e[a].properties.count),i[s].count+=l,i[s].num+=1,i[s].z+=u}return ur(i).forEach((function(e){var t=e.split("_");n.push([t[0]*r+r/2,t[1]*r+r/2,i[e].z/i[e].num,i[e].count])})),n}},{key:"processData",value:function(e,t){var r=[];if("normal"===t.style)for(var n=this.getPointOffset(),i=0;i<e.length;i++){var o=this.normizedPoint(e[i].geometry.coordinates),a=o[0]+n[0],s=o[1]+n[1];o=o[2];var u=~~e[i].count||1;"properties"in e[i]&&"count"in e[i].properties&&(u=~~e[i].properties.count),r.push([a,s,o,u])}else r=this.generateGrid(e,t);if(n=e=0,void 0!==t.max&&void 0!==t.min)e=t.max,n=t.min;else{for(r[0]&&(e=r[0][3],n=r[0][3]),i=r.length,a=0;a<i;a++)s=r[a],e=Math.max(s[3],e),n=Math.min(s[3],n);e/=2}for(t=new _({max:~~e,min:n,gradient:t.gradient}),e=[],n=0;n<r.length;n++)i=r[n],i[0]=i[0],i[1]=i[1],a=t.getImageData(i[3]),e.push({geometry:{type:"Point",coordinates:[i[0],i[1],i[2]]},color:[a[0]/255,a[1]/255,a[2]/255,a[3]/255]});return e}}]),t}(Lc),Bc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.bufferData=[],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1]}}},{key:"onChanged",value:function(e,t){var r=this;if(e=this.gl){this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer);for(var n=[],i=function(e){var i=5*e;for(e=0;e<t.length;e++)t[e].geometry.coordinates.forEach((function(e){for(var t=0;t<e.length-1;t++){var o=r.normizedPoint(e[t]);n.push(o[0]),n.push(o[1]),n.push(Number(i)),o=r.normizedPoint(e[t+1]),n.push(o[0]),n.push(o[1]),n.push(Number(i))}}))},o=0;20>o;o++)i(o);e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),this.bufferData=n,e.bindBuffer(e.ARRAY_BUFFER,null)}}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(e,{vertexShader:"uniform mat4 uMatrix;attribute vec3 aPos;void main(){gl_PointSize=10.0;gl_Position=uMatrix*vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform vec4 uFragColor;void main(){gl_FragColor=uFragColor;}"}),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"render",value:function(e){var t=e.gl;e=e.matrix;var r=this.program;t.useProgram(r.program);var n=this.normizedColor(this.options.color);t.uniform4f(r.uniforms.uFragColor,n[0],n[1],n[2],n[3]),t.uniformMatrix4fv(r.uniforms.uMatrix,!1,e),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.ONE,t.ONE]}),t.drawArrays(t.LINES,0,this.bufferData.length/3)}}]),t}(vu),zc={circle:1,square:2},Uc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.bufferData=[],e.startTime=e.options.startTime||0,e.endTime=e.options.endTime,e.time=e.startTime,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"attribute vec4 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 u_matrix;varying vec4 vColor;uniform float currentTime;uniform float trailLength;varying float vTime;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;varying vec4 vColor;uniform int uShape;varying float vTime;void main(void){if(vTime>1.0||vTime<0.0){discard;}if(uShape==1){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d<0.5){gl_FragColor=vColor;}else{discard;}}else{gl_FragColor=vec4(vColor.rgb,vColor.a*vTime);}}"}),this.f32BufferData=new Float32Array,this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"onChanged",value:function(e,t){var r=this.gl;if(r){this.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.buffer);for(var n=[],i=e.color||[.1,.1,.9,1],o=e.size||5,a=0;a<t.length;a++){var s=t[a].geometry.coordinates,u=i;"[object Function]"===Object.prototype.toString.call(u)?u=u(t[a]):(u=t[a].color||i,"properties"in t[a]&&"color"in t[a].properties&&(u=t[a].properties.color)),u=this.normizedColor(u);var l=this.normizedPoint(s),c=o;c="[object Function]"===Object.prototype.toString.call(c)?c(t[a]):Number(c);var h=t[a].time||a;"properties"in t[a]&&"time"in t[a].properties&&(h=t[a].properties.time),n.push(l[0],l[1],Number(s[2]||0),h),n.push(u[0],u[1],u[2],u[3]),n.push(c*window.devicePixelRatio)}void 0===e.endTime&&(this.endTime=t.length),this.bufferData=n,this.f32BufferData=new Float32Array(n),r.bufferData(r.ARRAY_BUFFER,this.f32BufferData,r.STATIC_DRAW)}}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;0>=this.bufferData.length||(e=this.program,t.useProgram(e.program),t.uniformMatrix4fv(e.uniforms.u_matrix,!1,r),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),r=this.f32BufferData.BYTES_PER_ELEMENT,t.enableVertexAttribArray(e.attributes.aPos),t.vertexAttribPointer(e.attributes.aPos,4,t.FLOAT,!1,9*r,0),t.enableVertexAttribArray(e.attributes.aColor),t.vertexAttribPointer(e.attributes.aColor,4,t.FLOAT,!1,9*r,4*r),t.enableVertexAttribArray(e.attributes.aSize),t.vertexAttribPointer(e.attributes.aSize,1,t.FLOAT,!1,9*r,8*r),t.uniform1f(e.uniforms.currentTime,this.time),t.uniform1f(e.uniforms.trailLength,this.options.trailLength||3),r=1,this.options.shape&&zc[this.options.shape]&&(r=zc[this.options.shape]),t.uniform1i(e.uniforms.uShape,r),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===this.options.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}),t.drawArrays(t.POINTS,0,this.bufferData.length/9),this.time+=this.options.step||.1,this.time>this.endTime&&(this.time=this.startTime))}}]),t}(vu),jc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.bufferData=[],e.startTime=e.options.startTime||0,e.endTime=e.options.endTime,e.time=e.startTime,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1],trailLength:3,step:.1,polygonOffset:[0,0]}}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec4 aPos;attribute vec4 aColor;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;varying vec4 vColor;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vColor=aColor;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;uniform vec3 uFragColor;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"},this),this.buffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"setTime",value:function(e){this.time=e}},{key:"onChanged",value:function(e,t){var r=this.gl;if(r){this.buffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.buffer);for(var n=[],i=0,o=this.options.color,a=0;a<t.length;a++){var s=t[a].geometry.coordinates;t[a].color&&(o=t[a].color),"properties"in t[a]&&"color"in t[a].properties&&(o=t[a].properties.color),"[object Function]"===Object.prototype.toString.call(o)&&(o=o(t[a])),o=this.normizedColor(o),s.length>i&&(i=s.length);for(var u=0;u<s.length-1;u++){var l=this.normizedPoint(s[u]);n.push(l[0]),n.push(l[1]),n.push(l[2]),void 0===s[u][3]?n.push(u):n.push(Number(s[u][3])),n.push(o[0]),n.push(o[1]),n.push(o[2]),n.push(o[3]),l=this.normizedPoint(s[u+1]),n.push(l[0]),n.push(l[1]),n.push(l[2]),void 0===s[u+1][3]?n.push(u+1):n.push(Number(s[u+1][3])),n.push(o[0]),n.push(o[1]),n.push(o[2]),n.push(o[3])}}void 0===e.endTime&&(this.endTime=i),this.bufferData=n,this.f32BufferData=new Float32Array(n),r.bufferData(r.ARRAY_BUFFER,this.f32BufferData,r.STATIC_DRAW)}}},{key:"render",value:function(e){var t=e.gl,r=e.matrix;e=this.getOptions();var n=this.program;n.use(t),t.uniformMatrix4fv(n.uniforms.u_matrix,!1,r),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),r=this.f32BufferData.BYTES_PER_ELEMENT,t.enableVertexAttribArray(n.attributes.aPos),t.vertexAttribPointer(n.attributes.aPos,4,t.FLOAT,!1,8*r,0),t.enableVertexAttribArray(n.attributes.aColor),t.vertexAttribPointer(n.attributes.aColor,4,t.FLOAT,!1,8*r,4*r),r=this.normizedColor(e.color),t.uniform3f(n.uniforms.uFragColor,r[0],r[1],r[2]),t.uniform1f(n.uniforms.currentTime,this.time),t.uniform1f(n.uniforms.trailLength,e.trailLength),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===e.blend?[t.ONE,t.ONE]:[t.SRC_ALPHA,t.ONE],polygonOffset:e.polygonOffset,depthMask:!1}),t.drawArrays(t.LINES,0,this.bufferData.length/8),this.time+=e.step,this.time>this.endTime&&(this.time=this.startTime)}}]),t}(vu),Hc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="IconCollidesLayer",e.index=[],r=e.canvas=document.createElement("canvas"),e.ctx=r.getContext("2d"),e.iconHash=new yc,e.boxHash=new yc,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{flat:!1,unit:"px",scale:1,angle:0,offset:[0,0],padding:[0,0]}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute vec2 a_size;attribute vec2 a_offset;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float devicePixelRatio;uniform float u_zoom_units;uniform float u_zIndex;uniform float u_scale;uniform bool u_unit_px;uniform bool u_flat;varying vec2 v_texture_coord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)+size.x*sin(a_rotation);}else if(corner==2.0){x+=size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)-size.x*sin(a_rotation);}else if(corner==3.0){x+=size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)-size.x*sin(a_rotation);}else{x+=-size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)+size.x*sin(a_rotation);}return vec3(x,y,coord.z);}void main(){v_texture_coord=a_texture_coord;if(u_flat){vec2 offset=a_offset;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;offset*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=u_zIndex;gl_Position=u_matrix*vec4(current.x+offset[0],current.y-offset[1],current.z,1.0);}else{vec4 position=u_matrix*vec4(a_pos,1.0);vec3 screen=position.xyz/position.w;vec2 halfSize=a_size/MAPV_resolution*devicePixelRatio*u_scale;vec2 offset=a_offset*2./MAPV_resolution*devicePixelRatio;if(!u_unit_px){halfSize/=u_zoom_units;offset/=u_zoom_units;}vec3 current=transformCoord(screen,halfSize,a_corner);current.xy=current.xy-offset;current.z+=u_zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:"precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:36,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:16},{name:"a_offset",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:32},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.gl&&(this.cachedData=[],this.boxHash.clear(),this.processCache(e,t,r))}},{key:"processCache",value:function(e,t,r){for(var n=this,i=e.icon,o=e.width,a=e.height,s=e.offset,u=e.angle,l=0;l<t.length;l++){var c=this.normizedPoint(t[l].geometry.coordinates),h=this.getProperty("icon",i,t[l]),f=this.getProperty("width",o,t[l]),p=this.getProperty("height",a,t[l]),d=this.getProperty("offset",s,t[l]),g=this.getProperty("angle",u,t[l]);c&&h&&(this.cachedData.push({point:c,icon:h,width:f,height:p,offset:d,angle:g,dataIndex:l}),this.iconHash.get(h)||this.iconHash.set(h,h))}t=Ii(this.iconHash.entries()).filter((function(e){return"string"===typeof e[1]})).map((function(e){var t=xi(e,2)[0];return new nc((function(e,r){n.url2canvas(t,(function(r){n.iconHash.set(t,r),e()}))}))})),nc.all(t).then((function(t){n.buildSprite(e),!1!==r.autoRender&&n.webglLayer&&n.webglLayer.render()}))}},{key:"buildSprite",value:function(e){e=e.padding;var t=this.canvas,r=this.ctx,n=[],i=!0,o=!1,a=void 0;try{for(var s,u=yi(this.iconHash);!(i=(s=u.next()).done);i=!0){var l=xi(s.value,2),c=l[1];if("string"!==typeof c){var h=c.width,f=c.height;n.push({w:h+e[0],h:f+e[0],width:h,height:f,key:l[0],icon:c})}}}catch(p){o=!0,a=p}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}for(u=fe(n),s=0;s<n.length;s++)l=n[s],this.boxHash.get(l.key)||this.boxHash.set(l.key,l);for(s=g(u.w)||1,u=g(u.h)||1,t.width=s,t.height=u,r.save(),t=0;t<n.length;t++)u=n[t],r.drawImage(u.icon,u.x+e[0],u.y+e[1],u.width,u.height);r.restore(),this.loadTexture()}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.texture){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.throttleUpdate(e),this.setGLState({blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}),i.setUniforms(gr(this.getCommonUniforms(e),{u_icon:this.texture,u_matrix:r,u_flat:n.flat,u_unit_px:"px"===n.unit,u_zoom_units:this.map.getZoomUnits(),u_scale:n.scale,u_zIndex:n.zIndex,devicePixelRatio:window.devicePixelRatio})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"throttleUpdate",value:function(e){this.updateIcon(e)}},{key:"updateIcon",value:function(e){if(this.iconHash.size&&this.boxHash.size){var t=this.getOptions(),r=e.gl;e=e.matrix,t=t.enablePicked;var n=[],i=[],o=[],a=[],s=this.canvas.width,u=this.canvas.height,l=r.canvas.width/window.devicePixelRatio;r=r.canvas.height/window.devicePixelRatio;for(var c=new Du,h=0,f=0;f<this.cachedData.length;f++){var p=this.cachedData[f],d=p.point,g=p.width,m=p.height,v=p.offset,y=p.angle,b=p.dataIndex;if(p=this.boxHash.get(p.icon)){g=g||p.icon.width,m=m||p.icon.height;var x=xi(d,3);d=x[0];var A=x[1];x=x[2];var w=Ns.clone([d,A,x,1]);Ns.transformMat4(w,w,e),Ns.scale(w,w,1/w[3]);var _=(w[0]+1)/2*l-g/2;w=(1-w[1])/2*r-m/2;var C=_+g,M=w+m;if(!(0>C||0>M||_>l||w>r||(_={minX:_,maxX:C,minY:w,maxY:M},c.collides(_)))){for(c.insert(_),_=0;4>_;_++)n.push(d,A,x),n.push(_),n.push(g,m),n.push.apply(n,Li(v)),n.push(y*Math.PI/180);g=p.x/s,m=(p.x+p.w)/s,v=(p.y+p.h)/u,p=p.y/u,i.push(g,v,g,p,m,p,m,v),p=4*h,o.push(p,p+2,p+1,p,p+3,p+2),t&&(b=this.indexToRgb(b),a.push(b[0]/255,b[1]/255,b[2]/255),a.push(b[0]/255,b[1]/255,b[2]/255),a.push(b[0]/255,b[1]/255,b[2]/255),a.push(b[0]/255,b[1]/255,b[2]/255)),h+=1}}}this.index=o,this.vertexBuffer.updateData(new Float32Array(n)),this.uvBuffer.updateData(new Float32Array(i)),this.indexBuffer.updateData(new Uint32Array(o)),t&&this.pickBuffer.updateData(new Float32Array(a))}}},{key:"url2canvas",value:function(e,t){if("object"===("undefined"===typeof e?"undefined":Kn(e)))t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var e=r.width,n=r.height,i=document.createElement("canvas");i.width=e,i.height=n,i.getContext("2d").drawImage(r,0,0,e,n),t(i)},r.onerror=function(){var e=document.createElement("canvas");e.width=20,e.height=40;var r=e.getContext("2d");r.fillStyle="red",r.beginPath(),r.lineTo(0,0),r.lineTo(20,0),r.lineTo(10,40),r.closePath(),r.fill(),t(e)},r.src=e}}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t})):this.texture=null}}]),t}(vu),Gc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="LineFlowLayer",e.initData(),e.date=new Date,e.autoUpdate=!0,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",blend:"normal",width:2,antialias:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25,polygonOffset:[0,0]}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[]}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.program=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float thickness;uniform vec4 uSelectedColor;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aCounter;attribute vec2 uv;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}void main(){vColor=aColor;vCounter=aCounter;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\nvec4 previousProjected=u_matrix*vec4(previous,1.0);vec4 currentProjected=u_matrix*vec4(position,1.0);vec4 nextProjected=u_matrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float len=thickness;float orientation=direction;vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){len=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);vNormal=normal*orientation;normal*=len/2.0;vec2 pos=currentScreen+normal*orientation;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}",fragmentShader:"precision highp float;uniform bool uAntialias;uniform bool uAnimate;uniform float uTime;uniform float duration;uniform float interval;uniform float trailLength;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;void main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.98,1.0,length(vNormal));color.a*=blur;}if(uAnimate){float alpha=1.0-fract(mod(1.0-vCounter,interval)*(1.0/interval)+uTime/duration);alpha=(alpha+trailLength-1.0)/trailLength;color.a*=alpha;}gl_FragColor=color;}",defines:t.enablePicked?["PICK"]:[]},this),this.prevBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:4,name:"aCounter",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){var r=this;if(this.gl){this.initData();for(var n=1,i=[],o=0;o<t.length;o++){var a=[],s=t[o].geometry.coordinates;s&&0<s.length&&(a="Polygon"===t[o].geometry.type?s[0].map((function(e){return r.normizedPoint(e)})):s.map((function(e){return r.normizedPoint(e)}))),a=Ze(a),s=a.total,i[o]=a.arr,n=Math.max(s,n)}for(o=[],a=e.color,s=0;s<t.length;s++){var u=[],l=t[s].geometry.coordinates;l&&0<l.length&&(u="Polygon"===t[s].geometry.type?l[0].map((function(e){return r.normizedPoint(e)})):l.map((function(e){return r.normizedPoint(e)}))),l=a,"[object Function]"===Object.prototype.toString.call(l)?l=l(t[s]):(l=t[s].color||a,"properties"in t[s]&&"color"in t[s].properties&&(l=t[s].properties.color)),l=this.normizedColor(l);for(var c=this.addMultipleCoords(u),h=0;h<c.length;h++)this.processData(this.dataMgr,c[h],i[s],n,l);if(e.enablePicked)for(l=this.indexToRgb(s),c=0;c<u.length;c++)o.push(l[0]/255,l[1]/255,l[2]/255),o.push(l[0]/255,l[1]/255,l[2]/255),e.repeat&&(o.push(l[0]/255,l[1]/255,l[2]/255),o.push(l[0]/255,l[1]/255,l[2]/255),o.push(l[0]/255,l[1]/255,l[2]/255),o.push(l[0]/255,l[1]/255,l[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),e.enablePicked&&this.pickBuffer.updateData(new Float32Array(o))}}},{key:"processData",value:function(e,t,r,n,i){var o,a,s,u,l,c,h,f=t.length,p=e.position.length/6;r=We(r.map((function(e){return e/n})));var d=We(t.map((function(e){return-1})),!0),g=We(t),m=We(t.map(qe(-1))),v=We(t.map(qe(1)));t=We(t.map((function(e){return i}))),f=Xe(f,p),(o=e.counter).push.apply(o,Li(r)),(a=e.position).push.apply(a,Li(Ye(g))),(s=e.prev).push.apply(s,Li(Ye(m))),(u=e.next).push.apply(u,Li(Ye(v))),(l=e.direction).push.apply(l,Li(d)),(c=e.color).push.apply(c,Li(Ye(t))),(h=e.index).push.apply(h,Li(f))}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=this.dataMgr;if(n&&!(0>=n.index.length)){var i=this.getOptions(),o=this.program;if(o.use(t),this.map){var a=this.map.getZoom();a=!!(a>=i.minZoom&&a<=i.maxZoom&&this.autoUpdate)}else a=!0;o.setUniforms(gr(this.getCommonUniforms(e),{u_matrix:r,thickness:i.width,uAntialias:i.antialias,uTime:(new Date-this.date)/1e3,uAnimate:a,duration:i.duration,interval:i.interval,trailLength:i.trailLength})),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:"lighter"===i.blend?[t.SRC_ALPHA,t.ONE]:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:i.polygonOffset}),this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,n.index.length,t.UNSIGNED_INT,0)}}}]),t}(vu),Vc=function(e){function t(e,r){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e,r))}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute vec2 a_texture_coord;uniform sampler2D uTerrain;uniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;varying vec2 v_texture_coord;void main(){v_texture_coord=a_texture_coord;vec3 pos=a_pos.xyz;\n#if defined(TERRAIN)\nvec4 terrainColor=texture2D(uTerrain,vec2(v_texture_coord.s,v_texture_coord.t));vec3 rgb=terrainColor.rgb*256.0;pos.z=-10000.0+((rgb.r*256.0*256.0+rgb.g*256.0+rgb.b)*0.1);pos.z=pos.z-60.0;\n#endif\nvec4 position=u_proj_matrix*u_mv_matrix*vec4(pos,1.0);gl_Position=position;}",fragmentShader:"precision highp float;varying vec2 v_texture_coord;uniform sampler2D uTile;uniform bool uUseFilter;uniform vec4 uFilterColor;void main(){vec4 textureColor=texture2D(uTile,vec2(v_texture_coord.s,v_texture_coord.t));if(uUseFilter){textureColor=textureColor*uFilterColor;}gl_FragColor=textureColor;}",defines:t.terrain?["TERRAIN"]:""},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new Js({gl:e,program:this.program,attributes:[{name:"a_pos",buffer:this.vertexBuffer,stride:20,size:3,type:"FLOAT",offset:0},{name:"a_texture_coord",buffer:this.vertexBuffer,size:2,stride:20,type:"FLOAT",offset:12}]})}},{key:"onChanged",value:function(e,t){var r=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout((function(){r.loadTexture((function(){r.parseData(t),r.dataTime=new Date,r.webglLayer.render()}))}),0))}},{key:"render",value:function(e){var t=e.gl,r=e.projectionMatrix;e=e.viewMatrix;var n=this.getOptions(),i=this.program,o=i.uniforms;i.use(t),this.texture&&(t.activeTexture(t.TEXTURE0),t.uniform1i(o.uTile,0),t.bindTexture(t.TEXTURE_2D,this.texture),t.activeTexture(t.TEXTURE1),t.uniform1i(o.uTerrain,1),t.bindTexture(t.TEXTURE_2D,this.terrainSampler),this.setGLState({cullFace:!1}),i.setUniforms({u_proj_matrix:r,uUseFilter:!!n.filterColor,uFilterColor:this.normizedColor(n.filterColor||"rgba(0, 0, 100, 1.0)"),u_mv_matrix:e}),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0)))}},{key:"loadTexture",value:function(e){var t=this,r=this.getOptions();r.tile?r.terrain?j(this.gl,r.terrain,(function(n,i){t.terrainSampler=n,j(t.gl,r.tile,(function(r,n){t.texture=r,e&&e(),t.webglLayer.render()}))}),{TEXTURE_WRAP_S:"MIRRORED_REPEAT",TEXTURE_WRAP_T:"MIRRORED_REPEAT"}):j(this.gl,r.tile,(function(r,n){t.texture=r,e&&e(),t.webglLayer.render()})):(this.texture=null,e&&e())}},{key:"parseData",value:function(e){var t=this,r=[],n=[];if(e&&e[0]){var i=e[0].geometry.coordinates[0];i=i.map((function(e){return t.normizedPoint(e)})),e=i[0][0];var o=i[0][1],a=i[0][2],s=(i[2][0]-e)/16;i=(i[2][1]-o)/16;for(var u=0;16>=u;u++)for(var l=0;16>=l;l++)if(r.push(e+s*l,o+i*u,a),r.push(l/16,u/16),16>l&&16>u){var c=17*u+l,h=17*(u+1)+l;n.push(c,h+1,c+1),n.push(c,h,h+1)}}this.index=n,this.vertexBuffer.updateData(new Float32Array(r)),this.indexBuffer.updateData(new Uint32Array(n))}}]),t}(vu),Wc=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="BoardLayer",e.index=[],r=e.canvas=document.createElement("canvas"),e.ctx=r.getContext("2d"),e.iconHash=new yc,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{unit:"px",scale:1,angle:0,offsetZ:0,padding:[0,0],polygonOffset:[0,0],enableColorMix:!1,mixColor:"#fff",mixAmount:.5}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"});var r=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"a_offsetZ",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}];r=r.concat(this.getCommonAttributes());var n=[];t.enablePicked&&n.push("PICK"),this.options.enableColorMix&&(this.colorBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),r.push({stride:16,name:"a_color",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0}),n.push("USE_COLOR_MIX")),this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute float a_offsetZ;attribute vec2 a_size;attribute vec2 a_texture_coord;\n#if defined(USE_COLOR_MIX)\nattribute vec4 a_color;\n#endif\nuniform mat4 u_matrix;uniform vec2 u_size;uniform float u_zoom_units;uniform float u_scale;uniform bool u_unit_px;varying vec2 v_texture_coord;varying vec4 v_color;/***\u4e09\u7ef4\u7a7a\u95f4\u5185\uff0c\u7ed5Z\u8f74\u65cb\u8f6c\u7684\u77e9\u9635\uff0c\u53f3\u624b\u5750\u6807\u7cfb\u4e0b*[x'][cos0-sin0  0  0]*[y']=[sin0 cos0   0  0]*[z'][0     0     1  0]*[1][0     0     0  1]*/mat3 rotateZ(float angle){float cos0=cos(angle);float sin0=sin(angle);return mat3(cos0,sin0,0.,-sin0,cos0,0.,0.,0.,1.);}vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;float z=coord.z;mat3 mat=rotateZ(a_rotation);vec3 rotated=vec3(size[0],0.0,size[1]);if(corner==1.0){rotated=mat*vec3(-size[0],0.0,size[1]);}else if(corner==2.0){rotated=mat*vec3(size[0],0.0,size[1]);}else if(corner==3.0){rotated=mat*vec3(size[0],0.0,-size[1]);}else{rotated=mat*vec3(-size[0],0.0,-size[1]);}x+=rotated.x;y+=rotated.y;z+=rotated.z;return vec3(x,y,z);}void main(){\n#if defined(USE_COLOR_MIX)\nv_color=a_color;\n#endif\nv_texture_coord=a_texture_coord;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=a_offsetZ;gl_Position=u_matrix*vec4(current,1.0);}",fragmentShader:"precision highp float;varying vec2 v_texture_coord;varying vec4 v_color;uniform sampler2D u_icon;uniform vec4 uSelectedColor;\n#if defined(USE_COLOR_MIX)\nuniform float u_mix_amount;\n#endif\nvoid main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;\n#if defined(USE_COLOR_MIX)\ngl_FragColor=mix(gl_FragColor,v_color,u_mix_amount);\n#endif\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:n},this),this.vertexArray=new Js({gl:e,program:this.program,attributes:r})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t)}},{key:"forceUpdate",value:function(){this.gl&&this.processCache(this.options,this.data)}},{key:"processCache",value:function(e,t){var r=this;this.cachedData=[];for(var n=e.icon,i=e.width,o=e.height,a=e.offsetZ,s=e.angle,u=e.mixColor,l=0;l<t.length;l++){var c=this.normizedPoint(t[l].geometry.coordinates),h=this.getProperty("icon",n,t[l]),f=this.getProperty("width",i,t[l]),p=this.getProperty("height",o,t[l]),d=this.getProperty("angle",s,t[l]),g=this.getProperty("offsetZ",a,t[l]),m=this.normizedColor(this.getProperty("mixColor",u,t[l]));c&&h&&(this.cachedData.push({point:c,icon:h,width:f,height:p,offsetZ:g,angle:d,mixColor:m,index:l}),this.iconHash.get(h)||this.iconHash.set(h,h))}t=Ii(this.iconHash.entries()).filter((function(e){return"string"===typeof e[1]})).map((function(e){var t=xi(e,2)[0];return new nc((function(e,n){r.url2canvas(t,(function(n){r.iconHash.set(t,n),e()}))}))})),nc.all(t).then((function(t){r.buildSprite(e),r.webglLayer.render()}))}},{key:"buildSprite",value:function(e){var t=e.padding,r=this.canvas,n=this.ctx,i=[],o=new yc,a=!0,s=!1,u=void 0;try{for(var l,c=yi(this.iconHash);!(a=(l=c.next()).done);a=!0){var h=xi(l.value,2),f=h[1];if("string"!==typeof f){var p=f.width,d=f.height;i.push({w:p+t[0],h:d+t[0],width:p,height:d,key:h[0],icon:f})}}}catch(m){s=!0,u=m}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}for(s=fe(i),a=0;a<i.length;a++)u=i[a],o.get(u.key)||o.set(u.key,u);for(a=g(s.w),s=g(s.h),r.width=a||1,r.height=s||1,n.save(),r=0;r<i.length;r++)u=i[r],n.drawImage(u.icon,u.x+t[0],u.y+t[1],u.width,u.height);n.restore(),this.loadTexture(),this.buildVertex(e,o,a,s)}},{key:"buildVertex",value:function(e,t,r,n){var i=e.enablePicked;e=e.enableColorMix;for(var o=[],a=[],s=[],u=[],l=[],c=0;c<this.cachedData.length;c++){var h=this.cachedData[c],f=h.point,p=h.width,d=h.height,g=h.offsetZ,m=h.angle,v=h.mixColor,y=h.index;if(h=t.get(h.icon)){p=p||h.icon.width,d=d||h.icon.height;var b=xi(f,3);f=b[0];var x=b[1];b=b[2];for(var A=0;4>A;A++)o.push(f,x,b),o.push(A),o.push(p,d),o.push(g),o.push(m*Math.PI/180);p=h.x/r,d=(h.x+h.w)/r,g=(h.y+h.h)/n,h=h.y/n,a.push(p,g,p,h,d,h,d,g),h=4*c,s.push(h,h+2,h+1,h,h+3,h+2),i&&(y=this.indexToRgb(y),u.push(y[0]/255,y[1]/255,y[2]/255),u.push(y[0]/255,y[1]/255,y[2]/255),u.push(y[0]/255,y[1]/255,y[2]/255),u.push(y[0]/255,y[1]/255,y[2]/255)),e&&(l.push.apply(l,Li(v)),l.push.apply(l,Li(v)),l.push.apply(l,Li(v)),l.push.apply(l,Li(v)))}}this.index=s,this.vertexBuffer.updateData(new Float32Array(o)),this.uvBuffer.updateData(new Float32Array(a)),this.indexBuffer.updateData(new Uint32Array(s)),i&&this.pickBuffer.updateData(new Float32Array(u)),e&&this.colorBuffer.updateData(new Float32Array(l))}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.setGLState({blend:!0,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset}),e=gr(this.getCommonUniforms(e),{u_icon:this.texture,u_matrix:r,u_unit_px:"px"===n.unit,u_zoom_units:this.map.getZoomUnits(),u_scale:n.scale}),n.enableColorMix&&(e=gr(e,{u_mix_amount:n.mixAmount})),i.setUniforms(e),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"url2canvas",value:function(e,t){if("object"===("undefined"===typeof e?"undefined":Kn(e)))t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var e=r.width,n=r.height,i=document.createElement("canvas");i.width=e,i.height=n,i.getContext("2d").drawImage(r,0,0,e,n),t(i)},r.onerror=function(){var e=document.createElement("canvas");e.width=20,e.height=40;var r=e.getContext("2d");r.fillStyle="red",r.beginPath(),r.lineTo(0,0),r.lineTo(20,0),r.lineTo(10,40),r.closePath(),r.fill(),t(e)},r.src=e}}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t})):this.texture=null}}]),t}(vu),Xc=function(e){function t(e){gt(this,t);var r=Qn(this,(t.__proto__||Ar(t)).call(this,e));return e=r.getOptions(),r.shapeLayer=new Ou({enablePicked:e.enablePicked}),r.lineLayer=new rl,r.children=[r.shapeLayer,r.lineLayer],r}return si(t,e),Tr(t,[{key:"pick",value:function(e,t){return this.shapeLayer.pick(e,t)}},{key:"onOptionsChanged",value:function(e){this.shapeLayer.setOptions({onClick:function(t){e.onClick&&e.onClick(t)},selectedIndex:e.selectedIndex,selectedColor:e.selectedColor,height:0,polygonOffset:[2,2],autoSelect:e.autoSelect,color:e.fillColor,opacity:e.fillOpacity,topColor:e.fillColor,useLight:!1}),this.lineLayer.setOptions({dashArray:e.dashArray,color:e.lineColor,width:e.lineWidth,lineJoin:e.lineJoin})}},{key:"onDataChanged",value:function(e){this.shapeLayer.setData(e),this.lineLayer.setData(e,{closePath:!0})}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ff0000",autoSelect:!0,dashArray:[0,0],lineColor:"rgba(250, 250, 25, 1)",lineWidth:2,lineJoin:"miter",fillColor:"rgba(25, 25, 250, 1)",fillOpacity:1}}}]),t}(Nu),qc=qc||{},Yc=0,Zc=null,Kc=qc.Scene=function(e,t){this.name=void 0!==t.name?t.name:null,this.nodes=Array(t.nodes.length);for(var r=0,n=t.nodes.length;r<n;r++)this.nodes[r]=e.nodes[t.nodes[r]];this.extensions=void 0!==t.extensions?t.extensions:null,this.extras=void 0!==t.extras?t.extras:null,this.boundingBox=null},Jc=qc.BoundingBox=function(e,t,r){e=e||Fs.fromValues(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),t=t||Fs.fromValues(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),void 0===r||!0===r?(this.min=Fs.clone(e),this.max=Fs.clone(t)):(this.min=e,this.max=t),this.transform=js.create()};Jc.prototype.updateBoundingBox=function(e){Fs.min(this.min,this.min,e.min),Fs.max(this.max,this.max,e.max)},Jc.prototype.calculateTransform=function(){this.transform[0]=this.max[0]-this.min[0],this.transform[5]=this.max[1]-this.min[1],this.transform[10]=this.max[2]-this.min[2],this.transform[12]=this.min[0],this.transform[13]=this.min[1],this.transform[14]=this.min[2]},Jc.getAABBFromOBB=function(){var e=Fs.create(),t=Fs.create(),r=Fs.create(),n=Fs.create(),i=Fs.create();return function(o,a){Fs.set(e,a[0],a[1],a[2]),Fs.set(t,a[4],a[5],a[6]),Fs.set(r,a[8],a[9],a[10]),a=Fs.fromValues(a[12],a[13],a[14]);var s=Fs.clone(a);return Fs.scale(n,e,o.min[0]),Fs.scale(i,e,o.max[0]),Fs.min(e,n,i),Fs.add(a,a,e),Fs.max(e,n,i),Fs.add(s,s,e),Fs.scale(n,t,o.min[1]),Fs.scale(i,t,o.max[1]),Fs.min(t,n,i),Fs.add(a,a,t),Fs.max(t,n,i),Fs.add(s,s,t),Fs.scale(n,r,o.min[2]),Fs.scale(i,r,o.max[2]),Fs.min(r,n,i),Fs.add(a,a,r),Fs.max(r,n,i),Fs.add(s,s,r),o=new Jc(a,s,!1),o.calculateTransform(),o}}();var Qc=qc.Accessor=function(e,t){this.bufferView=t,this.componentType=e.componentType,this.byteOffset=void 0!==e.byteOffset?e.byteOffset:0,this.byteStride=t.byteStride,this.normalized=void 0!==e.normalized&&e.normalized,this.count=e.count,this.type=e.type,this.size=wh[this.type],this.min=e.min,this.max=e.max,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null};Qc.prototype.prepareVertexAttrib=function(e,t){t.vertexAttribPointer(e,this.size,this.componentType,this.normalized,this.byteStride,this.byteOffset),t.enableVertexAttribArray(e)};var $c=qc.BufferView=function(e,t){this.byteLength=e.byteLength,this.byteOffset=void 0!==e.byteOffset?e.byteOffset:0,this.byteStride=void 0!==e.byteStride?e.byteStride:0,this.target=void 0!==e.target?e.target:null,this.data=t.slice(this.byteOffset,this.byteOffset+this.byteLength),this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null,this.buffer=null};$c.prototype.createBuffer=function(e){this.buffer=e.createBuffer()},$c.prototype.bindData=function(e){return!!this.target&&(e.bindBuffer(this.target,this.buffer),e.bufferData(this.target,this.data,e.STATIC_DRAW),e.bindBuffer(this.target,null),!0)};var eh=qc.Camera=function(e){this.name=void 0!==e.name?e.name:null,this.type=e.type,this.othographic=void 0===e.othographic?null:e.othographic,this.perspective=void 0===e.perspective?null:{yfov:e.perspective.yfov,znear:e.perspective.znear,zfar:void 0!==e.perspective.zfar?e.perspective.zfar:null,aspectRatio:void 0!==e.perspective.aspectRatio?e.perspective.aspectRatio:null},this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},th=qc.Node=function(e,t){if(this.name=void 0!==e.name?e.name:null,this.nodeID=t,this.camera=void 0!==e.camera?e.camera:null,this.matrix=js.create(),e.hasOwnProperty("matrix")){for(t=0;16>t;++t)this.matrix[t]=e.matrix[t];this.translation=Fs.create(),js.getTranslation(this.translation,this.matrix),this.rotation=Us.create(),js.getRotation(this.rotation,this.matrix),this.scale=Fs.create(),js.getScaling(this.scale,this.matrix)}else this.getTransformMatrixFromTRS(e.translation,e.rotation,e.scale);this.children=e.children||[],this.mesh=void 0!==e.mesh?Zc.glTF.meshes[e.mesh]:null,this.skin=void 0!==e.skin?e.skin:null,void 0!==e.extensions&&void 0!==e.extensions.gl_avatar&&!0===Zc.enableGLAvatar&&(this.skin=new ph(Zc.glTF,Zc.skeletonGltf.skins[Zc.skeletonGltf.json.extensions.gl_avatar.skins[e.extensions.gl_avatar.skin.name]],e.extensions.gl_avatar.skin.inverseBindMatrices)),this.weights=void 0!==e.weights?e.weights:null,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null,this.aabb=null,this.bvh=new Jc};th.prototype.traverse=function(e,t){t(this,e),e=0;for(var r=this.children.length;e<r;e++)this.children[e].traverse(this,t)},th.prototype.traversePostOrder=function(e,t){for(var r=0,n=this.children.length;r<n;r++)this.children[r].traversePostOrder(this,t);t(this,e)},th.prototype.traverseTwoExecFun=function(e,t,r){t(this,e);for(var n=0,i=this.children.length;n<i;n++)this.children[n].traverseTwoExecFun(this,t,r);r(this,e)};var rh=js.create();th.prototype.getTransformMatrixFromTRS=function(e,t,r){this.translation=void 0!==e?Fs.fromValues(e[0],e[1],e[2]):Fs.fromValues(0,0,0),this.rotation=void 0!==t?Ns.fromValues(t[0],t[1],t[2],t[3]):Ns.fromValues(0,0,0,1),this.scale=void 0!==r?Fs.fromValues(r[0],r[1],r[2]):Fs.fromValues(1,1,1),this.updateMatrixFromTRS()},th.prototype.updateMatrixFromTRS=function(){js.fromRotationTranslation(rh,this.rotation,this.translation),js.scale(this.matrix,rh,this.scale)};var nh=qc.Mesh=function(e,t){this.meshID=t,this.name=void 0!==e.name?e.name:null,this.primitives=[],this.boundingBox=null,t=0;for(var r=e.primitives.length;t<r;++t){var n=e.primitives[t];n=new ih(Zc.glTF,n),this.primitives.push(n),n.boundingBox&&(this.boundingBox||(this.boundingBox=new Jc),this.boundingBox.updateBoundingBox(n.boundingBox))}this.boundingBox&&this.boundingBox.calculateTransform(),this.weights=void 0!==e.weights?e.weights:null,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},ih=qc.Primitive=function(e,t){var r;if(this.attributes=t.attributes,this.indices=void 0!==t.indices?t.indices:null,void 0!==t.extensions&&void 0!==t.extensions.gl_avatar&&!0===Zc.enableGLAvatar&&t.extensions.gl_avatar.attributes)for(r in t.extensions.gl_avatar.attributes)this.attributes[r]=t.extensions.gl_avatar.attributes[r];for(r in null!==this.indices?(this.indicesComponentType=e.json.accessors[this.indices].componentType,this.indicesLength=e.json.accessors[this.indices].count,this.indicesOffset=e.json.accessors[this.indices].byteOffset||0):(this.drawArraysCount=e.json.accessors[this.attributes.POSITION].count,this.drawArraysOffset=e.json.accessors[this.attributes.POSITION].byteOffset||0),this.attributes)this.attributes[r]=e.accessors[this.attributes[r]];this.material=void 0!==t.material?e.materials[t.material]:null,this.mode=void 0!==t.mode?t.mode:4,this.targets=t.targets,this.extensions=void 0!==t.extensions?t.extensions:null,this.extras=void 0!==t.extras?t.extras:null,this.boundingBox=this.shader=this.indexBuffer=this.vertexBuffer=this.vertexArray=null,void 0!==this.attributes.POSITION&&(e=this.attributes.POSITION,e.max&&"VEC3"===e.type&&(this.boundingBox=new Jc(Fs.fromValues(e.min[0],e.min[1],e.min[2]),Fs.fromValues(e.max[0],e.max[1],e.max[2]),!1),this.boundingBox.calculateTransform()))},oh=qc.Texture=function(e){this.name=void 0!==e.name?e.name:null,this.sampler=void 0!==e.sampler?Zc.glTF.samplers[e.sampler]:null,this.source=void 0!==e.source?Zc.glTF.images[e.source]:null,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null,this.texture=null};oh.prototype.createTexture=function(e){this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.source),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)};var ah=qc.Sampler=function(e){this.name=void 0!==e.name?e.name:null,this.magFilter=void 0!==e.magFilter?e.magFilter:null,this.minFilter=void 0!==e.minFilter?e.minFilter:null,this.wrapS=void 0!==e.wrapS?e.wrapS:10497,this.wrapT=void 0!==e.wrapT?e.wrapT:10497,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null,this.sampler=null};ah.prototype.createSampler=function(e){this.sampler=e.createSampler(),this.minFilter?e.samplerParameteri(this.sampler,e.TEXTURE_MIN_FILTER,this.minFilter):e.samplerParameteri(this.sampler,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_LINEAR),this.magFilter?e.samplerParameteri(this.sampler,e.TEXTURE_MAG_FILTER,this.magFilter):e.samplerParameteri(this.sampler,e.TEXTURE_MAG_FILTER,e.LINEAR),e.samplerParameteri(this.sampler,e.TEXTURE_WRAP_S,this.wrapS),e.samplerParameteri(this.sampler,e.TEXTURE_WRAP_T,this.wrapT)};var sh=qc.TextureInfo=function(e){this.index=e.index,this.texCoord=void 0!==e.texCoord?e.texCoord:0,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},uh=qc.PbrMetallicRoughness=function(e){this.baseColorFactor=void 0!==e.baseColorFactor?e.baseColorFactor:[1,1,1,1],this.baseColorTexture=void 0!==e.baseColorTexture?new sh(e.baseColorTexture):null,this.metallicFactor=void 0!==e.metallicFactor?e.metallicFactor:1,this.roughnessFactor=void 0!==e.roughnessFactor?e.roughnessFactor:1,this.metallicRoughnessTexture=void 0!==e.metallicRoughnessTexture?new sh(e.metallicRoughnessTexture):null,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},lh=qc.NormalTextureInfo=function(e){this.index=e.index,this.texCoord=void 0!==e.texCoord?e.texCoord:0,this.scale=void 0!==e.scale?e.scale:1,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},ch=qc.OcclusionTextureInfo=function(e){this.index=e.index,this.texCoord=void 0!==e.texCoord?e.texCoord:0,this.strength=void 0!==e.strength?e.strength:1,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},hh=qc.Material=function(e){this.name=void 0!==e.name?e.name:null,this.pbrMetallicRoughness=void 0!==e.pbrMetallicRoughness?new uh(e.pbrMetallicRoughness):new uh({baseColorFactor:[1,1,1,1],metallicFactor:1,metallicRoughnessTexture:1}),this.normalTexture=void 0!==e.normalTexture?new lh(e.normalTexture):null,this.occlusionTexture=void 0!==e.occlusionTexture?new ch(e.occlusionTexture):null,this.emissiveTexture=void 0!==e.emissiveTexture?new sh(e.emissiveTexture):null,this.emissiveFactor=void 0!==e.emissiveFactor?e.emissiveFactor:[0,0,0],this.alphaMode=void 0!==e.alphaMode?e.alphaMode:"OPAQUE",this.alphaCutoff=void 0!==e.alphaCutoff?e.alphaCutoff:.5,this.doubleSided=e.doubleSided||!1,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},fh=qc.Skin=function(e,t,r){var n;for(this.name=void 0!==t.name?t.name:null,this.skinID=r,this.joints=Array(t.joints.length),r=0,n=this.joints.length;r<n;r++)this.joints[r]=e.nodes[t.joints[r]];if(this.skeleton=void 0!==t.skeleton?e.nodes[t.skeleton]:null,this.inverseBindMatrices=void 0!==t.inverseBindMatrices?e.accessors[t.inverseBindMatrices]:null,this.extensions=void 0!==t.extensions?t.extensions:null,this.extras=void 0!==t.extras?t.extras:null,this.uniformBlockID=Yc++,this.inverseBindMatrices)for(this.inverseBindMatricesData=it(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),r=0,n=this.inverseBindMatricesData.length;r<n;r+=16)this.inverseBindMatrix.push(js.fromValues(this.inverseBindMatricesData[r],this.inverseBindMatricesData[r+1],this.inverseBindMatricesData[r+2],this.inverseBindMatricesData[r+3],this.inverseBindMatricesData[r+4],this.inverseBindMatricesData[r+5],this.inverseBindMatricesData[r+6],this.inverseBindMatricesData[r+7],this.inverseBindMatricesData[r+8],this.inverseBindMatricesData[r+9],this.inverseBindMatricesData[r+10],this.inverseBindMatricesData[r+11],this.inverseBindMatricesData[r+12],this.inverseBindMatricesData[r+13],this.inverseBindMatricesData[r+14],this.inverseBindMatricesData[r+15]))},ph=qc.SkinLink=function(e,t,r){if(this.isLink=!0,e.skins||(e.skins=[]),e.skins.push(this),this.name=t.name,this.skinID=e.skins.length-1,this.joints=t.joints,this.skeleton=t.skeleton,this.inverseBindMatrices=void 0!==r?e.accessors[r]:null,this.uniformBlockID=Yc++,this.inverseBindMatrices)for(this.inverseBindMatricesData=it(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),e=0,t=this.inverseBindMatricesData.length;e<t;e+=16)this.inverseBindMatrix.push(js.fromValues(this.inverseBindMatricesData[e],this.inverseBindMatricesData[e+1],this.inverseBindMatricesData[e+2],this.inverseBindMatricesData[e+3],this.inverseBindMatricesData[e+4],this.inverseBindMatricesData[e+5],this.inverseBindMatricesData[e+6],this.inverseBindMatricesData[e+7],this.inverseBindMatricesData[e+8],this.inverseBindMatricesData[e+9],this.inverseBindMatricesData[e+10],this.inverseBindMatricesData[e+11],this.inverseBindMatricesData[e+12],this.inverseBindMatricesData[e+13],this.inverseBindMatricesData[e+14],this.inverseBindMatricesData[e+15]))},dh=qc.Target=function(e){this.nodeID=void 0!==e.node?e.node:null,this.path=e.path,this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},gh=qc.Channel=function(e,t){this.sampler=t.samplers[e.sampler],this.target=new dh(e.target),this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},mh=qc.AnimationSampler=function(e,t){this.input=e.accessors[t.input],this.output=e.accessors[t.output],this.inputTypedArray=it(this.input),this.outputTypedArray=it(this.output),this.interpolation=void 0!==t.interpolation?t.interpolation:"LINEAR",this.extensions=void 0!==t.extensions?t.extensions:null,this.extras=void 0!==t.extras?t.extras:null,this.curIdx=0,this.curValue=Ns.create(),this.endT=this.inputTypedArray[this.inputTypedArray.length-1],this.inputMax=this.endT-this.inputTypedArray[0]},vh=Ns.create(),yh=Ns.create();mh.prototype.getValue=function(e){e>this.endT&&(e-=this.inputMax*Math.ceil((e-this.endT)/this.inputMax),this.curIdx=0);for(var t=this.inputTypedArray.length;this.curIdx<=t-2&&e>=this.inputTypedArray[this.curIdx+1];)this.curIdx++;this.curIdx>=t-1&&(e-=this.inputMax,this.curIdx=0),t=wh[this.output.type];var r=4===t?Us.slerp:Ns.lerp,n=this.curIdx,i=n*t,o=i+t;for(e=Math.max(0,e-this.inputTypedArray[n])/(this.inputTypedArray[n+1]-this.inputTypedArray[n]),n=0;n<t;n++)vh[n]=this.outputTypedArray[i+n],yh[n]=this.outputTypedArray[o+n];switch(this.interpolation){case"LINEAR":r(this.curValue,vh,yh,e)}};var bh=qc.Animation=function(e,t){var r;this.name=void 0!==t.name?t.name:null,this.samplers=[];var n=0;for(r=t.samplers.length;n<r;n++)this.samplers[n]=new mh(e,t.samplers[n]);for(this.channels=[],n=0,r=t.channels.length;n<r;n++)this.channels[n]=new gh(t.channels[n],this);this.extensions=void 0!==t.extensions?t.extensions:null,this.extras=void 0!==t.extras?t.extras:null},xh=qc.glTFModel=function(e){this.json=e,this.defaultScene=void 0!==e.scene?e.scene:0,this.version=Number(e.asset.version),e.accessors&&(this.accessors=Array(e.accessors.length)),e.bufferViews&&(this.bufferViews=Array(e.bufferViews.length)),e.scenes&&(this.scenes=Array(e.scenes.length)),e.nodes&&(this.nodes=Array(e.nodes.length)),e.meshes&&(this.meshes=Array(e.meshes.length)),e.materials&&(this.materials=Array(e.materials.length)),e.textures&&(this.textures=Array(e.textures.length)),e.samplers&&(this.samplers=Array(e.samplers.length)),e.images&&(this.images=Array(e.images.length)),e.skins&&(this.skins=Array(e.skins.length)),e.animations&&(this.animations=Array(e.animations.length)),e.cameras&&(this.cameras=Array(e.cameras.length)),this.extensions=void 0!==e.extensions?e.extensions:null,this.extras=void 0!==e.extras?e.extras:null},Ah=qc.glTFLoader=function(e){this._init(),this.glTF=null,this.enableGLAvatar=!1,this.linkSkeletonGltf=null};Ah.prototype._init=function(){this._loadDone=!1,this._bufferLoaded=this._bufferRequested=0,this._buffers=[],this._bufferTasks={},this._finishedPendingTasks=this._pendingTasks=this._imageLoaded=this._imageRequested=this._shaderLoaded=this._shaderRequested=0,this.onload=null,Zc=this},Ah.prototype._checkComplete=function(){this._bufferRequested==this._bufferLoaded&&this._imageRequested==this._imageLoaded&&(this._loadDone=!0),this._loadDone&&this._pendingTasks==this._finishedPendingTasks&&(this._postprocess(),this.onload(this.glTF))},Ah.prototype.loadGLTF_GL_Avatar_Skin=function(e,t,r){this.enableGLAvatar=!0,this.skeletonGltf=t,this.loadGLTF(e,r)},Ah.prototype.loadGLTF=function(e,t){this._init(),this.onload=t||function(e){},this.baseUri=ot(e);var r=this;at(e,(function(e){e=JSON.parse(e),r.glTF=new xh(e);var t,n,i=function(e){if(r._buffers[t]=e,r._bufferLoaded++,r._bufferTasks[t]){var n,i=0;for(n=r._bufferTasks[t].length;i<n;++i)r._bufferTasks[t][i](e)}r._checkComplete()};if(e.buffers)for(t in e.buffers){r._bufferRequested++;var o=e.buffers[t].uri;-1===o.indexOf("base64")&&(o=r.baseUri+o),st(o,i)}if(i=function(e,t){r._imageLoaded++,r.glTF.images[t]=e,r._checkComplete()},e.images)for(n in e.images)r._imageRequested++,ut(r.baseUri+e.images[n].uri,n,i);r._checkComplete()}))},Ah.prototype._postprocess=function(){function e(e,t){var r=u[e.nodeID];null!==t?js.mul(r,u[t.nodeID],e.matrix):js.copy(r,e.matrix)}function t(e,t){var r=u[e.nodeID];t=null!==t?t.bvh:l.boundingBox,e.mesh&&(i=e.mesh,i.boundingBox&&(e.aabb=Jc.getAABBFromOBB(i.boundingBox,r),0===e.children.length&&(Fs.copy(e.bvh.min,e.aabb.min),Fs.copy(e.bvh.max,e.aabb.max)))),Fs.min(t.min,t.min,e.bvh.min),Fs.max(t.max,t.max,e.bvh.max)}var r,n,i;if(Zc=this,this.glTF.cameras){var o=0;for(r=this.glTF.cameras.length;o<r;o++)this.glTF.cameras[o]=new eh(this.glTF.json.cameras[o])}if(this.glTF.bufferViews)for(o=0,r=this.glTF.bufferViews.length;o<r;o++)this.glTF.bufferViews[o]=new $c(this.glTF.json.bufferViews[o],this._buffers[this.glTF.json.bufferViews[o].buffer]);if(this.glTF.accessors)for(o=0,r=this.glTF.accessors.length;o<r;o++)this.glTF.accessors[o]=new Qc(this.glTF.json.accessors[o],this.glTF.bufferViews[this.glTF.json.accessors[o].bufferView]);if(this.glTF.materials)for(o=0,r=this.glTF.materials.length;o<r;o++)this.glTF.materials[o]=new hh(this.glTF.json.materials[o]);if(this.glTF.samplers)for(o=0,r=this.glTF.samplers.length;o<r;o++)this.glTF.samplers[o]=new ah(this.glTF.json.samplers[o]);if(this.glTF.textures)for(o=0,r=this.glTF.textures.length;o<r;o++)this.glTF.textures[o]=new oh(this.glTF.json.textures[o]);for(o=0,r=this.glTF.meshes.length;o<r;o++)this.glTF.meshes[o]=new nh(this.glTF.json.meshes[o],o);for(o=0,r=this.glTF.nodes.length;o<r;o++)this.glTF.nodes[o]=new th(this.glTF.json.nodes[o],o);for(o=0,r=this.glTF.nodes.length;o<r;o++){var a=this.glTF.nodes[o],s=0;for(n=a.children.length;s<n;s++)a.children[s]=this.glTF.nodes[a.children[s]]}var u=Array(this.glTF.nodes.length);for(o=0,r=u.length;o<r;o++)u[o]=js.create();for(o=0,r=this.glTF.scenes.length;o<r;o++){var l=this.glTF.scenes[o]=new Kc(this.glTF,this.glTF.json.scenes[o]);for(l.boundingBox=new Jc,s=0,n=l.nodes.length;s<n;s++)a=l.nodes[s],a.traverseTwoExecFun(null,e,t);l.boundingBox.calculateTransform()}for(s=0,n=this.glTF.nodes.length;s<n;s++)a=this.glTF.nodes[s],null!==a.bvh&&a.bvh.calculateTransform();if(this.glTF.animations)for(o=0,r=this.glTF.animations.length;o<r;o++)this.glTF.animations[o]=new bh(this.glTF,this.glTF.json.animations[o]);if(this.glTF.json.skins)for(o=0,r=this.glTF.skins.length;o<r;o++)for(this.glTF.skins[o]=new fh(this.glTF,this.glTF.json.skins[o],o),a=this.glTF.skins[o].joints,s=0,n=a.length;s<n;s++)a[s].jointID=s;for(o=0,r=this.glTF.nodes.length;o<r;o++)a=this.glTF.nodes[o],null!==a.skin&&"number"==typeof a.skin&&(a.skin=this.glTF.skins[a.skin])};var wh={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},_h=function(e){function t(e,r){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).call(this,e,r))}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{scale:1}}},{key:"initialize",value:function(e){var t=this;this.gl=e;var r=this.getOptions();this.gltfObj=lt({gl:e,options:r}),(new Ah).loadGLTF(r.url,(function(e){t.gltfObj.setupScene(e),t.webglLayer.render()}))}},{key:"onChanged",value:function(e,t){}},{key:"render",value:function(e){var t=e.gl;e=e.matrix;var r=this.getData(),n=this.getOptions(),i=n.scale,o=[i,i,i];for("px"===n.unit&&this.map&&(o=this.map.getZoomUnits(),o=[i*o,i*o,i*o]),i=0;i<r.length;i++){var a=r[i].geometry.coordinates;n=js.create();var s=js.create();a=this.normizedPoint(a),js.identity(n),js.translate(n,n,[a[0],a[1],a[2]]),js.rotateX(n,n,Math.PI/2),js.rotateY(n,n,(r[i].angle||0)*Math.PI/180),js.scale(n,n,o),js.mul(s,e,n),this.gltfObj.render({gl:t,matrix:s})}}}]),t}(vu),Ch=Ch||{};(function(){function e(e,t,r){return r=e.createShader(r),e.shaderSource(r,t),e.compileShader(r),r}Ch.getShaderSource=function(e){return document.getElementById(e).textContent.replace(/^\s+|\s+$/g,"")},Ch.createProgram=function(t,r,n){var i=t.createProgram();return r=e(t,r,t.VERTEX_SHADER),n=e(t,n,t.FRAGMENT_SHADER),t.attachShader(i,r),t.deleteShader(r),t.attachShader(i,n),t.deleteShader(n),t.linkProgram(i),t.getProgramInfoLog(i),t.getShaderInfoLog(r),t.getShaderInfoLog(n),i};var t=Ch.loadImage=function(e,t){var r=new Image;return r.crossOrigin="Anonymous",r.src=e,r.onload=t,r};Ch.loadImages=function(e,r){function n(){0>=--o&&r(i)}for(var i=[],o=e.length,a=0;a<o;++a)i.push(t(e[a],n))}})();var Mh=function(e){function t(e){gt(this,t);var r=Qn(this,(t.__proto__||Ar(t)).call(this,e));return e=r.getOptions(),r.gltfLayer=new _h({url:e.url,scale:e.scale}),r.children=[r.gltfLayer],r.autoUpdate=!0,r.index=[],r.newData=[],r.isStarted=!1!==e.autoPlay,r}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{url:"https://mapv-website.bj.bcebos.com/gl/examples/model/car.gltf",scale:1,step:1,defaultAngle:90}}},{key:"onOptionsChanged",value:function(e){this.gltfLayer.setOptions({})}},{key:"onDataChanged",value:function(e){var t=this;this.index=[],this.newData=[];for(var r=0;r<e.length;r++){this.index.push(0);var n=e[r].geometry.coordinates;"LineString"===e[r].geometry.type?this.newData.push(this._addPath(n)):n.forEach((function(e){t.newData.push(t._addPath(e))}))}this.updatePoints()}},{key:"lnglatToMercator",value:function(e,t){return t=t*Math.PI/180,t=3189068.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),[parseFloat((e*Math.PI/180*6378137).toFixed(2)),parseFloat(t.toFixed(2))]}},{key:"getDeg",value:function(e,t){-180<e[0]&&180>e[0]&&(e=this.lnglatToMercator(e[0],e[1]),t=this.lnglatToMercator(t[0],t[1]));var r=180*Math.atan((t[1]-e[1])/(t[0]-e[0]))/Math.PI;return t[0]>e[0]&&(r-=180),r}},{key:"getPoint",value:function(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r,e[2]&&t[2]?e[2]+(t[2]-e[2])*r:0]}},{key:"updatePoints",value:function(){for(var e=this.getOptions(),t=this.newData,r=[],n=0;n<t.length;n++){for(var i=t[n],o=Math.floor(this.index[n]),a=o+1;i[a]&&i[a][0]===i[o][0]&&i[a][1]===i[o][1];)a++;a>=i.length-1&&(a=--o),a=this.getDeg(i[o],i[a]),r.push({geometry:{type:"Point",coordinates:this.getPoint(i[o],i[o+1],this.index[n]%1)},angle:a-e.defaultAngle})}this.pointData=r,this.gltfLayer.setData(r,{autoRender:!1})}},{key:"getCurrentPoint",value:function(){return this.pointData}},{key:"getDistance",value:function(e,t){var r=e[1]*Math.PI/180,n=t[1]*Math.PI/180;return e=2*Math.asin(Math.sqrt(Math.pow(Math.sin((r-n)/2),2)+Math.cos(r)*Math.cos(n)*Math.pow(Math.sin((e[0]*Math.PI/180-t[0]*Math.PI/180)/2),2))),Math.round(6378137e4*e)/1e4}},{key:"_addPath",value:function(e){for(var t=e.length,r=0,n=[],i=[],o=1;o<t;o++){var a=this.getDistance(e[o-1],e[o]);n.push(a),r+=a}for(a=[0],o=1;o<t;o++){var s=(n[o-1]/r).toFixed(2);a[o]=a[o-1]+parseFloat(s,10),i=i.concat(this._getPath(e[o-1],e[o],1e3*s))}return this._pathPercents=a,i}},{key:"_getPath",value:function(e,t,r){if(0===r)return[e];for(var n=[],i=0;i<=r;i++)n.push([(t[0]-e[0])/r*i+e[0],(t[1]-e[1])/r*i+e[1],t[2]&&e[2]?(t[2]-e[2])/r*i+e[2]:0]);return n}},{key:"start",value:function(){this.isStarted=!0}},{key:"stop",value:function(){this.isStarted=!1}},{key:"render",value:function(e){if(_u(t.prototype.__proto__||Ar(t.prototype),"render",this).call(this,e),e=this.getOptions(),this.isStarted)for(var r=this.newData,n=0;n<this.index.length;n++)this.index[n]+=e.step,this.index[n]>r[n].length-2&&(this.index[n]=0);this.updatePoints()}}]),t}(Nu),Sh=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="BoardTextLayer",r=e.canvas=document.createElement("canvas"),r=e.ctx=r.getContext("2d"),r.textAlign="start",r.textBaseline="top",e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,depthTest:!0,color:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,collides:!0,unit:"px",angle:0,translateX:0,offset:[0,0],padding:[2,2],margin:[0,0],polygonOffset:[0,0],shadow:{},maxHeightLine:20,lineBreak:"\n"}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform bool uUnitPx;uniform float zoomUnits;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute float scale;attribute float rotation;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/mat3 rotateZ(float angle){float cos0=cos(angle);float sin0=sin(angle);return mat3(cos0,sin0,0.,-sin0,cos0,0.,0.,0.,1.);}vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;float z=coord.z;mat3 mat=rotateZ(rotation);vec3 rotated=vec3(size[0],0.0,size[1]);if(corner==1.0){rotated=mat*vec3(-size[0],0.0,size[1]);}else if(corner==2.0){rotated=mat*vec3(size[0],0.0,size[1]);}else if(corner==3.0){rotated=mat*vec3(size[0],0.0,-size[1]);}else{rotated=mat*vec3(-size[0],0.0,-size[1]);}x+=rotated.x;y+=rotated.y;z+=rotated.z;return vec3(x,y,z);}void main(){vTextCoord=aTextCoord;vec2 pixelOffset=offset;vec2 halfSize=size/2.0*scale;if(uUnitPx){halfSize*=zoomUnits;pixelOffset*=zoomUnits;}vec3 current=transformCoord(position,halfSize,corner);current.z+=zIndex;gl_Position=matrix*vec4(current.x+pixelOffset[0],current.y-pixelOffset[1],current.z,1.0);}",fragmentShader:"precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){vec4 textureColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));if(textureColor.a<=0.1&&uIsPickRender==false){discard;}gl_FragColor=textureColor;\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"position",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"scale",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t)}},{key:"processCache",value:function(e,t){this.cachedData=[];for(var r=0;r<t.length;r++){var n=this.normizedPoint(t[r].geometry.coordinates),i=t[r].text;"properties"in t[r]&&"text"in t[r].properties&&(i=t[r].properties.text);var o=this.getProperty("angle",e.angle,t[r]),a=this.getProperty("color",e.color,t[r]),s=this.getProperty("maxHeightLine",e.maxHeightLine,t[r]);n&&void 0!==i&&this.cachedData.push({point:n,text:i,angle:o,color:a,maxHeightLine:s,index:r})}}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.map){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.throttleUpdate(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite});var o=this.map.getZoomUnits();i.setUniforms(gr(this.getCommonUniforms(e),{matrix:r,textureImage:this.texture,offset:n.offset,zoomUnits:o,zIndex:n.zIndex,uUnitPx:"px"===n.unit})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"throttleUpdate",value:function(e){this.updateText(e)}},{key:"updateText",value:function(e){var t=e.gl,r=e.matrix,n=this.getOptions();e=n.fontSize;var i=n.fontFamily,o=n.translateX,a=n.padding,s=n.margin,u=n.collides,l=n.enablePicked,c=n.shadow;n=n.lineBreak;var h=t.canvas.width/window.devicePixelRatio,f=t.canvas.height/window.devicePixelRatio,p=this.canvas,d=this.ctx;d.save(),d.scale(window.devicePixelRatio,window.devicePixelRatio),d.textBaseline="top",d.font="normal bold 20px "+i;var g=new Du;t=[];for(var m=0;m<this.cachedData.length;m++){var v=this.cachedData[m],y=v.point,b=v.text,x=v.angle,A=v.index,w=v.color;v=v.maxHeightLine;var _=xi(y,3),C=Ns.clone([_[0],_[1],_[2],1]);Ns.transformMat4(C,C,r),Ns.scale(C,C,1/C[3]),_=(C[0]+1)/2*h,C=(1-C[1])/2*f;var M=d.measureText(b),S=b.split(n),T=S.map((function(e){return d.measureText(e).width}));T=Math.max.apply(Math,Li(T));for(var E=20,I=0;I<S.length-1;I++)E+=v;if(S=E,M=Math.min(M.width,T)+1,M+=2*a[0]+o,S+=2*a[1],E=M+s[0],T=S+s[1],_-=E/2,C-=T/2,E=_+E,T=C+T,!(0>E||0>T||_>h||C>f)){if(u){if(_={minX:_,maxX:E,minY:C,maxY:T},g.collides(_))continue;g.insert(_)}t.push({w:M,h:S,point:y,text:b,color:w,angle:x,maxHeightLine:v,dataIndex:A})}}for(d.restore(),r=[],s=[],u=[],h=[],g=fe(t),f=g.w,g=g.h,0>=f&&(f=1),0>=g&&(g=1),p.width=f*window.devicePixelRatio,p.height=g*window.devicePixelRatio,d.save(),d.scale(window.devicePixelRatio,window.devicePixelRatio),d.textBaseline="top",d.font="normal bold 20px "+i,d.shadowColor=c&&c.color,d.shadowOffsetX=c&&c.offsetX,d.shadowOffsetY=c&&c.offsetY,d.shadowBlur=c&&c.blur,i=0,c=t.length;i<c;++i){for(p=t[i],d.fillStyle=p.color,ct(d,p.text,p.x+a[0]+o,p.y+a[1],p.maxHeightLine,n),b=xi(p.point,3),m=b[0],y=b[1],b=b[2],x=0;4>x;x++)r.push(m,y,b),r.push(x),r.push(p.w,p.h),r.push(e/20,p.angle*Math.PI/180);m=p.x/f,y=(p.x+p.w)/f,b=(p.y+p.h)/g,x=p.y/g,s.push(m,b,m,x,y,x,y,b),m=4*i,u.push(m,m+2,m+1,m,m+3,m+2),l&&(p=this.indexToRgb(p.dataIndex),h.push(p[0]/255,p[1]/255,p[2]/255),h.push(p[0]/255,p[1]/255,p[2]/255),h.push(p[0]/255,p[1]/255,p[2]/255),h.push(p[0]/255,p[1]/255,p[2]/255))}d.restore(),this.loadTexture(),this.index=u,this.vertexBuffer.updateData(new Float32Array(r)),this.uvBuffer.updateData(new Float32Array(s)),this.indexBuffer.updateData(new Uint32Array(u)),l&&this.pickBuffer.updateData(new Float32Array(h))}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t}),{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),t}(vu),Th=function(e){function t(e){gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.name="LabelLayer";var r=e.canvas=document.createElement("canvas");return e.ctx=r.getContext("2d"),e.arrowHeight=8,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,depthTest:!0,textColor:"#0f0",borderColor:"#f00",backgroundColor:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,lineHeight:20,textAlign:"left",collides:!1,offset:[0,0],padding:[2,2],polygonOffset:[0,0],borderRadius:5}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform float zoomUnits;uniform float devicePixelRatio;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x;y+=size.y;}else if(corner==2.0){x+=size.x;y+=size.y;}else if(corner==3.0){x+=size.x;y+=-size.y;}else{x+=-size.x;y+=-size.y;}return vec3(x,y+size.y,coord.z);}void main(){vTextCoord=aTextCoord;vec2 pixelOffset=offset*zoomUnits;vec4 projection=matrix*vec4(position.x+pixelOffset[0],position.y-pixelOffset[1],position.z+zIndex,1.0);vec3 screen=projection.xyz/projection.w;vec2 halfSize=size/MAPV_resolution*devicePixelRatio;vec3 current=transformCoord(screen,halfSize,corner);gl_Position=vec4(current,1.0);}",fragmentShader:"precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){gl_FragColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"position",buffer:this.vertexBuffer,size:3,stride:24,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:24,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:24,type:"FLOAT",offset:16},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t)}},{key:"processCache",value:function(e,t){for(this.cachedData=[],e=0;e<t.length;e++){var r=t[e],n=this.normizedPoint(r.geometry.coordinates);n&&this.cachedData.push({point:n,item:r,index:e})}}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.map){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.updateText(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite});var o=this.map.getZoomUnits();i.setUniforms(gr(this.getCommonUniforms(e),{matrix:r,devicePixelRatio:window.devicePixelRatio,textureImage:this.texture,offset:n.offset,zoomUnits:o,zIndex:n.zIndex})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"updateText",value:function(e){var t=this,r=e.gl,n=e.matrix,i=this.getOptions().enablePicked;e=this.canvas;var o=this.ctx;r=this.createMapbox(o,r,n),n=fe(r);var a=n.w,s=n.h;0>=a&&(a=1),0>=s&&(s=1),e.width=a*window.devicePixelRatio,e.height=s*window.devicePixelRatio;var u=[],l=[],c=[],h=[];r.forEach((function(e,r){t.drawItem(o,e);var n=xi(e.point,3),f=n[0],p=n[1];n=n[2];for(var d=0;4>d;d++)u.push(f,p,n),u.push(d),u.push(e.w,e.h);f=e.x/a,p=(e.x+e.w)/a,n=(e.y+e.h)/s,d=e.y/s,l.push(f,n,f,d,p,d,p,n),r*=4,c.push(r,r+2,r+1,r,r+3,r+2),i&&(e=t.indexToRgb(e.dataIndex),h.push(e[0]/255,e[1]/255,e[2]/255),h.push(e[0]/255,e[1]/255,e[2]/255),h.push(e[0]/255,e[1]/255,e[2]/255),h.push(e[0]/255,e[1]/255,e[2]/255))})),this.loadTexture(),this.index=c,this.vertexBuffer.updateData(new Float32Array(u)),this.uvBuffer.updateData(new Float32Array(l)),this.indexBuffer.updateData(new Uint32Array(c)),i&&this.pickBuffer.updateData(new Float32Array(h))}},{key:"createMapbox",value:function(e,t,r){var n=this,i=this.getOptions(),o=i.padding,a=i.collides,s=i.fontSize,u=t.canvas.width/window.devicePixelRatio,l=t.canvas.height/window.devicePixelRatio,c=new Du,h=[];return this.cachedData.forEach((function(t){var i=t.point,f=t.item;t=t.index;var p=xi(i,3);p=Ns.clone([p[0],p[1],p[2],1]),Ns.transformMat4(p,p,r),Ns.scale(p,p,1/p[3]);var d=(p[0]+1)/2*u,g=(1-p[1])/2*l;p=n.computeTextWH(f,e,o,s);var m=xi(p,2);p=m[0],m=m[1],d-=p/2,g-=m/2;var v=d+p,y=g+m;if(!(0>v||0>y||d>u||g>l)){if(a){if(d={minX:d,maxX:v,minY:g,maxY:y},c.collides(d))return;c.insert(d)}h.push({w:p,h:m+n.arrowHeight,point:i,item:f,dataIndex:t})}})),h}},{key:"computeTextWH",value:function(e,t){var r=this.getOptions(),n=r.padding,i=r.fontSize,o=r.borderRadius,a=r.fontFamily;return r=r.lineHeight,t.save(),t.scale(window.devicePixelRatio,window.devicePixelRatio),t.font=i+"px "+a,e=e.properties.text.split("\n"),i=e.reduce((function(e,t){return e.length<t.length?t:e}),""),i=t.measureText(i),t.restore(),[i.width+2*(n[1]+o),2*(n[0]+o)+r*e.length]}},{key:"drawItem",value:function(e,t){var r=this.getOptions(),n=r.padding,i=r.backgroundColor,o=r.textColor,a=r.fontSize,s=r.borderColor,u=r.borderRadius,l=r.fontFamily,c=r.lineHeight;r=r.textAlign;var h=u-1,f=t.x,p=t.y,d=t.w,g=t.h;t=t.item;var m="";"object"===Kn(t.properties)&&(m=t.properties.text||"",o=t.properties.textColor||o,s=t.properties.borderColor||s,i=t.properties.backgroundColor||i),t=m.split("\n"),g-=this.arrowHeight,e.save(),e.scale(window.devicePixelRatio,window.devicePixelRatio),e.textBaseline="top",e.font=a+"px "+l,e.translate(f,p),e.fillStyle=i,e.strokeStyle=s,e.beginPath(),e.arc(u,u,h,Math.PI,1.5*Math.PI),e.lineTo(d-u,1),e.arc(d-u,u,h,1.5*Math.PI,0),e.lineTo(d-1,g-u),e.arc(d-u,g-u,h,0*Math.PI,.5*Math.PI),e.lineTo(u,g-1),e.arc(u,g-u,h,.5*Math.PI,1*Math.PI),e.lineTo(1,u),e.closePath(),e.fill(),e.stroke(),e.beginPath(),i=this.arrowHeight,l=d/2,h=i/2,e.moveTo(l-h,g-1),e.lineTo(l+h,g-1),e.lineTo(l,g+.8*i),e.fillStyle=s,e.fill(),e.fillStyle=o;var v="center"===r?l:"right"===r?d-u-n[1]:u+n[1];e.textAlign=r,t.forEach((function(t,r){e.fillText(t,v,u+n[0]+(r+.5)*c-.5*a)})),e.restore()}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t}),{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),t}(vu);ht.prototype.parseColors=function(e){this.arrFeatureStyles=[[2,e[0]||"rgba(79,210,125,1)",2,2,0,[],0,0],[2,e[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,e[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,e[0]||"rgba(79,210,125,1)",5,2,0,[],0,0],[2,e[0]||"rgba(79,210,125,1)",6,2,0,[],0,0],[2,e[2]||"rgba(255,208,69,1)",2,2,0,[],0,0],[2,e[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,e[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,e[2]||"rgba(255,208,69,1)",5,2,0,[],0,0],[2,e[2]||"rgba(255,208,69,1)",6,2,0,[],0,0],[2,e[1]||"rgba(232,14,14,1)",2,2,0,[],0,0],[2,e[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,e[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,e[1]||"rgba(232,14,14,1)",5,2,0,[],0,0],[2,e[1]||"rgba(232,14,14,1)",6,2,0,[],0,0],[2,e[3]||"rgba(181,0,0,1)",2,2,0,[],0,0],[2,e[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,e[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,e[3]||"rgba(181,0,0,1)",5,2,0,[],0,0],[2,e[3]||"rgba(181,0,0,1)",6,2,0,[],0,0],[2,"rgba(255,255,255,1)",4,0,0,[],0,0],[2,"rgba(255,255,255,1)",5.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",7,0,0,[],0,0],[2,"rgba(255,255,255,1)",8.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",10,0,0,[],0,0]]},ht.prototype.setColors=function(e){this.parseColors(e)},ht.prototype.initialize=function(e){this._initialize||(this._initialize=!0)},ht.prototype.clearCache=function(e){this.cache={}},ht.prototype.setMap=function(e){e?(this.map=e,this._initialize?this.canvaslayer.show():this.initialize(e)):this.canvaslayer.hide()},ht.prototype.draw=function(e){e=e||{},e.clearCache&&this.clearCache(),this.canvaslayer.draw()},ht.prototype.clear=function(){},ht.prototype.update=function(){var e=this.map,t=this.getDataZoom(),r=Math.pow(2,18-t),n=256*r,i=y.convertLL2MC(e.getCenter()),o=Math.ceil(i.lng/n),a=Math.ceil(i.lat/n),s=this.tileSize,u=t-Math.round(e.getZoom());for(0<u&&(s/=Math.pow(2,u)),n=[o,a,(i.lng-o*n)/n*s,(i.lat-a*n)/n*s],o=e.getBounds(),i=o.getNorthEast(),o=o.getSouthWest(),e.getSize(),e.getSize(),e=(i.lng-o.lng)/r,r=(i.lat-o.lat)/r,i=n[1]-Math.ceil((r/2-n[3])/s),o=n[0]+Math.ceil((e/2+n[2])/s),a=n[1]+Math.ceil((r/2+n[3])/s),r=[],s=n[0]-Math.ceil((e/2-n[2])/s);s<o;s++)for(n=i;n<a;n++)r.push([s,n,t]);for(this.tilesOrder=r,this._loadCount={},s=0;s<r.length;s++)n=r[s][0],e=r[s][1],this._loadCount[n+"_"+e+"_"+r[s][2]]=!1;for(s=0;s<r.length;s++)n=r[s][0],e=r[s][1],this.showTile(n,e,t)},ht.prototype.showTile=function(e,t,r){this._parseDataAndDraw(e,t,r)},ht.prototype.drawCurrentData=function(){this.clear();for(var e=[],t=0;t<this.tilesOrder.length;t++){var r=this.tilesOrder[t][0],n=this.tilesOrder[t][1],i=this.tilesOrder[t][2],o=this.cache[this.getCacheKey(r,n,i)];if(o)for(r=this._drawFeatures(o,r,n,i),n=0;n<r.length;n++)e.push(r[n])}this.lineLayer.setData(e)},ht.prototype.isAllLoaded=function(){var e,t=!0;for(e in this._loadCount)if(!this._loadCount[e]){t=!1;break}return t},ht.prototype.getCacheKey=function(e,t,r){return e+"_"+t+"_"+r},ht.prototype.getDataZoom=function(){var e=Math.round(this.map.getZoom());return 19<e&&(e=19),e},ht.prototype._parseDataAndDraw=function(e,t,r){var n=this,i=n.map,o=i.getCenter(),a=Math.round(i.getZoom()),s=this.getCacheKey(e,t,r),u="_cbk"+(1e5*Math.random()).toFixed(0),l=this.getTileUrl(e,t,r,"BMapGL."+u);BMapGL[u]=function(l){n._loadCount[e+"_"+t+"_"+r]=!0;var c=i.getCenter(),h=Math.round(i.getZoom());c.equals(o)&&h===a?(c=l.content&&l.content.tf,l.data&&(c=l.data),n.cache[s]=c?{traffic:c,precision:l.precision}:null,n.drawTogether&&n.isAllLoaded()&&n.drawCurrentData()):h!==a&&n.clear(),delete BMapGL[u]},void 0!==n.cache[s]?(n._loadCount[e+"_"+t+"_"+r]=!0,n.drawTogether&&n.isAllLoaded()&&n.drawCurrentData()):this.request(l)},ht.prototype.getTileUrl=function(e,t,r,n){return"https://sp3.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa/traffic/?qt=vtraffic&x="+e+"&y="+t+"&z="+r+"&fn="+n+"&t="+(new Date).getTime()},ht.prototype._drawFeatures=function(e,t,r,n){var i=10;n=Math.pow(2,18-n),this.map.getCenter();var o=this.tileSize;if(t=[t*o*n,(r+1)*o*n],r=[],e&&e.traffic){i*=e.precision,e=e.traffic,o=0;for(var a=e.length;o<a;o++){var s=e[o],u=s[1];s=this.arrFeatureStyles[s[3]];var l=u[0]/i,c=-u[1]/i,h=[];h.push([t[0]+l*n,t[1]+c*n,1]);for(var f=2,p=u.length;f<p;f+=2)l+=u[f]/i,c-=u[f+1]/i,h.push([t[0]+l*n,t[1]+c*n,1]);r.push({color:s[1],geometry:{type:"LineString",coordinates:h}})}}return r},ht.prototype.request=function(e,t){if(t){var r=(1e5*Math.random()).toFixed(0);BMapGL._rd["_cbk"+r]=function(e){t&&t(e),delete BMapGL._rd["_cbk"+r]},e+="&callback=BMapGL._rd._cbk"+r}var n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=e,n.addEventListener?n.addEventListener("load",(function(e){e=e.target,e.parentNode.removeChild(e)}),!1):n.attachEvent&&n.attachEvent("onreadystatechange",(function(e){e=window.event.srcElement,!e||"loaded"!==e.readyState&&"complete"!==e.readyState||e.parentNode.removeChild(e)})),setTimeout((function(){document.getElementsByTagName("head")[0].appendChild(n),n=null}),1)},ht.prototype.getRGBA=function(e){return e>>>=0,"rgba("+(e>>24&255)+","+(e>>16&255)+","+(e>>8&255)+","+(255&e)/256+")"},ht.prototype.getLineCap=function(e){return["butt","square","round"][e]},ht.prototype.getLineJoin=function(e){return["miter","bevel","round"][e]};var Eh=function(e){function t(e){gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e)),e.autoUpdate=!0,e.getOptions();var r=new Gc({color:"rgba(257, 254, 47, 0.9)",minZoom:18,duration:.8,interval:.2,trailLength:.4});return e.lineLayer=r,e.children=[r],e}return si(t,e),Tr(t,[{key:"initialize",value:function(e){_u(t.prototype.__proto__||Ar(t.prototype),"initialize",this).call(this,e),e=this.map.map;var r=new ht({});r.lineLayer=this.lineLayer,this.trafficTileManager=r,r.setMap(e),r.update(),e.addEventListener("moveend",(function(){r.update()})),e.addEventListener("zoomend",(function(){r.update()})),e.addEventListener("ondraw",(function(){}))}},{key:"onOptionsChanged",value:function(e){}},{key:"onDataChanged",value:function(e){}},{key:"getDefaultOptions",value:function(){return{}}}]),t}(Nu),Ih=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="HeatmapLayer",e.bufferData=[],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{size:13,unit:"px",height:0,max:100,min:0}}},{key:"initialize",value:function(e){var t=this;this.gl=e;var r=this.getOptions();this.inverseMatrix=js.create(Float64Array),this.frameBuffer=new Qs(e),this.webglLayer.map.onResize((function(){t.frameBuffer=new Qs(e)})),this.circle=ft(64),this.circleTexture=U(e,this.circle,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.intensity=new _({gradient:r.gradient}),this.paletteTexture=U(e,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.offlineProgram=new Xs(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform mat4 pointToPixelMatrix;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform int unit;uniform float size;uniform float max;uniform float min;attribute vec3 aPos;attribute vec2 aOffset;attribute float aCount;varying vec2 vOffset;varying float vCount;varying vec3 vPosition;void main(){vOffset=aOffset;vCount=(aCount-min)/(max-min);if(unit==1){vec2 pos=(pointToPixelMatrix*vec4(aPos.xy,0.0,1.0)).xy+aOffset.xy*size/2.0;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pos,0.0,1.0);}else{vec2 pos=aPos.xy+aOffset.xy*size;gl_Position=u_matrix*vec4(pos,0.0,1.0);}vPosition=vec3(gl_Position.z/gl_Position.w);}",fragmentShader:"varying vec2 vOffset;varying float vCount;varying vec3 vPosition;uniform sampler2D uCircle;void main(){vec4 circle=texture2D(uCircle,(vOffset+1.0)/2.0);float intensity=circle.a*vCount;if(intensity<=0.0){discard;}gl_FragColor=vec4(vPosition,intensity);}"},this),this.offlineBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineIndexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineVertexArray=new Js({gl:e,program:this.offlineProgram,attributes:[{stride:24,name:"aPos",buffer:this.offlineBuffer,size:3,type:"FLOAT",offset:0},{stride:24,name:"aOffset",buffer:this.offlineBuffer,size:2,type:"FLOAT",offset:12},{stride:24,name:"aCount",buffer:this.offlineBuffer,size:1,type:"FLOAT",offset:20}]}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.program=new Xs(this.gl,{vertexShader:"attribute vec2 aPos;varying vec2 vPos;uniform float uHeight;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform sampler2D u_sampler;uniform mat4 inverseMatrix;void main(){vPos=aPos;if(uHeight<=0.0){gl_Position=vec4(aPos,0.0,1.0);}else{vec4 gray=texture2D(u_sampler,(aPos+1.0)/2.0);vec4 m0=inverseMatrix*vec4(aPos.xy,0.0,1.0);vec4 m1=inverseMatrix*vec4(aPos.xy,1.0,1.0);m0/=m0.w;m1/=m1.w;vec4 pixel=m0+(-m0.z/(m1.z-m0.z))*(m1-m0);pixel.z=uHeight*gray.a;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pixel.xyz,1.0);}}",fragmentShader:"uniform sampler2D u_sampler;uniform sampler2D u_samplerPalette;uniform float uHeight;varying vec2 vPos;void main(){vec4 gray=texture2D(u_sampler,(vPos+1.0)/2.0);float grayAlpha=gray.a;if(grayAlpha<=0.0){discard;}vec4 color=texture2D(u_samplerPalette,vec2(grayAlpha,1.0));gl_FragColor=vec4(color.rgb,grayAlpha*color.a);}"},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new Js({gl:e,program:this.program,attributes:[{stride:8,name:"aPos",buffer:this.buffer,size:2,type:"FLOAT",offset:0}]}),r=[];for(var n=[],i=Math.floor(e.canvas.width/4),o=Math.floor(e.canvas.height/4),a=i+1,s=0;s<=o;s++)for(var u=0;u<=i;u++)if(r.push(2*u/i-1,2*s/o-1),u<i&&s<o){var l=a*s+u,c=a*(s+1)+u;n.push(l,l+1,c+1),n.push(l,c+1,c)}this.bufferData=r,this.buffer.updateData(new Float32Array(r)),this.indexData=n,this.indexBuffer.updateData(new Uint32Array(n))}},{key:"onDestroy",value:function(){this.bufferData=[]}},{key:"onOptionsChanged",value:function(e,t){var r=this.gl;r&&e.gradient!==t.gradient&&(this.intensity=new _({gradient:e.gradient}),this.paletteTexture=U(r,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}))}},{key:"onDataChanged",value:function(e){if(this.gl){var t=[],r=[];this.getOptions();for(var n=0;n<e.length;n++){var i=e[n],o=this.normizedPoint(e[n].geometry.coordinates),a=void 0===i.count?1:i.count;"properties"in i&&"count"in i.properties&&(a=i.properties.count),t.push(o[0],o[1],o[2]),t.push(-1,-1),t.push(a),t.push(o[0],o[1],o[2]),t.push(-1,1),t.push(a),t.push(o[0],o[1],o[2]),t.push(1,1),t.push(a),t.push(o[0],o[1],o[2]),t.push(1,-1),t.push(a),i=4*n,r.push(i+0,i+2,i+1),r.push(i+0,i+3,i+2)}this.offlineBufferData=t,this.offlineIndexData=r,this.offlineBuffer.updateData(new Float32Array(t)),this.offlineIndexBuffer.updateData(new Uint32Array(r))}}},{key:"render",value:function(e){var t=e.gl,r=e.matrix,n=e.pointToPixelMatrix,i=e.pixelToViewMatrix;if(e=e.projectionMatrix,this.offlineBufferData&&!(0>=this.offlineBufferData.length)){var o=this.getOptions();this.setGLState({blend:!0,blendFunc:[t.ONE,t.ONE],depthTest:!1}),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer.framebuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this.offlineProgram.use(t),this.offlineProgram.setUniforms({u_matrix:r,uCircle:this.circleTexture,pointToPixelMatrix:n,pixelToViewMatrix:i,projectionMatrix:e,unit:"px"===o.unit?1:0,size:o.size,max:o.max,min:o.min}),this.offlineVertexArray.bind(),this.offlineIndexBuffer.bind(),t.drawElements(t.TRIANGLES,this.offlineIndexData.length,t.UNSIGNED_INT,0),t.bindFramebuffer(t.FRAMEBUFFER,null),this.program.use(t),this.vertexArray.bind(),r=this.inverseMatrix,js.identity(r),js.multiply(r,e,i),js.invert(r,r),this.setGLState({blend:!1,depthTest:!0}),this.program.setUniforms({u_sampler:this.frameBuffer.framebuffer.texture,u_samplerPalette:this.paletteTexture,uHeight:o.height,pixelToViewMatrix:i,inverseMatrix:r,projectionMatrix:e}),this.indexBuffer.bind(),t.drawElements(t.TRIANGLES,this.indexData.length,t.UNSIGNED_INT,0)}}}]),t}(vu),Rh=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="BarLayer",e.selectedColor=[-1,-1,-1],e.textureCache={},e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:"rgba(0, 180, 0, 1.0)",edgeCount:4,unit:"m",height:1e5,type:"normal",size:5e4}}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions(),r={normal:["attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;float r=vSize/cos(b);if(aEdgeIndex<0.0){float index=aPointIndex;float angle=0.0;if(mod(index,2.0)==0.0){angle=a*(index/2.0)-b;}else{angle=-a*((index-1.0)/2.0)-b;}y=y+r*sin(angle);x=x+r*cos(angle);}else{float i=aEdgeIndex-1.0;float j=aPointIndex;float angle=a*i+b;y=y+r*sin(angle);x=x+r*cos(angle);}vPosition=vec4(aPos,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;if(aEdgeIndex==1.0&&aPointIndex==1.0){gl_PointSize=20.0;}else{gl_PointSize=10.0;}\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}","varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;varying vec4 vPosition;varying vec4 vFragPosition;uniform mat4 uMatrix;void main(){vec4 color=vColor;if(vEdgeIndex<0.0){color.r+=0.2;color.g+=0.2;color.b+=0.2;}else{float i=ceil(vEdgeIndex);;float d=i/vEdgeCount*0.5;if(i<=vEdgeCount/2.0){d=0.2*(i/vEdgeCount*0.5)-0.1;}else{d=0.2*(vEdgeCount-i)/vEdgeCount*0.5-0.1;}color.r+=d;color.g+=d;color.b+=d;}gl_FragColor=color;}"],light:["attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;float i=aEdgeIndex;float j=aPointIndex;float angle=a*(i-1.0)+b;float r=vSize/cos(b);y=y+r*sin(angle);x=x+r*cos(angle);if(j==1.0){z=0.0;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;\n#if defined(PICK)\nif(mapvIsPicked()){vColor=uSelectedColor;}\n#endif\n}","varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;varying vec4 vPosition;varying vec4 vFragPosition;uniform mat4 uMatrix;void main(){vec4 color=vColor;color.a=1.0-vFragPosition.z/vPosition.z;gl_FragColor=color;}"]};r=r[t.type]||r.normal,this.program=new Xs(this.gl,{vertexShader:r[0],fragmentShader:r[1],defines:t.enablePicked?["PICK"]:[]},this),this.buffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aEdgeIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aPointIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:20},{stride:44,name:"aEdgeCount",buffer:this.buffer,size:1,type:"FLOAT",offset:24},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:28}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onChanged",value:function(e,t){this.gl&&t&&(this.uniforms={},this.data=t,this.options=e,this.processData(),e.enablePicked&&this.parsePickData(t))}},{key:"processData",value:function(){var e=[],t=[];"light"===this.options.type?this.createLightBuffer(this.data,e,t):this.createNormalBuffer(this.data,e,t),this.bufferData=e,this.indexData=t,this.buffer.updateData(new Float32Array(e)),this.indexBuffer.updateData(new Uint32Array(t))}},{key:"createNormalBuffer",value:function(e,t,r){var n=this,i=parseInt(this.options.edgeCount,10)||4;e.forEach((function(e,o){var a=e.color||n.options.color,s=e.size||n.options.size,u=Array.isArray(e.value)?e.value:"number"===typeof e.value?[e.value]:[1],l=n.normizedPoint(e.geometry.coordinates),c=e.height||n.options.height,h=u.reduce((function(e,t){return Number(e)+Number(t)})),f=0,p="blue";for(u.forEach((function(e,o){p=n.normizedColor("function"===typeof a?a(e,o,u):Array.isArray(a)?a[o]:a),e="function"===typeof c?c(e,o,u):Array.isArray(c)?c[o]:c/h*e;var d=r[r.length-1],g=t.length/11;for(0<g&&(1===i%2&&0===o?r.push(d,d,g):r.push(d,g)),o=1;o<=2*i;o++)0===o%2?t.push.apply(t,[l[0],l[1],f,s,o/2,2,i].concat(Li(p))):t.push.apply(t,[l[0],l[1],f+e,s,(o+1)/2,1,i].concat(Li(p))),r.push(g+o-1),o===2*i&&(t.push.apply(t,[l[0],l[1],f+e,s,o/2+1,1,i].concat(Li(p))),t.push.apply(t,[l[0],l[1],f,s,o/2+1,2,i].concat(Li(p))),r.push(g+o,g+o+1));f+=e})),o=r[r.length-1],e=t.length/11,0<e&&r.push(o,e),o=1;o<=i;o++)t.push.apply(t,[l[0],l[1],f,s,-1,o,i].concat(Li(p))),r.push(e+o-1)}))}},{key:"createLightBuffer",value:function(e,t,r){var n=this,i=parseInt(this.options.edgeCount,10)||4;e.forEach((function(e,o){o=e.color||n.options.color,o=n.normizedColor("function"===typeof o?o(e.value):"string"===typeof o?o:"blue");var a=e.size||n.options.size,s=n.normizedPoint(e.geometry.coordinates),u=e.height||n.options.height;for(u="function"===typeof u?u(e.value):u,e=1;e<=i;e++){var l=r[r.length-1],c=t.length/11;for(0<c&&r.push(l,c),l=1;l<=2*i;l++)0===l%2?t.push.apply(t,[s[0],s[1],u,a,l/2,1,i].concat(Li(o))):t.push.apply(t,[s[0],s[1],u,a,(l+1)/2,2,i].concat(Li(o))),r.push(c+l-1),l===2*i&&r.push(c,c+1)}}))}},{key:"render",value:function(e){var t=this.program,r=e.gl,n=e.matrix;this.setGLState({cullFace:"normal"===this.options.type}),t.use(r),this.vertexArray.bind(),this.indexBuffer.bind();var i=this.map.getZoomUnits();gr(this.uniforms,this.getCommonUniforms(e),{uZoomUnits:"px"===this.options.unit?i:1,uMatrix:n}),t.setUniforms(this.uniforms),r.drawElements(r.TRIANGLE_STRIP,this.indexData.length,r.UNSIGNED_INT,0)}}]),t}(vu),Lh=function(e){function t(e){gt(this,t);var r=Qn(this,(t.__proto__||Ar(t)).call(this,e));return e=r.getOptions(),r.fillPoint=new Lc({enablePicked:e.enablePicked,autoSelect:e.autoSelect}),r.shadowPoint=new Lc,r.textPoint=new ku,r.children=[r.shadowPoint,r.fillPoint,r.textPoint],r}return si(t,e),Tr(t,[{key:"pick",value:function(e,t){return this.fillPoint.pick(e,t)}},{key:"onOptionsChanged",value:function(e){this.shadowPoint.setOptions({depthTest:!1,polygonOffset:[1,1],color:e.shadowColor,size:e.shadowSize,borderWidth:e.shadowBorderWidth,borderColor:e.shadowBorderColor}),this.fillPoint.setOptions({onClick:function(t){e.onClick&&e.onClick(t)},selectedIndex:e.selectedIndex,selectedColor:e.selectedColor,depthTest:!1,color:e.fillColor,size:e.fillSize,borderWidth:e.fillBorderWidth,borderColor:e.fillBorderColor}),this.textPoint.setOptions({collides:!1,polygonOffset:[-1,-1],color:e.fontColor,fontFamily:e.fontFamily,fontSize:e.fontSize})}},{key:"onDataChanged",value:function(e){var t=this,r=this.getOptions(),n=JSON.parse(zi(e)).map((function(e){return e.properties.size=t.getProperty("shadowSize",r.shadowSize,e),e.properties.color=t.getProperty("shadowColor",r.shadowColor,e),e.properties.borderColor=t.getProperty("shadowBorderColor",r.shadowBorderColor,e),e.properties.borderWidth=t.getProperty("shadowBorderWidth",r.shadowBorderWidth,e),e})),i=JSON.parse(zi(e)).map((function(e){return e.properties.size=t.getProperty("fillSize",r.fillSize,e),e.properties.color=t.getProperty("fillColor",r.fillColor,e),e.properties.borderColor=t.getProperty("fillBorderColor",r.fillBorderColor,e),e.properties.borderWidth=t.getProperty("fillBorderWidth",r.fillBorderWidth,e),e}));this.shadowPoint.setData(n),this.fillPoint.setData(i),this.textPoint.setData(e)}},{key:"getProperty",value:function(e,t,r){return"[object Function]"===Object.prototype.toString.call(t)?t(r):(t=r[e]||t,"properties"in r&&e in r.properties&&(t=r.properties[e]),t)}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ffff00",autoSelect:!0,fillColor:"rgba(255, 50, 10, 1)",fillSize:20,fillBorderColor:"#ffffff",fillBorderWidth:1.2,shadowColor:"rgba(255, 80, 110, 0.7)",shadowSize:40,shadowBorderColor:"rgba(255, 80, 110, 1)",shadowBorderWidth:1.2,fontSize:12,fontFamily:"Microsoft Yahei",fontColor:"#ffffff"}}}]),t}(Nu),Ph=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="MaskLayer",e.bufferData=[],e.indices=[],e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{color:"rgba(100, 100, 100, 0.6)",height:0,polygonOffset:[0,0],depthTest:!1,depthWrite:!1}}},{key:"initialize",value:function(e){this.gl=e,this.program=new Xs(this.gl,{vertexShader:"precision highp float;attribute vec2 a_position;uniform mat4 u_matrix;uniform float u_height;void main(){vec4 position=u_matrix*vec4(a_position.xy,u_height,1.0);gl_Position=position;}",fragmentShader:"precision highp float;uniform vec4 u_color;void main(){gl_FragColor=u_color;}",defines:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"});var t=[{stride:8,name:"a_position",buffer:this.vertexBuffer,size:2,type:"FLOAT",offset:0}];t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){this.bufferData=[],this.index=[]}},{key:"onChanged",value:function(e,t){var r=this;if(this.gl){e=[];for(var n=[],i=0;i<t.length;i++)if(t[i].geometry.coordinates){var o=[[this.normizedPoint([-180,-90]),this.normizedPoint([180,-90]),this.normizedPoint([180,90]),this.normizedPoint([-180,90])]],a=[];if("LineString"===t[i].geometry.type&&(a=[t[i].geometry.coordinates.map((function(e){return r.normizedPoint(e)}))]),"MultiPolygon"===t[i].geometry.type)for(var s=t[i].geometry.coordinates,u=0;u<s.length;u++)a=a.concat(s[u].map((function(e){return e.map((function(e){return r.normizedPoint(e)}))})));else for(s=0;s<t[i].geometry.coordinates.length;s++)a.push(t[i].geometry.coordinates[s].map((function(e){return r.normizedPoint(e)})));for(a=H.flatten(o.concat(a)),o=a.vertices,a=a.holes,s=[],u=0;u<o.length;u+=3)s.push(o[u+0],o[u+1]);this.parseBufferData(e,n,s,a)}this.bufferData=e,this.index=n,this.vertexBuffer.updateData(new Float32Array(e)),this.indexBuffer.updateData(new Uint32Array(n))}}},{key:"parseBufferData",value:function(e,t,r,n){var i=e.length/2;for(n=n&&n.length?H(r,n,2):H(r),e.push.apply(e,Li(r)),e=0;e<n.length;e++)t.push(n[e]+i)}},{key:"render",value:function(e){if(this.index&&this.index.length){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),e=gr(this.getCommonUniforms(e),{u_matrix:r,u_height:n.height,u_color:this.normizedColor(n.color)}),i.setUniforms(e),this.setGLState({blend:!1,polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite}),this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0)}}}]),t}(vu),Oh=function(e){function t(){return gt(this,t),Qn(this,(t.__proto__||Ar(t)).apply(this,arguments))}return si(t,e),Tr(t,[{key:"toBBox",value:function(e){var t=xi(e.item.geometry.coordinates,2);return e=t[0],t=t[1],{minX:e,minY:t,maxX:e,maxY:t}}},{key:"compareMinX",value:function(e,t){return e.item.geometry.coordinates[0]-t.item.geometry.coordinates[0]}},{key:"compareMinY",value:function(e,t){return e.item.geometry.coordinates[1]-t.item.geometry.coordinates[1]}}]),t}(Du),Dh=function(e){function t(e,r){return gt(this,t),e=Qn(this,(t.__proto__||Ar(t)).call(this,e,r)),e.name="PointCanvasCustomLayer",r=e.canvas=document.createElement("canvas"),e.ctx=r.getContext("2d"),e.geoRBush=new Oh,e}return si(t,e),Tr(t,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,depthTest:!0,color:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,flat:!1,collides:!0,unit:"px",angle:0,offset:[0,0],padding:[2,2],margin:[0,0],polygonOffset:[0,0],itemDimension:[20,20],renderItem:this.defaultOptionRenderItem}}},{key:"defaultOptionRenderItem",value:function(e,t,r){r.fillStyle="red",r.fillRect(t.x,t.y,t.w,t.h)}},{key:"initialize",value:function(e){this.gl=e;var t=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new Xs(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform bool uFlat;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute float scale;attribute float rotation;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70b9A(x,y)\uff0c\u7ed5\u539f\u70b9\u987a\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6a\u65b0\u5750\u6807\u7684\u8ba1\u7b97\u516c\u5f0f*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)+size.x*sin(rotation);}else if(corner==2.0){x+=size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)-size.x*sin(rotation);}else if(corner==3.0){x+=size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)-size.x*sin(rotation);}else{x+=-size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)+size.x*sin(rotation);}return vec3(x,y,coord.z);}void main(){vTextCoord=aTextCoord;if(uFlat){vec2 pixelOffset=offset;vec2 halfSize=size/2.0*scale;if(uUnitPx){halfSize*=zoomUnits;pixelOffset*=zoomUnits;}vec3 current=transformCoord(position,halfSize,corner);current.z+=zIndex;gl_Position=matrix*vec4(current.x+pixelOffset[0],current.y-pixelOffset[1],current.z,1.0);}else{vec2 pixelOffset=offset*zoomUnits;vec4 projection=matrix*vec4(position.x+pixelOffset[0],position.y-pixelOffset[1],position.z,1.0);vec3 screen=projection.xyz/projection.w;vec2 halfSize=size/MAPV_resolution*devicePixelRatio*scale;vec3 current=transformCoord(screen,halfSize,corner);current.z+=zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:"precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){gl_FragColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));\n#if defined(PICK)\nif(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}\n#endif\n}",defines:t.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Zs({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Zs({gl:e,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),t=[{name:"position",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"scale",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],t=t.concat(this.getCommonAttributes()),this.vertexArray=new Js({gl:e,program:this.program,attributes:t})}},{key:"onDestroy",value:function(){}},{key:"onChanged",value:function(e,t){this.gl&&this.processCache(e,t)}},{key:"processCache",value:function(e,t){for(this.cachedData=[],this.geoRBush.clear(),e=0;e<t.length;e++){var r=t[e],n=this.normizedPoint(r.geometry.coordinates);n&&this.cachedData.push({point:n,item:r,extra:{},index:e})}this.geoRBush.load(this.cachedData)}},{key:"render",value:function(e){if(this.cachedData&&this.cachedData.length&&this.map){var t=e.gl,r=e.matrix,n=this.getOptions(),i=this.program;i.use(t),this.throttleUpdate(e),this.setGLState({blend:!0,blendEquation:t.FUNC_ADD,blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA],polygonOffset:n.polygonOffset,depthTest:n.depthTest,depthMask:n.depthWrite});var o=this.map.getZoomUnits();i.setUniforms(gr(this.getCommonUniforms(e),{matrix:r,devicePixelRatio:window.devicePixelRatio,textureImage:this.texture,uFlat:n.flat,offset:n.offset,zoomUnits:o,zIndex:n.zIndex,uUnitPx:"px"===n.unit})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),t.drawElements(t.TRIANGLES,this.index.length,t.UNSIGNED_INT,0))}}},{key:"throttleUpdate",value:function(e){this.updateText(e)}},{key:"updateText",value:function(e){var t=e.gl,r=e.matrix,n=this.getOptions(),i=n.padding,o=n.margin,a=n.collides;e=n.enablePicked;var s=n.itemDimension,u=n.beforeRenderAll,l=n.beforeComputeDimension;n=n.renderItem;var c=this.map.getBounds(),h=t.canvas.width/window.devicePixelRatio,f=t.canvas.height/window.devicePixelRatio,p=this.canvas;t=this.ctx,t.save(),t.scale(window.devicePixelRatio,window.devicePixelRatio),l&&l(t),c=this.geoRBush.search({minX:c.sw.lng,minY:c.sw.lat,maxX:c.ne.lng,maxY:c.ne.lat});var d=new Du;l=[];for(var g=0;g<c.length;g++){var m=c[g],v=m.point,y=m.item,b=m.extra;m=m.index;var x=xi(v,3);x=Ns.clone([x[0],x[1],x[2],1]),Ns.transformMat4(x,x,r),Ns.scale(x,x,1/x[3]);var A=(x[0]+1)/2*h,w=(1-x[1])/2*f,_=Array.isArray(s)?s:s(y,t,b);x=_[0]+2*i[0],_=_[1]+2*i[1];var C=x+o[0],M=_+o[1];if(A-=C/2,w-=M/2,C=A+C,M=w+M,!(0>C||0>M||A>h||w>f)){if(a){if(M={minX:A,maxX:C,minY:w,maxY:M},d.collides(M))continue;d.insert(M)}l.push({w:x,h:_,point:v,item:y,extra:b,dataIndex:m})}}for(t.restore(),i=fe(l),r=i.w,i=i.h,0>=r&&(r=1),0>=i&&(i=1),p.width=r*window.devicePixelRatio,p.height=i*window.devicePixelRatio,t.save(),t.scale(window.devicePixelRatio,window.devicePixelRatio),u&&u(t),u=[],p=[],o=[],a=[],s=0,h=l.length;s<h;++s){for(f=l[s],n(f.item,f,t,f.extra),g=xi(f.point,3),c=g[0],d=g[1],g=g[2],v=0;4>v;v++)u.push(c,d,g),u.push(v),u.push(f.w,f.h),u.push(1,0);c=f.x/r,d=(f.x+f.w)/r,g=(f.y+f.h)/i,v=f.y/i,p.push(c,g,c,v,d,v,d,g),c=4*s,o.push(c,c+2,c+1,c,c+3,c+2),e&&(f=this.indexToRgb(f.dataIndex),a.push(f[0]/255,f[1]/255,f[2]/255),a.push(f[0]/255,f[1]/255,f[2]/255),a.push(f[0]/255,f[1]/255,f[2]/255),a.push(f[0]/255,f[1]/255,f[2]/255))}t.restore(),this.loadTexture(),this.index=o,this.vertexBuffer.updateData(new Float32Array(u)),this.uvBuffer.updateData(new Float32Array(p)),this.indexBuffer.updateData(new Uint32Array(o)),e&&this.pickBuffer.updateData(new Float32Array(a))}},{key:"loadTexture",value:function(){var e=this;this.canvas?j(this.gl,this.canvas,(function(t){e.texture=t}),{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),t}(vu);window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e8002ef3d9e0d8274b5b74cc4a027d08";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),t.View=gu,t.CanvasLayer=r,t.CircleLayer=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return gt(this,e),Au.includes(t.type)?new xu(t):new yu(t)},t.GridLayer=Bu,t.HeatGridLayer=zu,t.ShapeLayer=Ou,t.SimpleLineLayer=Uu,t.LineLayer3D=$u,t.LineLayer=rl,t.WallSpriteLayer=il,t.LinePointLayer=_c,t.WallLayer=Mc,t.WallTripLayer=Tc,t.HeatLineLayer=Ec,t.HoneycombLayer=Rc,t.WebglLayer=pu,t.PointLayer=Lc,t.GroundRippleLayer=Pc,t.RippleLayer=Oc,t.SparkLayer=Dc,t.ClusterLayer=Nc,t.HeatPointLayer=Fc,t.ShapeLineLayer=Bc,t.PointTripLayer=Uc,t.LineTripLayer=jc,t.IconCollidesLayer=Hc,t.LineFlowLayer=Gc,t.TileLayer=Vc,t.IconLayer=kc,t.BoardLayer=Wc,t.PolygonLayer=Xc,t.CarLineLayer=Mh,t.Layer=vu,t.TextLayer=ku,t.BoardTextLayer=Sh,t.LabelLayer=Th,t.TrafficLayer=Eh,t.GltfLayer=_h,t.HeatmapLayer=Ih,t.BarLayer=Rh,t.MarkerListLayer=Lh,t.MaskLayer=Ph,t.PointCanvasCustomLayer=Dh,t.FXAA=eu,t.SMAA=tu,t.BlurEffect=ru,t.BloomEffect=nu,t.BrightEffect=iu,t.DepthEffect=ou,t.EffectManager=au,t.getContext=z,t.createTexture=U,t.loadTextureImage=j,t.FrameBufferObject=Qs,t.Program=Xs,t.StateManager=Ys,t.Buffer=Zs,t.VertexArray=Js,t.CommonLayer=mu,t.MercatorProjection=y,t.Canvas=w,t.Intensity=_,t.BezierCurve=C,t.GeodesicCurve=S,t.OdCurve=ro,t.utilCity={getProvinceNameByCityName:function(e){for(var t=0;t<io.length;t++)for(var r=io[t].n,n=io[t].cities,i=0;i<n.length;i++)if(n[i].n==e)return r;return null},getCenterByCityName:function(e){e=e.replace("\u5e02","");for(var t=0;t<no.length;t++)if(no[t].n==e)return E(no[t].g);for(t=0;t<oo.length;t++)if(oo[t].n==e)return E(oo[t].g);for(t=0;t<io.length;t++){if(io[t].n==e)return E(io[t].g);for(var r=io[t].cities,n=0;n<r.length;n++)if(r[n].n==e)return E(r[n].g)}return null}},t.isMobile=so,t.Encryptor={encode:function(e){e=Cs.deflateRaw(e);for(var t=[],r=0;r<e.length;r++)t.push(23^e[r]);return new Uint8Array(t)},decode:function(e){e=new Uint8Array(e);for(var t=[],r=0;r<e.length;r++)t.push(23^e[r]);e=new Uint8Array(t);try{var n=window.flate.deflate_decode_raw(e);return new TextDecoder("utf-8").decode(n)}catch(i){return console.warn("inflate by pako!"),Cs.inflateRaw(e,{to:"string"})}},download:function(e,t){var r=new Blob([e],{type:"application/octet-binary"});e=document.createElement("a"),r=window.URL.createObjectURL(r),e.href=r,e.download=t||"mapvgl_download",e.click()}},t.createFusionView=function(e,t){var r=void 0,n=!1;e.addEventListener("glmoduleloaded",(function(i){n||(n=!0,setTimeout((function(){r=new gu({cameraNear:10,cameraFar:4e3,gl:e._webglPainter.gl,canvas:e._webglPainter.gl.canvas,autoUpdate:!1,map:e}),r.webglLayer.canvas.style.zIndex=1;var n=r.webglLayer.stateManager;e.insertRender=function(){n.setState({blend:!0,depthTest:!1}),r.render()},t&&t(r)}),3e3))})),setTimeout((function(){if(!n&&e._webglMapScene&&e._webglPainter&&e._webglPainter.gl&&e._webglPainter.gl.canvas){n=!0,r=new gu({cameraNear:10,cameraFar:4e3,gl:e._webglPainter.gl,canvas:e._webglPainter.gl.canvas,autoUpdate:!1,map:e}),r.webglLayer.canvas.style.zIndex=1;var i=r.webglLayer.stateManager;e.insertRender=function(){i.setState({blend:!0,depthTest:!1}),r.render()},t&&t(r)}}),4e3)},t.toRadian=p,t.toAngle=d,t.ceilPowerOfTwo=g,t.floorPowerOfTwo=m,t.approximatelyEqual=v,t.__moduleExports=ks,t.vec4=Ns,t.vec3=Fs,t.vec2=Bs,t.quat2=zs,t.quat=Us,t.mat4=js,t.mat3=Hs,t.mat2d=Gs,t.mat2=Vs,t.glMatrix=Ws,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,r("IyRk"))},"4WOD":function(e,t,r){var n=r("UTVS"),i=r("ewvW"),o=r("93I0"),a=r("4Xet"),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"4XaG":function(e,t,r){var n=r("dG/n");n("observable")},"4Xet":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4i/N":function(e,t,r){"use strict";var n=r("VTBJ"),i=r("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},a=o,s=r("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(n["a"])(Object(n["a"])({},e),{},{ref:t,icon:a}))};u.displayName="CloseOutlined";t["a"]=i["forwardRef"](u)},"4kuk":function(e,t,r){var n=r("SfRM"),i=r("Hvzi"),o=r("u8Dt"),a=r("ekgI"),s=r("JSQU");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},"4mDm":function(e,t,r){"use strict";var n=r("/GqU"),i=r("RNIs"),o=r("P4y1"),a=r("afO8"),s=r("fdAy"),u="Array Iterator",l=a.set,c=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"4oU/":function(e,t,r){var n=r("2oRo"),i=n.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"4syw":function(e,t,r){var n=r("busE");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},5921:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"Map",stat:!0},{of:i})},"5JV0":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("WGBp"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),r=a(t),n=void 0===e?",":String(e),i=[];return s(r,i.push,i,!1,!0),i.join(n)}})},"5Tg+":function(e,t,r){var n=r("tiKp");t.f=n},"5Yz+":function(e,t,r){"use strict";var n=r("/GqU"),i=r("ppGB"),o=r("UMSQ"),a=r("pkCn"),s=r("rkAj"),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),p=c||!h||!f;e.exports=p?function(e){if(c)return l.apply(this,arguments)||0;var t=n(this),r=o(t.length),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},"5bzT":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("hODF")),o=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.getControl=function(){return new BMapGL.NavigationControl3D(this.getOptions())},t.prototype.render=function(){return null},t}(i.default);t.default=o},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"5r1n":function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.get,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var r=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),r)}})},"5s+n":function(e,t,r){"use strict";var n,i,o,a,s=r("I+eb"),u=r("xDBR"),l=r("2oRo"),c=r("0GbY"),h=r("/qmn"),f=r("busE"),p=r("4syw"),d=r("1E5z"),g=r("JiZb"),m=r("hh1v"),v=r("HAuM"),y=r("GarU"),b=r("xrYK"),x=r("iSVu"),A=r("ImZN"),w=r("HH4o"),_=r("SEBh"),C=r("LPSS").set,M=r("tXUg"),S=r("zfnd"),T=r("RN6c"),E=r("8GlL"),I=r("5mdu"),R=r("afO8"),L=r("lMq5"),P=r("tiKp"),O=r("LQDL"),D=P("species"),k="Promise",N=R.get,F=R.set,B=R.getterFor(k),z=h,U=l.TypeError,j=l.document,H=l.process,G=c("fetch"),V=E.f,W=V,X="process"==b(H),q=!!(j&&j.createEvent&&l.dispatchEvent),Y="unhandledrejection",Z="rejectionhandled",K=0,J=1,Q=2,$=1,ee=2,te=L(k,(function(){var e=x(z)!==String(z);if(!e){if(66===O)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!z.prototype["finally"])return!0;if(O>=51&&/native code/.test(z))return!1;var t=z.resolve(1),r=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[D]=r,!(t.then((function(){}))instanceof r)})),re=te||!w((function(e){z.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;M((function(){var i=t.value,o=t.state==J,a=0;while(n.length>a){var s,u,l,c=n[a++],h=o?c.ok:c.fail,f=c.resolve,p=c.reject,d=c.domain;try{h?(o||(t.rejection===ee&&ue(e,t),t.rejection=$),!0===h?s=i:(d&&d.enter(),s=h(i),d&&(d.exit(),l=!0)),s===c.promise?p(U("Promise-chain cycle")):(u=ne(s))?u.call(s,f,p):f(s)):p(i)}catch(g){d&&!l&&d.exit(),p(g)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,r){var n,i;q?(n=j.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},(i=l["on"+e])?i(n):e===Y&&T("Unhandled promise rejection",r)},ae=function(e,t){C.call(l,(function(){var r,n=t.value,i=se(t);if(i&&(r=I((function(){X?H.emit("unhandledRejection",n,e):oe(Y,e,n)})),t.rejection=X||se(t)?ee:$,r.error))throw r.value}))},se=function(e){return e.rejection!==$&&!e.parent},ue=function(e,t){C.call(l,(function(){X?H.emit("rejectionHandled",e):oe(Z,e,t.value)}))},le=function(e,t,r,n){return function(i){e(t,r,i,n)}},ce=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=Q,ie(e,t,!0))},he=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw U("Promise can't be resolved itself");var i=ne(r);i?M((function(){var n={done:!1};try{i.call(r,le(he,e,n,t),le(ce,e,n,t))}catch(o){ce(e,n,o,t)}})):(t.value=r,t.state=J,ie(e,t,!1))}catch(o){ce(e,{done:!1},o,t)}}};te&&(z=function(e){y(this,z,k),v(e),n.call(this);var t=N(this);try{e(le(he,this,t),le(ce,this,t))}catch(r){ce(this,t,r)}},n=function(e){F(this,{type:k,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},n.prototype=p(z.prototype,{then:function(e,t){var r=B(this),n=V(_(this,z));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=X?H.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=K&&ie(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=N(e);this.promise=e,this.resolve=le(he,e,t),this.reject=le(ce,e,t)},E.f=V=function(e){return e===z||e===o?new i(e):W(e)},u||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(e,t){var r=this;return new z((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(z,G.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:z}),d(z,k,!1,!0),g(k),o=c(k),s({target:k,stat:!0,forced:te},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:k,stat:!0,forced:u||te},{resolve:function(e){return S(u&&this===o?z:this,e)}}),s({target:k,stat:!0,forced:re},{all:function(e){var t=this,r=V(t),n=r.resolve,i=r.reject,o=I((function(){var r=v(t.resolve),o=[],a=0,s=1;A(e,(function(e){var u=a++,l=!1;o.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,o[u]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,i=I((function(){var i=v(t.resolve);A(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},"5wUe":function(e,t,r){var n=r("Q9SF"),i=r("MIOZ"),o=r("mGKP"),a=r("h0XC");function s(e,t){return n(e)||i(e,t)||o(e,t)||a()}e.exports=s},"5xtp":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("HAuM"),u=r("m/L8");i&&n({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){u.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},"5zFI":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("i8i4");function i(e,t){this._point=new BMapGL.Point(e.lng,e.lat),this._options=t||{},this._html=t.html||"";var r=new BMapGL.Overlay;for(var n in r)"initialize"!==n&&"draw"!==n&&"destroy"!==n&&(this.__proto__[n]=r[n])}i.prototype.initialize=function(e){return this._map=e,this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.zIndex=this._options.zIndex||BMapGL.Overlay.getZIndex(this._point.lat),n.render(this._html,this._div),this._div.onmousedown=function(e){return e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.getPanes().floatShadow.appendChild(this._div),this._div},i.prototype.destroy=function(){n.unmountComponentAtNode(this._div)},i.prototype.draw=function(){var e=this._map,t=e.pointToOverlayPixel(this._point),r={width:0,height:0};this._options&&this._options.offset&&(r=this._options.offset);var n=r.width,i=r.height;this._options&&this._options.unit&&"m"===this._options.unit&&(n/=e.getZoomUnits(),i/=e.getZoomUnits()),this._div.style.left=t.x+n+"px",this._div.style.top=t.y+i+"px",this._div.style.transform="translate(-50%, -100%)"},t.default=i},"66V8":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("4WOD"),a=r("0rvr"),s=r("fHMY"),u=r("m/L8"),l=r("XGwC"),c=r("ImZN"),h=r("kRJp"),f=r("afO8"),p=f.set,d=f.getterFor("AggregateError"),g=function(e,t){var r=this;if(!(r instanceof g))return new g(e,t);a&&(r=a(new Error(t),o(r)));var n=[];return c(e,n.push,n),i?p(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==t&&h(r,"message",String(t)),r};g.prototype=s(Error.prototype,{constructor:l(5,g),message:l(5,""),name:l(5,"AggregateError")}),i&&u.f(g.prototype,"errors",{get:function(){return d(this).errors},configurable:!0}),n({global:!0},{AggregateError:g})},"67WC":function(e,t,r){"use strict";var n,i=r("qYE9"),o=r("g6v/"),a=r("2oRo"),s=r("hh1v"),u=r("UTVS"),l=r("9d/t"),c=r("kRJp"),h=r("busE"),f=r("m/L8").f,p=r("4WOD"),d=r("0rvr"),g=r("tiKp"),m=r("kOOl"),v=a.Int8Array,y=v&&v.prototype,b=a.Uint8ClampedArray,x=b&&b.prototype,A=v&&p(v),w=y&&p(y),_=Object.prototype,C=_.isPrototypeOf,M=g("toStringTag"),S=m("TYPED_ARRAY_TAG"),T=i&&!!d&&"Opera"!==l(a.opera),E=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(e){var t=l(e);return"DataView"===t||u(I,t)},L=function(e){return s(e)&&u(I,l(e))},P=function(e){if(L(e))return e;throw TypeError("Target is not a typed array")},O=function(e){if(d){if(C.call(A,e))return e}else for(var t in I)if(u(I,n)){var r=a[t];if(r&&(e===r||C.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},D=function(e,t,r){if(o){if(r)for(var n in I){var i=a[n];i&&u(i.prototype,e)&&delete i.prototype[e]}w[e]&&!r||h(w,e,r?t:T&&y[e]||t)}},k=function(e,t,r){var n,i;if(o){if(d){if(r)for(n in I)i=a[n],i&&u(i,e)&&delete i[e];if(A[e]&&!r)return;try{return h(A,e,r?t:T&&v[e]||t)}catch(s){}}for(n in I)i=a[n],!i||i[e]&&!r||h(i,e,t)}};for(n in I)a[n]||(T=!1);if((!T||"function"!=typeof A||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},T))for(n in I)a[n]&&d(a[n],A);if((!T||!w||w===_)&&(w=A.prototype,T))for(n in I)a[n]&&d(a[n].prototype,w);if(T&&p(x)!==w&&d(x,w),o&&!u(w,M))for(n in E=!0,f(w,M,{get:function(){return s(this)?this[S]:void 0}}),I)a[n]&&c(a[n],S,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:E&&S,aTypedArray:P,aTypedArrayConstructor:O,exportTypedArrayMethod:D,exportTypedArrayStaticMethod:k,isView:R,isTypedArray:L,TypedArray:A,TypedArrayPrototype:w}},"6JNq":function(e,t,r){var n=r("UTVS"),i=r("Vu81"),o=r("Bs8V"),a=r("m/L8");e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},"6LWA":function(e,t,r){var n=r("xrYK");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"6V7H":function(e,t,r){var n=r("dG/n");n("patternMatch")},"6VBw":function(e,t,r){"use strict";var n=r("VTBJ"),i=r("ODXe"),o=r("rePB"),a=r("Ff2n"),s=r("q1tI"),u=r.n(s),l=r("TSYQ"),c=r.n(l),h=r("Pw59"),f=r("U8pU"),p=r("AJpP"),d=r("Kwbf"),g=r("BU3w");function m(e,t){Object(d["a"])(e,"[@ant-design/icons] ".concat(t))}function v(e){return"object"===Object(f["a"])(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Object(f["a"])(e.icon)||"function"===typeof e.icon)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){var n=e[r];switch(r){case"class":t.className=n,delete t.class;break;default:t[r]=n}return t}),{})}function b(e,t,r){return r?u.a.createElement(e.tag,Object(n["a"])(Object(n["a"])({key:t},y(e.attrs)),r),(e.children||[]).map((function(r,n){return b(r,"".concat(t,"-").concat(e.tag,"-").concat(n))}))):u.a.createElement(e.tag,Object(n["a"])({key:t},y(e.attrs)),(e.children||[]).map((function(r,n){return b(r,"".concat(t,"-").concat(e.tag,"-").concat(n))})))}function x(e){return Object(p["a"])(e)[0]}function A(e){return e?Array.isArray(e)?e:[e]:[]}var w="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=Object(s["useContext"])(h["a"]),r=t.csp;Object(s["useEffect"])((function(){Object(g["a"])(e,"@ant-design-icons",{prepend:!0,csp:r})}),[])},C=["icon","className","onClick","style","primaryColor","secondaryColor"],M={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function S(e){var t=e.primaryColor,r=e.secondaryColor;M.primaryColor=t,M.secondaryColor=r||x(t),M.calculated=!!r}function T(){return Object(n["a"])({},M)}var E=function(e){var t=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,u=e.secondaryColor,l=Object(a["a"])(e,C),c=M;if(s&&(c={primaryColor:s,secondaryColor:u||x(s)}),_(),m(v(t),"icon should be icon definiton, but got ".concat(t)),!v(t))return null;var h=t;return h&&"function"===typeof h.icon&&(h=Object(n["a"])(Object(n["a"])({},h),{},{icon:h.icon(c.primaryColor,c.secondaryColor)})),b(h.icon,"svg-".concat(h.name),Object(n["a"])({className:r,onClick:i,style:o,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};E.displayName="IconReact",E.getTwoToneColors=T,E.setTwoToneColors=S;var I=E;function R(e){var t=A(e),r=Object(i["a"])(t,2),n=r[0],o=r[1];return I.setTwoToneColors({primaryColor:n,secondaryColor:o})}function L(){var e=I.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var P=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];R("#1890ff");var O=s["forwardRef"]((function(e,t){var r,u=e.className,l=e.icon,f=e.spin,p=e.rotate,d=e.tabIndex,g=e.onClick,m=e.twoToneColor,v=Object(a["a"])(e,P),y=s["useContext"](h["a"]),b=y.prefixCls,x=void 0===b?"anticon":b,w=c()(x,(r={},Object(o["a"])(r,"".concat(x,"-").concat(l.name),!!l.name),Object(o["a"])(r,"".concat(x,"-spin"),!!f||"loading"===l.name),r),u),_=d;void 0===_&&g&&(_=-1);var C=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,M=A(m),S=Object(i["a"])(M,2),T=S[0],E=S[1];return s["createElement"]("span",Object(n["a"])(Object(n["a"])({role:"img","aria-label":l.name},v),{},{ref:t,tabIndex:_,onClick:g,className:w}),s["createElement"](I,{icon:l,primaryColor:T,secondaryColor:E,style:C}))}));O.displayName="AntdIcon",O.getTwoToneColor=L,O.setTwoToneColor=R;t["a"]=O},"6VoE":function(e,t,r){var n=r("tiKp"),i=r("P4y1"),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"6sVZ":function(e,t){var r=Object.prototype;function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}e.exports=n},"6x0u":function(e,t,r){"use strict";var n=r("xDBR"),i=r("2oRo"),o=r("0Dky");e.exports=n||!o((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"7+kd":function(e,t,r){var n=r("dG/n");n("isConcatSpreadable")},"7+zs":function(e,t,r){var n=r("kRJp"),i=r("UesL"),o=r("tiKp"),a=o("toPrimitive"),s=Date.prototype;a in s||n(s,a,i)},"702D":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"WeakMap",stat:!0},{from:i})},"77Zs":function(e,t,r){var n=r("Xi7e");function i(){this.__data__=new n,this.size=0}e.exports=i},"7GkX":function(e,t,r){var n=r("b80T"),i=r("A90E"),o=r("MMmD");function a(e){return o(e)?n(e):i(e)}e.exports=a},"7JcK":function(e,t,r){"use strict";var n=r("67WC"),i=r("iqeF"),o=n.aTypedArrayConstructor,a=n.exportTypedArrayStaticMethod;a("of",(function(){var e=0,t=arguments.length,r=new(o(this))(t);while(t>e)r[e]=arguments[e++];return r}),i)},"7fqy":function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}e.exports=r},"7ueG":function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").start,o=r("yNLB"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;n({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},"8+s/":function(e,t,r){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=r("q1tI"),o=n(i);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);function l(e,t,r){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof r&&"function"!==typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(e){return e.displayName||e.name||"Component"}return function(l){if("function"!==typeof l)throw new Error("Expected WrappedComponent to be a React component.");var c,h=[];function f(){c=e(h.map((function(e){return e.props}))),p.canUseDOM?t(c):r&&(c=r(c))}var p=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.peek=function(){return c},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,h=[],e};var r=t.prototype;return r.UNSAFE_componentWillMount=function(){h.push(this),f()},r.componentDidUpdate=function(){f()},r.componentWillUnmount=function(){var e=h.indexOf(this);h.splice(e,1),f()},r.render=function(){return o.createElement(l,this.props)},t}(i.PureComponent);return a(p,"displayName","SideEffect("+n(l)+")"),a(p,"canUseDOM",u),p}}e.exports=l},"8GlL":function(e,t,r){"use strict";var n=r("HAuM"),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},"8HVG":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("KQm4"),i=r("wx14"),o=r("ODXe"),a=r("q1tI"),s=r("EE3K");function u(e){var t=a["useRef"]({}),r=a["useState"]([]),u=Object(o["a"])(r,2),l=u[0],c=u[1];function h(r){var o=!0;e.add(r,(function(e,r){var u=r.key;if(e&&(!t.current[u]||o)){var l=a["createElement"](s["a"],Object(i["a"])({},r,{holder:e}));t.current[u]=l,c((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat(Object(n["a"])(e),[l]);var i=Object(n["a"])(e);return i[t]=l,i}))}o=!1}))}return[h,a["createElement"](a["Fragment"],null,l)]}},"8STE":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},"8XRh":function(e,t,r){"use strict";r.d(t,"a",(function(){return fe}));var n=r("rePB"),i=r("VTBJ"),o=r("ODXe"),a=r("U8pU"),s=r("q1tI"),u=r("m+aA"),l=r("c+Xe"),c=r("TSYQ"),h=r.n(c),f=r("MNnm");function p(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}function d(e,t){var r={animationend:p("Animation","AnimationEnd"),transitionend:p("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}var g=d(Object(f["a"])(),"undefined"!==typeof window?window:{}),m={};if(Object(f["a"])()){var v=document.createElement("div");m=v.style}var y={};function b(e){if(y[e])return y[e];var t=g[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var o=r[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in m)return y[e]=t[o],y[e]}return""}var x=b("animationend"),A=b("transitionend"),w=!(!x||!A),_=x||"animationend",C=A||"transitionend";function M(e,t){if(!e)return null;if("object"===Object(a["a"])(e)){var r=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[r]}return"".concat(e,"-").concat(t)}var S="none",T="appear",E="enter",I="leave",R="none",L="prepare",P="start",O="active",D="end";function k(e){var t=Object(s["useRef"])(!1),r=Object(s["useState"])(e),n=Object(o["a"])(r,2),i=n[0],a=n[1];function u(e){t.current||a(e)}return Object(s["useEffect"])((function(){return function(){t.current=!0}}),[]),[i,u]}var N=Object(f["a"])()?s["useLayoutEffect"]:s["useEffect"],F=N,B=r("wgJM"),z=function(){var e=s["useRef"](null);function t(){B["a"].cancel(e.current)}function r(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Object(B["a"])((function(){i<=1?n({isCanceled:function(){return o!==e.current}}):r(n,i-1)}));e.current=o}return s["useEffect"]((function(){return function(){t()}}),[]),[r,t]},U=[L,P,O,D],j=!1,H=!0;function G(e){return e===O||e===D}var V=function(e,t){var r=s["useState"](R),n=Object(o["a"])(r,2),i=n[0],a=n[1],u=z(),l=Object(o["a"])(u,2),c=l[0],h=l[1];function f(){a(L)}return F((function(){if(i!==R&&i!==D){var e=U.indexOf(i),r=U[e+1],n=t(i);n===j?a(r):c((function(e){function t(){e.isCanceled()||a(r)}!0===n?t():Promise.resolve(n).then(t)}))}}),[e,i]),s["useEffect"]((function(){return function(){h()}}),[]),[f,i]},W=function(e){var t=Object(s["useRef"])(),r=Object(s["useRef"])(e);r.current=e;var n=s["useCallback"]((function(e){r.current(e)}),[]);function i(e){e&&(e.removeEventListener(C,n),e.removeEventListener(_,n))}function o(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(C,n),e.addEventListener(_,n),t.current=e)}return s["useEffect"]((function(){return function(){i(t.current)}}),[]),[o,i]};function X(e,t,r,a){var u=a.motionEnter,l=void 0===u||u,c=a.motionAppear,h=void 0===c||c,f=a.motionLeave,p=void 0===f||f,d=a.motionDeadline,g=a.motionLeaveImmediately,m=a.onAppearPrepare,v=a.onEnterPrepare,y=a.onLeavePrepare,b=a.onAppearStart,x=a.onEnterStart,A=a.onLeaveStart,w=a.onAppearActive,_=a.onEnterActive,C=a.onLeaveActive,M=a.onAppearEnd,R=a.onEnterEnd,D=a.onLeaveEnd,N=a.onVisibleChanged,B=k(),z=Object(o["a"])(B,2),U=z[0],X=z[1],q=k(S),Y=Object(o["a"])(q,2),Z=Y[0],K=Y[1],J=k(null),Q=Object(o["a"])(J,2),$=Q[0],ee=Q[1],te=Object(s["useRef"])(!1),re=Object(s["useRef"])(null),ne=Object(s["useRef"])(!1),ie=Object(s["useRef"])(null);function oe(){var e=r();return e||ie.current}var ae=Object(s["useRef"])(!1);function se(e){var t,r=oe();e&&!e.deadline&&e.target!==r||(Z===T&&ae.current?t=null===M||void 0===M?void 0:M(r,e):Z===E&&ae.current?t=null===R||void 0===R?void 0:R(r,e):Z===I&&ae.current&&(t=null===D||void 0===D?void 0:D(r,e)),!1===t||ne.current||(K(S),ee(null)))}var ue=W(se),le=Object(o["a"])(ue,1),ce=le[0],he=s["useMemo"]((function(){var e,t,r;switch(Z){case"appear":return e={},Object(n["a"])(e,L,m),Object(n["a"])(e,P,b),Object(n["a"])(e,O,w),e;case"enter":return t={},Object(n["a"])(t,L,v),Object(n["a"])(t,P,x),Object(n["a"])(t,O,_),t;case"leave":return r={},Object(n["a"])(r,L,y),Object(n["a"])(r,P,A),Object(n["a"])(r,O,C),r;default:return{}}}),[Z]),fe=V(Z,(function(e){if(e===L){var t=he[L];return t?t(oe()):j}var r;ge in he&&ee((null===(r=he[ge])||void 0===r?void 0:r.call(he,oe(),null))||null);return ge===O&&(ce(oe()),d>0&&(clearTimeout(re.current),re.current=setTimeout((function(){se({deadline:!0})}),d))),H})),pe=Object(o["a"])(fe,2),de=pe[0],ge=pe[1],me=G(ge);ae.current=me,F((function(){X(t);var r,n=te.current;(te.current=!0,e)&&(!n&&t&&h&&(r=T),n&&t&&l&&(r=E),(n&&!t&&p||!n&&g&&!t&&p)&&(r=I),r&&(K(r),de()))}),[t]),Object(s["useEffect"])((function(){(Z===T&&!h||Z===E&&!l||Z===I&&!p)&&K(S)}),[h,l,p]),Object(s["useEffect"])((function(){return function(){clearTimeout(re.current),ne.current=!0}}),[]),Object(s["useEffect"])((function(){void 0!==U&&Z===S&&(null===N||void 0===N||N(U))}),[U,Z]);var ve=$;return he[L]&&ge===P&&(ve=Object(i["a"])({transition:"none"},ve)),[Z,ge,ve,null!==U&&void 0!==U?U:t]}var q=r("1OyB"),Y=r("vuIU"),Z=r("Ji7U"),K=r("LK+K"),J=function(e){Object(Z["a"])(r,e);var t=Object(K["a"])(r);function r(){return Object(q["a"])(this,r),t.apply(this,arguments)}return Object(Y["a"])(r,[{key:"render",value:function(){return this.props.children}}]),r}(s["Component"]),Q=J;function $(e){var t=e;function r(e){return!(!e.motionName||!t)}"object"===Object(a["a"])(e)&&(t=e.transitionSupport);var c=s["forwardRef"]((function(e,t){var a=e.visible,c=void 0===a||a,f=e.removeOnLeave,p=void 0===f||f,d=e.forceRender,g=e.children,m=e.motionName,v=e.leavedClassName,y=e.eventProps,b=r(e),x=Object(s["useRef"])(),A=Object(s["useRef"])();function w(){try{return Object(u["a"])(x.current||A.current)}catch(e){return null}}var _=X(b,c,w,e),C=Object(o["a"])(_,4),T=C[0],E=C[1],I=C[2],R=C[3],O=s["useRef"](R);R&&(O.current=!0);var D=Object(s["useRef"])(t);D.current=t;var k,N=s["useCallback"]((function(e){x.current=e,Object(l["b"])(D.current,e)}),[]),F=Object(i["a"])(Object(i["a"])({},y),{},{visible:c});if(g)if(T!==S&&r(e)){var B,z;E===L?z="prepare":G(E)?z="active":E===P&&(z="start"),k=g(Object(i["a"])(Object(i["a"])({},F),{},{className:h()(M(m,T),(B={},Object(n["a"])(B,M(m,"".concat(T,"-").concat(z)),z),Object(n["a"])(B,m,"string"===typeof m),B)),style:I}),N)}else k=R?g(Object(i["a"])({},F),N):!p&&O.current?g(Object(i["a"])(Object(i["a"])({},F),{},{className:v}),N):d?g(Object(i["a"])(Object(i["a"])({},F),{},{style:{display:"none"}}),N):null;else k=null;return s["createElement"](Q,{ref:A},k)}));return c.displayName="CSSMotion",c}var ee=$(w),te=r("wx14"),re=r("Ff2n"),ne="add",ie="keep",oe="remove",ae="removed";function se(e){var t;return t=e&&"object"===Object(a["a"])(e)&&"key"in e?e:{key:e},Object(i["a"])(Object(i["a"])({},t),{},{key:String(t.key)})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(se)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=0,o=t.length,a=ue(e),s=ue(t);a.forEach((function(e){for(var t=!1,a=n;a<o;a+=1){var u=s[a];if(u.key===e.key){n<a&&(r=r.concat(s.slice(n,a).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:ne})}))),n=a),r.push(Object(i["a"])(Object(i["a"])({},u),{},{status:ie})),n+=1,t=!0;break}}t||r.push(Object(i["a"])(Object(i["a"])({},e),{},{status:oe}))})),n<o&&(r=r.concat(s.slice(n).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:ne})}))));var u={};r.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var l=Object.keys(u).filter((function(e){return u[e]>1}));return l.forEach((function(e){r=r.filter((function(t){var r=t.key,n=t.status;return r!==e||n!==oe})),r.forEach((function(t){t.key===e&&(t.status=ie)}))})),r}var ce=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,r=function(e){Object(Z["a"])(n,e);var r=Object(K["a"])(n);function n(){var e;return Object(q["a"])(this,n),e=r.apply(this,arguments),e.state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){var r=e.keyEntities;return{keyEntities:r.map((function(e){return e.key!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{status:ae})}))}}))},e}return Object(Y["a"])(n,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,n=this.props,i=n.component,o=n.children,a=n.onVisibleChanged,u=Object(re["a"])(n,["component","children","onVisibleChanged"]),l=i||s["Fragment"],c={};return ce.forEach((function(e){c[e]=u[e],delete u[e]})),delete u.keys,s["createElement"](l,u,r.map((function(r){var n=r.status,i=Object(re["a"])(r,["status"]),u=n===ne||n===ie;return s["createElement"](t,Object(te["a"])({},c,{key:i.key,visible:u,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.keys,n=t.keyEntities,i=ue(r),o=le(n,i);return{keyEntities:o.filter((function(e){var t=n.find((function(t){var r=t.key;return e.key===r}));return!t||t.status!==ae||e.status!==oe}))}}}]),n}(s["Component"]);return r.defaultProps={component:"div"},r}var fe=he(w);t["b"]=ee},"8YOa":function(e,t,r){var n=r("0BK2"),i=r("hh1v"),o=r("UTVS"),a=r("m/L8").f,s=r("kOOl"),u=r("uy83"),l=s("meta"),c=0,h=Object.isExtensible||function(){return!0},f=function(e){a(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,l)){if(!h(e))return"F";if(!t)return"E";f(e)}return e[l].objectID},d=function(e,t){if(!o(e,l)){if(!h(e))return!0;if(!t)return!1;f(e)}return e[l].weakData},g=function(e){return u&&m.REQUIRED&&h(e)&&!o(e,l)&&f(e),e},m=e.exports={REQUIRED:!1,fastKey:p,getWeakData:d,onFreeze:g};n[l]=!0},"8go2":function(e,t,r){r("gg6r")},"8jRI":function(e,t,r){"use strict";var n="%[a-f0-9]{2}",i=new RegExp(n,"gi"),o=new RegExp("("+n+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(r),a(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),r=1;r<t.length;r++)e=a(t,r).join(""),t=e.match(i);return e}}function u(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);while(r){try{t[r[0]]=decodeURIComponent(r[0])}catch(l){var n=s(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var u=i[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},"8r4s":function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"Set",stat:!0},{of:i})},"8tx+":function(e,t,r){"use strict";var n=r("Ff2n"),i=r("wx14"),o=r("VTBJ"),a=r("1OyB"),s=r("vuIU"),u=r("Ji7U"),l=r("LK+K"),c=r("q1tI"),h=r("i8i4"),f=r.n(h),p=r("TSYQ"),d=r.n(p),g=r("8XRh"),m=r("EE3K"),v=r("8HVG"),y=0,b=Date.now();function x(){var e=y;return y+=1,"rcNotification_".concat(b,"_").concat(e)}var A=function(e){Object(u["a"])(r,e);var t=Object(l["a"])(r);function r(){var e;Object(a["a"])(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),e.state={notices:[]},e.hookRefs=new Map,e.add=function(t,r){var n=t.key||x(),i=Object(o["a"])(Object(o["a"])({},t),{},{key:n}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(n),s=t.concat();return-1!==o?s.splice(o,1,{notice:i,holderCallback:r}):(a&&t.length>=a&&(i.key=s[0].notice.key,i.updateMark=x(),i.userPassKey=n,s.shift()),s.push({notice:i,holderCallback:r})),{notices:s}}))},e.remove=function(t){e.setState((function(e){var r=e.notices;return{notices:r.filter((function(e){var r=e.notice,n=r.key,i=r.userPassKey,o=i||n;return o!==t}))}}))},e.noticePropsMap={},e}return Object(s["a"])(r,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,r=e.animation,n=this.props.transitionName;return!n&&r&&(n="".concat(t,"-").concat(r)),n}},{key:"render",value:function(){var e=this,t=this.state.notices,r=this.props,n=r.prefixCls,a=r.className,s=r.closeIcon,u=r.style,l=[];return t.forEach((function(r,i){var a=r.notice,u=r.holderCallback,c=i===t.length-1?a.updateMark:void 0,h=a.key,f=a.userPassKey,p=Object(o["a"])(Object(o["a"])(Object(o["a"])({prefixCls:n,closeIcon:s},a),a.props),{},{key:h,noticeKey:f||h,updateMark:c,onClose:function(t){var r;e.remove(t),null===(r=a.onClose)||void 0===r||r.call(a)},onClick:a.onClick,children:a.content});l.push(h),e.noticePropsMap[h]={props:p,holderCallback:u}})),c["createElement"]("div",{className:d()(n,a),style:u},c["createElement"](g["a"],{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,r){var n=r.key;t||delete e.noticePropsMap[n]}},(function(t){var r=t.key,a=t.className,s=t.style,u=t.visible,l=e.noticePropsMap[r],h=l.props,f=l.holderCallback;return f?c["createElement"]("div",{key:r,className:d()(a,"".concat(n,"-hook-holder")),style:Object(o["a"])({},s),ref:function(t){"undefined"!==typeof r&&(t?(e.hookRefs.set(r,t),f(t,h)):e.hookRefs.delete(r))}}):c["createElement"](m["a"],Object(i["a"])({},h,{className:d()(a,null===h||void 0===h?void 0:h.className),style:Object(o["a"])(Object(o["a"])({},s),null===h||void 0===h?void 0:h.style),visible:u}))})))}}]),r}(c["Component"]);A.newInstance=void 0,A.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},A.newInstance=function(e,t){var r=e||{},o=r.getContainer,a=Object(n["a"])(r,["getContainer"]),s=document.createElement("div");if(o){var u=o();u.appendChild(s)}else document.body.appendChild(s);var l=!1;function h(e){l||(l=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){f.a.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return Object(v["a"])(e)}}))}f.a.render(c["createElement"](A,Object(i["a"])({},a,{ref:h})),s)};var w=A;t["a"]=w},"8yz6":function(e,t,r){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},"9/5/":function(e,t,r){(function(t){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,f=c||h||Function("return this")(),p=Object.prototype,d=p.toString,g=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(e,t,n){var i,o,a,s,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function d(t){var r=i,n=o;return i=o=void 0,c=t,s=e.apply(n,r),s}function y(e){return c=e,u=setTimeout(_,t),h?d(e):s}function x(e){var r=e-l,n=e-c,i=t-r;return f?m(i,a-n):i}function A(e){var r=e-l,n=e-c;return void 0===l||r>=t||r<0||f&&n>=a}function _(){var e=v();if(A(e))return C(e);u=setTimeout(_,x(e))}function C(e){return u=void 0,p&&i?d(e):(i=o=void 0,s)}function M(){void 0!==u&&clearTimeout(u),c=0,i=l=o=u=void 0}function S(){return void 0===u?s:C(v())}function T(){var e=v(),r=A(e);if(i=arguments,o=this,l=e,r){if(void 0===u)return y(l);if(f)return u=setTimeout(_,t),d(l)}return void 0===u&&(u=setTimeout(_,t)),s}return t=w(t)||0,b(n)&&(h=!!n.leading,f="maxWait"in n,a=f?g(w(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),T.cancel=M,T.flush=S,T}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}function A(e){return"symbol"==typeof e||x(e)&&d.call(e)==i}function w(e){if("number"==typeof e)return e;if(A(e))return n;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=y}).call(this,r("IyRk"))},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"93I0":function(e,t,r){var n=r("VpIT"),i=r("kOOl"),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"94Xl":function(e,t,r){var n=r("JiZb");n("Array")},"97ZR":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new E(n||[]);return o._invoke=C(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var c="suspendedStart",h="suspendedYield",f="executing",p="completed",d={};function g(){}function m(){}function v(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==r&&n.call(x,o)&&(y=x);var A=v.prototype=g.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;function o(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function C(e,t,r){var n=c;return function(i,o){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return R()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=M(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}function M(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,M(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return m.prototype=A.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},w(_.prototype),_.prototype[a]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new _(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(A),A[s]="Generator",A[o]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},"9Baz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"message",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i.default}}),r("miYZ");var n=o(r("tsqr"));r("/xke");var i=o(r("TeRw"));function o(e){return e&&e.__esModule?e:{default:e}}},"9D6x":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM");n({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var r=o(this),n=arguments.length;a(t);var i=r.has(e);if(!i&&n<3)throw TypeError("Updating absent value");var s=i?r.get(e):a(n>2?arguments[2]:void 0)(e,r);return r.set(e,t(s,e,r)),r}})},"9N29":function(e,t,r){"use strict";var n=r("I+eb"),i=r("1Y/n").right,o=r("pkCn"),a=r("rkAj"),s=o("reduceRight"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"9d/t":function(e,t,r){var n=r("AO7/"),i=r("xrYK"),o=r("tiKp"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=Object(e),a))?r:s?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},"9xmf":function(e,t,r){var n=r("EdiO");function i(e){if(Array.isArray(e))return n(e)}e.exports=i},A2ZE:function(e,t,r){var n=r("HAuM");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},A90E:function(e,t,r){var n=r("6sVZ"),i=r("V6Ve"),o=Object.prototype,a=o.hasOwnProperty;function s(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=s},AJpP:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("FER5"),i=r("LuSS"),o=2,a=.16,s=.05,u=.05,l=.15,c=5,h=4,f=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function p(e){var t=e.r,r=e.g,i=e.b,o=Object(n["h"])(t,r,i);return{h:360*o.h,s:o.s,v:o.v}}function d(e){var t=e.r,r=e.g,i=e.b;return"#".concat(Object(n["f"])(t,r,i,!1))}function g(e,t,r){var n=r/100,i={r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b};return i}function m(e,t,r){var n;return n=Math.round(e.h)>=60&&Math.round(e.h)<=240?r?Math.round(e.h)-o*t:Math.round(e.h)+o*t:r?Math.round(e.h)+o*t:Math.round(e.h)-o*t,n<0?n+=360:n>=360&&(n-=360),n}function v(e,t,r){return 0===e.h&&0===e.s?e.s:(n=r?e.s-a*t:t===h?e.s+a:e.s+s*t,n>1&&(n=1),r&&t===c&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function y(e,t,r){var n;return n=r?e.v+u*t:e.v-l*t,n>1&&(n=1),Number(n.toFixed(2))}function b(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=Object(i["a"])(e),o=c;o>0;o-=1){var a=p(n),s=d(Object(i["a"])({h:m(a,o,!0),s:v(a,o,!0),v:y(a,o,!0)}));r.push(s)}r.push(d(n));for(var u=1;u<=h;u+=1){var l=p(n),b=d(Object(i["a"])({h:m(l,u),s:v(l,u),v:y(l,u)}));r.push(b)}return"dark"===t.theme?f.map((function(e){var n=e.index,o=e.opacity,a=d(g(Object(i["a"])(t.backgroundColor||"#141414"),Object(i["a"])(r[n]),100*o));return a})):r}var x={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},A={},w={};Object.keys(x).forEach((function(e){A[e]=b(x[e]),A[e].primary=A[e][5],w[e]=b(x[e],{theme:"dark",backgroundColor:"#141414"}),w[e].primary=w[e][5]}));A.red,A.volcano,A.gold,A.orange,A.yellow,A.lime,A.green,A.cyan,A.blue,A.geekblue,A.purple,A.magenta,A.grey},AM7I:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(E){u=null}var l=function(){throw new a},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(t){return l}}}():l,h=r("UVaH")(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},d="undefined"===typeof Uint8Array?n:f(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=f(i.prototype))}return g[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r("D3zA"),b=r("oNNP"),x=y.call(Function.call,Array.prototype.concat),A=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,S=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return w(e,C,(function(e,t,r,i){n[n.length]=r?w(i,M,"$1"):t||e})),n},T=function(e,t){var r,n=e;if(b(v,n)&&(r=v[n],n="%"+r[0]+"%"),b(g,n)){var o=g[n];if(o===p&&(o=m(n)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var r=S(e),n=r.length>0?r[0]:"",o=T("%"+n+"%",t),s=o.name,l=o.value,c=!1,h=o.alias;h&&(n=h[0],A(r,x([0,1],h)));for(var f=1,p=!0;f<r.length;f+=1){var d=r[f],m=_(d,0,1),v=_(d,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(c=!0),n+="."+d,s="%"+n+"%",b(g,s))l=g[s];else if(null!=l){if(!(d in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var y=u(l,d);p=!!y,l=p&&"get"in y&&!("originalValue"in y.get)?y.get:l[d]}else p=b(l,d),l=l[d];p&&!c&&(g[s]=l)}}return l}},"AO7/":function(e,t,r){var n=r("tiKp"),i=n("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},AP2z:function(e,t,r){var n=r("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;function u(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(u){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}e.exports=u},AVoK:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},AqCL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},AwgR:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.has,s=i.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var r=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),r)}})},B6y2:function(e,t,r){var n=r("I+eb"),i=r("b1O7").values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},B8du:function(e,t){function r(){return!1}e.exports=r},BGb9:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),l=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),r=new(u(t,o("Set")))(t);return l(e,s(r.add),r),r}})},BIHw:function(e,t,r){"use strict";var n=r("I+eb"),i=r("or9q"),o=r("ewvW"),a=r("UMSQ"),s=r("ppGB"),u=r("ZfDv");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),r=a(t.length),n=u(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},BTho:function(e,t,r){"use strict";var n=r("HAuM"),i=r("hh1v"),o=[].slice,a={},s=function(e,t,r){if(!(t in a)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";a[t]=Function("C,a","return new C("+n.join(",")+")")}return a[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),a=function(){var n=r.concat(o.call(arguments));return this instanceof a?s(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(a.prototype=t.prototype),a}},BU3w:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("MNnm"),i="rc-util-key";function o(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(n["a"])())return null;var i,a=document.createElement("style");(null===(t=r.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(i=r.csp)||void 0===i?void 0:i.nonce);a.innerHTML=e;var s=o(r),u=s.firstChild;return r.prepend&&s.prepend?s.prepend(a):r.prepend&&u?s.insertBefore(a,u):s.appendChild(a),a}var s=new Map;function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(r);if(!s.has(n)){var u=a("",r),l=u.parentNode;s.set(n,l),l.removeChild(u)}var c=Array.from(s.get(n).children).find((function(e){return"STYLE"===e.tagName&&e[i]===t}));if(c){var h,f,p;if((null===(h=r.csp)||void 0===h?void 0:h.nonce)&&c.nonce!==(null===(f=r.csp)||void 0===f?void 0:f.nonce))c.nonce=null===(p=r.csp)||void 0===p?void 0:p.nonce;return c.innerHTML!==e&&(c.innerHTML=e),c}var d=a(e,r);return d[i]=t,d}},"BX/b":function(e,t,r){var n=r("/GqU"),i=r("JBy8").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(n(e))}},Bs8V:function(e,t,r){var n=r("g6v/"),i=r("0eef"),o=r("XGwC"),a=r("/GqU"),s=r("wE6v"),u=r("UTVS"),l=r("DPsx"),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(r){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},BsWD:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},C1JJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e){if(!0===r.call(t,e))return s.stop()})).stopped}})},CH3K:function(e,t){function r(e,t){var r=-1,n=t.length,i=e.length;while(++r<n)e[i+r]=t[r];return e}e.exports=r},CUyW:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),l=r("SEBh"),c=r("Sssf"),h=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),r=c(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,o("Map"))),f=s(i.set);return h(r,(function(e,r){f.call(i,e,n(r,e,t))}),void 0,!0,!0),i}})},Cg3G:function(e,t,r){"use strict";var n=r("glrk"),i=r("HAuM");e.exports=function(){for(var e,t=n(this),r=i(t["delete"]),o=!0,a=0,s=arguments.length;a<s;a++)e=r.call(t,arguments[a]),o=o&&e;return!!o}},Co1j:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),r=a(t.has);return!s(e,(function(e){if(!1===r.call(t,e))return s.stop()})).stopped}})},Cwc5:function(e,t,r){var n=r("NKxu"),i=r("Npjl");function o(e,t){var r=i(e,t);return n(r)?r:void 0}e.exports=o},CyXQ:function(e,t,r){var n=r("ppGB"),i=r("UMSQ");e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}},D3zA:function(e,t,r){"use strict";var n=r("aI7X");e.exports=Function.prototype.bind||n},DEfu:function(e,t,r){var n=r("2oRo"),i=r("1E5z");i(n.JSON,"JSON",!0)},DMt2:function(e,t,r){var n=r("UMSQ"),i=r("EUja"),o=r("HYAF"),a=Math.ceil,s=function(e){return function(t,r,s){var u,l,c=String(o(t)),h=c.length,f=void 0===s?" ":String(s),p=n(r);return p<=h||""==f?c:(u=p-h,l=i.call(f,a(u/f.length)),l.length>u&&(l=l.slice(0,u)),e?c+l:l+c)}};e.exports={start:s(!1),end:s(!0)}},DPsx:function(e,t,r){var n=r("g6v/"),i=r("0Dky"),o=r("zBJ4");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},DSFK:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},DSRE:function(e,t,r){(function(e){var n=r("Kz5y"),i=r("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?n.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||i;e.exports=c}).call(this,r("hOG+")(e))},DTth:function(e,t,r){var n=r("0Dky"),i=r("tiKp"),o=r("xDBR"),a=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},DhMN:function(e,t,r){r("ofBz")},DrvE:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("0GbY"),a=r("8GlL"),s=r("5mdu"),u=r("ImZN"),l="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=a.f(t),n=r.resolve,c=r.reject,h=s((function(){var r=i(t.resolve),a=[],s=0,h=1,f=!1;u(e,(function(e){var i=s++,u=!1;a.push(void 0),h++,r.call(t,e).then((function(e){u||f||(f=!0,n(e))}),(function(e){u||f||(u=!0,a[i]=e,--h||c(new(o("AggregateError"))(a,l)))}))})),--h||c(new(o("AggregateError"))(a,l))}));return h.error&&c(h.value),r.promise}})},E2jh:function(e,t,r){var n=r("2gN3"),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},E9XD:function(e,t,r){"use strict";var n=r("I+eb"),i=r("1Y/n").left,o=r("pkCn"),a=r("rkAj"),s=o("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"EDT/":function(e,t,r){var n=r("I+eb"),i=r("p5mE"),o=r("0GbY");n({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?o("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},EE3K:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("wx14"),i=r("rePB"),o=r("1OyB"),a=r("vuIU"),s=r("Ji7U"),u=r("LK+K"),l=r("q1tI"),c=r("i8i4"),h=r.n(c),f=r("TSYQ"),p=r.n(f),d=function(e){Object(s["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;Object(o["a"])(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),e.closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var r=e.props,n=r.onClose,i=r.noticeKey;n&&n(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(a["a"])(r,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,r=t.prefixCls,o=t.className,a=t.closable,s=t.closeIcon,u=t.style,c=t.onClick,f=t.children,d=t.holder,g="".concat(r,"-notice"),m=Object.keys(this.props).reduce((function(t,r){return"data-"!==r.substr(0,5)&&"aria-"!==r.substr(0,5)&&"role"!==r||(t[r]=e.props[r]),t}),{}),v=l["createElement"]("div",Object(n["a"])({className:p()(g,o,Object(i["a"])({},"".concat(g,"-closable"),a)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},m),l["createElement"]("div",{className:"".concat(g,"-content")},f),a?l["createElement"]("a",{tabIndex:0,onClick:this.close,className:"".concat(g,"-close")},s||l["createElement"]("span",{className:"".concat(g,"-close-x")})):null);return d?h.a.createPortal(v,d):v}}]),r}(l["Component"]);d.defaultProps={onClose:function(){},duration:1.5}},EFp3:function(e,t,r){},ENF9:function(e,t,r){"use strict";var n,i=r("2oRo"),o=r("4syw"),a=r("8YOa"),s=r("bWFh"),u=r("rKzb"),l=r("hh1v"),c=r("afO8").enforce,h=r("f5p1"),f=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,d=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=s("WeakMap",d,u);if(h&&f){n=u.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m["delete"],y=m.has,b=m.get,x=m.set;o(m,{delete:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new n),v.call(this,e)||t.frozen["delete"](e)}return v.call(this,e)},has:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new n),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new n),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(l(e)&&!p(e)){var r=c(this);r.frozen||(r.frozen=new n),y.call(this,e)?x.call(this,e,t):r.frozen.set(e,t)}else x.call(this,e,t);return this}})}},EUja:function(e,t,r){"use strict";var n=r("ppGB"),i=r("HYAF");e.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},EdiO:function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=r},EnZy:function(e,t,r){"use strict";var n=r("14Sl"),i=r("ROdP"),o=r("glrk"),a=r("HYAF"),s=r("SEBh"),u=r("iqWW"),l=r("UMSQ"),c=r("FMNM"),h=r("kmMV"),f=r("0Dky"),p=[].push,d=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),o=void 0===r?g:r>>>0;if(0===o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);var s,u,l,c=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=new RegExp(e.source,f+"g");while(s=h.call(m,n)){if(u=m.lastIndex,u>d&&(c.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&p.apply(c,s.slice(1)),l=s[0].length,d=u,c.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return d===n.length?!l&&m.test("")||c.push(""):c.push(n.slice(d)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){var a=r(n,e,this,i,n!==t);if(a.done)return a.value;var h=o(e),f=String(this),p=s(h,RegExp),v=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),b=new p(m?h:"^(?:"+h.source+")",y),x=void 0===i?g:i>>>0;if(0===x)return[];if(0===f.length)return null===c(b,f)?[f]:[];var A=0,w=0,_=[];while(w<f.length){b.lastIndex=m?w:0;var C,M=c(b,m?f:f.slice(w));if(null===M||(C=d(l(b.lastIndex+(m?0:w)),f.length))===A)w=u(f,w,v);else{if(_.push(f.slice(A,w)),_.length===x)return _;for(var S=1;S<=M.length-1;S++)if(_.push(M[S]),_.length===x)return _;w=A=C}}return _.push(f.slice(A)),_}]}),!m)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},EpBk:function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},Eqjn:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("HAuM"),u=r("m/L8");i&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"Ew+T":function(e,t,r){var n=r("I+eb"),i=r("2oRo"),o=r("LPSS"),a=!i.setImmediate||!i.clearImmediate;n({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},ExA7:function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},F8JR:function(e,t,r){"use strict";var n=r("tycR").forEach,i=r("pkCn"),o=r("rkAj"),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},FDzp:function(e,t,r){var n=r("dOgj");n("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},FER5:function(e,t,r){"use strict";r.d(t,"i",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"h",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return c})),r.d(t,"j",(function(){return h})),r.d(t,"a",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return g}));var n=r("b3aT");function i(e,t,r){return{r:255*Object(n["a"])(e,255),g:255*Object(n["a"])(t,255),b:255*Object(n["a"])(r,255)}}function o(e,t,r){e=Object(n["a"])(e,255),t=Object(n["a"])(t,255),r=Object(n["a"])(r,255);var i=Math.max(e,t,r),o=Math.min(e,t,r),a=0,s=0,u=(i+o)/2;if(i===o)s=0,a=0;else{var l=i-o;switch(s=u>.5?l/(2-i-o):l/(i+o),i){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break;default:break}a/=6}return{h:a,s:s,l:u}}function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*r*(t-e):r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function s(e,t,r){var i,o,s;if(e=Object(n["a"])(e,360),t=Object(n["a"])(t,100),r=Object(n["a"])(r,100),0===t)o=r,s=r,i=r;else{var u=r<.5?r*(1+t):r+t-r*t,l=2*r-u;i=a(l,u,e+1/3),o=a(l,u,e),s=a(l,u,e-1/3)}return{r:255*i,g:255*o,b:255*s}}function u(e,t,r){e=Object(n["a"])(e,255),t=Object(n["a"])(t,255),r=Object(n["a"])(r,255);var i=Math.max(e,t,r),o=Math.min(e,t,r),a=0,s=i,u=i-o,l=0===i?0:u/i;if(i===o)a=0;else{switch(i){case e:a=(t-r)/u+(t<r?6:0);break;case t:a=(r-e)/u+2;break;case r:a=(e-t)/u+4;break;default:break}a/=6}return{h:a,s:l,v:s}}function l(e,t,r){e=6*Object(n["a"])(e,360),t=Object(n["a"])(t,100),r=Object(n["a"])(r,100);var i=Math.floor(e),o=e-i,a=r*(1-t),s=r*(1-o*t),u=r*(1-(1-o)*t),l=i%6,c=[r,s,a,a,u,r][l],h=[u,r,r,s,a,a][l],f=[a,a,u,r,r,s][l];return{r:255*c,g:255*h,b:255*f}}function c(e,t,r,i){var o=[Object(n["e"])(Math.round(e).toString(16)),Object(n["e"])(Math.round(t).toString(16)),Object(n["e"])(Math.round(r).toString(16))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function h(e,t,r,i,o){var a=[Object(n["e"])(Math.round(e).toString(16)),Object(n["e"])(Math.round(t).toString(16)),Object(n["e"])(Math.round(r).toString(16)),Object(n["e"])(f(i))];return o&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function f(e){return Math.round(255*parseFloat(e)).toString(16)}function p(e){return d(e)/255}function d(e){return parseInt(e,16)}function g(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},FMNM:function(e,t,r){var n=r("xrYK"),i=r("kmMV");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FUNW:function(e,t,r){"use strict";(function(e){var n=r("q1tI"),i=r.n(n),o=r("dI71"),a=r("17x9"),s=r.n(a),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}function h(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function f(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}function p(e){return Array.isArray(e)?e[0]:e}function d(e,t){var r,i,a="__create-react-context-"+c()+"__",l=function(e){function r(){var t;return t=e.apply(this,arguments)||this,t.emitter=f(t.props.value),t}Object(o["a"])(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return e={},e[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;h(n,i)?r=0:(r="function"===typeof t?t(n,i):u,r|=0,0!==r&&this.emitter.set(e.value,r))}},n.render=function(){return this.props.children},r}(n["Component"]);l.childContextTypes=(r={},r[a]=s.a.object.isRequired,r);var d=function(t){function r(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,r){var n=0|e.observedBits;0!==(n&r)&&e.setState({value:e.getValue()})},e}Object(o["a"])(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return p(this.props.children)(this.state.value)},r}(n["Component"]);return d.contextTypes=(i={},i[a]=s.a.object,i),{Provider:l,Consumer:d}}var g=i.a.createContext||d;t["a"]=g}).call(this,r("IyRk"))},FZtP:function(e,t,r){var n=r("2oRo"),i=r("/byt"),o=r("F8JR"),a=r("kRJp");for(var s in i){var u=n[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(c){l.forEach=o}}},Ff2n:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("zLVn");function i(e,t){if(null==e)return{};var r,i,o=Object(n["a"])(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},FpZJ:function(e,t,r){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(t in e[t]=n,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},"G+Rx":function(e,t,r){var n=r("0GbY");e.exports=n("document","documentElement")},GC2F:function(e,t,r){var n=r("+M1K");e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},GXvd:function(e,t,r){var n=r("dG/n");n("species")},GarU:function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},GoyQ:function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},Gytx:function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],h=t[l];if(i=r?r.call(n,c,h,l):void 0,!1===i||void 0===i&&c!==h)return!1}return!0}},"H+LF":function(e,t,r){"use strict";var n=r("bWFh"),i=r("rKzb");n("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},H84U:function(e,t,r){"use strict";r.d(t,"b",(function(){return A})),r.d(t,"a",(function(){return w}));var n=r("wx14"),i=r("q1tI"),o=r("rePB"),a=r("TSYQ"),s=r.n(a),u=r("YMnH"),l=function(){var e=i["useContext"](A),t=e.getPrefixCls,r=t("empty-img-default");return i["createElement"]("svg",{className:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{fill:"none",fillRule:"evenodd"},i["createElement"]("g",{transform:"translate(24 31.67)"},i["createElement"]("ellipse",{className:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i["createElement"]("path",{className:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),i["createElement"]("path",{className:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),i["createElement"]("path",{className:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),i["createElement"]("path",{className:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),i["createElement"]("path",{className:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),i["createElement"]("g",{className:"".concat(r,"-g"),transform:"translate(149.65 15.383)"},i["createElement"]("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i["createElement"]("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},c=l,h=function(){var e=i["useContext"](A),t=e.getPrefixCls,r=t("empty-img-simple");return i["createElement"]("svg",{className:r,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i["createElement"]("ellipse",{className:"".concat(r,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),i["createElement"]("g",{className:"".concat(r,"-g"),fillRule:"nonzero"},i["createElement"]("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i["createElement"]("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(r,"-path")}))))},f=h,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},d=i["createElement"](c,null),g=i["createElement"](f,null),m=function(e){var t=e.className,r=e.prefixCls,a=e.image,l=void 0===a?d:a,c=e.description,h=e.children,f=e.imageStyle,m=p(e,["className","prefixCls","image","description","children","imageStyle"]),v=i["useContext"](A),y=v.getPrefixCls,b=v.direction;return i["createElement"](u["a"],{componentName:"Empty"},(function(e){var a,u=y("empty",r),p="undefined"!==typeof c?c:e.description,d="string"===typeof p?p:"empty",v=null;return v="string"===typeof l?i["createElement"]("img",{alt:d,src:l}):l,i["createElement"]("div",Object(n["a"])({className:s()(u,(a={},Object(o["a"])(a,"".concat(u,"-normal"),l===g),Object(o["a"])(a,"".concat(u,"-rtl"),"rtl"===b),a),t)},m),i["createElement"]("div",{className:"".concat(u,"-image"),style:f},v),p&&i["createElement"]("div",{className:"".concat(u,"-description")},p),h&&i["createElement"]("div",{className:"".concat(u,"-footer")},h))}))};m.PRESENTED_IMAGE_DEFAULT=d,m.PRESENTED_IMAGE_SIMPLE=g;var v=m,y=function(e){return i["createElement"](w,null,(function(t){var r=t.getPrefixCls,n=r("empty");switch(e){case"Table":case"List":return i["createElement"](v,{image:v.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return i["createElement"](v,{image:v.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return i["createElement"](v,null)}}))},b=y,x=function(e,t){return t||(e?"ant-".concat(e):"ant")},A=i["createContext"]({getPrefixCls:x,renderEmpty:b}),w=A.Consumer},H8j4:function(e,t,r){var n=r("QkVE");function i(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}e.exports=i},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HDyB:function(e,t,r){var n=r("nmnc"),i=r("JHRd"),o=r("ljhN"),a=r("or5M"),s=r("7fqy"),u=r("rEGp"),l=1,c=2,h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",A="[object DataView]",w=n?n.prototype:void 0,_=w?w.valueOf:void 0;function C(e,t,r,n,w,C,M){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!C(new i(e),new i(t)));case h:case f:case g:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case d:var S=s;case v:var T=n&l;if(S||(S=u),e.size!=t.size&&!T)return!1;var E=M.get(e);if(E)return E==t;n|=c,M.set(e,t);var I=a(S(e),S(t),n,w,C,M);return M["delete"](e),I;case b:if(_)return _.call(e)==_.call(t)}return!1}e.exports=C},HH4o:function(e,t,r){var n=r("tiKp"),i=n("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(u){}return r}},HNyW:function(e,t,r){var n=r("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},HOxn:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Promise");e.exports=o},HYAF:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},Hd5f:function(e,t,r){var n=r("0Dky"),i=r("tiKp"),o=r("LQDL"),a=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},HiXI:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").end,o=r("yNLB"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;n({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},HsHA:function(e,t){var r=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:r(1+e)}},Hvzi:function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},"I+eb":function(e,t,r){var n=r("2oRo"),i=r("Bs8V").f,o=r("kRJp"),a=r("busE"),s=r("zk60"),u=r("6JNq"),l=r("lMq5");e.exports=function(e,t){var r,c,h,f,p,d,g=e.target,m=e.global,v=e.stat;if(c=m?n:v?n[g]||s(g,{}):(n[g]||{}).prototype,c)for(h in t){if(p=t[h],e.noTargetGet?(d=i(c,h),f=d&&d.value):f=c[h],r=l(m?h:g+(v?".":"#")+h,e.forced),!r&&void 0!==f){if(typeof p===typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),a(c,h,p,e)}}},"I/il":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("hODF")),o=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.getControl=function(){return new BMapGL.ZoomControl(this.getOptions())},t.prototype.render=function(){return null},t}(i.default);t.default=o},I1Gw:function(e,t,r){var n=r("dG/n");n("split")},I8vh:function(e,t,r){var n=r("ppGB"),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},I9xj:function(e,t,r){var n=r("1E5z");n(Math,"Math",!0)},"IL/d":function(e,t,r){"use strict";var n=r("iqeF"),i=r("67WC").exportTypedArrayStaticMethod,o=r("oHi+");i("from",o,n)},ImZN:function(e,t,r){var n=r("glrk"),i=r("6VoE"),o=r("UMSQ"),a=r("A2ZE"),s=r("NaFW"),u=r("m92n"),l=function(e,t){this.stopped=e,this.result=t},c=e.exports=function(e,t,r,c,h){var f,p,d,g,m,v,y,b=a(t,r,c?2:1);if(h)f=e;else{if(p=s(e),"function"!=typeof p)throw TypeError("Target is not iterable");if(i(p)){for(d=0,g=o(e.length);g>d;d++)if(m=c?b(n(y=e[d])[0],y[1]):b(e[d]),m&&m instanceof l)return m;return new l(!1)}f=p.call(e)}v=f.next;while(!(y=v.call(f)).done)if(m=u(f,b,y.value,c),"object"==typeof m&&m&&m instanceof l)return m;return new l(!1)};c.stop=function(e){return new l(!0,e)}},IyRk:function(e,t){(function(t){e.exports=function(){var e={873:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"===typeof window&&(t=window)}e.exports=t}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}},o=!0;try{e[t](i,i.exports,n),o=!1}finally{o&&delete r[t]}return i.exports}return n.ab=t+"/",n(873)}()}).call(this,"/")},JBy8:function(e,t,r){var n=r("yoRg"),i=r("eDl+"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},JHRd:function(e,t,r){var n=r("Kz5y"),i=n.Uint8Array;e.exports=i},JHgL:function(e,t,r){var n=r("QkVE");function i(e){return n(this,e).get(e)}e.exports=i},JSQU:function(e,t,r){var n=r("YESw"),i="__lodash_hash_undefined__";function o(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}e.exports=o},JTJg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WjRb"),o=r("HYAF"),a=r("qxPZ");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},JTzB:function(e,t,r){var n=r("NykK"),i=r("ExA7"),o="[object Arguments]";function a(e){return i(e)&&n(e)==o}e.exports=a},JX7q:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},JfAA:function(e,t,r){"use strict";var n=r("busE"),i=r("glrk"),o=r("0Dky"),a=r("rW0t"),s="toString",u=RegExp.prototype,l=u[s],c=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=s;(c||h)&&n(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in u)?a.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},Ji7U:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("s4An");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(n["a"])(e,t)}},JiZb:function(e,t,r){"use strict";var n=r("0GbY"),i=r("m/L8"),o=r("tiKp"),a=r("g6v/"),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},Junv:function(e,t,r){"use strict";var n=r("I+eb"),i=r("6LWA"),o=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},JwUS:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(a(e),u(r,(function(r){n?(n=!1,i=r):i=e(i,r,r,t)}),void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return i}})},JxQ3:function(e,t,r){var n="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"===typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"===typeof u.get?u.get:null,c=s&&Set.prototype.forEach,h="function"===typeof WeakMap&&WeakMap.prototype,f=h?WeakMap.prototype.has:null,p="function"===typeof WeakSet&&WeakSet.prototype,d=p?WeakSet.prototype.has:null,g="function"===typeof WeakRef&&WeakRef.prototype,m=g?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,y=Object.prototype.toString,b=Function.prototype.toString,x=String.prototype.match,A=String.prototype.slice,w=String.prototype.replace,_=String.prototype.toUpperCase,C=String.prototype.toLowerCase,M=RegExp.prototype.test,S=Array.prototype.concat,T=Array.prototype.join,E=Array.prototype.slice,I=Math.floor,R="function"===typeof BigInt?BigInt.prototype.valueOf:null,L=Object.getOwnPropertySymbols,P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"===typeof Symbol&&"object"===typeof Symbol.iterator,D="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===O||"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,N=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function F(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||M.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=A.call(t,i.length+1);return w.call(i,r,"$&_")+"."+w.call(w.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(t,r,"$&_")}var B=r(1).custom,z=B&&Z(B)?B:null;function U(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function j(e){return w.call(String(e),/"/g,"&quot;")}function H(e){return"[object Array]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function G(e){return"[object Date]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function V(e){return"[object RegExp]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function W(e){return"[object Error]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function X(e){return"[object String]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function q(e){return"[object Number]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function Y(e){return"[object Boolean]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function Z(e){if(O)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!P)return!1;try{return P.call(e),!0}catch(t){}return!1}function K(e){if(!e||"object"!==typeof e||!R)return!1;try{return R.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,n,i){var s=r||{};if(Q(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!Q(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var h=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return ue(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var f=String(t);return h?F(t,f):f}if("bigint"===typeof t){var p=String(t)+"n";return h?F(t,p):p}var d="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof n&&(n=0),n>=d&&d>0&&"object"===typeof t)return H(t)?"[Array]":"[Object]";var g=de(s,n);if("undefined"===typeof i)i=[];else if(te(i,t)>=0)return"[Circular]";function m(t,r,o){if(r&&(i=E.call(i),i.push(r)),o){var a={depth:s.depth};return Q(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,i)}return e(t,s,n+1,i)}if("function"===typeof t){var y=ee(t),b=me(t,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(b.length>0?" { "+T.call(b,", ")+" }":"")}if(Z(t)){var x=O?w.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!==typeof t||O?x:ce(x)}if(se(t)){for(var _="<"+C.call(String(t.nodeName)),M=t.attributes||[],I=0;I<M.length;I++)_+=" "+M[I].name+"="+U(j(M[I].value),"double",s);return _+=">",t.childNodes&&t.childNodes.length&&(_+="..."),_+="</"+C.call(String(t.nodeName))+">",_}if(H(t)){if(0===t.length)return"[]";var L=me(t,m);return g&&!pe(L)?"["+ge(L,g)+"]":"[ "+T.call(L,", ")+" ]"}if(W(t)){var B=me(t,m);return"cause"in t&&!k.call(t,"cause")?"{ ["+String(t)+"] "+T.call(S.call("[cause]: "+m(t.cause),B),", ")+" }":0===B.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(B,", ")+" }"}if("object"===typeof t&&u){if(z&&"function"===typeof t[z])return t[z]();if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(re(t)){var J=[];return a.call(t,(function(e,r){J.push(m(r,t,!0)+" => "+m(e,t))})),fe("Map",o.call(t),J,g)}if(oe(t)){var le=[];return c.call(t,(function(e){le.push(m(e,t))})),fe("Set",l.call(t),le,g)}if(ne(t))return he("WeakMap");if(ae(t))return he("WeakSet");if(ie(t))return he("WeakRef");if(q(t))return ce(m(Number(t)));if(K(t))return ce(m(R.call(t)));if(Y(t))return ce(v.call(t));if(X(t))return ce(m(String(t)));if(!G(t)&&!V(t)){var ve=me(t,m),ye=N?N(t)===Object.prototype:t instanceof Object||t.constructor===Object,be=t instanceof Object?"":"null prototype",xe=!ye&&D&&Object(t)===t&&D in t?A.call($(t),8,-1):be?"Object":"",Ae=ye||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",we=Ae+(xe||be?"["+T.call(S.call([],xe||[],be||[]),": ")+"] ":"");return 0===ve.length?we+"{}":g?we+"{"+ge(ve,g)+"}":we+"{ "+T.call(ve,", ")+" }"}return String(t)};var J=Object.prototype.hasOwnProperty||function(e){return e in this};function Q(e,t){return J.call(e,t)}function $(e){return y.call(e)}function ee(e){if(e.name)return e.name;var t=x.call(b.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function te(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function re(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{l.call(e)}catch(t){return!0}return e instanceof Map}catch(r){}return!1}function ne(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(t){return!0}return e instanceof WeakMap}catch(r){}return!1}function ie(e){if(!m||!e||"object"!==typeof e)return!1;try{return m.call(e),!0}catch(t){}return!1}function oe(e){if(!l||!e||"object"!==typeof e)return!1;try{l.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(r){}return!1}function ae(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(t){return!0}return e instanceof WeakSet}catch(r){}return!1}function se(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function ue(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ue(A.call(e,0,t.maxStringLength),t)+n}var i=w.call(w.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,le);return U(i,"single",t)}function le(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function ce(e){return"Object("+e+")"}function he(e){return e+" { ? }"}function fe(e,t,r,n){var i=n?ge(r,n):T.call(r,", ");return e+" ("+t+") {"+i+"}"}function pe(e){for(var t=0;t<e.length;t++)if(te(e[t],"\n")>=0)return!1;return!0}function de(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;r=T.call(Array(e.indent+1)," ")}return{base:r,prev:T.call(Array(t+1),r)}}function ge(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+T.call(e,","+r)+"\n"+t.prev}function me(e,t){var r=H(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Q(e,i)?t(e[i],e):""}var o,a="function"===typeof L?L(e):[];if(O){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)Q(e,u)&&(r&&String(Number(u))===u&&u<e.length||O&&o["$"+u]instanceof Symbol||(M.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"===typeof L)for(var l=0;l<a.length;l++)k.call(e,a[l])&&n.push("["+t(a[l])+"]: "+t(e[a[l]],e));return n}},KMkd:function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},KQm4:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("a3WO");function i(e){if(Array.isArray(e))return Object(n["a"])(e)}var o=r("25BE"),a=r("BsWD");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||Object(o["a"])(e)||Object(a["a"])(e)||s()}},KfNM:function(e,t){var r=Object.prototype,n=r.toString;function i(e){return n.call(e)}e.exports=i},KhsS:function(e,t,r){var n=r("dG/n");n("match")},KpVd:function(e,t,r){"use strict";(function(e){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,r){return u=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&a(o,r.prototype),o},u.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!l(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},c(e)}r.d(t,"a",(function(){return te}));var h=/%[sdj%]/g,f=function(){};function p(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var r=e.field;t[r]=t[r]||[],t[r].push(e)})),t}function d(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o=r.length;if("function"===typeof e)return e.apply(null,r);if("string"===typeof e){var a=e.replace(h,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}break;default:return e}}));return a}return e}function g(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function m(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!g(t)||"string"!==typeof e||e))}function v(e,t,r){var n=[],i=0,o=e.length;function a(e){n.push.apply(n,e||[]),i++,i===o&&r(n)}e.forEach((function(e){t(e,a)}))}function y(e,t,r){var n=0,i=e.length;function o(a){if(a&&a.length)r(a);else{var s=n;n+=1,s<i?t(e[s],o):r([])}}o([])}function b(e){var t=[];return Object.keys(e).forEach((function(r){t.push.apply(t,e[r]||[])})),t}"undefined"!==typeof e&&Object({NODE_ENV:"production"});var x=function(e){function t(t,r){var n;return n=e.call(this,"Async Validation Error")||this,n.errors=t,n.fields=r,n}return i(t,e),t}(c(Error));function A(e,t,r,n,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){return n(e),e.length?o(new x(e,p(e))):t(i)},s=b(e);y(s,r,a)}));return o["catch"]((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,l=0,c=[],h=new Promise((function(t,o){var h=function(e){if(c.push.apply(c,e),l++,l===u)return n(c),c.length?o(new x(c,p(c))):t(i)};s.length||(n(c),t(i)),s.forEach((function(t){var n=e[t];-1!==a.indexOf(t)?y(n,r,h):v(n,r,h)}))}));return h["catch"]((function(e){return e})),h}function w(e){return!(!e||void 0===e.message)}function _(e,t){for(var r=e,n=0;n<t.length;n++){if(void 0==r)return r;r=r[t[n]]}return r}function C(e,t){return function(r){var n;return n=e.fullFields?_(t,e.fullFields):t[r.field||e.fullField],w(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:"function"===typeof r?r():r,fieldValue:n,field:r.field||e.fullField}}}function M(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"object"===typeof i&&"object"===typeof e[r]?e[r]=n({},e[r],i):e[r]=i}return e}var S=function(e,t,r,n,i,o){!e.required||r.hasOwnProperty(e.field)&&!m(t,o||e.type)||n.push(d(i.messages.required,e.fullField))},T=function(e,t,r,n,i){(/^\s+$/.test(t)||""===t)&&n.push(d(i.messages.whitespace,e.fullField))},E={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},I={integer:function(e){return I.number(e)&&parseInt(e,10)===e},float:function(e){return I.number(e)&&!I.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!I.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(E.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(E.url)},hex:function(e){return"string"===typeof e&&!!e.match(E.hex)}},R=function(e,t,r,n,i){if(e.required&&void 0===t)S(e,t,r,n,i);else{var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?I[a](t)||n.push(d(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&n.push(d(i.messages.types[a],e.fullField,e.type))}},L=function(e,t,r,n,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,c=null,h="number"===typeof t,f="string"===typeof t,p=Array.isArray(t);if(h?c="number":f?c="string":p&&(c="array"),!c)return!1;p&&(l=t.length),f&&(l=t.replace(u,"_").length),o?l!==e.len&&n.push(d(i.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?n.push(d(i.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?n.push(d(i.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&n.push(d(i.messages[c].range,e.fullField,e.min,e.max))},P="enum",O=function(e,t,r,n,i){e[P]=Array.isArray(e[P])?e[P]:[],-1===e[P].indexOf(t)&&n.push(d(i.messages[P],e.fullField,e[P].join(", ")))},D=function(e,t,r,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var o=new RegExp(e.pattern);o.test(t)||n.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}},k={required:S,whitespace:T,type:R,range:L,enum:O,pattern:D},N=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t,"string")&&!e.required)return r();k.required(e,t,n,o,i,"string"),m(t,"string")||(k.type(e,t,n,o,i),k.range(e,t,n,o,i),k.pattern(e,t,n,o,i),!0===e.whitespace&&k.whitespace(e,t,n,o,i))}r(o)},F=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&k.type(e,t,n,o,i)}r(o)},B=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(""===t&&(t=void 0),m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&(k.type(e,t,n,o,i),k.range(e,t,n,o,i))}r(o)},z=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&k.type(e,t,n,o,i)}r(o)},U=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),m(t)||k.type(e,t,n,o,i)}r(o)},j=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&(k.type(e,t,n,o,i),k.range(e,t,n,o,i))}r(o)},H=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&(k.type(e,t,n,o,i),k.range(e,t,n,o,i))}r(o)},G=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if((void 0===t||null===t)&&!e.required)return r();k.required(e,t,n,o,i,"array"),void 0!==t&&null!==t&&(k.type(e,t,n,o,i),k.range(e,t,n,o,i))}r(o)},V=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&k.type(e,t,n,o,i)}r(o)},W="enum",X=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i),void 0!==t&&k[W](e,t,n,o,i)}r(o)},q=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t,"string")&&!e.required)return r();k.required(e,t,n,o,i),m(t,"string")||k.pattern(e,t,n,o,i)}r(o)},Y=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t,"date")&&!e.required)return r();var s;if(k.required(e,t,n,o,i),!m(t,"date"))s=t instanceof Date?t:new Date(t),k.type(e,s,n,o,i),s&&k.range(e,s.getTime(),n,o,i)}r(o)},Z=function(e,t,r,n,i){var o=[],a=Array.isArray(t)?"array":typeof t;k.required(e,t,n,o,i,a),r(o)},K=function(e,t,r,n,i){var o=e.type,a=[],s=e.required||!e.required&&n.hasOwnProperty(e.field);if(s){if(m(t,o)&&!e.required)return r();k.required(e,t,n,a,i,o),m(t,o)||k.type(e,t,n,a,i)}r(a)},J=function(e,t,r,n,i){var o=[],a=e.required||!e.required&&n.hasOwnProperty(e.field);if(a){if(m(t)&&!e.required)return r();k.required(e,t,n,o,i)}r(o)},Q={string:N,method:F,number:B,boolean:z,regexp:U,integer:j,float:H,array:G,object:V,enum:X,pattern:q,date:Y,url:K,hex:K,email:K,required:Z,any:J};function $(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ee=$(),te=function(){function e(e){this.rules=null,this._messages=ee,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(r){var n=e[r];t.rules[r]=Array.isArray(n)?n:[n]}))},t.messages=function(e){return e&&(this._messages=M($(),e)),this._messages},t.validate=function(t,r,i){var o=this;void 0===r&&(r={}),void 0===i&&(i=function(){});var a=t,s=r,u=i;if("function"===typeof s&&(u=s,s={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);function l(e){var t=[],r={};function n(e){var r;Array.isArray(e)?t=(r=t).concat.apply(r,e):t.push(e)}for(var i=0;i<e.length;i++)n(e[i]);t.length?(r=p(t),u(t,r)):u(null,a)}if(s.messages){var c=this.messages();c===ee&&(c=$()),M(c,s.messages),s.messages=c}else s.messages=this.messages();var h={},f=s.keys||Object.keys(this.rules);f.forEach((function(e){var r=o.rules[e],i=a[e];r.forEach((function(r){var s=r;"function"===typeof s.transform&&(a===t&&(a=n({},a)),i=a[e]=s.transform(i)),s="function"===typeof s?{validator:s}:n({},s),s.validator=o.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=o.getType(s),h[e]=h[e]||[],h[e].push({rule:s,value:i,source:a,field:e}))}))}));var g={};return A(h,s,(function(t,r){var i,o=t.rule,u=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function l(e,t){return n({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(i){void 0===i&&(i=[]);var c=Array.isArray(i)?i:[i];!s.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var h=c.map(C(o,a));if(s.first&&h.length)return g[o.field]=1,r(h);if(u){if(o.required&&!t.value)return void 0!==o.message?h=[].concat(o.message).map(C(o,a)):s.error&&(h=[s.error(o,d(s.messages.required,o.field))]),r(h);var f={};o.defaultField&&Object.keys(t.value).map((function(e){f[e]=o.defaultField})),f=n({},f,t.rule.fields);var p={};Object.keys(f).forEach((function(e){var t=f[e],r=Array.isArray(t)?t:[t];p[e]=r.map(l.bind(null,e))}));var m=new e(p);m.messages(s.messages),t.rule.options&&(t.rule.options.messages=s.messages,t.rule.options.error=s.error),m.validate(t.value,t.rule.options||s,(function(e){var t=[];h&&h.length&&t.push.apply(t,h),e&&e.length&&t.push.apply(t,e),r(t.length?t:null)}))}else r(h)}u=u&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator?i=o.asyncValidator(o,t.value,c,t.source,s):o.validator&&(i=o.validator(o,t.value,c,t.source,s),!0===i?c():!1===i?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):i instanceof Array?c(i):i instanceof Error&&c(i.message)),i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){l(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Q.hasOwnProperty(e.type))throw new Error(d("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),r=t.indexOf("message");return-1!==r&&t.splice(r,1),1===t.length&&"required"===t[0]?Q.required:Q[this.getType(e)]||void 0},e}();te.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Q[e]=t},te.warning=f,te.messages=ee,te.validators=Q}).call(this,r("Q2Ig"))},KrxN:function(e,t,r){var n=r("I+eb"),i=180/Math.PI;n({target:"Math",stat:!0},{degrees:function(e){return e*i}})},Kwbf:function(e,t,r){"use strict";r.d(t,"b",(function(){return u}));var n={};function i(e,t){0}function o(e,t){0}function a(e,t,r){t||n[r]||(e(!1,r),n[r]=!0)}function s(e,t){a(i,e,t)}function u(e,t){a(o,e,t)}t["a"]=s},Kz25:function(e,t,r){"use strict";r("PKPk");var n,i=r("I+eb"),o=r("g6v/"),a=r("DTth"),s=r("2oRo"),u=r("N+g0"),l=r("busE"),c=r("GarU"),h=r("UTVS"),f=r("YNrV"),p=r("TfTi"),d=r("ZUd8").codeAt,g=r("X7LM"),m=r("1E5z"),v=r("mGGf"),y=r("afO8"),b=s.URL,x=v.URLSearchParams,A=v.getState,w=y.set,_=y.getterFor("URL"),C=Math.floor,M=Math.pow,S="Invalid authority",T="Invalid scheme",E="Invalid host",I="Invalid port",R=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,P=/\d/,O=/^(0x|0X)/,D=/^[0-7]+$/,k=/^\d+$/,N=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,j=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return E;if(r=G(t.slice(1,-1)),!r)return E;e.host=r}else if(Q(e)){if(t=g(t),F.test(t))return E;if(r=H(t),null===r)return E;e.host=r}else{if(B.test(t))return E;for(r="",n=p(t),i=0;i<n.length;i++)r+=K(n[i],X);e.host=r}},H=function(e){var t,r,n,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(r=[],n=0;n<t;n++){if(i=u[n],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=O.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?k:8==o?D:N).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=M(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*M(256,3-n);return s},G=function(e){var t,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,l++,c=l}while(f()){if(8==l)return;if(":"!=f()){t=r=0;while(r<4&&N.test(f()))t=16*t+parseInt(f(),16),h++,r++;if("."==f()){if(0==r)return;if(h-=r,l>6)return;n=0;while(f()){if(i=null,n>0){if(!("."==f()&&n<4))return;h++}if(!P.test(f()))return;while(P.test(f())){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[l]=256*u[l]+i,n++,2!=n&&4!=n||l++}if(4!=n)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[l++]=t}else{if(null!==c)return;h++,l++,c=l}}if(null!==c){a=l-c,l=7;while(0!=l&&a>0)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s}else if(8!=l)return;return u},V=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t},W=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=V(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},X={},q=f({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=f({},q,{"#":1,"?":1,"{":1,"}":1}),Z=f({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var r=d(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return h(J,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&R.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},ue={},le={},ce={},he={},fe={},pe={},de={},ge={},me={},ve={},ye={},be={},xe={},Ae={},we={},_e={},Ce={},Me={},Se={},Te=function(e,t,r,i){var o,a,s,u,l=r||ae,c=0,f="",d=!1,g=!1,m=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(z,"")),t=t.replace(U,""),o=p(t);while(c<=o.length){switch(a=o[c],l){case ae:if(!a||!R.test(a)){if(r)return T;l=ue;continue}f+=a.toLowerCase(),l=se;break;case se:if(a&&(L.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(r)return T;f="",l=ue,c=0;continue}if(r&&(Q(e)!=h(J,f)||"file"==f&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,r)return void(Q(e)&&J[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?l=be:Q(e)&&i&&i.scheme==e.scheme?l=le:Q(e)?l=pe:"/"==o[c+1]?(l=ce,c++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Ce)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=a)return T;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Se;break}l="file"==i.scheme?be:he;continue;case le:if("/"!=a||"/"!=o[c+1]){l=he;continue}l=de,c++;break;case ce:if("/"==a){l=ge;break}l=_e;continue;case he:if(e.scheme=i.scheme,a==n)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&Q(e))l=fe;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=Me;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=_e;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Se}break;case fe:if(!Q(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=_e;continue}l=ge}else l=de;break;case pe:if(l=de,"/"!=a||"/"!=f.charAt(c+1))continue;c++;break;case de:if("/"!=a&&"\\"!=a){l=ge;continue}break;case ge:if("@"==a){d&&(f="%40"+f),d=!0,s=p(f);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||m){var b=K(y,Z);m?e.password+=b:e.username+=b}else m=!0}f=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(d&&""==f)return S;c-=p(f).length+1,f="",l=me}else f+=a;break;case me:case ve:if(r&&"file"==e.scheme){l=Ae;continue}if(":"!=a||g){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)){if(Q(e)&&""==f)return E;if(r&&""==f&&($(e)||null!==e.port))return;if(u=j(e,f),u)return u;if(f="",l=we,r)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return E;if(u=j(e,f),u)return u;if(f="",l=ye,r==ve)return}break;case ye:if(!P.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(e)||r){if(""!=f){var x=parseInt(f,10);if(x>65535)return I;e.port=Q(e)&&x===J[e.scheme]?null:x,f=""}if(r)return;l=we;continue}return I}f+=a;break;case be:if(e.scheme="file","/"==a||"\\"==a)l=xe;else{if(!i||"file"!=i.scheme){l=_e;continue}if(a==n)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",l=Me;else{if("#"!=a){re(o.slice(c).join(""))||(e.host=i.host,e.path=i.path.slice(),ne(e)),l=_e;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Se}}break;case xe:if("/"==a||"\\"==a){l=Ae;break}i&&"file"==i.scheme&&!re(o.slice(c).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=_e;continue;case Ae:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&te(f))l=_e;else if(""==f){if(e.host="",r)return;l=we}else{if(u=j(e,f),u)return u;if("localhost"==e.host&&(e.host=""),r)return;f="",l=we}continue}f+=a;break;case we:if(Q(e)){if(l=_e,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=_e,"/"!=a))continue}else e.fragment="",l=Se;else e.query="",l=Me;break;case _e:if(a==n||"/"==a||"\\"==a&&Q(e)||!r&&("?"==a||"#"==a)){if(oe(f)?(ne(e),"/"==a||"\\"==a&&Q(e)||e.path.push("")):ie(f)?"/"==a||"\\"==a&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(a==n||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",l=Me):"#"==a&&(e.fragment="",l=Se)}else f+=K(a,Y);break;case Ce:"?"==a?(e.query="",l=Me):"#"==a?(e.fragment="",l=Se):a!=n&&(e.path[0]+=K(a,X));break;case Me:r||"#"!=a?a!=n&&("'"==a&&Q(e)?e.query+="%27":e.query+="#"==a?"%23":K(a,X)):(e.fragment="",l=Se);break;case Se:a!=n&&(e.fragment+=K(a,q));break}c++}},Ee=function(e){var t,r,n=c(this,Ee,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=w(n,{type:"URL"});if(void 0!==i)if(i instanceof Ee)t=_(i);else if(r=Te(t={},String(i)),r)throw TypeError(r);if(r=Te(s,a,null,t),r)throw TypeError(r);var u=s.searchParams=new x,l=A(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},o||(n.href=Re.call(n),n.origin=Le.call(n),n.protocol=Pe.call(n),n.username=Oe.call(n),n.password=De.call(n),n.host=ke.call(n),n.hostname=Ne.call(n),n.port=Fe.call(n),n.pathname=Be.call(n),n.search=ze.call(n),n.searchParams=Ue.call(n),n.hash=je.call(n))},Ie=Ee.prototype,Re=function(){var e=_(this),t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",$(e)&&(l+=r+(n?":"+n:"")+"@"),l+=W(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Le=function(){var e=_(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Q(e)?t+"://"+W(e.host)+(null!==r?":"+r:""):"null"},Pe=function(){return _(this).scheme+":"},Oe=function(){return _(this).username},De=function(){return _(this).password},ke=function(){var e=_(this),t=e.host,r=e.port;return null===t?"":null===r?W(t):W(t)+":"+r},Ne=function(){var e=_(this).host;return null===e?"":W(e)},Fe=function(){var e=_(this).port;return null===e?"":String(e)},Be=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=_(this).query;return e?"?"+e:""},Ue=function(){return _(this).searchParams},je=function(){var e=_(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&u(Ie,{href:He(Re,(function(e){var t=_(this),r=String(e),n=Te(t,r);if(n)throw TypeError(n);A(t.searchParams).updateSearchParams(t.query)})),origin:He(Le),protocol:He(Pe,(function(e){var t=_(this);Te(t,String(e)+":",ae)})),username:He(Oe,(function(e){var t=_(this),r=p(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=K(r[n],Z)}})),password:He(De,(function(e){var t=_(this),r=p(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=K(r[n],Z)}})),host:He(ke,(function(e){var t=_(this);t.cannotBeABaseURL||Te(t,String(e),me)})),hostname:He(Ne,(function(e){var t=_(this);t.cannotBeABaseURL||Te(t,String(e),ve)})),port:He(Fe,(function(e){var t=_(this);ee(t)||(e=String(e),""==e?t.port=null:Te(t,e,ye))})),pathname:He(Be,(function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",we))})),search:He(ze,(function(e){var t=_(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,Me)),A(t.searchParams).updateSearchParams(t.query)})),searchParams:He(Ue),hash:He(je,(function(e){var t=_(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,Se)):t.fragment=null}))}),l(Ie,"toJSON",(function(){return Re.call(this)}),{enumerable:!0}),l(Ie,"toString",(function(){return Re.call(this)}),{enumerable:!0}),b){var Ge=b.createObjectURL,Ve=b.revokeObjectURL;Ge&&l(Ee,"createObjectURL",(function(e){return Ge.apply(b,arguments)})),Ve&&l(Ee,"revokeObjectURL",(function(e){return Ve.apply(b,arguments)}))}m(Ee,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Ee})},Kz5y:function(e,t,r){var n=r("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},L8im:function(e,t,r){"use strict";var n=r("MgzW"),i=r("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,r=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:r,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===r||(o=t(),a({getCurrentValue:t,subscribe:r,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==r||i.value===e?i:n({},i,{value:e})}))}}var i=!1,o=r(e);return e(),function(){i=!0,o()}}),[t,r]),o}},L8xA:function(e,t){function r(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}e.exports=r},"LK+K":function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return u}));var o=r("U8pU"),a=r("JX7q");function s(e,t){if(t&&("object"===Object(o["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(a["a"])(e)}function u(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s(this,r)}}},LKBx:function(e,t,r){"use strict";var n=r("I+eb"),i=r("Bs8V").f,o=r("UMSQ"),a=r("WjRb"),s=r("HYAF"),u=r("qxPZ"),l=r("xDBR"),c="".startsWith,h=Math.min,f=u("startsWith"),p=!l&&!f&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!p&&!f},{startsWith:function(e){var t=String(s(this));a(e);var r=o(h(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return c?c.call(t,n,r):t.slice(r,r+n.length)===n}})},LPSS:function(e,t,r){var n,i,o,a=r("2oRo"),s=r("0Dky"),u=r("xrYK"),l=r("A2ZE"),c=r("G+Rx"),h=r("zBJ4"),f=r("HNyW"),p=a.location,d=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,b=0,x={},A="onreadystatechange",w=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},_=function(e){return function(){w(e)}},C=function(e){w(e.data)},M=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};d&&g||(d=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return x[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},g=function(e){delete x[e]},"process"==u(m)?n=function(e){m.nextTick(_(e))}:y&&y.now?n=function(e){y.now(_(e))}:v&&!f?(i=new v,o=i.port2,i.port1.onmessage=C,n=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(M)||"file:"===p.protocol?n=A in h("script")?function(e){c.appendChild(h("script"))[A]=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(_(e),0)}:(n=M,a.addEventListener("message",C,!1))),e.exports={set:d,clear:g}},LQDL:function(e,t,r){var n,i,o=r("2oRo"),a=r("NC/Y"),s=o.process,u=s&&s.versions,l=u&&u.v8;l?(n=l.split("."),i=n[0]+n[1]):a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=n[1]))),e.exports=i&&+i},LXxW:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length,i=0,o=[];while(++r<n){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}e.exports=r},LpSC:function(e,t,r){r("bZMm"),e.exports=self.fetch.bind(self)},LuSS:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("FER5"),i=r("iNWh"),o=r("b3aT");function a(e){var t={r:0,g:0,b:0},r=1,i=null,a=null,s=null,u=!1,l=!1;return"string"===typeof e&&(e=p(e)),"object"===typeof e&&(d(e.r)&&d(e.g)&&d(e.b)?(t=Object(n["i"])(e.r,e.g,e.b),u=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):d(e.h)&&d(e.s)&&d(e.v)?(i=Object(o["d"])(e.s),a=Object(o["d"])(e.v),t=Object(n["c"])(e.h,i,a),u=!0,l="hsv"):d(e.h)&&d(e.s)&&d(e.l)&&(i=Object(o["d"])(e.s),s=Object(o["d"])(e.l),t=Object(n["b"])(e.h,i,s),u=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=Object(o["b"])(r),{ok:u,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var s="[-\\+]?\\d+%?",u="[-\\+]?\\d*\\.\\d+%?",l="(?:"+u+")|(?:"+s+")",c="[\\s|\\(]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")\\s*\\)?",h="[\\s|\\(]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")[,|\\s]+("+l+")\\s*\\)?",f={CSS_UNIT:new RegExp(l),rgb:new RegExp("rgb"+c),rgba:new RegExp("rgba"+h),hsl:new RegExp("hsl"+c),hsla:new RegExp("hsla"+h),hsv:new RegExp("hsv"+c),hsva:new RegExp("hsva"+h),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function p(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(i["a"][e])e=i["a"][e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=f.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=f.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=f.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=f.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=f.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=f.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=f.hex8.exec(e),r?{r:Object(n["e"])(r[1]),g:Object(n["e"])(r[2]),b:Object(n["e"])(r[3]),a:Object(n["a"])(r[4]),format:t?"name":"hex8"}:(r=f.hex6.exec(e),r?{r:Object(n["e"])(r[1]),g:Object(n["e"])(r[2]),b:Object(n["e"])(r[3]),format:t?"name":"hex"}:(r=f.hex4.exec(e),r?{r:Object(n["e"])(r[1]+r[1]),g:Object(n["e"])(r[2]+r[2]),b:Object(n["e"])(r[3]+r[3]),a:Object(n["a"])(r[4]+r[4]),format:t?"name":"hex8"}:(r=f.hex3.exec(e),!!r&&{r:Object(n["e"])(r[1]+r[1]),g:Object(n["e"])(r[2]+r[2]),b:Object(n["e"])(r[3]+r[3]),format:t?"name":"hex"})))))))))}function d(e){return Boolean(f.CSS_UNIT.exec(String(e)))}},MIOZ:function(e,t){function r(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw o}}return r}}e.exports=r},MMmD:function(e,t,r){var n=r("lSCD"),i=r("shjB");function o(e){return null!=e&&i(e.length)&&!n(e)}e.exports=o},MNnm:function(e,t,r){"use strict";function n(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}r.d(t,"a",(function(){return n}))},MgzW:function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}e.exports=s()?Object.assign:function(e,t){for(var r,s,u=a(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]),r)i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(u[s[h]]=r[s[h]])}}return u}},MvSz:function(e,t,r){var n=r("LXxW"),i=r("0ycA"),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},"N+g0":function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("glrk"),a=r("33Wh");e.exports=n?Object.defineProperties:function(e,t){o(e);var r,n=a(t),s=n.length,u=0;while(s>u)i.f(e,r=n[u++],t[r]);return e}},"NC/Y":function(e,t,r){var n=r("0GbY");e.exports=n("navigator","userAgent")||""},NHCu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG");r("0uCz");var i=r("g8eg");Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return i.default}});var o=r("q8ti");Object.defineProperty(t,"MapApiLoaderHOC",{enumerable:!0,get:function(){return o.default}});var a=r("sxwG");Object.defineProperty(t,"MapTypeControl",{enumerable:!0,get:function(){return a.default}});var s=r("WuJL");Object.defineProperty(t,"ScaleControl",{enumerable:!0,get:function(){return s.default}});var u=r("I/il");Object.defineProperty(t,"ZoomControl",{enumerable:!0,get:function(){return u.default}});var l=r("5bzT");Object.defineProperty(t,"NavigationControl",{enumerable:!0,get:function(){return l.default}});var c=r("RwCd");Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return c.default}});var h=r("SbrR");Object.defineProperty(t,"Polyline",{enumerable:!0,get:function(){return h.default}});var f=r("aVhU");Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return f.default}});var p=r("zATX");Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return p.default}});var d=r("i5tv");Object.defineProperty(t,"InfoWindow",{enumerable:!0,get:function(){return d.default}});var g=r("WwoR");Object.defineProperty(t,"Label",{enumerable:!0,get:function(){return g.default}});var m=r("j9lq");Object.defineProperty(t,"CustomOverlay",{enumerable:!0,get:function(){return m.default}});var v=r("3Ree");Object.defineProperty(t,"MapvglView",{enumerable:!0,get:function(){return v.default}});var y=r("ToZM");Object.defineProperty(t,"MapvglLayer",{enumerable:!0,get:function(){return y.default}});var b=r("mEKJ");Object.defineProperty(t,"TrafficLayer",{enumerable:!0,get:function(){return b.default}});var x=r("oBiK");Object.defineProperty(t,"PanoramaLayer",{enumerable:!0,get:function(){return x.default}});var A=r("Z87X");Object.defineProperty(t,"DrawingManager",{enumerable:!0,get:function(){return A.default}});var w=r("dj1d");Object.defineProperty(t,"DistanceTool",{enumerable:!0,get:function(){return w.default}});var _=r("e8yt");Object.defineProperty(t,"AutoComplete",{enumerable:!0,get:function(){return _.default}});var C=r("PKrl");Object.defineProperty(t,"Arc",{enumerable:!0,get:function(){return C.default}}),t.mapvgl=n.__importStar(r("4K7L")),n.__exportStar(r("O61G"),t)},NKxu:function(e,t,r){var n=r("lSCD"),i=r("E2jh"),o=r("GoyQ"),a=r("3Fdi"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,f=c.hasOwnProperty,p=RegExp("^"+h.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(e){if(!o(e)||i(e))return!1;var t=n(e)?p:u;return t.test(a(e))}e.exports=d},NRzi:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("q1tI"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return n.__extends(t,e),t.prototype.getMap=function(){return this.props.map||this.context.map},t.prototype.getInstance=function(e){return e.instance},t.prototype.getOptions=function(e){void 0===e&&(e=this.props);var t={};return this.options.map((function(r){void 0!==e[r]&&(t[r]=e[r])})),t},t}(i.PureComponent);t.default=o},NV22:function(e,t,r){var n=r("I+eb"),i=r("glrk"),o=r("4oU/"),a=r("ntOU"),s=r("afO8"),u="Seeded Random",l=u+" Generator",c=s.set,h=s.getterFor(l),f='Math.seededPRNG() argument should have a "seed" field with a finite value.',p=a((function(e){c(this,{type:l,seed:e%2147483647})}),u,(function(){var e=h(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));n({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw TypeError(f);return new p(t)}})},NaFW:function(e,t,r){var n=r("9d/t"),i=r("P4y1"),o=r("tiKp"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},Npjl:function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},NqR8:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{isubh:function(e,t,r,n){var i=e>>>0,o=t>>>0,a=r>>>0;return o-(n>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},NykK:function(e,t,r){var n=r("nmnc"),i=r("AP2z"),o=r("KfNM"),a="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;function l(e){return null==e?void 0===e?s:a:u&&u in Object(e)?i(e):o(e)}e.exports=l},O61G:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG");n.__exportStar(r("gI1Y"),t);var i=r("gOxR");Object.defineProperty(t,"isString",{enumerable:!0,get:function(){return i.default}});var o=r("3RkO");Object.defineProperty(t,"getDisplayName",{enumerable:!0,get:function(){return o.default}})},O741:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},O8ob:function(e,t,r){(function(e){(function(e,r){r(t)})(0,(function(t){function r(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Jo(t),this.reject=Jo(r)}function a(){}function s(e,t){this.x=e||0,this.y=t||0}function u(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function l(e,t,r,n,i,o,a,c,h,f){Object.defineProperty(this,"id",{value:ah++}),this.uuid=nh.generateUUID(),this.name="",this.image=void 0!==e?e:l.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:l.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:1001,this.wrapT=void 0!==n?n:1001,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==o?o:1008,this.anisotropy=void 0!==h?h:1,this.format=void 0!==a?a:1023,this.internalFormat=null,this.type=void 0!==c?c:1009,this.offset=new s(0,0),this.repeat=new s(1,1),this.center=new s(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new u,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:3e3,this.version=0,this.onUpdate=null}function c(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1}function h(e,t,r){this.width=e,this.height=t,this.scissor=new c(0,0,e,t),this.scissorTest=!1,this.viewport=new c(0,0,e,t),r=r||{},this.texture=new l(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:1006,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function f(e,t,r){h.call(this,e,t,r),this.samples=4}function p(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1}function d(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}function g(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function m(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||m.DefaultOrder}function v(){this.mask=1}function y(){Object.defineProperty(this,"id",{value:yh++}),this.uuid=nh.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=y.DefaultUp.clone();var e=new d,t=new m,r=new p,n=new d(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Ac(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new g},normalMatrix:{value:new u}}),this.matrix=new g,this.matrixWorld=new g,this.matrixAutoUpdate=y.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new v,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function b(){y.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function x(e,t){this.min=void 0!==e?e:new d(1/0,1/0,1/0),this.max=void 0!==t?t:new d(-1/0,-1/0,-1/0)}function A(e,t,r,n,i){var o,a=0;for(o=e.length-3;a<=o;a+=3){Gh.fromArray(e,a);var s=i.x*Math.abs(Gh.x)+i.y*Math.abs(Gh.y)+i.z*Math.abs(Gh.z),u=t.dot(Gh),l=r.dot(Gh),c=n.dot(Gh);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}function w(e,t){this.center=void 0!==e?e:new d,this.radius=void 0!==t?t:-1}function _(e,t){this.origin=void 0!==e?e:new d,this.direction=void 0!==t?t:new d(0,0,-1)}function C(e,t){this.normal=void 0!==e?e:new d(1,0,0),this.constant=void 0!==t?t:0}function M(e,t,r){this.a=void 0!==e?e:new d,this.b=void 0!==t?t:new d,this.c=void 0!==r?r:new d}function S(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function T(e,t,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:.5>r?t:r<2/3?e+6*(t-e)*(2/3-r):e}function E(e){return.04045>e?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function I(e){return.0031308>e?12.92*e:1.055*Math.pow(e,.41666)-.055}function R(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new d,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new S,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function L(){Object.defineProperty(this,"id",{value:gf++}),this.uuid=nh.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function P(e){L.call(this),this.type="MeshBasicMaterial",this.color=new S(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(e)}function O(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function D(e,t,r){O.call(this,new Int8Array(e),t,r)}function k(e,t,r){O.call(this,new Uint8Array(e),t,r)}function N(e,t,r){O.call(this,new Uint8ClampedArray(e),t,r)}function F(e,t,r){O.call(this,new Int16Array(e),t,r)}function B(e,t,r){O.call(this,new Uint16Array(e),t,r)}function z(e,t,r){O.call(this,new Int32Array(e),t,r)}function U(e,t,r){O.call(this,new Uint32Array(e),t,r)}function j(e,t,r){O.call(this,new Float32Array(e),t,r)}function H(e,t,r){O.call(this,new Float64Array(e),t,r)}function G(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function V(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}function W(){Object.defineProperty(this,"id",{value:vf+=2}),this.uuid=nh.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0},this.userData={}}function X(e,t){y.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new W,this.material=void 0!==t?t:new P,this.updateMorphTargets()}function q(e,t,r,n,i,o,a,s){return null===(1===t.side?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,2!==t.side,s))?null:(Uf.copy(s),Uf.applyMatrix4(e.matrixWorld),t=r.ray.origin.distanceTo(Uf),t<r.near||t>r.far?null:{distance:t,point:Uf.clone(),object:e})}function Y(e,t,r,n,i,o,a,u,l,c,h,f){if(Tf.fromBufferAttribute(i,c),Ef.fromBufferAttribute(i,h),If.fromBufferAttribute(i,f),i=e.morphTargetInfluences,t.morphTargets&&o&&i){Of.set(0,0,0),Df.set(0,0,0),kf.set(0,0,0);for(var p=0,d=o.length;p<d;p++){var g=i[p],m=o[p];0!==g&&(Rf.fromBufferAttribute(m,c),Lf.fromBufferAttribute(m,h),Pf.fromBufferAttribute(m,f),a?(Of.addScaledVector(Rf,g),Df.addScaledVector(Lf,g),kf.addScaledVector(Pf,g)):(Of.addScaledVector(Rf.sub(Tf),g),Df.addScaledVector(Lf.sub(Ef),g),kf.addScaledVector(Pf.sub(If),g)))}Tf.add(Of),Ef.add(Df),If.add(kf)}return e.isSkinnedMesh&&(e.boneTransform(c,Tf),e.boneTransform(h,Ef),e.boneTransform(f,If)),(e=q(e,t,r,n,Tf,Ef,If,zf))&&(u&&(Nf.fromBufferAttribute(u,c),Ff.fromBufferAttribute(u,h),Bf.fromBufferAttribute(u,f),e.uv=M.getUV(zf,Tf,Ef,If,Nf,Ff,Bf,new s)),l&&(Nf.fromBufferAttribute(l,c),Ff.fromBufferAttribute(l,h),Bf.fromBufferAttribute(l,f),e.uv2=M.getUV(zf,Tf,Ef,If,Nf,Ff,Bf,new s)),u=new R(c,h,f),M.getNormal(Tf,Ef,If,u.normal),e.face=u),e}function Z(){Object.defineProperty(this,"id",{value:jf+=2}),this.uuid=nh.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function K(e){var t,r={};for(t in e)for(var n in r[t]={},e[t]){var i=e[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?r[t][n]=i.clone():Array.isArray(i)?r[t][n]=i.slice():r[t][n]=i}return r}function J(e){for(var t={},r=0;r<e.length;r++){var n,i=K(e[r]);for(n in i)t[n]=i[n]}return t}function Q(e){L.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function $(){y.call(this),this.type="Camera",this.matrixWorldInverse=new g,this.projectionMatrix=new g,this.projectionMatrixInverse=new g}function ee(e,t,r,n){$.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function te(e,t,r){if(y.call(this),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=r;var n=new ee(90,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new d(1,0,0)),this.add(n);var i=new ee(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new d(-1,0,0)),this.add(i);var o=new ee(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new d(0,1,0)),this.add(o);var a=new ee(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new d(0,-1,0)),this.add(a);var s=new ee(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new d(0,0,1)),this.add(s);var u=new ee(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new d(0,0,-1)),this.add(u),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var l=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.xr.enabled=l},this.clear=function(e,t,n,i){for(var o=e.getRenderTarget(),a=0;6>a;a++)e.setRenderTarget(r,a),e.clear(t,n,i);e.setRenderTarget(o)}}}function re(e,t,r){Lc(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),h.call(this,e,e,t)}function ne(e,t,r,n,i,o,a,s,u,c,h,f){l.call(this,null,o,a,s,u,c,n,i,h,f),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==u?u:1003,this.minFilter=void 0!==c?c:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function ie(e,t,r,n,i,o){this.planes=[void 0!==e?e:new C,void 0!==t?t:new C,void 0!==r?r:new C,void 0!==n?n:new C,void 0!==i?i:new C,void 0!==o?o:new C]}function oe(){function e(i,o){!1!==r&&(n(i,o),t.requestAnimationFrame(e))}var t=null,r=!1,n=null;return{start:function(){!0!==r&&null!==n&&(t.requestAnimationFrame(e),r=!0)},stop:function(){r=!1},setAnimationLoop:function(e){n=e},setContext:function(e){t=e}}}function ae(e,t){function r(t,r){var n=t.array,i=t.usage,o=e.createBuffer();return e.bindBuffer(r,o),e.bufferData(r,n,i),t.onUploadCallback(),r=5126,n instanceof Float32Array?r=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?r=5123:n instanceof Int16Array?r=5122:n instanceof Uint32Array?r=5125:n instanceof Int32Array?r=5124:n instanceof Int8Array?r=5120:n instanceof Uint8Array&&(r=5121),{buffer:o,type:r,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}var n=t.isWebGL2,i=new ac;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=i.get(t);r&&(e.deleteBuffer(r.buffer),i.delete(t))},update:function(t,o){t.isInterleavedBufferAttribute&&(t=t.data);var a=i.get(t);if(void 0===a)i.set(t,r(t,o));else if(a.version<t.version){var s=t.array,u=t.updateRange;e.bindBuffer(o,a.buffer),-1===u.count?e.bufferSubData(o,0,s):(n?e.bufferSubData(o,u.offset*s.BYTES_PER_ELEMENT,s,u.offset,u.count):e.bufferSubData(o,u.offset*s.BYTES_PER_ELEMENT,s.subarray(u.offset,u.offset+u.count)),u.count=-1),a.version=t.version}}}}function se(e,t,r,n){Z.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new ue(e,t,r,n)),this.mergeVertices()}function ue(e,t,r,n){W.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},e=e||1,t=t||1;var i=e/2,o=t/2;r=Math.floor(r)||1,n=Math.floor(n)||1;var a=r+1,s=n+1,u=e/r,l=t/n,c=[],h=[],f=[],p=[];for(e=0;e<s;e++){var d=e*l-o;for(t=0;t<a;t++)h.push(t*u-i,-d,0),f.push(0,0,1),p.push(t/r),p.push(1-e/n)}for(e=0;e<n;e++)for(t=0;t<r;t++)i=t+a*(e+1),o=t+1+a*(e+1),s=t+1+a*e,c.push(t+a*e,i,s),c.push(i,o,s);this.setIndex(c),this.setAttribute("position",new j(h,3)),this.setAttribute("normal",new j(f,3)),this.setAttribute("uv",new j(p,2))}function le(e,t,r,n){function i(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}var o,a,s=new S(0),u=0,l=null,c=0,h=null;return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),u=void 0!==t?t:1,i(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,i(s,u)},render:function(t,n,f,p){n=n.background,f=e.xr,(f=f.getSession&&f.getSession())&&"additive"===f.environmentBlendMode&&(n=null),null===n?i(s,u):n&&n.isColor&&(i(n,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),n&&(n.isCubeTexture||n.isWebGLCubeRenderTarget||306===n.mapping)?(void 0===a&&(a=new X(new Xf(1,1,1),new Q({type:"BackgroundCubeMaterial",uniforms:K(Qf.cube.uniforms),vertexShader:Qf.cube.vertexShader,fragmentShader:Qf.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),p=n.isWebGLCubeRenderTarget?n.texture:n,a.material.uniforms.envMap.value=p,a.material.uniforms.flipEnvMap.value=p.isCubeTexture?-1:1,l===n&&c===p.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=n,c=p.version,h=e.toneMapping),t.unshift(a,a.geometry,a.material,0,0,null)):n&&n.isTexture&&(void 0===o&&(o=new X(new ue(2,2),new Q({type:"BackgroundMaterial",uniforms:K(Qf.background.uniforms),vertexShader:Qf.background.vertexShader,fragmentShader:Qf.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=n,!0===n.matrixAutoUpdate&&n.updateMatrix(),o.material.uniforms.uvTransform.value.copy(n.matrix),l===n&&c===n.version&&h===e.toneMapping||(o.material.needsUpdate=!0,l=n,c=n.version,h=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null))}}}function ce(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,a,s,u){if(0!==u){if(o){n=e;var l="drawArraysInstanced"}else if(n=t.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===n)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");n[l](i,a,s,u),r.update(s,i,u)}}}function he(e,t,r){function n(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var i,o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==r.precision?r.precision:"highp",s=n(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s),r=!0===r.logarithmicDepthBuffer,s=e.getParameter(34930);var u=e.getParameter(35660),l=e.getParameter(3379),c=e.getParameter(34076),h=e.getParameter(34921),f=e.getParameter(36347),p=e.getParameter(36348),d=e.getParameter(36349),g=0<u,m=o||!!t.get("OES_texture_float"),v=g&&m,y=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var r=t.get("EXT_texture_filter_anisotropic");return i=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:a,logarithmicDepthBuffer:r,maxTextures:s,maxVertexTextures:u,maxTextureSize:l,maxCubemapSize:c,maxAttributes:h,maxVertexUniforms:f,maxVaryings:p,maxFragmentUniforms:d,vertexTextures:g,floatFragmentTextures:m,floatVertexTextures:v,maxSamples:y}}function fe(){function e(){c.value!==n&&(c.value=n,c.needsUpdate=0<i),r.numPlanes=i,r.numIntersection=0}function t(e,t,n,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=c.value,!0!==i||null===a)for(i=n+4*o,t=t.matrixWorldInverse,l.getNormalMatrix(t),(null===a||a.length<i)&&(a=new Float32Array(i)),i=0;i!==o;++i,n+=4)s.copy(e[i]).applyMatrix4(t,l),s.normal.toArray(a,n),a[n+3]=s.constant;c.value=a,c.needsUpdate=!0}return r.numPlanes=o,r.numIntersection=0,a}var r=this,n=null,i=0,o=!1,a=!1,s=new C,l=new u,c={value:null,needsUpdate:!1};this.uniform=c,this.numIntersection=this.numPlanes=0,this.init=function(e,r,a){var s=0!==e.length||r||0!==i||o;return o=r,n=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(r,s,u,l,h,f){if(!o||null===r||0===r.length||a&&!u)a?t(null):e();else{u=a?0:i;var p=4*u,d=h.clippingState||null;for(c.value=d,d=t(r,l,p,f),r=0;r!==p;++r)d[r]=n[r];h.clippingState=d,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=u}}}function pe(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];switch(r){case"WEBGL_depth_texture":var n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n}}}function de(e,t,r){function n(e){var i=e.target;for(var s in e=o.get(i),null!==e.index&&t.remove(e.index),e.attributes)t.remove(e.attributes[s]);i.removeEventListener("dispose",n),o.delete(i),(s=a.get(e))&&(t.remove(s),a.delete(e)),r.memory.geometries--}function i(e){var r=[],n=e.index,i=e.attributes.position;if(null!==n){var o=n.array;n=n.version,i=0;for(var s=o.length;i<s;i+=3){var u=o[i+0],l=o[i+1],c=o[i+2];r.push(u,l,l,c,c,u)}}else for(o=i.array,n=i.version,i=0,s=o.length/3-1;i<s;i+=3)u=i+0,l=i+1,c=i+2,r.push(u,l,l,c,c,u);r=new(65535<V(r)?U:B)(r,1),r.version=n,t.update(r,34963),(o=a.get(e))&&t.remove(o),a.set(e,r)}var o=new ac,a=new ac;return{get:function(e,t){var i=o.get(t);return i||(t.addEventListener("dispose",n),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new W).setFromObject(e)),i=t._bufferGeometry),o.set(t,i),r.memory.geometries++,i)},update:function(e){var r=e.index,n=e.attributes;for(var i in null!==r&&t.update(r,34963),n)t.update(n[i],34962);for(i in e=e.morphAttributes,e){r=e[i],n=0;for(var o=r.length;n<o;n++)t.update(r[n],34962)}},getWireframeAttribute:function(e){var t=a.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&i(e)}else i(e);return a.get(e)}}}function ge(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i)},this.renderInstances=function(n,u,l,c){if(0!==c){if(s){n=e;var h="drawElementsInstanced"}else if(n=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===n)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");n[h](i,l,o,u*a,c),r.update(l,i,c)}}}function me(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=e/3*n;break;case 1:t.lines+=e/2*n;break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function ve(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ye(e){var t={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,u=void 0===s?0:s.length;if(n=t[i.id],void 0===n){n=[];for(var l=0;l<u;l++)n[l]=[l,0];t[i.id]=n}var c=o.morphTargets&&i.morphAttributes.position;for(o=o.morphNormals&&i.morphAttributes.normal,l=0;l<u;l++){var h=n[l];0!==h[1]&&(c&&i.deleteAttribute("morphTarget"+l),o&&i.deleteAttribute("morphNormal"+l))}for(l=0;l<u;l++)h=n[l],h[0]=l,h[1]=s[l];for(n.sort(ve),l=s=0;8>l;l++)(h=n[l])&&(u=h[0],h=h[1])?(c&&i.setAttribute("morphTarget"+l,c[u]),o&&i.setAttribute("morphNormal"+l,o[u]),r[l]=h,s+=h):r[l]=0;i=i.morphTargetsRelative?1:1-s,a.getUniforms().setValue(e,"morphTargetBaseInfluence",i),a.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function be(e,t,r,n){var i=new ac;return{update:function(e){var o=n.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){i=new ac}}}function xe(e,t,r,n,i,o,a,s,u,c){e=void 0!==e?e:[],l.call(this,e,void 0!==t?t:301,r,n,i,o,void 0!==a?a:1022,s,u,c),this.flipY=!1}function Ae(e,t,r,n){l.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function we(e,t,r,n){l.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function _e(e,t,r){var n=e[0];if(0>=n||0<n)return e;var i=t*r,o=np[i];if(void 0===o&&(o=new Float32Array(i),np[i]=o),0!==t)for(n.toArray(o,0),n=1,i=0;n!==t;++n)i+=r,e[n].toArray(o,i);return o}function Ce(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Me(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Se(e,t){var r=ip[t];void 0===r&&(r=new Int32Array(t),ip[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Te(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Ee(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y):Ce(r,t)||(e.uniform2fv(this.addr,t),Me(r,t))}function Ie(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z):void 0!==t.r?r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b):Ce(r,t)||(e.uniform3fv(this.addr,t),Me(r,t))}function Re(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w):Ce(r,t)||(e.uniform4fv(this.addr,t),Me(r,t))}function Le(e,t){var r=this.cache,n=t.elements;void 0===n?Ce(r,t)||(e.uniformMatrix2fv(this.addr,!1,t),Me(r,t)):Ce(r,n)||(sp.set(n),e.uniformMatrix2fv(this.addr,!1,sp),Me(r,n))}function Pe(e,t){var r=this.cache,n=t.elements;void 0===n?Ce(r,t)||(e.uniformMatrix3fv(this.addr,!1,t),Me(r,t)):Ce(r,n)||(ap.set(n),e.uniformMatrix3fv(this.addr,!1,ap),Me(r,n))}function Oe(e,t){var r=this.cache,n=t.elements;void 0===n?Ce(r,t)||(e.uniformMatrix4fv(this.addr,!1,t),Me(r,t)):Ce(r,n)||(op.set(n),e.uniformMatrix4fv(this.addr,!1,op),Me(r,n))}function De(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||$f,i)}function ke(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||ep,i)}function Ne(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||tp,i)}function Fe(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||rp,i)}function Be(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function ze(e,t){var r=this.cache;Ce(r,t)||(e.uniform2iv(this.addr,t),Me(r,t))}function Ue(e,t){var r=this.cache;Ce(r,t)||(e.uniform3iv(this.addr,t),Me(r,t))}function je(e,t){var r=this.cache;Ce(r,t)||(e.uniform4iv(this.addr,t),Me(r,t))}function He(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Ge(e){switch(e){case 5126:return Te;case 35664:return Ee;case 35665:return Ie;case 35666:return Re;case 35674:return Le;case 35675:return Pe;case 35676:return Oe;case 5124:case 35670:return Be;case 35667:case 35671:return ze;case 35668:case 35672:return Ue;case 35669:case 35673:return je;case 5125:return He;case 35678:case 36198:case 36298:case 36306:case 35682:return De;case 35679:case 36299:case 36307:return Ne;case 35680:case 36300:case 36308:case 36293:return Fe;case 36289:case 36303:case 36311:case 36292:return ke}}function Ve(e,t){e.uniform1fv(this.addr,t)}function We(e,t){e.uniform1iv(this.addr,t)}function Xe(e,t){e.uniform2iv(this.addr,t)}function qe(e,t){e.uniform3iv(this.addr,t)}function Ye(e,t){e.uniform4iv(this.addr,t)}function Ze(e,t){t=_e(t,this.size,2),e.uniform2fv(this.addr,t)}function Ke(e,t){t=_e(t,this.size,3),e.uniform3fv(this.addr,t)}function Je(e,t){t=_e(t,this.size,4),e.uniform4fv(this.addr,t)}function Qe(e,t){t=_e(t,this.size,4),e.uniformMatrix2fv(this.addr,!1,t)}function $e(e,t){t=_e(t,this.size,9),e.uniformMatrix3fv(this.addr,!1,t)}function et(e,t){t=_e(t,this.size,16),e.uniformMatrix4fv(this.addr,!1,t)}function tt(e,t,r){var n=t.length,i=Se(r,n);for(e.uniform1iv(this.addr,i),e=0;e!==n;++e)r.safeSetTexture2D(t[e]||$f,i[e])}function rt(e,t,r){var n=t.length,i=Se(r,n);for(e.uniform1iv(this.addr,i),e=0;e!==n;++e)r.safeSetTextureCube(t[e]||rp,i[e])}function nt(e){switch(e){case 5126:return Ve;case 35664:return Ze;case 35665:return Ke;case 35666:return Je;case 35674:return Qe;case 35675:return $e;case 35676:return et;case 5124:case 35670:return We;case 35667:case 35671:return Xe;case 35668:case 35672:return qe;case 35669:case 35673:return Ye;case 35678:case 36198:case 36298:case 36306:case 35682:return tt;case 35680:case 36300:case 36308:case 36293:return rt}}function it(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Ge(t.type)}function ot(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=nt(t.type)}function at(e){this.id=e,this.seq=[],this.map={}}function st(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n),o=e.getUniformLocation(t,i.name),a=this,s=i.name,u=s.length;for(up.lastIndex=0;;){var l=up.exec(s),c=up.lastIndex,h=l[1],f=l[3];if("]"===l[2]&&(h|=0),void 0===f||"["===f&&c+2===u){s=a,i=void 0===f?new it(h,i,o):new ot(h,i,o),s.seq.push(i),s.map[i.id]=i;break}f=a.map[h],void 0===f&&(f=new at(h),h=a,a=f,h.seq.push(a),h.map[a.id]=a),a=f}}}function ut(e,t,r){return t=e.createShader(t),e.shaderSource(t,r),e.compileShader(t),t}function lt(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+e)}}function ct(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&""===i)return"";for(e=e.getShaderSource(t).split("\n"),t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e=e.join("\n"),"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+e}function ht(e,t){return t=lt(t),"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function ft(e,t){return t=lt(t),"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function pt(e,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;case 5:t="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function dt(e){var t,r=[];for(t in e){var n=e[t];!1!==n&&r.push("#define "+t+" "+n)}return r.join("\n")}function gt(e){return""!==e}function mt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vt(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function yt(e,t){if(e=Jf[t],void 0===e)throw Error("Can not resolve #include <"+t+">");return e.replace(cp,yt)}function bt(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),xt(e,t,r,n)}function xt(e,t,r,n){for(e="",t=parseInt(t);t<parseInt(r);t++)e+=n.replace(/\[ i \]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return e}function At(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function wt(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}function _t(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}function Ct(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}function Mt(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}function St(e,t,r){var n,i,o=e.getContext(),a=r.defines,s=r.vertexShader,u=r.fragmentShader,l=wt(r),c=_t(r),h=Ct(r),f=Mt(r),p=0<e.gammaFactor?e.gammaFactor:1,d=r.isWebGL2?"":[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(gt).join("\n"),g=dt(a),m=o.createProgram();return r.isRawShaderMaterial?(a=[g].filter(gt).join("\n"),0<a.length&&(a+="\n"),l=[d,g].filter(gt).join("\n"),0<l.length&&(l+="\n")):(a=[At(r),"#define SHADER_NAME "+r.shaderName,g,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(gt).join("\n"),l=[d,At(r),"#define SHADER_NAME "+r.shaderName,g,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?Jf.tonemapping_pars_fragment:"",0!==r.toneMapping?pt("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.matcapEncoding||r.envMapEncoding||r.emissiveMapEncoding||r.lightMapEncoding?Jf.encodings_pars_fragment:"",r.mapEncoding?ht("mapTexelToLinear",r.mapEncoding):"",r.matcapEncoding?ht("matcapTexelToLinear",r.matcapEncoding):"",r.envMapEncoding?ht("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?ht("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMapEncoding?ht("lightMapTexelToLinear",r.lightMapEncoding):"",r.outputEncoding?ft("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(gt).join("\n")),s=s.replace(cp,yt),s=mt(s,r),s=vt(s,r),u=u.replace(cp,yt),u=mt(u,r),u=vt(u,r),s=s.replace(fp,xt).replace(hp,bt),u=u.replace(fp,xt).replace(hp,bt),r.isWebGL2&&!r.isRawShaderMaterial&&(c=!1,h=/^\s*#version\s+300\s+es\s*\n/,r.isShaderMaterial&&null!==s.match(h)&&null!==u.match(h)&&(c=!0,s=s.replace(h,""),u=u.replace(h,"")),a="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+a,l=["#version 300 es\n\n#define varying in",c?"":"out highp vec4 pc_fragColor;",c?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+l),u=l+u,s=ut(o,35633,a+s),u=ut(o,35632,u),o.attachShader(m,s),o.attachShader(m,u),void 0!==r.index0AttributeName?o.bindAttribLocation(m,0,r.index0AttributeName):!0===r.morphTargets&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),e.debug.checkShaderErrors&&(e=o.getProgramInfoLog(m).trim(),c=o.getShaderInfoLog(s).trim(),h=o.getShaderInfoLog(u).trim(),p=f=!0,!1===o.getProgramParameter(m,35714)?(f=!1,d=ct(o,s,"vertex"),g=ct(o,u,"fragment"),console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,d,g)):""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==c&&""!==h||(p=!1),p&&(this.diagnostics={runnable:f,programLog:e,vertexShader:{log:c,prefix:a},fragmentShader:{log:h,prefix:l}})),o.deleteShader(s),o.deleteShader(u),this.getUniforms=function(){return void 0===n&&(n=new st(o,m)),n},this.getAttributes=function(){if(void 0===i){for(var e={},t=o.getProgramParameter(m,35721),r=0;r<t;r++){var n=o.getActiveAttrib(m,r).name;e[n]=o.getAttribLocation(m,n)}i=e}return i},this.destroy=function(){o.deleteProgram(m),this.program=void 0},this.name=r.shaderName,this.id=lp++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=s,this.fragmentShader=u,this}function Tt(e,t,r){function n(e){if(e)e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding);else var t=3e3;return t}var i=[],o=r.isWebGL2,a=r.logarithmicDepthBuffer,s=r.floatVertexTextures,u=r.precision,l=r.maxVertexUniforms,c=r.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(i,f,p,d,g,m,v){var y=d.fog;d=i.isMeshStandardMaterial?d.environment:null,d=i.envMap||d;var b=h[i.type];if(v.isSkinnedMesh){var x=v.skeleton.bones;if(s)x=1024;else{var A=Math.min(Math.floor((l-20)/4),x.length);A<x.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+x.length+" bones. This GPU supports "+A+"."),x=0):x=A}}else x=0;null!==i.precision&&(u=r.getMaxPrecision(i.precision),u!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",u,"instead.")),b?(A=Qf[b],A={name:i.type,uniforms:qf.clone(A.uniforms),vertexShader:A.vertexShader,fragmentShader:A.fragmentShader}):A={name:i.type,uniforms:i.uniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader},i.onBeforeCompile(A,e);var w=e.getRenderTarget();return{isWebGL2:o,shaderID:b,shaderName:A.name,uniforms:A.uniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,defines:i.defines,isRawShaderMaterial:i.isRawShaderMaterial,isShaderMaterial:i.isShaderMaterial,precision:u,instancing:!0===v.isInstancedMesh,supportsVertexTextures:c,outputEncoding:null!==w?n(w.texture):e.outputEncoding,map:!!i.map,mapEncoding:n(i.map),matcap:!!i.matcap,matcapEncoding:n(i.matcap),envMap:!!d,envMapMode:d&&d.mapping,envMapEncoding:n(d),envMapCubeUV:!!d&&(306===d.mapping||307===d.mapping),lightMap:!!i.lightMap,lightMapEncoding:n(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:n(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap)&&!!i.displacementMap,fog:!!y,useFog:i.fog,fogExp2:y&&y.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:a,skinning:i.skinning&&0<x,maxBones:x,useVertexTexture:s,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numRectAreaLights:f.rectArea.length,numHemiLights:f.hemi.length,numDirLightShadows:f.directionalShadowMap.length,numPointLightShadows:f.pointShadowMap.length,numSpotLightShadows:f.spotShadowMap.length,numClippingPlanes:g,numClipIntersection:m,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<p.length,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:i.onBeforeCompile}},this.getProgramCacheKey=function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);if(void 0===t.isRawShaderMaterial){for(n=0;n<f.length;n++)r.push(t[f[n]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.onBeforeCompile.toString()),r.join()},this.acquireProgram=function(t,r){for(var n,o=0,a=i.length;o<a;o++){var s=i[o];if(s.cacheKey===r){n=s,++n.usedTimes;break}}return void 0===n&&(n=new St(e,r,t),i.push(n)),n},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function Et(){var e=new ac;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new ac}}}function It(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Rt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Lt(){function e(e,n,i,a,s,u){var l=t[r];return void 0===l?(l={id:e.id,object:e,geometry:n,material:i,program:i.program||o,groupOrder:a,renderOrder:e.renderOrder,z:s,group:u},t[r]=l):(l.id=e.id,l.object=e,l.geometry=n,l.material=i,l.program=i.program||o,l.groupOrder=a,l.renderOrder=e.renderOrder,l.z=s,l.group=u),r++,l}var t=[],r=0,n=[],i=[],o={id:-1};return{opaque:n,transparent:i,init:function(){r=0,n.length=0,i.length=0},push:function(t,r,o,a,s,u){t=e(t,r,o,a,s,u),(!0===o.transparent?i:n).push(t)},unshift:function(t,r,o,a,s,u){t=e(t,r,o,a,s,u),(!0===o.transparent?i:n).unshift(t)},finish:function(){for(var e=r,n=t.length;e<n;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){1<n.length&&n.sort(e||It),1<i.length&&i.sort(t||Rt)}}}function Pt(){function e(r){r=r.target,r.removeEventListener("dispose",e),t.delete(r)}var t=new ac;return{get:function(r,n){var i=t.get(r);if(void 0===i){var o=new Lt;t.set(r,new ac),t.get(r).set(n,o),r.addEventListener("dispose",e)}else o=i.get(n),void 0===o&&(o=new Lt,i.set(n,o));return o},dispose:function(){t=new ac}}}function Ot(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var r={direction:new d,color:new S};break;case"SpotLight":r={position:new d,direction:new d,color:new S,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new d,color:new S,distance:0,decay:0};break;case"HemisphereLight":r={direction:new d,skyColor:new S,groundColor:new S};break;case"RectAreaLight":r={color:new S,position:new d,halfWidth:new d,halfHeight:new d}}return e[t.id]=r}}}function Dt(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var r={shadowBias:0,shadowRadius:1,shadowMapSize:new s};break;case"SpotLight":r={shadowBias:0,shadowRadius:1,shadowMapSize:new s};break;case"PointLight":r={shadowBias:0,shadowRadius:1,shadowMapSize:new s,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r}}}function kt(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Nt(){for(var e=new Ot,t=Dt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;9>n;n++)r.probe.push(new d);var i=new d,o=new g,a=new g;return{setup:function(n,s,u){for(var l=0,c=0,h=0,f=0;9>f;f++)r.probe[f].set(0,0,0);var p=s=0,d=0,g=0,m=0,v=0,y=0,b=0;u=u.matrixWorldInverse,n.sort(kt),f=0;for(var x=n.length;f<x;f++){var A=n[f],w=A.color,_=A.intensity,C=A.distance,M=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)l+=w.r*_,c+=w.g*_,h+=w.b*_;else if(A.isLightProbe)for(M=0;9>M;M++)r.probe[M].addScaledVector(A.sh.coefficients[M],_);else if(A.isDirectionalLight){var S=e.get(A);S.color.copy(A.color).multiplyScalar(A.intensity),S.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(u),A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,r.directionalShadow[s]=w,r.directionalShadowMap[s]=M,r.directionalShadowMatrix[s]=A.shadow.matrix,v++),r.directional[s]=S,s++}else A.isSpotLight?(S=e.get(A),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),S.color.copy(w).multiplyScalar(_),S.distance=C,S.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(u),S.coneCos=Math.cos(A.angle),S.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),S.decay=A.decay,A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,r.spotShadow[d]=w,r.spotShadowMap[d]=M,r.spotShadowMatrix[d]=A.shadow.matrix,b++),r.spot[d]=S,d++):A.isRectAreaLight?(S=e.get(A),S.color.copy(w).multiplyScalar(_),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),a.identity(),o.copy(A.matrixWorld),o.premultiply(u),a.extractRotation(o),S.halfWidth.set(.5*A.width,0,0),S.halfHeight.set(0,.5*A.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),r.rectArea[g]=S,g++):A.isPointLight?(S=e.get(A),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),S.color.copy(A.color).multiplyScalar(A.intensity),S.distance=A.distance,S.decay=A.decay,A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,w.shadowCameraNear=_.camera.near,w.shadowCameraFar=_.camera.far,r.pointShadow[p]=w,r.pointShadowMap[p]=M,r.pointShadowMatrix[p]=A.shadow.matrix,y++),r.point[p]=S,p++):A.isHemisphereLight&&(S=e.get(A),S.direction.setFromMatrixPosition(A.matrixWorld),S.direction.transformDirection(u),S.direction.normalize(),S.skyColor.copy(A.color).multiplyScalar(_),S.groundColor.copy(A.groundColor).multiplyScalar(_),r.hemi[m]=S,m++)}r.ambient[0]=l,r.ambient[1]=c,r.ambient[2]=h,n=r.hash,n.directionalLength===s&&n.pointLength===p&&n.spotLength===d&&n.rectAreaLength===g&&n.hemiLength===m&&n.numDirectionalShadows===v&&n.numPointShadows===y&&n.numSpotShadows===b||(r.directional.length=s,r.spot.length=d,r.rectArea.length=g,r.point.length=p,r.hemi.length=m,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=y,r.pointShadowMap.length=y,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=y,r.spotShadowMatrix.length=b,n.directionalLength=s,n.pointLength=p,n.spotLength=d,n.rectAreaLength=g,n.hemiLength=m,n.numDirectionalShadows=v,n.numPointShadows=y,n.numSpotShadows=b,r.version=pp++)},state:r}}function Ft(){var e=new Nt,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function Bt(){function e(r){r=r.target,r.removeEventListener("dispose",e),t.delete(r)}var t=new ac;return{get:function(r,n){if(!1===t.has(r)){var i=new Ft;t.set(r,new ac),t.get(r).set(n,i),r.addEventListener("dispose",e)}else!1===t.get(r).has(n)?(i=new Ft,t.get(r).set(n,i)):i=t.get(r).get(n);return i},dispose:function(){t=new ac}}}function zt(e){L.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Ut(e){L.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new d,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function jt(e,t,r){function n(e,t,r){r=e<<0|t<<1|r<<2;var n=d[r];return void 0===n&&(n=new zt({depthPacking:3201,morphTargets:e,skinning:t}),d[r]=n),n}function i(e,t,r){r=e<<0|t<<1|r<<2;var n=g[r];return void 0===n&&(n=new Ut({morphTargets:e,skinning:t}),g[r]=n),n}function o(t,r,o,a,s,u,l){var c=n,h=t.customDepthMaterial;return!0===a.isPointLight&&(c=i,h=t.customDistanceMaterial),void 0===h?(h=!1,!0===o.morphTargets&&(h=r.morphAttributes&&r.morphAttributes.position&&0<r.morphAttributes.position.length),r=!1,!0===t.isSkinnedMesh&&(!0===o.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),t=c(h,r,!0===t.isInstancedMesh)):t=h,e.localClippingEnabled&&!0===o.clipShadows&&0!==o.clippingPlanes.length&&(h=t.uuid,c=o.uuid,r=m[h],void 0===r&&(r={},m[h]=r),h=r[c],void 0===h&&(h=t.clone(),r[c]=h),t=h),t.visible=o.visible,t.wireframe=o.wireframe,t.side=3===l?null!==o.shadowSide?o.shadowSide:o.side:null!==o.shadowSide?o.shadowSide:v[o.side],t.clipShadows=o.clipShadows,t.clippingPlanes=o.clippingPlanes,t.clipIntersection=o.clipIntersection,t.wireframeLinewidth=o.wireframeLinewidth,t.linewidth=o.linewidth,!0===a.isPointLight&&!0===t.isMeshDistanceMaterial&&(t.referencePosition.setFromMatrixPosition(a.matrixWorld),t.nearDistance=s,t.farDistance=u),t}function a(r,n,i,s,l){if(!1!==r.visible){if(r.layers.test(n.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===l)&&(!r.frustumCulled||u.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,r.matrixWorld);var c=t.update(r),h=r.material;if(Array.isArray(h))for(var f=c.groups,p=0,d=f.length;p<d;p++){var g=f[p],m=h[g.materialIndex];m&&m.visible&&(m=o(r,c,m,s,i.near,i.far,l),e.renderBufferDirect(i,null,c,m,r,g))}else h.visible&&(m=o(r,c,h,s,i.near,i.far,l),e.renderBufferDirect(i,null,c,m,r,null))}for(r=r.children,c=0,h=r.length;c<h;c++)a(r[c],n,i,s,l)}}var u=new ie,l=new s,f=new s,p=new c,d=[],g=[],m={},v={0:1,1:0,2:2},y=new Q({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new s},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=y.clone();b.defines.HORIZONAL_PASS=1;var x=new W;x.setAttribute("position",new O(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var A=new X(x,y),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(n,i,o){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==n.length){var s=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),g=e.state;g.setBlending(0),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var m=0,v=n.length;m<v;m++){var x=n[m],_=x.shadow;if(void 0===_)console.warn("THREE.WebGLShadowMap:",x,"has no shadow.");else{l.copy(_.mapSize);var C=_.getFrameExtents();l.multiply(C),f.copy(_.mapSize),(l.x>r||l.y>r)&&(l.x>r&&(f.x=Math.floor(r/C.x),l.x=f.x*C.x,_.mapSize.x=f.x),l.y>r&&(f.y=Math.floor(r/C.y),l.y=f.y*C.y,_.mapSize.y=f.y)),null!==_.map||_.isPointLightShadow||3!==this.type||(C={minFilter:1006,magFilter:1006,format:1023},_.map=new h(l.x,l.y,C),_.map.texture.name=x.name+".shadowMap",_.mapPass=new h(l.x,l.y,C),_.camera.updateProjectionMatrix()),null===_.map&&(C={minFilter:1003,magFilter:1003,format:1023},_.map=new h(l.x,l.y,C),_.map.texture.name=x.name+".shadowMap",_.camera.updateProjectionMatrix()),e.setRenderTarget(_.map),e.clear(),C=_.getViewportCount();for(var M=0;M<C;M++){var S=_.getViewport(M);p.set(f.x*S.x,f.y*S.y,f.x*S.z,f.y*S.w),g.viewport(p),_.updateMatrices(x,M),u=_.getFrustum(),a(i,o,_.camera,x,this.type)}_.isPointLightShadow||3!==this.type||(x=_,_=o,C=t.update(A),y.uniforms.shadow_pass.value=x.map.texture,y.uniforms.resolution.value=x.mapSize,y.uniforms.radius.value=x.radius,e.setRenderTarget(x.mapPass),e.clear(),e.renderBufferDirect(_,null,C,y,A,null),b.uniforms.shadow_pass.value=x.mapPass.texture,b.uniforms.resolution.value=x.mapSize,b.uniforms.radius.value=x.radius,e.setRenderTarget(x.map),e.clear(),e.renderBufferDirect(_,null,C,b,A,null))}}w.needsUpdate=!1,e.setRenderTarget(s,c,d)}}}function Ht(e,t,r){function n(t,r,n){var i=new Uint8Array(4),o=e.createTexture();for(e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728),t=0;t<n;t++)e.texImage2D(r+t,0,6408,1,1,0,6408,5121,i);return o}function i(r,n){b[r]=1,0===x[r]&&(e.enableVertexAttribArray(r),x[r]=1),A[r]!==n&&((g?e:t.get("ANGLE_instanced_arrays"))[g?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,n),A[r]=n)}function o(t){!0!==w[t]&&(e.enable(t),w[t]=!0)}function a(t){!1!==w[t]&&(e.disable(t),w[t]=!1)}function s(t,r,n,i,s,u,l,c){if(0===t)C&&(a(3042),C=!1);else if(C||(o(3042),C=!0),5!==t){if(t!==M||c!==P){if(100===S&&100===I||(e.blendEquation(32774),I=S=100),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}L=R=E=T=null,M=t,P=c}}else s=s||r,u=u||n,l=l||i,r===S&&s===I||(e.blendEquationSeparate(W[r],W[s]),S=r,I=s),n===T&&i===E&&u===R&&l===L||(e.blendFuncSeparate(X[n],X[i],X[u],X[l]),T=n,E=i,R=u,L=l),M=t,P=null}function u(t){O!==t&&(t?e.frontFace(2304):e.frontFace(2305),O=t)}function l(t){0!==t?(o(2884),t!==D&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):a(2884),D=t}function h(t,r,n){t?(o(32823),(N!==r||F!==n)&&(e.polygonOffset(r,n),N=r,F=n)):a(32823)}function f(t){void 0===t&&(t=33984+B-1),U!==t&&(e.activeTexture(t),U=t)}var p,d,g=r.isWebGL2,m=new function(){var t=!1,r=new c,n=null,i=new c(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},v=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?o(2929):a(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=n=r=null}}},y=new function(){var t=!1,r=null,n=null,i=null,s=null,u=null,l=null,c=null,h=null;return{setTest:function(e){t||(e?o(2960):a(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&s===o||(e.stencilFunc(t,r,o),n=t,i=r,s=o)},setOp:function(t,r,n){u===t&&l===r&&c===n||(e.stencilOp(t,r,n),u=t,l=r,c=n)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,h=c=l=u=s=i=n=r=null}}};r=e.getParameter(34921);var b=new Uint8Array(r),x=new Uint8Array(r),A=new Uint8Array(r),w={},_=null,C=null,M=null,S=null,T=null,E=null,I=null,R=null,L=null,P=!1,O=null,D=null,k=null,N=null,F=null,B=e.getParameter(35661),z=!1;r=0,r=e.getParameter(7938),-1!==r.indexOf("WebGL")?(r=parseFloat(/^WebGL ([0-9])/.exec(r)[1]),z=1<=r):-1!==r.indexOf("OpenGL ES")&&(r=parseFloat(/^OpenGL ES ([0-9])/.exec(r)[1]),z=2<=r);var U=null,j={},H=new c,G=new c,V={};V[3553]=n(3553,3553,1),V[34067]=n(34067,34069,6),m.setClear(0,0,0,1),v.setClear(1),y.setClear(0),o(2929),v.setFunc(3),u(!1),l(1),o(2884),s(0);var W=(p={},Hc(p,100,32774),Hc(p,101,32778),Hc(p,102,32779),p);g?(W[103]=32775,W[104]=32776):(p=t.get("EXT_blend_minmax"),null!==p&&(W[103]=p.MIN_EXT,W[104]=p.MAX_EXT));var X=(d={},Hc(d,200,0),Hc(d,201,1),Hc(d,202,768),Hc(d,204,770),Hc(d,210,776),Hc(d,208,774),Hc(d,206,772),Hc(d,203,769),Hc(d,205,771),Hc(d,209,775),Hc(d,207,773),d);return{buffers:{color:m,depth:v,stencil:y},initAttributes:function(){for(var e=0,t=b.length;e<t;e++)b[e]=0},enableAttribute:function(e){i(e,0)},enableAttributeAndDivisor:i,disableUnusedAttributes:function(){for(var t=0,r=x.length;t!==r;++t)x[t]!==b[t]&&(e.disableVertexAttribArray(t),x[t]=0)},vertexAttribPointer:function(t,r,n,i,o,a){!0!==g||5124!==n&&5125!==n?e.vertexAttribPointer(t,r,n,i,o,a):e.vertexAttribIPointer(t,r,n,i,o,a)},enable:o,disable:a,useProgram:function(t){return _!==t&&(e.useProgram(t),_=t,!0)},setBlending:s,setMaterial:function(e,t){2===e.side?a(2884):o(2884);var r=1===e.side;t&&(r=!r),u(r),1===e.blending&&!1===e.transparent?s(0):s(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),v.setFunc(e.depthFunc),v.setTest(e.depthTest),v.setMask(e.depthWrite),m.setMask(e.colorWrite),t=e.stencilWrite,y.setTest(t),t&&(y.setMask(e.stencilWriteMask),y.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),y.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),h(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:u,setCullFace:l,setLineWidth:function(t){t!==k&&(z&&e.lineWidth(t),k=t)},setPolygonOffset:h,setScissorTest:function(e){e?o(3089):a(3089)},activeTexture:f,bindTexture:function(t,r){null===U&&f();var n=j[U];void 0===n&&(n={type:void 0,texture:void 0},j[U]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||V[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=j[U];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===H.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),H.copy(t))},viewport:function(t){!1===G.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),G.copy(t))},reset:function(){for(var t=0;t<x.length;t++)1===x[t]&&(e.disableVertexAttribArray(t),x[t]=0);w={},U=null,j={},D=O=M=_=null,m.reset(),v.reset(),y.reset()}}}function Gt(e,t,r,n,i,o,a){function s(e,t){return D?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function u(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),1>i||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap)return n=t?nh.floorPowerOfTwo:Math.floor,t=n(i*e.width),i=n(i*e.height),void 0===T&&(T=s(t,i)),r=r?s(t,i):T,r.width=t,r.height=i,r.getContext("2d").drawImage(e,0,0,t,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+t+"x"+i+")."),r;"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+").")}return e}function l(e){return nh.isPowerOfTwo(e.width)&&nh.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function h(t,r,i,o){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function f(r,n,i){if(!1===E)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}return r=n,6403===n&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===n&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===n&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||t.get("EXT_color_buffer_float"),r}function p(e){return 1003===e||1004===e||1005===e?9728:9729}function d(t){t=t.target,t.removeEventListener("dispose",d);var r=n.get(t);void 0!==r.__webglInit&&(e.deleteTexture(r.__webglTexture),n.remove(t)),t.isVideoTexture&&O.delete(t),a.memory.textures--}function g(t){t=t.target,t.removeEventListener("dispose",g);var r=n.get(t),i=n.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(i=0;6>i;i++)e.deleteFramebuffer(r.__webglFramebuffer[i]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[i]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}a.memory.textures--}function m(e,t){var i=n.get(e);if(e.isVideoTexture){var o=a.render.frame;O.get(e)!==o&&(O.set(e,o),e.update())}if(0<e.version&&i.__version!==e.version)if(o=e.image,void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void A(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function v(t,i){if(6===t.image.length){var a=n.get(t);if(0<t.version&&a.__version!==t.version){x(a,t),r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture);i=t.image[0]&&t.image[0].isDataTexture;for(var p=[],d=0;6>d;d++)p[d]=s||i?i?t.image[d].image:t.image[d]:u(t.image[d],!1,!0,R);var g=p[0],m=l(g)||E,v=o.convert(t.format),y=o.convert(t.type),A=f(t.internalFormat,v,y);if(b(34067,t,m),s){for(d=0;6>d;d++){var w=p[d].mipmaps;for(s=0;s<w.length;s++){var _=w[s];1023!==t.format&&1022!==t.format?null!==v?r.compressedTexImage2D(34069+d,s,A,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+d,s,A,_.width,_.height,0,v,y,_.data)}}a.__maxMipLevel=w.length-1}else{for(w=t.mipmaps,d=0;6>d;d++)if(i)for(r.texImage2D(34069+d,0,A,p[d].width,p[d].height,0,v,y,p[d].data),s=0;s<w.length;s++)_=w[s],_=_.image[d].image,r.texImage2D(34069+d,s+1,A,_.width,_.height,0,v,y,_.data);else for(r.texImage2D(34069+d,0,A,v,y,p[d]),s=0;s<w.length;s++)_=w[s],r.texImage2D(34069+d,s+1,A,v,y,_.image[d]);a.__maxMipLevel=w.length}c(t,m)&&h(34067,t,g.width,g.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture)}}function y(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}function b(r,o,a){a?(e.texParameteri(r,10242,N[o.wrapS]),e.texParameteri(r,10243,N[o.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,N[o.wrapR]),e.texParameteri(r,10240,F[o.magFilter]),e.texParameteri(r,10241,F[o.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,p(o.magFilter)),e.texParameteri(r,10241,p(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(a=t.get("EXT_texture_filter_anisotropic"))||1015===o.type&&null===t.get("OES_texture_float_linear")||1016===o.type&&null===(E||t.get("OES_texture_half_float_linear"))||!(1<o.anisotropy||n.get(o).__currentAnisotropy)||(e.texParameterf(r,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}function x(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",d),t.__webglTexture=e.createTexture(),a.memory.textures++)}function A(t,n,i){var a=3553;n.isDataTexture2DArray&&(a=35866),n.isDataTexture3D&&(a=32879),x(t,n),r.activeTexture(33984+i),r.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),i=!E&&(1001!==n.wrapS||1001!==n.wrapT||1003!==n.minFilter&&1006!==n.minFilter),i=i&&!1===l(n.image),i=u(n.image,i,!1,L);var s=l(i)||E,p=o.convert(n.format),d=o.convert(n.type),g=f(n.internalFormat,p,d);b(a,n,s);var m=n.mipmaps;if(n.isDepthTexture)g=6402,E?g=1015===n.type?36012:1014===n.type?33190:1020===n.type?35056:33189:1015===n.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===n.format&&6402===g&&1012!==n.type&&1014!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=1012,d=o.convert(n.type)),1027===n.format&&6402===g&&(g=34041,1020!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=1020,d=o.convert(n.type))),r.texImage2D(3553,0,g,i.width,i.height,0,p,d,null);else if(n.isDataTexture)if(0<m.length&&s){for(var v=0,y=m.length;v<y;v++){var A=m[v];r.texImage2D(3553,v,g,A.width,A.height,0,p,d,A.data)}n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,i.width,i.height,0,p,d,i.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(v=0,y=m.length;v<y;v++)A=m[v],1023!==n.format&&1022!==n.format?null!==p?r.compressedTexImage2D(3553,v,g,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,v,g,A.width,A.height,0,p,d,A.data);t.__maxMipLevel=m.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,g,i.width,i.height,i.depth,0,p,d,i.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,g,i.width,i.height,i.depth,0,p,d,i.data),t.__maxMipLevel=0;else if(0<m.length&&s){for(v=0,y=m.length;v<y;v++)A=m[v],r.texImage2D(3553,v,g,p,d,A);n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,p,d,i),t.__maxMipLevel=0;c(n,s)&&h(a,n,i.width,i.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function w(t,i,a,s){var u=o.convert(i.texture.format),l=o.convert(i.texture.type),c=f(i.texture.internalFormat,u,l);r.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function _(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){var i=33189;n?((n=r.depthTexture)&&n.isDepthTexture&&(1015===n.type?i=36012:1014===n.type&&(i=33190)),n=C(r),e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)):e.renderbufferStorage(36161,i,r.width,r.height),e.framebufferRenderbuffer(36160,36096,36161,t)}else r.depthBuffer&&r.stencilBuffer?(n?(n=C(r),e.renderbufferStorageMultisample(36161,n,35056,r.width,r.height)):e.renderbufferStorage(36161,34041,r.width,r.height),e.framebufferRenderbuffer(36160,33306,36161,t)):(t=o.convert(r.texture.format),i=o.convert(r.texture.type),i=f(r.texture.internalFormat,t,i),n?(n=C(r),e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)):e.renderbufferStorage(36161,i,r.width,r.height));e.bindRenderbuffer(36161,null)}function C(e){return E&&e.isWebGLMultisampleRenderTarget?Math.min(P,e.samples):0}var M,S,T,E=i.isWebGL2,I=i.maxTextures,R=i.maxCubemapSize,L=i.maxTextureSize,P=i.maxSamples,O=new ac,D=!1;try{D="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(U){}var k=0,N=(M={},Hc(M,1e3,10497),Hc(M,1001,33071),Hc(M,1002,33648),M),F=(S={},Hc(S,1003,9728),Hc(S,1004,9984),Hc(S,1005,9986),Hc(S,1006,9729),Hc(S,1007,9985),Hc(S,1008,9987),S),B=!1,z=!1;this.allocateTextureUnit=function(){var e=k;return e>=I&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+I),k+=1,e},this.resetTextureUnits=function(){k=0},this.setTexture2D=m,this.setTexture2DArray=function(e,t){var i=n.get(e);0<e.version&&i.__version!==e.version?A(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);0<e.version&&i.__version!==e.version?A(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=function(t){var i=n.get(t),s=n.get(t.texture);t.addEventListener("dispose",g),s.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===t.isWebGLCubeRenderTarget,p=!0===t.isWebGLMultisampleRenderTarget,d=l(t)||E;if(!E||1022!==t.texture.format||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u)for(i.__webglFramebuffer=[],p=0;6>p;p++)i.__webglFramebuffer[p]=e.createFramebuffer();else if(i.__webglFramebuffer=e.createFramebuffer(),p)if(E){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer),p=o.convert(t.texture.format);var v=o.convert(t.texture.type);p=f(t.texture.internalFormat,p,v),v=C(t),e.renderbufferStorageMultisample(36161,v,p,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),_(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){for(r.bindTexture(34067,s.__webglTexture),b(34067,t.texture,d),p=0;6>p;p++)w(i.__webglFramebuffer[p],t,36064,34069+p);c(t.texture,d)&&h(34067,t.texture,t.width,t.height),r.bindTexture(34067,null)}else r.bindTexture(3553,s.__webglTexture),b(3553,t.texture,d),w(i.__webglFramebuffer,t,36064,3553),c(t.texture,d)&&h(3553,t.texture,t.width,t.height),r.bindTexture(3553,null);if(t.depthBuffer){if(i=n.get(t),s=!0===t.isWebGLCubeRenderTarget,t.depthTexture){if(s)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,i.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(n.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),m(t.depthTexture,0),i=n.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}else if(s)for(i.__webglDepthbuffer=[],s=0;6>s;s++)e.bindFramebuffer(36160,i.__webglFramebuffer[s]),i.__webglDepthbuffer[s]=e.createRenderbuffer(),_(i.__webglDepthbuffer[s],t,!1);else e.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),_(i.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(e){var t=e.texture,i=l(e)||E;if(c(t,i)){i=e.isWebGLCubeRenderTarget?34067:3553;var o=n.get(t).__webglTexture;r.bindTexture(i,o),h(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(E){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),m(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?v(e,t):y(e,t)}}function Vt(e,t,r){var n=r.isWebGL2;return{convert:function(e){if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e){if(n)return 5131;var r=t.get("OES_texture_half_float");return null!==r?r.HALF_FLOAT_OES:null}if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return r=t.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(r=t.get("WEBGL_compressed_texture_etc"),null!==r)){if(37492===e)return r.COMPRESSED_RGB8_ETC2;if(37496===e)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(r=t.get("WEBGL_compressed_texture_astc"),null!==r?e:null):36492===e?(r=t.get("EXT_texture_compression_bptc"),null!==r?e:null):1020===e?n?34042:(r=t.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Wt(e){ee.call(this),this.cameras=e||[]}function Xt(){y.call(this),this.type="Group"}function qt(){this._grip=this._targetRay=null}function Yt(e,t){function r(e){var t=m.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function n(){m.forEach((function(e,t){e.disconnect(t)})),m.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function i(e){h=e,S.setContext(u),S.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}function o(e){for(var t=u.inputSources,r=0;r<g.length;r++)m.set(t[r],g[r]);for(r=0;r<e.removed.length;r++){t=e.removed[r];var n=m.get(t);n&&(n.dispatchEvent({type:"disconnected",data:t}),m.delete(t))}for(r=0;r<e.added.length;r++)t=e.added[r],(n=m.get(t))&&n.dispatchEvent({type:"connected",data:t})}function a(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}var s=this,u=null,l=1,h=null,f="local-floor",p=null,g=[],m=new ql,v=new ee;v.layers.enable(1),v.viewport=new c;var y=new ee;y.layers.enable(2),y.viewport=new c;var b=[v,y],x=new Wt;x.layers.enable(1),x.layers.enable(2);var A=null,w=null;this.isPresenting=this.enabled=!1,this.getController=function(e){var t=g[e];return void 0===t&&(t=new qt,g[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=g[e];return void 0===t&&(t=new qt,g[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){l=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){f=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h},this.getSession=function(){return u},this.setSession=function(e){u=e,null!==u&&(u.addEventListener("select",r),u.addEventListener("selectstart",r),u.addEventListener("selectend",r),u.addEventListener("squeeze",r),u.addEventListener("squeezestart",r),u.addEventListener("squeezeend",r),u.addEventListener("end",n),e=t.getContextAttributes(),!0!==e.xrCompatible&&t.makeXRCompatible(),e=new XRWebGLLayer(u,t,{antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:l}),u.updateRenderState({baseLayer:e}),u.requestReferenceSpace(f).then(i),u.addEventListener("inputsourceschange",o))};var _=new d,C=new d;this.getCamera=function(e){x.near=y.near=v.near=e.near,x.far=y.far=v.far=e.far,A===x.near&&w===x.far||(u.updateRenderState({depthNear:x.near,depthFar:x.far}),A=x.near,w=x.far);var t=e.parent,r=x.cameras;a(x,t);for(var n=0;n<r.length;n++)a(r[n],t);for(e.matrixWorld.copy(x.matrixWorld),e=e.children,n=0,t=e.length;n<t;n++)e[n].updateMatrixWorld(!0);if(2===r.length){_.setFromMatrixPosition(v.matrixWorld),C.setFromMatrixPosition(y.matrixWorld),r=_.distanceTo(C);var i=v.projectionMatrix.elements,o=y.projectionMatrix.elements,s=i[14]/(i[10]-1);n=i[14]/(i[10]+1),e=(i[9]+1)/i[5],t=(i[9]-1)/i[5];var l=(i[8]-1)/i[0],c=(o[8]+1)/o[0];o=s*l,i=s*c,c=r/(-l+c),l=c*-l,v.matrixWorld.decompose(x.position,x.quaternion,x.scale),x.translateX(l),x.translateZ(c),x.matrixWorld.compose(x.position,x.quaternion,x.scale),x.matrixWorldInverse.getInverse(x.matrixWorld),s+=c,c=n+c,x.projectionMatrix.makePerspective(o-l,i+(r-l),e*n/c*s,t*n/c*s,s,c)}else x.projectionMatrix.copy(v.projectionMatrix);return x};var M=null,S=new oe;S.setAnimationLoop((function(t,r){if(p=r.getViewerPose(h),null!==p){var n=p.views,i=u.renderState.baseLayer;e.setFramebuffer(i.framebuffer);var o=!1;n.length!==x.cameras.length&&(x.cameras.length=0,o=!0);for(var a=0;a<n.length;a++){var s=n[a],l=i.getViewport(s),c=b[a];c.matrix.fromArray(s.transform.matrix),c.projectionMatrix.fromArray(s.projectionMatrix),c.viewport.set(l.x,l.y,l.width,l.height),0===a&&x.matrix.copy(c.matrix),!0===o&&x.cameras.push(c)}}for(n=u.inputSources,a=0;a<g.length;a++)g[a].update(n[a],r,h);M&&M(t,r)})),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}function Zt(e){function t(t,r,n){if(t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap),(n=r.envMap||n)&&(t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio,t.maxMipLevel.value=e.get(n).__maxMipLevel),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map)var i=r.map;else r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap&&(i=r.emissiveMap);if(void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap)var o=r.aoMap;else r.lightMap&&(o=r.lightMap);void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function r(e,t,r){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||r)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,o,a){if(n.isMeshBasicMaterial)t(e,n);else if(n.isMeshLambertMaterial)t(e,n),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap);else if(n.isMeshToonMaterial)t(e,n),e.specular.value.copy(n.specular),e.shininess.value=Math.max(n.shininess,1e-4),n.gradientMap&&(e.gradientMap.value=n.gradientMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshPhongMaterial)t(e,n),e.specular.value.copy(n.specular),e.shininess.value=Math.max(n.shininess,1e-4),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshStandardMaterial)t(e,n,i),n.isMeshPhysicalMaterial?(r(e,n,i),e.reflectivity.value=n.reflectivity,e.clearcoat.value=n.clearcoat,e.clearcoatRoughness.value=n.clearcoatRoughness,n.sheen&&e.sheen.value.copy(n.sheen),n.clearcoatMap&&(e.clearcoatMap.value=n.clearcoatMap),n.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=n.clearcoatRoughnessMap),n.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(n.clearcoatNormalScale),e.clearcoatNormalMap.value=n.clearcoatNormalMap,1===n.side&&e.clearcoatNormalScale.value.negate()),e.transparency.value=n.transparency):r(e,n,i);else if(n.isMeshMatcapMaterial)t(e,n),n.matcap&&(e.matcap.value=n.matcap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshDepthMaterial)t(e,n),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshDistanceMaterial)t(e,n),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),e.referencePosition.value.copy(n.referencePosition),e.nearDistance.value=n.nearDistance,e.farDistance.value=n.farDistance;else if(n.isMeshNormalMaterial)t(e,n),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isLineBasicMaterial)e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,n.isLineDashedMaterial&&(e.dashSize.value=n.dashSize,e.totalSize.value=n.dashSize+n.gapSize,e.scale.value=n.scale);else if(n.isPointsMaterial){if(e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.size.value=n.size*o,e.scale.value=.5*a,n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.map)var s=n.map;else n.alphaMap&&(s=n.alphaMap);void 0!==s&&(!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uvTransform.value.copy(s.matrix))}else if(n.isSpriteMaterial){if(e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.rotation.value=n.rotation,n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.map)var u=n.map;else n.alphaMap&&(u=n.alphaMap);void 0!==u&&(!0===u.matrixAutoUpdate&&u.updateMatrix(),e.uvTransform.value.copy(u.matrix))}else n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Kt(e){var t;function r(){R=new pe(Fe),L=new he(Fe,R,e),!1===L.isWebGL2&&(R.get("WEBGL_depth_texture"),R.get("OES_texture_float"),R.get("OES_texture_half_float"),R.get("OES_texture_half_float_linear"),R.get("OES_standard_derivatives"),R.get("OES_element_index_uint"),R.get("ANGLE_instanced_arrays")),R.get("OES_texture_float_linear"),q=new Vt(Fe,R,L),P=new Ht(Fe,R,L),P.scissor(Ae.copy(Ie).multiplyScalar(Me).floor()),P.viewport(xe.copy(Ee).multiplyScalar(Me).floor()),O=new me(Fe),D=new Et,k=new Gt(Fe,R,P,D,L,q,O),N=new ae(Fe,L),F=new de(Fe,N,O),B=new be(Fe,F,N,O),V=new ye(Fe),z=new Tt(Y,R,L),U=new Zt(D),j=new Pt,H=new Bt,G=new le(Y,P,B,C),W=new ce(Fe,R,O,L),X=new ge(Fe,R,O,L),O.programs=z.programs,Y.capabilities=L,Y.extensions=R,Y.properties=D,Y.renderLists=j,Y.state=P,Y.info=O}function n(e){e.preventDefault(),Z=!0}function i(){Z=!1,r()}function o(e){e=e.target,e.removeEventListener("dispose",o),a(e),D.remove(e)}function a(e){var t=D.get(e).program;e.program=void 0,void 0!==t&&z.releaseProgram(t)}function u(e,t){e.render((function(e){Y.renderBufferImmediate(e,t)}))}function l(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)I.pushLight(e),e.castShadow&&I.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Le.intersectsSprite(e)){n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke);var i=B.update(e),o=e.material;o.visible&&E.push(e,i,o,r,Ne.z,null)}}else if(e.isImmediateRenderObject)n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke),E.push(e,null,e.material,r,Ne.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==O.render.frame&&(e.skeleton.update(),e.skeleton.frame=O.render.frame),!e.frustumCulled||Le.intersectsObject(e)))if(n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke),i=B.update(e),o=e.material,Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var c=a[s],h=o[c.materialIndex];h&&h.visible&&E.push(e,i,h,r,Ne.z,c)}else o.visible&&E.push(e,i,o,r,Ne.z,null);for(e=e.children,s=0,u=e.length;s<u;s++)l(e[s],t,r,n)}}function h(e,t,r,n){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,l=void 0===n?a.material:n;if(a=a.group,r.isArrayCamera){ve=r;for(var c=r.cameras,h=0,p=c.length;h<p;h++){var d=c[h];s.layers.test(d.layers)&&(P.viewport(xe.copy(d.viewport)),I.setupLights(d),f(s,t,d,u,l,a))}}else ve=null,f(s,t,r,u,l,a)}}function f(e,r,n,i,o,a){if(e.onBeforeRender(Y,r,n,i,o,a),I=H.get(r,ve||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var s=m(n,r,o,e);P.setMaterial(o),re=t=null,se=!1,u(e,s)}else Y.renderBufferDirect(n,r,i,o,e,a);e.onAfterRender(Y,r,n,i,o,a),I=H.get(r,ve||n)}function p(e,t,r){var n=D.get(e),i=I.state.lights,s=i.state.version;r=z.getParameters(e,i.state,I.state.shadowsArray,t,Pe.numPlanes,Pe.numIntersection,r);var u=z.getProgramCacheKey(r),l=n.program,c=!0;if(void 0===l)e.addEventListener("dispose",o);else if(l.cacheKey!==u)a(e);else{if(n.lightsStateVersion!==s)n.lightsStateVersion=s;else if(void 0!==r.shaderID)return;c=!1}if(c&&(l=z.acquireProgram(r,u),n.program=l,n.uniforms=r.uniforms,n.outputEncoding=r.outputEncoding,e.program=l),r=l.getAttributes(),e.morphTargets)for(u=e.numSupportedMorphTargets=0;u<Y.maxMorphTargets;u++)0<=r["morphTarget"+u]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(u=e.numSupportedMorphNormals=0;u<Y.maxMorphNormals;u++)0<=r["morphNormal"+u]&&e.numSupportedMorphNormals++;r=n.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=Pe.numPlanes,n.numIntersection=Pe.numIntersection,r.clippingPlanes=Pe.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.needsLights=e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights,n.lightsStateVersion=s,n.needsLights&&(r.ambientLightColor.value=i.state.ambient,r.lightProbe.value=i.state.probe,r.directionalLights.value=i.state.directional,r.directionalLightShadows.value=i.state.directionalShadow,r.spotLights.value=i.state.spot,r.spotLightShadows.value=i.state.spotShadow,r.rectAreaLights.value=i.state.rectArea,r.pointLights.value=i.state.point,r.pointLightShadows.value=i.state.pointShadow,r.hemisphereLights.value=i.state.hemi,r.directionalShadowMap.value=i.state.directionalShadowMap,r.directionalShadowMatrix.value=i.state.directionalShadowMatrix,r.spotShadowMap.value=i.state.spotShadowMap,r.spotShadowMatrix.value=i.state.spotShadowMatrix,r.pointShadowMap.value=i.state.pointShadowMap,r.pointShadowMatrix.value=i.state.pointShadowMatrix),e=n.program.getUniforms(),e=st.seqWithValue(e.seq,r),n.uniformsList=e}function m(e,t,r,n){k.resetTextureUnits();var i=t.fog,o=r.isMeshStandardMaterial?t.environment:null,a=null===$?Y.outputEncoding:$.texture.encoding,s=D.get(r),u=I.state.lights;Oe&&(De||e!==ue)&&Pe.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,s,e===ue&&r.id===te),r.version===s.__version?void 0===s.program||r.fog&&s.fog!==i||s.environment!==o||s.needsLights&&s.lightsStateVersion!==u.state.version?p(r,t,n):void 0===s.numClippingPlanes||s.numClippingPlanes===Pe.numPlanes&&s.numIntersection===Pe.numIntersection?s.outputEncoding!==a&&p(r,t,n):p(r,t,n):(p(r,t,n),s.__version=r.version);var l=!1,c=!1,h=!1;if(t=s.program,a=t.getUniforms(),u=s.uniforms,P.useProgram(t.program)&&(h=c=l=!0),r.id!==te&&(te=r.id,c=!0),(l||ue!==e)&&(a.setValue(Fe,"projectionMatrix",e.projectionMatrix),L.logarithmicDepthBuffer&&a.setValue(Fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ue!==e&&(ue=e,h=c=!0),(r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap)&&(l=a.map.cameraPosition,void 0!==l&&l.setValue(Fe,Ne.setFromMatrixPosition(e.matrixWorld))),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&a.setValue(Fe,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&a.setValue(Fe,"viewMatrix",e.matrixWorldInverse)),r.skinning&&(a.setOptional(Fe,n,"bindMatrix"),a.setOptional(Fe,n,"bindMatrixInverse"),e=n.skeleton))if(l=e.bones,L.floatVertexTextures){if(void 0===e.boneTexture){l=Math.sqrt(4*l.length),l=nh.ceilPowerOfTwo(l),l=Math.max(l,4);var f=new Float32Array(l*l*4);f.set(e.boneMatrices);var d=new ne(f,l,l,1023,1015);e.boneMatrices=f,e.boneTexture=d,e.boneTextureSize=l}a.setValue(Fe,"boneTexture",e.boneTexture,k),a.setValue(Fe,"boneTextureSize",e.boneTextureSize)}else a.setOptional(Fe,e,"boneMatrices");return(c||s.receiveShadow!==n.receiveShadow)&&(s.receiveShadow=n.receiveShadow,a.setValue(Fe,"receiveShadow",n.receiveShadow)),c&&(a.setValue(Fe,"toneMappingExposure",Y.toneMappingExposure),a.setValue(Fe,"toneMappingWhitePoint",Y.toneMappingWhitePoint),s.needsLights&&(c=h,u.ambientLightColor.needsUpdate=c,u.lightProbe.needsUpdate=c,u.directionalLights.needsUpdate=c,u.directionalLightShadows.needsUpdate=c,u.pointLights.needsUpdate=c,u.pointLightShadows.needsUpdate=c,u.spotLights.needsUpdate=c,u.spotLightShadows.needsUpdate=c,u.rectAreaLights.needsUpdate=c,u.hemisphereLights.needsUpdate=c),i&&r.fog&&U.refreshFogUniforms(u,i),U.refreshMaterialUniforms(u,r,o,Me,Ce),void 0!==u.ltc_1&&(u.ltc_1.value=Kf.LTC_1),void 0!==u.ltc_2&&(u.ltc_2.value=Kf.LTC_2),st.upload(Fe,s.uniformsList,u,k)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(st.upload(Fe,s.uniformsList,u,k),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&a.setValue(Fe,"center",n.center),a.setValue(Fe,"modelViewMatrix",n.modelViewMatrix),a.setValue(Fe,"normalMatrix",n.normalMatrix),a.setValue(Fe,"modelMatrix",n.matrixWorld),t}e=e||{};var v=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),y=void 0!==e.context?e.context:null,x=void 0!==e.alpha&&e.alpha,A=void 0===e.depth||e.depth,w=void 0===e.stencil||e.stencil,_=void 0!==e.antialias&&e.antialias,C=void 0===e.premultipliedAlpha||e.premultipliedAlpha,M=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,S=void 0!==e.powerPreference?e.powerPreference:"default",T=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,E=null,I=null;this.domElement=v,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var R,L,P,O,D,k,N,F,B,z,U,j,H,G,V,W,X,q,Y=this,Z=!1,K=null,J=0,Q=0,$=null,ee=null,te=-1,re=t=null,se=!1,ue=null,ve=null,xe=new c,Ae=new c,we=null,_e=v.width,Ce=v.height,Me=1,Se=null,Te=null,Ee=new c(0,0,_e,Ce),Ie=new c(0,0,_e,Ce),Re=!1,Le=new ie,Pe=new fe,Oe=!1,De=!1,ke=new g,Ne=new d;try{x={alpha:x,depth:A,stencil:w,antialias:_,premultipliedAlpha:C,preserveDrawingBuffer:M,powerPreference:S,failIfMajorPerformanceCaveat:T},v.addEventListener("webglcontextlost",n,!1),v.addEventListener("webglcontextrestored",i,!1);var Fe=y||v.getContext("webgl",x)||v.getContext("experimental-webgl",x);if(null===Fe){if(null!==v.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===Fe.getShaderPrecisionFormat&&(Fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ge){throw console.error("THREE.WebGLRenderer: "+Ge.message),Ge}r();var Be=new Yt(Y,Fe);this.xr=Be;var ze=new jt(Y,B,L.maxTextureSize);this.shadowMap=ze,this.getContext=function(){return Fe},this.getContextAttributes=function(){return Fe.getContextAttributes()},this.forceContextLoss=function(){var e=R.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=R.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Me},this.setPixelRatio=function(e){void 0!==e&&(Me=e,this.setSize(_e,Ce,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new s),e.set(_e,Ce)},this.setSize=function(e,t,r){Be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(_e=e,Ce=t,v.width=Math.floor(e*Me),v.height=Math.floor(t*Me),!1!==r&&(v.style.width=e+"px",v.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new s),e.set(_e*Me,Ce*Me).floor()},this.setDrawingBufferSize=function(e,t,r){_e=e,Ce=t,Me=r,v.width=Math.floor(e*r),v.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new c),e.copy(xe)},this.getViewport=function(e){return e.copy(Ee)},this.setViewport=function(e,t,r,n){e.isVector4?Ee.set(e.x,e.y,e.z,e.w):Ee.set(e,t,r,n),P.viewport(xe.copy(Ee).multiplyScalar(Me).floor())},this.getScissor=function(e){return e.copy(Ie)},this.setScissor=function(e,t,r,n){e.isVector4?Ie.set(e.x,e.y,e.z,e.w):Ie.set(e,t,r,n),P.scissor(Ae.copy(Ie).multiplyScalar(Me).floor())},this.getScissorTest=function(){return Re},this.setScissorTest=function(e){P.setScissorTest(Re=e)},this.setOpaqueSort=function(e){Se=e},this.setTransparentSort=function(e){Te=e},this.getClearColor=function(){return G.getClearColor()},this.setClearColor=function(){G.setClearColor.apply(G,arguments)},this.getClearAlpha=function(){return G.getClearAlpha()},this.setClearAlpha=function(){G.setClearAlpha.apply(G,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),Fe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){v.removeEventListener("webglcontextlost",n,!1),v.removeEventListener("webglcontextrestored",i,!1),j.dispose(),H.dispose(),D.dispose(),B.dispose(),Be.dispose(),He.stop()},this.renderBufferImmediate=function(e,t){P.initAttributes();var r=D.get(e);e.hasPositions&&!r.position&&(r.position=Fe.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Fe.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Fe.createBuffer()),e.hasColors&&!r.color&&(r.color=Fe.createBuffer()),t=t.getAttributes(),e.hasPositions&&(Fe.bindBuffer(34962,r.position),Fe.bufferData(34962,e.positionArray,35048),P.enableAttribute(t.position),Fe.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(Fe.bindBuffer(34962,r.normal),Fe.bufferData(34962,e.normalArray,35048),P.enableAttribute(t.normal),Fe.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(Fe.bindBuffer(34962,r.uv),Fe.bufferData(34962,e.uvArray,35048),P.enableAttribute(t.uv),Fe.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(Fe.bindBuffer(34962,r.color),Fe.bufferData(34962,e.colorArray,35048),P.enableAttribute(t.color),Fe.vertexAttribPointer(t.color,3,5126,!1,0,0)),P.disableUnusedAttributes(),Fe.drawArrays(4,0,e.count),e.count=0};var Ue=new b;this.renderBufferDirect=function(e,r,n,i,o,a){null===r&&(r=Ue);var s=o.isMesh&&0>o.matrixWorld.determinant(),u=m(e,r,i,o);P.setMaterial(i,s);var l=!1;if(t===n.id&&re===u.id&&se===(!0===i.wireframe)||(t=n.id,re=u.id,se=!0===i.wireframe,l=!0),(i.morphTargets||i.morphNormals)&&(V.update(o,n,i,u),l=!0),!0===o.isInstancedMesh&&(l=!0),e=n.index,r=n.attributes.position,null===e){if(void 0===r||0===r.count)return}else if(0===e.count)return;var c=1;if(!0===i.wireframe&&(e=F.getWireframeAttribute(n),c=2),s=W,null!==e){var h=N.get(e);s=X,s.setIndex(h)}if(l){if(!1!==L.isWebGL2||!o.isInstancedMesh&&!n.isInstancedBufferGeometry||null!==R.get("ANGLE_instanced_arrays")){P.initAttributes(),l=n.attributes,u=u.getAttributes();var f=i.defaultAttributeValues;for(_ in u){var p=u[_];if(0<=p){var d=l[_];if(void 0!==d){var g=d.normalized,v=d.itemSize,y=N.get(d);if(void 0!==y){var b=y.buffer,x=y.type;if(y=y.bytesPerElement,d.isInterleavedBufferAttribute){var A=d.data,w=A.stride;d=d.offset,A&&A.isInstancedInterleavedBuffer?(P.enableAttributeAndDivisor(p,A.meshPerAttribute),void 0===n._maxInstanceCount&&(n._maxInstanceCount=A.meshPerAttribute*A.count)):P.enableAttribute(p),Fe.bindBuffer(34962,b),P.vertexAttribPointer(p,v,x,g,w*y,d*y)}else d.isInstancedBufferAttribute?(P.enableAttributeAndDivisor(p,d.meshPerAttribute),void 0===n._maxInstanceCount&&(n._maxInstanceCount=d.meshPerAttribute*d.count)):P.enableAttribute(p),Fe.bindBuffer(34962,b),P.vertexAttribPointer(p,v,x,g,0,0)}}else if("instanceMatrix"===_)y=N.get(o.instanceMatrix),void 0!==y&&(b=y.buffer,x=y.type,P.enableAttributeAndDivisor(p+0,1),P.enableAttributeAndDivisor(p+1,1),P.enableAttributeAndDivisor(p+2,1),P.enableAttributeAndDivisor(p+3,1),Fe.bindBuffer(34962,b),Fe.vertexAttribPointer(p+0,4,x,!1,64,0),Fe.vertexAttribPointer(p+1,4,x,!1,64,16),Fe.vertexAttribPointer(p+2,4,x,!1,64,32),Fe.vertexAttribPointer(p+3,4,x,!1,64,48));else if(void 0!==f&&(g=f[_],void 0!==g))switch(g.length){case 2:Fe.vertexAttrib2fv(p,g);break;case 3:Fe.vertexAttrib3fv(p,g);break;case 4:Fe.vertexAttrib4fv(p,g);break;default:Fe.vertexAttrib1fv(p,g)}}}P.disableUnusedAttributes()}null!==e&&Fe.bindBuffer(34963,h.buffer)}var _=n.drawRange.start*c;l=null!==a?a.start*c:0,h=Math.max(_,l),a=Math.max(0,Math.min(null!==e?e.count:r.count,_+n.drawRange.count*c,l+(null!==a?a.count*c:1/0))-1-h+1),0!==a&&(o.isMesh?!0===i.wireframe?(P.setLineWidth(i.wireframeLinewidth*(null===$?Me:1)),s.setMode(1)):s.setMode(4):o.isLine?(i=i.linewidth,void 0===i&&(i=1),P.setLineWidth(i*(null===$?Me:1)),o.isLineSegments?s.setMode(1):o.isLineLoop?s.setMode(2):s.setMode(3)):o.isPoints?s.setMode(0):o.isSprite&&s.setMode(4),o.isInstancedMesh?s.renderInstances(n,h,a,o.count):n.isInstancedBufferGeometry?s.renderInstances(n,h,a,Math.min(n.instanceCount,n._maxInstanceCount)):s.render(h,a))},this.compile=function(e,t){I=H.get(e,t),I.init(),e.traverse((function(e){e.isLight&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))})),I.setupLights(t);var r={};e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){var o=n[i];!1===o.uuid in r&&(p(o,e,t),r[o.uuid]=!0)}else!1===n.uuid in r&&(p(n,e,t),r[n.uuid]=!0)}))};var je=null,He=new oe;He.setAnimationLoop((function(e){Be.isPresenting||je&&je(e)})),"undefined"!==typeof window&&He.setContext(window),this.setAnimationLoop=function(e){je=e,Be.setAnimationLoop(e),He.start()},this.render=function(e,r,n,i){if(void 0!==n){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var o=n}if(void 0!==i){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var a=i}r&&r.isCamera?Z||(re=t=null,se=!1,te=-1,ue=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===r.parent&&r.updateMatrixWorld(),Be.enabled&&Be.isPresenting&&(r=Be.getCamera(r)),e.onBeforeRender(Y,e,r,o||$),I=H.get(e,r),I.init(),ke.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Le.setFromProjectionMatrix(ke),De=this.localClippingEnabled,Oe=Pe.init(this.clippingPlanes,De,r),E=j.get(e,r),E.init(),l(e,r,0,Y.sortObjects),E.finish(),!0===Y.sortObjects&&E.sort(Se,Te),Oe&&Pe.beginShadows(),ze.render(I.state.shadowsArray,e,r),I.setupLights(r),Oe&&Pe.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==o&&this.setRenderTarget(o),G.render(E,e,r,a),n=E.opaque,i=E.transparent,e.overrideMaterial?(o=e.overrideMaterial,n.length&&h(n,e,r,o),i.length&&h(i,e,r,o)):(n.length&&h(n,e,r),i.length&&h(i,e,r)),e.onAfterRender(Y,e,r),null!==$&&(k.updateRenderTargetMipmap($),k.updateMultisampleRenderTarget($)),P.buffers.depth.setTest(!0),P.buffers.depth.setMask(!0),P.buffers.color.setMask(!0),P.setPolygonOffset(!1),I=E=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){K!==e&&null===$&&Fe.bindFramebuffer(36160,e),K=e},this.getActiveCubeFace=function(){return J},this.getActiveMipmapLevel=function(){return Q},this.getRenderTarget=function(){return $},this.setRenderTarget=function(e,t,r){$=e,J=t,Q=r,e&&void 0===D.get(e).__webglFramebuffer&&k.setupRenderTarget(e);var n=K,i=!1;e?(n=D.get(e).__webglFramebuffer,e.isWebGLCubeRenderTarget?(n=n[t||0],i=!0):n=e.isWebGLMultisampleRenderTarget?D.get(e).__webglMultisampledFramebuffer:n,xe.copy(e.viewport),Ae.copy(e.scissor),we=e.scissorTest):(xe.copy(Ee).multiplyScalar(Me).floor(),Ae.copy(Ie).multiplyScalar(Me).floor(),we=Re),ee!==n&&(Fe.bindFramebuffer(36160,n),ee=n),P.viewport(xe),P.scissor(Ae),P.setScissorTest(we),i&&(e=D.get(e.texture),Fe.framebufferTexture2D(36160,36064,34069+(t||0),e.__webglTexture,r||0))},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=D.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){a=!1,s!==ee&&(Fe.bindFramebuffer(36160,s),a=!0);try{var u=e.texture,l=u.format,c=u.type;1023!==l&&q.convert(l)!==Fe.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===c||q.convert(c)===Fe.getParameter(35738)||1015===c&&(L.isWebGL2||R.get("OES_texture_float")||R.get("WEBGL_color_buffer_float"))||1016===c&&(L.isWebGL2?R.get("EXT_color_buffer_float"):R.get("EXT_color_buffer_half_float"))?36053===Fe.checkFramebufferStatus(36160)?0<=t&&t<=e.width-n&&0<=r&&r<=e.height-i&&Fe.readPixels(t,r,n,i,q.convert(l),q.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{a&&Fe.bindFramebuffer(36160,ee)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n);n=Math.floor(t.image.height*n);var o=q.convert(t.format);k.setTexture2D(t,0),Fe.copyTexImage2D(3553,r,o,e.x,e.y,i,n,0),P.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){void 0===n&&(n=0);var i=t.image.width,o=t.image.height,a=q.convert(r.format),s=q.convert(r.type);k.setTexture2D(r,0),t.isDataTexture?Fe.texSubImage2D(3553,n,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?Fe.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Fe.texSubImage2D(3553,n,e.x,e.y,a,s,t.image),0===n&&r.generateMipmaps&&Fe.generateMipmap(3553),P.unbindTexture()},this.initTexture=function(e){k.setTexture2D(e,0),P.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Jt(e,t){this.name="",this.color=new S(e),this.density=void 0!==t?t:25e-5}function Qt(e,t,r){this.name="",this.color=new S(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function $t(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function er(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function tr(e){L.call(this),this.type="SpriteMaterial",this.color=new S(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(e)}function rr(e){if(y.call(this),this.type="Sprite",void 0===gp){gp=new W;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);t=new $t(t,5),gp.setIndex([0,1,2,0,2,3]),gp.setAttribute("position",new er(t,3,0,!1)),gp.setAttribute("uv",new er(t,2,3,!1))}this.geometry=gp,this.material=void 0!==e?e:new tr,this.center=new s(.5,.5)}function nr(e,t,r,n,i,o){bp.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(xp.x=o*bp.x-i*bp.y,xp.y=i*bp.x+o*bp.y):xp.copy(bp),e.copy(t),e.x+=xp.x,e.y+=xp.y,e.applyMatrix4(Ap)}function ir(){y.call(this),this._currentLevel=0,this.type="LOD",Ac(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function or(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),X.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new g,this.bindMatrixInverse=new g}function ar(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new g)}function sr(){y.call(this),this.type="Bone"}function ur(e,t,r){X.call(this,e,t),this.instanceMatrix=new O(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function lr(e){L.call(this),this.type="LineBasicMaterial",this.color=new S(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(e)}function cr(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),y.call(this),this.type="Line",this.geometry=void 0!==e?e:new W,this.material=void 0!==t?t:new lr,this.updateMorphTargets()}function hr(e,t){cr.call(this,e,t),this.type="LineSegments"}function fr(e,t){cr.call(this,e,t),this.type="LineLoop"}function pr(e){L.call(this),this.type="PointsMaterial",this.color=new S(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}function dr(e,t){y.call(this),this.type="Points",this.geometry=void 0!==e?e:new W,this.material=void 0!==t?t:new pr,this.updateMorphTargets()}function gr(e,t,r,n,i,o,a){var s=Vp.distanceSqToPoint(e);s<r&&(r=new d,Vp.closestPointToPoint(e,r),r.applyMatrix4(n),e=i.ray.origin.distanceTo(r),e<i.near||e>i.far||o.push({distance:e,distanceToRay:Math.sqrt(s),point:r,index:t,face:null,object:a}))}function mr(e,t,r,n,i,o,a,s,u){l.call(this,e,t,r,n,i,o,a,s,u),this.format=void 0!==a?a:1022,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1}function vr(e,t,r,n,i,o,a,s,u,c,h,f){l.call(this,null,o,a,s,u,c,n,i,h,f),this.image={width:t,height:r},this.mipmaps=e,this.generateMipmaps=this.flipY=!1}function yr(e,t,r,n,i,o,a,s,u){l.call(this,e,t,r,n,i,o,a,s,u),this.needsUpdate=!0}function br(e,t,r,n,i,o,a,s,u,c){if(c=void 0!==c?c:1026,1026!==c&&1027!==c)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&1026===c&&(r=1012),void 0===r&&1027===c&&(r=1020),l.call(this,null,n,i,o,a,s,c,r,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.generateMipmaps=this.flipY=!1}function xr(e){W.call(this),this.type="WireframeGeometry";var t,r,n,i=[],o=[0,0],a={},s=["a","b","c"];if(e&&e.isGeometry){var u=e.faces,l=0;for(r=u.length;l<r;l++){var c=u[l];for(t=0;3>t;t++){var h=c[s[t]],f=c[s[(t+1)%3]];o[0]=Math.min(h,f),o[1]=Math.max(h,f),h=o[0]+","+o[1],void 0===a[h]&&(a[h]={index1:o[0],index2:o[1]})}}for(h in a)l=a[h],s=e.vertices[l.index1],i.push(s.x,s.y,s.z),s=e.vertices[l.index2],i.push(s.x,s.y,s.z)}else if(e&&e.isBufferGeometry)if(s=new d,null!==e.index){u=e.attributes.position,c=e.index;var p=e.groups;for(0===p.length&&(p=[{start:0,count:c.count,materialIndex:0}]),e=0,n=p.length;e<n;++e)for(l=p[e],t=l.start,r=l.count,l=t,r=t+r;l<r;l+=3)for(t=0;3>t;t++)h=c.getX(l+t),f=c.getX(l+(t+1)%3),o[0]=Math.min(h,f),o[1]=Math.max(h,f),h=o[0]+","+o[1],void 0===a[h]&&(a[h]={index1:o[0],index2:o[1]});for(h in a)l=a[h],s.fromBufferAttribute(u,l.index1),i.push(s.x,s.y,s.z),s.fromBufferAttribute(u,l.index2),i.push(s.x,s.y,s.z)}else for(u=e.attributes.position,l=0,r=u.count/3;l<r;l++)for(t=0;3>t;t++)a=3*l+t,s.fromBufferAttribute(u,a),i.push(s.x,s.y,s.z),a=3*l+(t+1)%3,s.fromBufferAttribute(u,a),i.push(s.x,s.y,s.z);this.setAttribute("position",new j(i,3))}function Ar(e,t,r){Z.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new wr(e,t,r)),this.mergeVertices()}function wr(e,t,r){W.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n,i,o=[],a=[],s=[],u=[],l=new d,c=new d,h=new d,f=new d,p=new d;3>e.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var g=t+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=t;i++){var v=i/t;e(v,m,c),a.push(c.x,c.y,c.z),0<=v-1e-5?(e(v-1e-5,m,h),f.subVectors(c,h)):(e(v+1e-5,m,h),f.subVectors(h,c)),0<=m-1e-5?(e(v,m-1e-5,h),p.subVectors(c,h)):(e(v,m+1e-5,h),p.subVectors(h,c)),l.crossVectors(f,p).normalize(),s.push(l.x,l.y,l.z),u.push(v,m)}}for(n=0;n<r;n++)for(i=0;i<t;i++)e=n*g+i+1,l=(n+1)*g+i+1,c=(n+1)*g+i,o.push(n*g+i,e,c),o.push(e,l,c);this.setIndex(o),this.setAttribute("position",new j(a,3)),this.setAttribute("normal",new j(s,3)),this.setAttribute("uv",new j(u,2))}function _r(e,t,r,n){Z.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new Cr(e,t,r,n)),this.mergeVertices()}function Cr(e,t,r,n){function i(e){u.push(e.x,e.y,e.z)}function o(t,r){t*=3,r.x=e[t+0],r.y=e[t+1],r.z=e[t+2]}function a(e,t,r,n){0>n&&1===e.x&&(l[t]=e.x-1),0===r.x&&0===r.z&&(l[t]=n/2/Math.PI+.5)}W.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1,n=n||0;var u=[],l=[];(function(e){for(var r=new d,n=new d,a=new d,s=0;s<t.length;s+=3){o(t[s+0],r),o(t[s+1],n),o(t[s+2],a);var u,l,c=r,h=n,f=a,p=Math.pow(2,e),g=[];for(l=0;l<=p;l++){g[l]=[];var m=c.clone().lerp(f,l/p),v=h.clone().lerp(f,l/p),y=p-l;for(u=0;u<=y;u++)g[l][u]=0===u&&l===p?m:m.clone().lerp(v,u/y)}for(l=0;l<p;l++)for(u=0;u<2*(p-l)-1;u++)c=Math.floor(u/2),0===u%2?(i(g[l][c+1]),i(g[l+1][c]),i(g[l][c])):(i(g[l][c+1]),i(g[l+1][c+1]),i(g[l+1][c]))}})(n),function(e){for(var t=new d,r=0;r<u.length;r+=3)t.x=u[r+0],t.y=u[r+1],t.z=u[r+2],t.normalize().multiplyScalar(e),u[r+0]=t.x,u[r+1]=t.y,u[r+2]=t.z}(r),function(){for(var e=new d,t=0;t<u.length;t+=3)e.x=u[t+0],e.y=u[t+1],e.z=u[t+2],l.push(Math.atan2(e.z,-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));e=new d,t=new d;for(var r=new d,n=new d,i=new s,o=new s,c=new s,h=0,f=0;h<u.length;h+=9,f+=6){e.set(u[h+0],u[h+1],u[h+2]),t.set(u[h+3],u[h+4],u[h+5]),r.set(u[h+6],u[h+7],u[h+8]),i.set(l[f+0],l[f+1]),o.set(l[f+2],l[f+3]),c.set(l[f+4],l[f+5]),n.copy(e).add(t).add(r).divideScalar(3);var p=Math.atan2(n.z,-n.x);a(i,f+0,e,p),a(o,f+2,t,p),a(c,f+4,r,p)}for(e=0;e<l.length;e+=6)t=l[e+0],r=l[e+2],n=l[e+4],i=Math.min(t,r,n),.9<Math.max(t,r,n)&&.1>i&&(.2>t&&(l[e+0]+=1),.2>r&&(l[e+2]+=1),.2>n&&(l[e+4]+=1))}(),this.setAttribute("position",new j(u,3)),this.setAttribute("normal",new j(u.slice(),3)),this.setAttribute("uv",new j(l,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Mr(e,t){Z.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Sr(e,t)),this.mergeVertices()}function Sr(e,t){Cr.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Tr(e,t){Z.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Er(e,t)),this.mergeVertices()}function Er(e,t){Cr.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ir(e,t){Z.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rr(e,t)),this.mergeVertices()}function Rr(e,t){var r=(1+Math.sqrt(5))/2;Cr.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Lr(e,t){Z.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Pr(e,t)),this.mergeVertices()}function Pr(e,t){var r=(1+Math.sqrt(5))/2,n=1/r;Cr.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Or(e,t,r,n,i,o){Z.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed."),e=new Dr(e,t,r,n,i),this.tangents=e.tangents,this.normals=e.normals,this.binormals=e.binormals,this.fromBufferGeometry(e),this.mergeVertices()}function Dr(e,t,r,n,i){function o(i){p=e.getPointAt(i/t,p);var o=a.normals[i];for(i=a.binormals[i],l=0;l<=n;l++){var s=l/n*Math.PI*2,u=Math.sin(s);s=-Math.cos(s),h.x=s*o.x+u*i.x,h.y=s*o.y+u*i.y,h.z=s*o.z+u*i.z,h.normalize(),m.push(h.x,h.y,h.z),c.x=p.x+r*h.x,c.y=p.y+r*h.y,c.z=p.z+r*h.z,g.push(c.x,c.y,c.z)}}W.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},t=t||64,r=r||1,n=n||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var u,l,c=new d,h=new d,f=new s,p=new d,g=[],m=[],v=[],y=[];for(u=0;u<t;u++)o(u);for(o(!1===i?t:0),u=0;u<=t;u++)for(l=0;l<=n;l++)f.x=u/t,f.y=l/n,v.push(f.x,f.y);(function(){for(l=1;l<=t;l++)for(u=1;u<=n;u++){var e=(n+1)*l+(u-1),r=(n+1)*l+u,i=(n+1)*(l-1)+u;y.push((n+1)*(l-1)+(u-1),e,i),y.push(e,r,i)}})(),this.setIndex(y),this.setAttribute("position",new j(g,3)),this.setAttribute("normal",new j(m,3)),this.setAttribute("uv",new j(v,2))}function kr(e,t,r,n,i,o,a){Z.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Nr(e,t,r,n,i,o)),this.mergeVertices()}function Nr(e,t,r,n,i,o){function a(e,t,r,n,i){var o=Math.sin(e);t=r/t*e,r=Math.cos(t),i.x=n*(2+r)*.5*Math.cos(e),i.y=n*(2+r)*o*.5,i.z=n*Math.sin(t)*.5}W.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var s,u=[],l=[],c=[],h=[],f=new d,p=new d,g=new d,m=new d,v=new d,y=new d,b=new d;for(s=0;s<=r;++s){var x=s/r*i*Math.PI*2;for(a(x,i,o,e,g),a(x+.01,i,o,e,m),y.subVectors(m,g),b.addVectors(m,g),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize(),x=0;x<=n;++x){var A=x/n*Math.PI*2,w=-t*Math.cos(A);A=t*Math.sin(A),f.x=g.x+(w*b.x+A*v.x),f.y=g.y+(w*b.y+A*v.y),f.z=g.z+(w*b.z+A*v.z),l.push(f.x,f.y,f.z),p.subVectors(f,g).normalize(),c.push(p.x,p.y,p.z),h.push(s/r),h.push(x/n)}}for(x=1;x<=r;x++)for(s=1;s<=n;s++)e=(n+1)*x+(s-1),t=(n+1)*x+s,i=(n+1)*(x-1)+s,u.push((n+1)*(x-1)+(s-1),e,i),u.push(e,t,i);this.setIndex(u),this.setAttribute("position",new j(l,3)),this.setAttribute("normal",new j(c,3)),this.setAttribute("uv",new j(h,2))}function Fr(e,t,r,n,i){Z.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new Br(e,t,r,n,i)),this.mergeVertices()}function Br(e,t,r,n,i){W.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],u=[],l=[],c=[],h=new d,f=new d,p=new d;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var g=a/n*i,m=o/r*Math.PI*2;f.x=(e+t*Math.cos(m))*Math.cos(g),f.y=(e+t*Math.cos(m))*Math.sin(g),f.z=t*Math.sin(m),u.push(f.x,f.y,f.z),h.x=e*Math.cos(g),h.y=e*Math.sin(g),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),c.push(a/n),c.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++)e=(n+1)*(o-1)+a-1,t=(n+1)*(o-1)+a,i=(n+1)*o+a,s.push((n+1)*o+a-1,e,i),s.push(e,t,i);this.setIndex(s),this.setAttribute("position",new j(u,3)),this.setAttribute("normal",new j(l,3)),this.setAttribute("uv",new j(c,2))}function zr(e,t,r,n,i){for(var o,a=0,s=t,u=r-n;s<r;s+=n)a+=(e[u]-e[s])*(e[s+1]+e[u+1]),u=s;if(i===0<a)for(i=t;i<r;i+=n)o=tn(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=tn(i,e[i],e[i+1],o);return o&&Zr(o,o.next)&&(rn(o),o=o.next),o}function Ur(e,t){if(!e)return e;t||(t=e);do{var r=!1;if(e.steiner||!Zr(e,e.next)&&0!==Yr(e.prev,e,e.next))e=e.next;else{if(rn(e),e=t=e.prev,e===e.next)break;r=!0}}while(r||e!==t);return t}function jr(e,t,r,n,i,o,a){if(e){if(!a&&o){var s=e,u=s;do{null===u.z&&(u.z=Wr(u.x,u.y,n,i,o)),u.prevZ=u.prev,u=u.nextZ=u.next}while(u!==s);u.prevZ.nextZ=null,u.prevZ=null,s=u;var l,c,h,f,p=1;do{u=s;var d=s=null;for(c=0;u;){c++;var g=u;for(l=h=0;l<p&&(h++,g=g.nextZ,g);l++);for(f=p;0<h||0<f&&g;)0!==h&&(0===f||!g||u.z<=g.z)?(l=u,u=u.nextZ,h--):(l=g,g=g.nextZ,f--),d?d.nextZ=l:s=l,l.prevZ=d,d=l;u=g}d.nextZ=null,p*=2}while(1<c)}for(s=e;e.prev!==e.next;){if(u=e.prev,g=e.next,o)d=Hr(e,n,i,o);else e:if(d=e,c=d.prev,h=d,p=d.next,0<=Yr(c,h,p))d=!1;else{for(l=d.next.next;l!==d.prev;){if(qr(c.x,c.y,h.x,h.y,p.x,p.y,l.x,l.y)&&0<=Yr(l.prev,l,l.next)){d=!1;break e}l=l.next}d=!0}if(d)t.push(u.i/r),t.push(e.i/r),t.push(g.i/r),rn(e),s=e=g.next;else if(e=g,e===s){if(a){if(1===a){e=Ur(e),a=t,s=r,u=e;do{g=u.prev,d=u.next.next,!Zr(g,d)&&Kr(g,u,u.next,d)&&$r(g,d)&&$r(d,g)&&(a.push(g.i/s),a.push(u.i/s),a.push(d.i/s),rn(u),rn(u.next),u=e=d),u=u.next}while(u!==e);e=Ur(u),jr(e,t,r,n,i,o,2)}else if(2===a)e:{a=e;do{for(s=a.next.next;s!==a.prev;){if(u=a.i!==s.i){if(u=a,g=s,d=u.next.i!==g.i&&u.prev.i!==g.i){t:{d=u;do{if(d.i!==u.i&&d.next.i!==u.i&&d.i!==g.i&&d.next.i!==g.i&&Kr(d,d.next,u,g)){d=!0;break t}d=d.next}while(d!==u);d=!1}d=!d}if(d){if(d=$r(u,g)&&$r(g,u)){d=u,c=!1,h=(u.x+g.x)/2,p=(u.y+g.y)/2;do{d.y>p!==d.next.y>p&&d.next.y!==d.y&&h<(d.next.x-d.x)*(p-d.y)/(d.next.y-d.y)+d.x&&(c=!c),d=d.next}while(d!==u);d=c}d=d&&(Yr(u.prev,u,g.prev)||Yr(u,g.prev,g))||Zr(u,g)&&0<Yr(u.prev,u,u.next)&&0<Yr(g.prev,g,g.next)}u=d}if(u){e=en(a,s),a=Ur(a,a.next),e=Ur(e,e.next),jr(a,t,r,n,i,o),jr(e,t,r,n,i,o);break e}s=s.next}a=a.next}while(a!==e)}}else jr(Ur(e),t,r,n,i,o,1);break}}}}function Hr(e,t,r,n){var i=e.prev,o=e.next;if(0<=Yr(i,e,o))return!1;var a=i.x>e.x?i.x>o.x?i.x:o.x:e.x>o.x?e.x:o.x,s=i.y>e.y?i.y>o.y?i.y:o.y:e.y>o.y?e.y:o.y,u=Wr(i.x<e.x?i.x<o.x?i.x:o.x:e.x<o.x?e.x:o.x,i.y<e.y?i.y<o.y?i.y:o.y:e.y<o.y?e.y:o.y,t,r,n);for(t=Wr(a,s,t,r,n),r=e.prevZ,n=e.nextZ;r&&r.z>=u&&n&&n.z<=t;){if(r!==e.prev&&r!==e.next&&qr(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Yr(r.prev,r,r.next))return!1;if(r=r.prevZ,n!==e.prev&&n!==e.next&&qr(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Yr(n.prev,n,n.next))return!1;n=n.nextZ}for(;r&&r.z>=u;){if(r!==e.prev&&r!==e.next&&qr(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Yr(r.prev,r,r.next))return!1;r=r.prevZ}for(;n&&n.z<=t;){if(n!==e.prev&&n!==e.next&&qr(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Yr(n.prev,n,n.next))return!1;n=n.nextZ}return!0}function Gr(e,t){return e.x-t.x}function Vr(e,t){var r=t,n=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(i===r.y)return r;if(i===r.next.y)return r.next}var s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!s)return null;if(n===o)return s;t=s,a=s.x;var u=s.y,l=1/0;r=s;do{if(n>=r.x&&r.x>=a&&n!==r.x&&qr(i<u?n:o,i,a,u,i<u?o:n,i,r.x,r.y)){var c,h=Math.abs(i-r.y)/(n-r.x);if((c=$r(r,e))&&!(c=h<l)&&(c=h===l)&&!(c=r.x>s.x)&&(c=r.x===s.x)){c=s;var f=r;c=0>Yr(c.prev,c,f.prev)&&0>Yr(f.next,c,c.next)}c&&(s=r,l=h)}r=r.next}while(r!==t);return s}function Wr(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),1431655765&(e|e<<1)|(1431655765&(t|t<<1))<<1}function Xr(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function qr(e,t,r,n,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(n-s)-(r-a)*(t-s)&&0<=(r-a)*(o-s)-(i-a)*(n-s)}function Yr(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Zr(e,t){return e.x===t.x&&e.y===t.y}function Kr(e,t,r,n){var i=Qr(Yr(e,t,r)),o=Qr(Yr(e,t,n)),a=Qr(Yr(r,n,e)),s=Qr(Yr(r,n,t));return!!(i!==o&&a!==s||0===i&&Jr(e,r,t)||0===o&&Jr(e,n,t)||0===a&&Jr(r,e,n)||0===s&&Jr(r,t,n))}function Jr(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Qr(e){return 0<e?1:0>e?-1:0}function $r(e,t){return 0>Yr(e.prev,e,e.next)?0<=Yr(e,t,e.next)&&0<=Yr(e,e.prev,t):0>Yr(e,t,e.prev)||0>Yr(e,e.next,t)}function en(e,t){var r=new nn(e.i,e.x,e.y),n=new nn(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function tn(e,t,r,n){return e=new nn(e,t,r),n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function rn(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function nn(e,t,r){this.i=e,this.x=t,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function on(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function an(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function sn(e,t){Z.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new un(e,t)),this.mergeVertices()}function un(e,t){function r(e){function r(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}function a(e,t,r){var n=e.x-t.x,i=e.y-t.y,o=r.x-e.x,a=r.y-e.y,u=n*n+i*i;if(Math.abs(n*a-i*o)>Dc){var l=Math.sqrt(u),c=Math.sqrt(o*o+a*a);if(u=t.x-i/l,t=t.y+n/l,a=((r.x-a/c-u)*a-(r.y+o/c-t)*o)/(n*a-i*o),o=u+n*a-e.x,n=t+i*a-e.y,i=o*o+n*n,2>=i)return new s(o,n);i=Math.sqrt(i/2)}else e=!1,n>Dc?o>Dc&&(e=!0):n<-Dc?o<-Dc&&(e=!0):Tc(i)===Tc(a)&&(e=!0),e?(o=-i,i=Math.sqrt(u)):(o=n,n=i,i=Math.sqrt(u/2));return new s(o/i,n/i)}function u(e,t){for(j=e.length;0<=--j;){var r=j,o=j-1;0>o&&(o=e.length-1);var a,s=m+2*w;for(a=0;a<s;a++){var u=z*a,l=z*(a+1),c=t+o+u,p=t+o+l;l=t+r+l,h(t+r+u),h(c),h(l),h(c),h(p),h(l),u=i.length/3,u=C.generateSideWallUV(n,i,u-6,u-3,u-2,u-1),f(u[0]),f(u[1]),f(u[3]),f(u[1]),f(u[2]),f(u[3])}}}function l(e,t,r){p.push(e),p.push(t),p.push(r)}function c(e,t,r){h(e),h(t),h(r),e=i.length/3,e=C.generateTopUV(n,i,e-3,e-2,e-1),f(e[0]),f(e[1]),f(e[2])}function h(e){i.push(p[3*e]),i.push(p[3*e+1]),i.push(p[3*e+2])}function f(e){o.push(e.x),o.push(e.y)}var p=[],g=void 0!==t.curveSegments?t.curveSegments:12,m=void 0!==t.steps?t.steps:1,v=void 0!==t.depth?t.depth:100,y=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.bevelThickness?t.bevelThickness:6,x=void 0!==t.bevelSize?t.bevelSize:b-2,A=void 0!==t.bevelOffset?t.bevelOffset:0,w=void 0!==t.bevelSegments?t.bevelSegments:3,_=t.extrudePath,C=void 0!==t.UVGenerator?t.UVGenerator:Zp;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);var M,S=!1;if(_){var T=_.getSpacedPoints(m);S=!0,y=!1;var E=_.computeFrenetFrames(m,!1),I=new d,R=new d,L=new d}y||(A=x=b=w=0),g=e.extractPoints(g),e=g.shape;var P=g.holes;if(!Yp.isClockWise(e)){e=e.reverse();var O=0;for(M=P.length;O<M;O++){var D=P[O];Yp.isClockWise(D)&&(P[O]=D.reverse())}}var k=Yp.triangulateShape(e,P),N=e;for(O=0,M=P.length;O<M;O++)D=P[O],e=e.concat(D);var F,B,z=e.length,U=k.length;g=[];var j=0,H=N.length,G=H-1;for(F=j+1;j<H;j++,G++,F++)G===H&&(G=0),F===H&&(F=0),g[j]=a(N[j],N[G],N[F]);_=[];var V=g.concat();for(O=0,M=P.length;O<M;O++){D=P[O];var W=[];for(j=0,H=D.length,G=H-1,F=j+1;j<H;j++,G++,F++)G===H&&(G=0),F===H&&(F=0),W[j]=a(D[j],D[G],D[F]);_.push(W),V=V.concat(W)}for(G=0;G<w;G++){H=G/w;var X=b*Math.cos(H*Math.PI/2);for(F=x*Math.sin(H*Math.PI/2)+A,j=0,H=N.length;j<H;j++){var q=r(N[j],g[j],F);l(q.x,q.y,-X)}for(O=0,M=P.length;O<M;O++)for(D=P[O],W=_[O],j=0,H=D.length;j<H;j++)q=r(D[j],W[j],F),l(q.x,q.y,-X)}for(F=x+A,j=0;j<z;j++)q=y?r(e[j],V[j],F):e[j],S?(R.copy(E.normals[0]).multiplyScalar(q.x),I.copy(E.binormals[0]).multiplyScalar(q.y),L.copy(T[0]).add(R).add(I),l(L.x,L.y,L.z)):l(q.x,q.y,0);for(H=1;H<=m;H++)for(j=0;j<z;j++)q=y?r(e[j],V[j],F):e[j],S?(R.copy(E.normals[H]).multiplyScalar(q.x),I.copy(E.binormals[H]).multiplyScalar(q.y),L.copy(T[H]).add(R).add(I),l(L.x,L.y,L.z)):l(q.x,q.y,v/m*H);for(G=w-1;0<=G;G--){for(H=G/w,X=b*Math.cos(H*Math.PI/2),F=x*Math.sin(H*Math.PI/2)+A,j=0,H=N.length;j<H;j++)q=r(N[j],g[j],F),l(q.x,q.y,v+X);for(O=0,M=P.length;O<M;O++)for(D=P[O],W=_[O],j=0,H=D.length;j<H;j++)q=r(D[j],W[j],F),S?l(q.x,q.y+T[m-1].y,T[m-1].x+X):l(q.x,q.y,v+X)}(function(){var e=i.length/3;if(y){var t=0*z;for(j=0;j<U;j++)B=k[j],c(B[2]+t,B[1]+t,B[0]+t);for(t=z*(m+2*w),j=0;j<U;j++)B=k[j],c(B[0]+t,B[1]+t,B[2]+t)}else{for(j=0;j<U;j++)B=k[j],c(B[2],B[1],B[0]);for(j=0;j<U;j++)B=k[j],c(B[0]+z*m,B[1]+z*m,B[2]+z*m)}n.addGroup(e,i.length/3-e,0)})(),function(){var e=i.length/3,t=0;for(u(N,t),t+=N.length,O=0,M=P.length;O<M;O++)D=P[O],u(D,t),t+=D.length;n.addGroup(e,i.length/3-e,1)}()}W.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],o=[],a=0,u=e.length;a<u;a++)r(e[a]);this.setAttribute("position",new j(i,3)),this.setAttribute("uv",new j(o,2)),this.computeVertexNormals()}function ln(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r.shapes.push(e[n].uuid);else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function cn(e,t){Z.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new hn(e,t)),this.mergeVertices()}function hn(e,t){t=t||{};var r=t.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Z;e=r.generateShapes(e,t.size),t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),un.call(this,e,t),this.type="TextBufferGeometry"}function fn(e,t,r,n,i,o,a){Z.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new pn(e,t,r,n,i,o,a)),this.mergeVertices()}function pn(e,t,r,n,i,o,a){W.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,l=Math.min(o+a,Math.PI),c=0,h=[],f=new d,p=new d,g=[],m=[],v=[],y=[];for(u=0;u<=r;u++){var b=[],x=u/r,A=0;for(0==u&&0==o?A=.5/t:u==r&&l==Math.PI&&(A=-.5/t),s=0;s<=t;s++){var w=s/t;f.x=-e*Math.cos(n+w*i)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(n+w*i)*Math.sin(o+x*a),m.push(f.x,f.y,f.z),p.copy(f).normalize(),v.push(p.x,p.y,p.z),y.push(w+A,1-x),b.push(c++)}h.push(b)}for(u=0;u<r;u++)for(s=0;s<t;s++)e=h[u][s+1],n=h[u][s],i=h[u+1][s],a=h[u+1][s+1],(0!==u||0<o)&&g.push(e,n,a),(u!==r-1||l<Math.PI)&&g.push(n,i,a);this.setIndex(g),this.setAttribute("position",new j(m,3)),this.setAttribute("normal",new j(v,3)),this.setAttribute("uv",new j(y,2))}function dn(e,t,r,n,i,o){Z.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new gn(e,t,r,n,i,o)),this.mergeVertices()}function gn(e,t,r,n,i,o){W.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8,n=void 0!==n?Math.max(1,n):1;var a,u,l=[],c=[],h=[],f=[],p=e,g=(t-e)/n,m=new d,v=new s;for(a=0;a<=n;a++){for(u=0;u<=r;u++)e=i+u/r*o,m.x=p*Math.cos(e),m.y=p*Math.sin(e),c.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,f.push(v.x,v.y);p+=g}for(a=0;a<n;a++)for(t=a*(r+1),u=0;u<r;u++)e=u+t,i=e+r+1,o=e+r+2,p=e+1,l.push(e,i,p),l.push(i,o,p);this.setIndex(l),this.setAttribute("position",new j(c,3)),this.setAttribute("normal",new j(h,3)),this.setAttribute("uv",new j(f,2))}function mn(e,t,r,n){Z.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new vn(e,t,r,n)),this.mergeVertices()}function vn(e,t,r,n){W.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t)||12,r=r||0,n=n||2*Math.PI,n=nh.clamp(n,0,2*Math.PI);var i,o=[],a=[],u=[],l=1/t,c=new d,h=new s;for(i=0;i<=t;i++){var f=r+i*l*n,p=Math.sin(f),g=Math.cos(f);for(f=0;f<=e.length-1;f++)c.x=e[f].x*p,c.y=e[f].y,c.z=e[f].x*g,a.push(c.x,c.y,c.z),h.x=i/t,h.y=f/(e.length-1),u.push(h.x,h.y)}for(i=0;i<t;i++)for(f=0;f<e.length-1;f++)r=f+i*e.length,l=r+e.length,c=r+e.length+1,h=r+1,o.push(r,l,h),o.push(l,c,h);if(this.setIndex(o),this.setAttribute("position",new j(a,3)),this.setAttribute("uv",new j(u,2)),this.computeVertexNormals(),n===2*Math.PI)for(n=this.attributes.normal.array,o=new d,a=new d,u=new d,r=t*e.length*3,f=i=0;i<e.length;i++,f+=3)o.x=n[f+0],o.y=n[f+1],o.z=n[f+2],a.x=n[r+f+0],a.y=n[r+f+1],a.z=n[r+f+2],u.addVectors(o,a).normalize(),n[f+0]=n[r+f+0]=u.x,n[f+1]=n[r+f+1]=u.y,n[f+2]=n[r+f+2]=u.z}function yn(e,t){Z.call(this),this.type="ShapeGeometry","object"===("undefined"===typeof t?"undefined":Rl(t))&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new bn(e,t)),this.mergeVertices()}function bn(e,t){function r(e){var r,s=i.length/3;e=e.extractPoints(t);var l=e.shape,c=e.holes;for(!1===Yp.isClockWise(l)&&(l=l.reverse()),e=0,r=c.length;e<r;e++){var h=c[e];!0===Yp.isClockWise(h)&&(c[e]=h.reverse())}var f=Yp.triangulateShape(l,c);for(e=0,r=c.length;e<r;e++)h=c[e],l=l.concat(h);for(e=0,r=l.length;e<r;e++)h=l[e],i.push(h.x,h.y,0),o.push(0,0,1),a.push(h.x,h.y);for(e=0,r=f.length;e<r;e++)l=f[e],n.push(l[0]+s,l[1]+s,l[2]+s),u+=3}W.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))r(e);else for(var l=0;l<e.length;l++)r(e[l]),this.addGroup(s,u,l),s+=u,u=0;this.setIndex(n),this.setAttribute("position",new j(i,3)),this.setAttribute("normal",new j(o,3)),this.setAttribute("uv",new j(a,2))}function xn(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t.shapes.push(e[r].uuid);else t.shapes.push(e.uuid);return t}function An(e,t){W.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var r=[];t=Math.cos(nh.DEG2RAD*(void 0!==t?t:1));var n=[0,0],i={},o=["a","b","c"];if(e.isBufferGeometry){var a=new Z;a.fromBufferGeometry(e)}else a=e.clone();a.mergeVertices(),a.computeFaceNormals(),e=a.vertices,a=a.faces;for(var s=0,u=a.length;s<u;s++)for(var l=a[s],c=0;3>c;c++){var h=l[o[c]],f=l[o[(c+1)%3]];n[0]=Math.min(h,f),n[1]=Math.max(h,f),h=n[0]+","+n[1],void 0===i[h]?i[h]={index1:n[0],index2:n[1],face1:s,face2:void 0}:i[h].face2=s}for(h in i)n=i[h],(void 0===n.face2||a[n.face1].normal.dot(a[n.face2].normal)<=t)&&(o=e[n.index1],r.push(o.x,o.y,o.z),o=e[n.index2],r.push(o.x,o.y,o.z));this.setAttribute("position",new j(r,3))}function wn(e,t,r,n,i,o,a,s){Z.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new _n(e,t,r,n,i,o,a,s)),this.mergeVertices()}function _n(e,t,r,n,i,o,a,u){function l(r){var i,o=new s,l=new d,v=0,x=!0===r?e:t,A=!0===r?1:-1,w=m;for(i=1;i<=n;i++)f.push(0,y*A,0),p.push(0,A,0),g.push(.5,.5),m++;var _=m;for(i=0;i<=n;i++){var C=i/n*u+a,M=Math.cos(C);C=Math.sin(C),l.x=x*C,l.y=y*A,l.z=x*M,f.push(l.x,l.y,l.z),p.push(0,A,0),o.x=.5*M+.5,o.y=.5*C*A+.5,g.push(o.x,o.y),m++}for(i=0;i<n;i++)o=w+i,l=_+i,!0===r?h.push(l,l+1,o):h.push(l+1,l,o),v+=3;c.addGroup(b,v,!0===r?1:2),b+=v}W.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:u};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,u=void 0!==u?u:2*Math.PI;var h=[],f=[],p=[],g=[],m=0,v=[],y=r/2,b=0;(function(){var o,s,l=new d,x=new d,A=0,w=(t-e)/r;for(s=0;s<=i;s++){var _=[],C=s/i,M=C*(t-e)+e;for(o=0;o<=n;o++){var S=o/n,T=S*u+a,E=Math.sin(T);T=Math.cos(T),x.x=M*E,x.y=-C*r+y,x.z=M*T,f.push(x.x,x.y,x.z),l.set(E,w,T).normalize(),p.push(l.x,l.y,l.z),g.push(S,1-C),_.push(m++)}v.push(_)}for(o=0;o<n;o++)for(s=0;s<i;s++)l=v[s+1][o],x=v[s+1][o+1],w=v[s][o+1],h.push(v[s][o],l,w),h.push(l,x,w),A+=6;c.addGroup(b,A,0),b+=A})(),!1===o&&(0<e&&l(!0),0<t&&l(!1)),this.setIndex(h),this.setAttribute("position",new j(f,3)),this.setAttribute("normal",new j(p,3)),this.setAttribute("uv",new j(g,2))}function Cn(e,t,r,n,i,o,a){wn.call(this,0,e,t,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function Mn(e,t,r,n,i,o,a){_n.call(this,0,e,t,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function Sn(e,t,r,n){Z.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new Tn(e,t,r,n)),this.mergeVertices()}function Tn(e,t,r,n){W.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o=[],a=[],u=[],l=[],c=new d,h=new s;a.push(0,0,0),u.push(0,0,1),l.push(.5,.5);var f=0;for(i=3;f<=t;f++,i+=3){var p=r+f/t*n;c.x=e*Math.cos(p),c.y=e*Math.sin(p),a.push(c.x,c.y,c.z),u.push(0,0,1),h.x=(a[i]/e+1)/2,h.y=(a[i+1]/e+1)/2,l.push(h.x,h.y)}for(i=1;i<=t;i++)o.push(i,i+1,0);this.setIndex(o),this.setAttribute("position",new j(a,3)),this.setAttribute("normal",new j(u,3)),this.setAttribute("uv",new j(l,2))}function En(e){L.call(this),this.type="ShadowMaterial",this.color=new S(0),this.transparent=!0,this.setValues(e)}function In(e){Q.call(this,e),this.type="RawShaderMaterial"}function Rn(e){L.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new S(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new S(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new s(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Ln(e){Rn.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new s(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function Pn(e){L.call(this),this.type="MeshPhongMaterial",this.color=new S(16777215),this.specular=new S(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new S(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new s(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function On(e){L.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new S(16777215),this.specular=new S(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new S(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new s(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Dn(e){L.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new s(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(e)}function kn(e){L.call(this),this.type="MeshLambertMaterial",this.color=new S(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new S(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Nn(e){L.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new S(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new s(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Fn(e){lr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Bn(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function zn(e,t,r,n){Bn.call(this,e,t,r,n),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Un(e,t,r,n){Bn.call(this,e,t,r,n)}function jn(e,t,r,n){Bn.call(this,e,t,r,n)}function Hn(e,t,r,n){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qp.convertArray(t,this.TimeBufferType),this.values=Qp.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Gn(e,t,r){Hn.call(this,e,t,r)}function Vn(e,t,r,n){Hn.call(this,e,t,r,n)}function Wn(e,t,r,n){Hn.call(this,e,t,r,n)}function Xn(e,t,r,n){Bn.call(this,e,t,r,n)}function qn(e,t,r,n){Hn.call(this,e,t,r,n)}function Yn(e,t,r,n){Hn.call(this,e,t,r,n)}function Zn(e,t,r,n){Hn.call(this,e,t,r,n)}function Kn(e,t,r,n){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:2500,this.uuid=nh.generateUUID(),0>this.duration&&this.resetDuration()}function Jn(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wn;case"vector":case"vector2":case"vector3":case"vector4":return Zn;case"color":return Vn;case"quaternion":return qn;case"bool":case"boolean":return Gn;case"string":return Yn}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function Qn(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=Jn(e.type);if(void 0===e.times){var r=[],n=[];Qp.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function $n(e,t,r){var n=this,i=!1,o=0,a=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,!1===i&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad)&&n.onLoad()},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){return e=u.indexOf(e),-1!==e&&u.splice(e,2),this},this.getHandler=function(e){for(var t=0,r=u.length;t<r;t+=2){var n=u[t],i=u[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}function ei(e){this.manager=void 0!==e?e:ed,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function ti(e){ei.call(this,e)}function ri(e){ei.call(this,e)}function ni(e){ei.call(this,e)}function ii(e){ei.call(this,e)}function oi(e){ei.call(this,e)}function ai(e){ei.call(this,e)}function si(e){ei.call(this,e)}function ui(){this.type="Curve",this.arcLengthDivisions=200}function li(e,t,r,n,i,o,a,s){ui.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function ci(e,t,r,n,i,o){li.call(this,e,t,r,r,n,i,o),this.type="ArcCurve"}function hi(){var e=0,t=0,r=0,n=0;return{initCatmullRom:function(i,o,a,s,u){i=u*(a-i),s=u*(s-o),e=o,t=i,r=-3*o+3*a-2*i-s,n=2*o-2*a+i+s},initNonuniformCatmullRom:function(i,o,a,s,u,l,c){i=((o-i)/u-(a-i)/(u+l)+(a-o)/l)*l,s=((a-o)/l-(s-o)/(l+c)+(s-a)/c)*l,e=o,t=i,r=-3*o+3*a-2*i-s,n=2*o-2*a+i+s},calc:function(i){var o=i*i;return e+t*i+r*o+n*o*i}}}function fi(e,t,r,n){ui.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function pi(e,t,r,n,i){t=.5*(n-t),i=.5*(i-r);var o=e*e;return(2*r-2*n+t+i)*e*o+(-3*r+3*n-2*t-i)*o+t*e+r}function di(e,t,r,n){var i=1-e;return i*i*t+2*(1-e)*e*r+e*e*n}function gi(e,t,r,n,i){var o=1-e,a=1-e;return o*o*o*t+3*a*a*e*r+3*(1-e)*e*e*n+e*e*e*i}function mi(e,t,r,n){ui.call(this),this.type="CubicBezierCurve",this.v0=e||new s,this.v1=t||new s,this.v2=r||new s,this.v3=n||new s}function vi(e,t,r,n){ui.call(this),this.type="CubicBezierCurve3",this.v0=e||new d,this.v1=t||new d,this.v2=r||new d,this.v3=n||new d}function yi(e,t){ui.call(this),this.type="LineCurve",this.v1=e||new s,this.v2=t||new s}function bi(e,t){ui.call(this),this.type="LineCurve3",this.v1=e||new d,this.v2=t||new d}function xi(e,t,r){ui.call(this),this.type="QuadraticBezierCurve",this.v0=e||new s,this.v1=t||new s,this.v2=r||new s}function Ai(e,t,r){ui.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new d,this.v1=t||new d,this.v2=r||new d}function wi(e){ui.call(this),this.type="SplineCurve",this.points=e||[]}function _i(){ui.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ci(e){_i.call(this),this.type="Path",this.currentPoint=new s,e&&this.setFromPoints(e)}function Mi(e){Ci.call(this,e),this.uuid=nh.generateUUID(),this.type="Shape",this.holes=[]}function Si(e,t){y.call(this),this.type="Light",this.color=new S(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Ti(e,t,r){Si.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(y.DefaultUp),this.updateMatrix(),this.groundColor=new S(t)}function Ei(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new s(512,512),this.mapPass=this.map=null,this.matrix=new g,this._frustum=new ie,this._frameExtents=new s(1,1),this._viewportCount=1,this._viewports=[new c(0,0,1,1)]}function Ii(){Ei.call(this,new ee(50,1,.5,500))}function Ri(e,t,r,n,i,o){Si.call(this,e,t),this.type="SpotLight",this.position.copy(y.DefaultUp),this.updateMatrix(),this.target=new y,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Ii}function Li(){Ei.call(this,new ee(90,1,.5,500)),this._frameExtents=new s(4,2),this._viewportCount=6,this._viewports=[new c(2,1,1,1),new c(0,1,1,1),new c(3,1,1,1),new c(1,1,1,1),new c(3,0,1,1),new c(1,0,1,1)],this._cubeDirections=[new d(1,0,0),new d(-1,0,0),new d(0,0,1),new d(0,0,-1),new d(0,1,0),new d(0,-1,0)],this._cubeUps=[new d(0,1,0),new d(0,1,0),new d(0,1,0),new d(0,1,0),new d(0,0,1),new d(0,0,-1)]}function Pi(e,t,r,n){Si.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new Li}function Oi(e,t,r,n,i,o){$.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Di(){Ei.call(this,new Oi(-5,5,5,-5,.5,500))}function ki(e,t){Si.call(this,e,t),this.type="DirectionalLight",this.position.copy(y.DefaultUp),this.updateMatrix(),this.target=new y,this.shadow=new Di}function Ni(e,t){Si.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Fi(e,t,r,n){Si.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function Bi(){this.coefficients=[];for(var e=0;9>e;e++)this.coefficients.push(new d)}function zi(e,t){Si.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Bi}function Ui(e){ei.call(this,e),this.textures={}}function ji(){W.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Hi(e,t,r,n){"number"===typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),O.call(this,e,t,r),this.meshPerAttribute=n||1}function Gi(e){ei.call(this,e)}function Vi(e){ei.call(this,e)}function Wi(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ei.call(this,e),this.options=void 0}function Xi(){this.type="ShapePath",this.color=new S,this.subPaths=[],this.currentPath=null}function qi(e){this.type="Font",this.data=e}function Yi(e){ei.call(this,e)}function Zi(e){ei.call(this,e)}function Ki(e,t,r){zi.call(this,void 0,r),e=(new S).set(e),r=(new S).set(t),t=new d(e.r,e.g,e.b),e=new d(r.r,r.g,r.b),r=Math.sqrt(Math.PI);var n=r*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(e).multiplyScalar(r),this.sh.coefficients[1].copy(t).sub(e).multiplyScalar(n)}function Ji(e,t){zi.call(this,void 0,t),e=(new S).set(e),this.sh.coefficients[0].set(e.r,e.g,e.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Qi(e){this.autoStart=void 0===e||e,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function $i(){y.call(this),this.type="AudioListener",this.context=pd.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Qi}function eo(e){y.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function to(e){eo.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function ro(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function no(e,t,r){switch(this.binding=e,this.valueSize=r,t){case"quaternion":e=this._slerp,t=this._slerpAdditive;var n=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":t=e=this._select,n=this._setAdditiveIdentityOther,this.buffer=Array(5*r);break;default:e=this._lerp,t=this._lerpAdditive,n=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=e,this._mixBufferRegionAdditive=t,this._setIdentity=n,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function io(e,t,r){r=r||oo.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function oo(e,t,r){this.path=t,this.parsedPath=r||oo.parseTrackName(t),this.node=oo.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ao(e,t,r,n){this._mixer=e,this._clip=t,this._localRoot=r||null,this.blendMode=n||t.blendMode,e=t.tracks,t=e.length,r=Array(t),n={endingStart:2400,endingEnd:2400};for(var i=0;i!==t;++i){var o=e[i].createInterpolant(null);r[i]=o,o.settings=n}this._interpolantSettings=n,this._interpolants=r,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function so(e){this._root=e,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function uo(e,t){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=t),this.value=e}function lo(e,t,r){$t.call(this,e,t),this.meshPerAttribute=r||1}function co(e,t,r,n){this.ray=new _(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.layers=new v,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Ac(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ho(e,t){return e.distance-t.distance}function fo(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n){e=e.children,n=0;for(var i=e.length;n<i;n++)fo(e[n],t,r,!0)}}function po(e,t){this.min=void 0!==e?e:new s(1/0,1/0),this.max=void 0!==t?t:new s(-1/0,-1/0)}function go(e,t){this.start=void 0!==e?e:new d,this.end=void 0!==t?t:new d}function mo(e){y.call(this),this.material=e,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function vo(e,t){y.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new W,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,n=1;32>r;r++,n++){var i=r/32*Math.PI*2,o=n/32*Math.PI*2;t.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}e.setAttribute("position",new j(t,3)),t=new lr({fog:!1,toneMapped:!1}),this.cone=new hr(e,t),this.add(this.cone),this.update()}function yo(e){var t=[];e&&e.isBone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,yo(e.children[r]));return t}function bo(e){for(var t=yo(e),r=new W,n=[],i=[],o=new S(0,0,1),a=new S(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.setAttribute("position",new j(n,3)),r.setAttribute("color",new j(i,3)),n=new lr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),hr.call(this,r,n),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function xo(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r,e=new pn(t,4,2),t=new P({wireframe:!0,fog:!1,toneMapped:!1}),X.call(this,e,t),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Ao(e,t,r){y.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,e=new Er(t),e.rotateY(.5*Math.PI),this.material=new P({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0),t=e.getAttribute("position"),t=new Float32Array(3*t.count),e.setAttribute("color",new O(t,3)),this.add(new X(e,this.material)),this.update()}function wo(e,t,r,n){e=e||10,t=t||10,r=new S(void 0!==r?r:4473924),n=new S(void 0!==n?n:8947848);var i=t/2,o=e/t,a=e/2;e=[];for(var s=[],u=0,l=0,c=-a;u<=t;u++,c+=o){e.push(-a,0,c,a,0,c),e.push(c,0,-a,c,0,a);var h=u===i?r:n;h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3}t=new W,t.setAttribute("position",new j(e,3)),t.setAttribute("color",new j(s,3)),r=new lr({vertexColors:!0,toneMapped:!1}),hr.call(this,t,r),this.type="GridHelper"}function _o(e,t,r,n,i,o){e=e||10,t=t||16,r=r||8,n=n||64,i=new S(void 0!==i?i:4473924),o=new S(void 0!==o?o:8947848);var a,s=[],u=[];for(a=0;a<=t;a++){var l=a/t*2*Math.PI,c=Math.sin(l)*e;l=Math.cos(l)*e,s.push(0,0,0),s.push(c,0,l);var h=1&a?i:o;u.push(h.r,h.g,h.b),u.push(h.r,h.g,h.b)}for(a=0;a<=r;a++){h=1&a?i:o;var f=e-e/r*a;for(t=0;t<n;t++)l=t/n*2*Math.PI,c=Math.sin(l)*f,l=Math.cos(l)*f,s.push(c,0,l),u.push(h.r,h.g,h.b),l=(t+1)/n*2*Math.PI,c=Math.sin(l)*f,l=Math.cos(l)*f,s.push(c,0,l),u.push(h.r,h.g,h.b)}e=new W,e.setAttribute("position",new j(s,3)),e.setAttribute("color",new j(u,3)),s=new lr({vertexColors:!0,toneMapped:!1}),hr.call(this,e,s),this.type="PolarGridHelper"}function Co(e,t,r){y.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1),e=new W,e.setAttribute("position",new j([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new lr({fog:!1,toneMapped:!1}),this.lightPlane=new cr(e,t),this.add(this.lightPlane),e=new W,e.setAttribute("position",new j([0,0,0,0,0,1],3)),this.targetLine=new cr(e,t),this.add(this.targetLine),this.update()}function Mo(e){function t(e,t,n){r(e,n),r(t,n)}function r(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var n=new W,i=new lr({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],a=[],s={},u=new S(16755200),l=new S(16711680),c=new S(43775),h=new S(16777215),f=new S(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",l),t("p","n2",l),t("p","n3",l),t("p","n4",l),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",h),t("p","c",f),t("cn1","cn2",f),t("cn3","cn4",f),t("cf1","cf2",f),t("cf3","cf4",f),n.setAttribute("position",new j(o,3)),n.setAttribute("color",new j(a,3)),hr.call(this,n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function So(e,t,r,n,i,o,a){if(Wd.set(i,o,a).unproject(n),e=t[e],void 0!==e)for(r=r.getAttribute("position"),t=0,n=e.length;t<n;t++)r.setXYZ(e[t],Wd.x,Wd.y,Wd.z)}function To(e,t){this.object=e,void 0===t&&(t=16776960),e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Float32Array(24),n=new W;n.setIndex(new O(e,1)),n.setAttribute("position",new O(r,3)),hr.call(this,n,new lr({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Eo(e,t){this.type="Box3Helper",this.box=e,t=t||16776960,e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new W;r.setIndex(new O(e,1)),r.setAttribute("position",new j([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),hr.call(this,r,new lr({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Io(e,t,r){this.plane=e,this.size=void 0===t?1:t,e=void 0!==r?r:16776960,t=new W,t.setAttribute("position",new j([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),cr.call(this,t,new lr({color:e,toneMapped:!1})),this.type="PlaneHelper",t=new W,t.setAttribute("position",new j([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new X(t,new P({color:e,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function Ro(e,t,r,n,i,o){y.call(this),this.type="ArrowHelper",void 0===e&&(e=new d(0,0,1)),void 0===t&&(t=new d(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===Yd&&(Yd=new W,Yd.setAttribute("position",new j([0,0,0,0,1,0],3)),Zd=new _n(0,.5,1,5,1),Zd.translate(0,-.5,0)),this.position.copy(t),this.line=new cr(Yd,new lr({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new X(Zd,new P({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function Lo(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];e=new W,e.setAttribute("position",new j(t,3)),e.setAttribute("color",new j([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new lr({vertexColors:!0,toneMapped:!1}),hr.call(this,e,t),this.type="AxesHelper"}function Po(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),fi.call(this,e),this.type="catmullrom"}function Oo(){}function Do(e,t){for(var r in t)e[r]=t[r]}function ko(e,t){this.lng=e,this.lat=t}function No(e,t){this.x=e,this.y=t}function Fo(e){for(var t=e.length;0<=--t;)e[t]=0}function Bo(e,t){return function(r){return t(e(r))}}function zo(e){var t=function(t){return void 0===t||null===t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function Uo(e){var t=function(t){if(void 0===t||null===t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"===("undefined"===typeof r?"undefined":Rl(r)))for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}function jo(e,t){if(!(this instanceof jo))return new jo(e,t);if(t&&t in Sg&&(t=null),t&&!(t in Cg))throw Error("Unknown model: "+t);if("undefined"===typeof e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof jo)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){if(t=xg.get(e),null===t)throw Error("Unable to parse color from string: "+e);this.model=t.model;var r=Cg[this.model].channels;this.color=t.value.slice(0,r),this.valpha="number"===typeof t.value[r]?t.value[r]:1}else if(e.length)this.model=t||"rgb",r=Cg[this.model].channels,t=Mg.call(e,0,r),this.color=Wo(t,r),this.valpha="number"===typeof e[r]?e[r]:1;else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{if(this.valpha=1,t=lc(e),"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0),t=t.sort().join(""),!(t in Tg))throw Error("Unable to parse color from object: "+pc(e));this.model=Tg[t],r=Cg[this.model].labels;var n=[];for(t=0;t<r.length;t++)n.push(e[r[t]]);this.color=Wo(n)}if(Eg[this.model])for(r=Cg[this.model].channels,t=0;t<r;t++)(e=Eg[this.model][t])&&(this.color[t]=e(this.color[t]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Du&&Du(this)}function Ho(e){return function(t){return Number(t.toFixed(e))}}function Go(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach((function(e){(Eg[e]||(Eg[e]=[]))[t]=r})),e=e[0],function(n){if(arguments.length){r&&(n=r(n));var i=this[e]();return i.color[t]=n,i}return i=this[e]().color[t],r&&(i=r(i)),i}}function Vo(e){return function(t){return Math.max(0,Math.min(e,t))}}function Wo(e,t){for(var r=0;r<t;r++)"number"!==typeof e[r]&&(e[r]=0);return e}function Xo(e,t){for(var r=["webgl2","experimental-webgl2","webgl","experimental-webgl"],n=void 0,i=0;i<r.length;i++)try{if(n=e.getContext(r[i],{alpha:!0,premultipliedAlpha:!1,antialias:t.antialias||!0,preserveDrawingBuffer:t.preserveDrawingBuffer||!1}))break}catch(o){}return n}function qo(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1}var Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},Zo=i((function(e){e=e.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=e)})),Ko=i((function(e){e=e.exports={version:"2.6.5"},"number"==typeof __e&&(__e=e)})),Jo=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Qo=function(e,t,r){if(Jo(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},$o=function(e){return"object"===typeof e?null!==e:"function"===typeof e},ea=function(e){if(!$o(e))throw TypeError(e+" is not an object!");return e},ta=function(e){try{return!!e()}catch(t){return!0}},ra=!ta((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),na=Zo.document,ia=$o(na)&&$o(na.createElement),oa=!ra&&!ta((function(){return 7!=Object.defineProperty(ia?na.createElement("div"):{},"a",{get:function(){return 7}}).a})),aa=function(e,t){if(!$o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!$o(n=r.call(e))||"function"==typeof(r=e.valueOf)&&!$o(n=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!$o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},sa=Object.defineProperty,ua={f:ra?Object.defineProperty:function(e,t,r){if(ea(e),t=aa(t,!0),ea(r),oa)try{return sa(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},la=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ca=ra?function(e,t,r){return ua.f(e,t,la(1,r))}:function(e,t,r){return e[t]=r,e},ha={}.hasOwnProperty,fa=function(e,t){return ha.call(e,t)},pa=function(e,t,r){var n,i=e&pa.F,o=e&pa.G,a=e&pa.S,s=e&pa.P,u=e&pa.B,l=e&pa.W,c=o?Ko:Ko[t]||(Ko[t]={}),h=c.prototype;for(n in a=o?Zo:a?Zo[t]:(Zo[t]||{}).prototype,o&&(r=t),r)if(t=!i&&a&&void 0!==a[n],!t||!fa(c,n)){var f=t?a[n]:r[n];c[n]=o&&"function"!=typeof a[n]?r[n]:u&&t?Qo(f,Zo):l&&a[n]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):s&&"function"==typeof f?Qo(Function.call,f):f,s&&((c.virtual||(c.virtual={}))[n]=f,e&pa.R&&h&&!h[n]&&ca(h,n,f))}};pa.F=1,pa.G=2,pa.S=4,pa.P=8,pa.B=16,pa.W=32,pa.U=64,pa.R=128;var da=pa;da(da.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}});var ga=Ko.Math.log2,ma=i((function(e){e.exports={default:ga,__esModule:!0}})),va=n(ma),ya=Math.ceil,ba=Math.floor,xa=function(e){return isNaN(e=+e)?0:(0<e?ba:ya)(e)},Aa=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},wa={},_a={}.toString,Ca=function(e){return _a.call(e).slice(8,-1)},Ma=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Ca(e)?e.split(""):Object(e)},Sa=function(e){return Ma(Aa(e))},Ta=Math.min,Ea=function(e){return 0<e?Ta(xa(e),9007199254740991):0},Ia=Math.max,Ra=Math.min,La=i((function(e){var t=Zo["__core-js_shared__"]||(Zo["__core-js_shared__"]={});(e.exports=function(e,r){return t[e]||(t[e]=void 0!==r?r:{})})("versions",[]).push({version:Ko.version,mode:"pure",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),Pa=0,Oa=Math.random(),Da=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Pa+Oa).toString(36))},ka=La("keys"),Na=function(e){return ka[e]||(ka[e]=Da(e))},Fa=function(e){return function(t,r,n){t=Sa(t);var i=Ea(t.length);if(n=xa(n),n=0>n?Ia(n+i,0):Ra(n,i),e&&r!=r){for(;i>n;)if(r=t[n++],r!=r)return!0}else for(;i>n;n++)if((e||n in t)&&t[n]===r)return e||n||0;return!e&&-1}}(!1),Ba=Na("IE_PROTO"),za=function(e,t){e=Sa(e);var r,n=0,i=[];for(r in e)r!=Ba&&fa(e,r)&&i.push(r);for(;t.length>n;)fa(e,r=t[n++])&&(~Fa(i,r)||i.push(r));return i},Ua="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ja=Object.keys||function(e){return za(e,Ua)},Ha=ra?Object.defineProperties:function(e,t){ea(e);for(var r,n=ja(t),i=n.length,o=0;i>o;)ua.f(e,r=n[o++],t[r]);return e},Ga=Zo.document,Va=Ga&&Ga.documentElement,Wa=Na("IE_PROTO"),Xa=function(){},qa=function(){var e=ia?na.createElement("iframe"):{},t=Ua.length;for(e.style.display="none",Va.appendChild(e),e.src="javascript:",e=e.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),qa=e.F;t--;)delete qa.prototype[Ua[t]];return qa()},Ya=Object.create||function(e,t){if(null!==e){Xa.prototype=ea(e);var r=new Xa;Xa.prototype=null,r[Wa]=e}else r=qa();return void 0===t?r:Ha(r,t)},Za=i((function(e){var t=La("wks"),r=Zo.Symbol,n="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=n&&r[e]||(n?r:Da)("Symbol."+e))}).store=t})),Ka=ua.f,Ja=Za("toStringTag"),Qa=function(e,t,r){e&&!fa(e=r?e:e.prototype,Ja)&&Ka(e,Ja,{configurable:!0,value:t})},$a={};ca($a,Za("iterator"),(function(){return this}));var es=function(e,t,r){e.prototype=Ya($a,{next:la(1,r)}),Qa(e,t+" Iterator")},ts=Na("IE_PROTO"),rs=Object.prototype,ns=Object.getPrototypeOf||function(e){return e=Object(Aa(e)),fa(e,ts)?e[ts]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?rs:null},is=Za("iterator"),os=!([].keys&&"next"in[].keys()),as=function(){return this},ss=function(e,t,r,n,i,o,a){es(r,t,n),n=function(e){return!os&&e in h?h[e]:function(){return new r(this,e)}};var s,u=t+" Iterator",l="values"==i,c=!1,h=e.prototype,f=h[is]||h["@@iterator"]||i&&h[i],p=f||n(i),d=i?l?n("entries"):p:void 0,g="Array"==t&&h.entries||f;if(g&&(e=ns(g.call(new e)),e!==Object.prototype&&e.next&&Qa(e,u,!0)),l&&f&&"values"!==f.name&&(c=!0,p=function(){return f.call(this)}),a&&(os||c||!h[is])&&ca(h,is,p),wa[t]=p,wa[u]=as,i){var m={values:l?p:n("values"),keys:o?p:n("keys"),entries:d};if(a)for(s in m)s in h||ca(h,s,m[s]);else da(da.P+da.F*(os||c),t,m)}return m},us=function(e){return function(t,r){t=String(Aa(t)),r=xa(r);var n,i=t.length;if(0>r||r>=i)return e?"":void 0;var o=t.charCodeAt(r);return 55296>o||56319<o||r+1===i||56320>(n=t.charCodeAt(r+1))||57343<n?e?t.charAt(r):o:e?t.slice(r,r+2):n-56320+(o-55296<<10)+65536}}(!0);ss(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=us(e,t),this._i+=e.length,{value:e,done:!1})}));var ls=function(e,t,r,n){try{return n?t(ea(r)[0],r[1]):t(r)}catch(i){throw t=e["return"],void 0!==t&&ea(t.call(e)),i}},cs=Za("iterator"),hs=Array.prototype,fs=Za("toStringTag"),ps="Arguments"==Ca(function(){return arguments}()),ds=function(e){var t;if(void 0===e)var r="Undefined";else{if(null===e)var n="Null";else{e:{var i=e=Object(e);try{n=i[fs];break e}catch(o){}n=void 0}n="string"==typeof(r=n)?r:ps?Ca(e):"Object"==(t=Ca(e))&&"function"==typeof e.callee?"Arguments":t}r=n}return r},gs=Za("iterator"),ms=Ko.getIteratorMethod=function(e){if(void 0!=e)return e[gs]||e["@@iterator"]||wa[ds(e)]},vs=Za("iterator"),ys=!1;try{[7][vs]()["return"]=function(){ys=!0}}catch(Dm){}var bs=function(e,t){if(!t&&!ys)return!1;var r=!1;try{t=[7];var n=t[vs]();n.next=function(){return{done:r=!0}},t[vs]=function(){return n},e(t)}catch(i){}return r};da(da.S+da.F*!bs((function(e){})),"Array",{from:function(e){var t,r=Object(Aa(e)),n="function"==typeof this?this:Array,i=arguments.length,o=1<i?arguments[1]:void 0,a=void 0!==o,s=0,u=ms(r);if(a&&(o=Qo(o,2<i?arguments[2]:void 0,2)),void 0!=u&&(n!=Array||void 0===u||wa.Array!==u&&hs[cs]!==u))for(r=u.call(r),n=new n;!(t=r.next()).done;s++)i=n,u=s,t=a?ls(r,o,[t.value,s],!0):t.value,u in i?ua.f(i,u,la(0,t)):i[u]=t;else for(i=Ea(r.length),n=new n(i);i>s;s++){u=n,t=s;var l=a?o(r[s],s):r[s];t in u?ua.f(u,t,la(0,l)):u[t]=l}return n.length=s,n}});var xs=Ko.Array.from,As=i((function(e){e.exports={default:xs,__esModule:!0}})),ws=n(As),_s=function(e,t){return{value:t,done:!!e}};ss(Array,"Array",(function(e,t){this._t=Sa(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,_s(1)):_s(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),wa.Arguments=wa.Array;for(var Cs=Za("toStringTag"),Ms="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),Ss=0;Ss<Ms.length;Ss++){var Ts=Ms[Ss],Es=Zo[Ts],Is=Es&&Es.prototype;Is&&!Is[Cs]&&ca(Is,Cs,Ts),wa[Ts]=wa.Array}var Rs=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e},Ls=i((function(e){var t={},r={};e=e.exports=function(e,n,i,o,a){var s,u;if(a=a?function(){return e}:ms(e),i=Qo(i,o,n?2:1),o=0,"function"!=typeof a)throw TypeError(e+" is not iterable!");if(void 0===a||wa.Array!==a&&hs[cs]!==a){for(o=a.call(e);!(u=o.next()).done;)if(a=ls(o,i,u.value,n),a===t||a===r)return a}else for(s=Ea(e.length);s>o;o++)if(a=n?i(ea(u=e[o])[0],u[1]):i(e[o]),a===t||a===r)return a},e.BREAK=t,e.RETURN=r})),Ps=Za("species"),Os=function(e,t){var r;return e=ea(e).constructor,void 0===e||void 0==(r=ea(e)[Ps])?t:Jo(r)},Ds=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},ks=Zo.process,Ns=Zo.setImmediate,Fs=Zo.clearImmediate,Bs=Zo.MessageChannel,zs=Zo.Dispatch,Us=0,js={},Hs=function(){var e=+this;if(js.hasOwnProperty(e)){var t=js[e];delete js[e],t()}},Gs=function(e){Hs.call(e.data)};if(!Ns||!Fs)if(Ns=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return js[++Us]=function(){Ds("function"==typeof e?e:Function(e),t)},Vs(Us),Us},Fs=function(e){delete js[e]},"process"==Ca(ks))var Vs=function(e){ks.nextTick(Qo(Hs,e,1))};else if(zs&&zs.now)Vs=function(e){zs.now(Qo(Hs,e,1))};else if(Bs){var Ws=new Bs,Xs=Ws.port2;Ws.port1.onmessage=Gs,Vs=Qo(Xs.postMessage,Xs,1)}else Zo.addEventListener&&"function"==typeof postMessage&&!Zo.importScripts?(Vs=function(e){Zo.postMessage(e+"","*")},Zo.addEventListener("message",Gs,!1)):Vs="onreadystatechange"in(ia?na.createElement("script"):{})?function(e){Va.appendChild(ia?na.createElement("script"):{}).onreadystatechange=function(){Va.removeChild(this),Hs.call(e)}}:function(e){setTimeout(Qo(Hs,e,1),0)};var qs,Ys=Ns,Zs=Zo.MutationObserver||Zo.WebKitMutationObserver,Ks=Zo.process,Js=Zo.Promise,Qs="process"==Ca(Ks),$s={f:function(e){return new o(e)}},eu=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}},tu=Zo.navigator,ru=tu&&tu.userAgent||"",nu=function(e,t){if(ea(e),$o(t)&&t.constructor===e)return t;e=$s.f(e);var r=e.resolve;return r(t),e.promise},iu=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:ca(e,n,t[n]);return e},ou=Za("species"),au=function(e){e="function"==typeof Ko[e]?Ko[e]:Zo[e],ra&&e&&!e[ou]&&ua.f(e,ou,{configurable:!0,get:function(){return this}})},su=function(){var e,t,r=function(){var r;for(Qs&&(r=Ks.domain)&&r.exit();e;){var i=e.fn;e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(Qs)var n=function(){Ks.nextTick(r)};else if(!Zs||Zo.navigator&&Zo.navigator.standalone)if(Js&&Js.resolve){var i=Js.resolve(void 0);n=function(){i.then(r)}}else n=function(){Ys.call(Zo,r)};else{var o=!0,a=document.createTextNode("");new Zs(r).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}return function(r){r={fn:r,next:void 0},t&&(t.next=r),e||(e=r,n()),t=r}}(),uu=Zo.TypeError,lu=Zo.process,cu=lu&&lu.versions,hu=cu&&cu.v8||"",fu=Zo.Promise,pu="process"==ds(lu),du=function(){},gu=qs=$s.f,mu=!!function(){try{var e=fu.resolve(1),t=(e.constructor={})[Za("species")]=function(e){e(du,du)};return(pu||"function"==typeof PromiseRejectionEvent)&&e.then(du)instanceof t&&0!==hu.indexOf("6.6")&&-1===ru.indexOf("Chrome/66")}catch(r){}}(),vu=function(e){var t;return!(!$o(e)||"function"!=typeof(t=e.then))&&t},yu=function(e,t){if(!e._n){e._n=!0;var r=e._c;su((function(){for(var n=e._v,i=1==e._s,o=0;r.length>o;){var a=void 0,s=void 0,u=void 0,l=r[o++],c=i?l.ok:l.fail,h=l.resolve,f=l.reject,p=l.domain;try{c?(i||(2==e._h&&xu(e),e._h=1),!0===c?u=n:(p&&p.enter(),u=c(n),p&&(p.exit(),a=!0)),u===l.promise?f(uu("Promise-chain cycle")):(s=vu(u))?s.call(u,h,f):h(u)):f(n)}catch(d){p&&!a&&p.exit(),f(d)}}e._c=[],e._n=!1,t&&!e._h&&bu(e)}))}},bu=function(e){Ys.call(Zo,(function(){var t,r,n=e._v,i=1!==e._h&&0===(e._a||e._c).length;if(i){var o=eu((function(){pu?lu.emit("unhandledRejection",n,e):(t=Zo.onunhandledrejection)?t({promise:e,reason:n}):(r=Zo.console)&&r.error&&r.error("Unhandled promise rejection",n)}));e._h=pu||1!==e._h&&0===(e._a||e._c).length?2:1}if(e._a=void 0,i&&o.e)throw o.v}))},xu=function(e){Ys.call(Zo,(function(){var t;pu?lu.emit("rejectionHandled",e):(t=Zo.onrejectionhandled)&&t({promise:e,reason:e._v})}))},Au=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),yu(t,!0))},wu=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw uu("Promise can't be resolved itself");(t=vu(e))?su((function(){var n={_w:r,_d:!1};try{t.call(e,Qo(wu,n,1),Qo(Au,n,1))}catch(i){Au.call(n,i)}})):(r._v=e,r._s=1,yu(r,!1))}catch(n){Au.call({_w:r,_d:!1},n)}}};if(!mu){fu=function(e){Rs(this,fu,"Promise","_h"),Jo(e),_u.call(this);try{e(Qo(wu,this,1),Qo(Au,this,1))}catch(t){Au.call(this,t)}};var _u=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};_u.prototype=iu(fu.prototype,{then:function(e,t){var r=gu(Os(this,fu));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=pu?lu.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&yu(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var Cu=function(){var e=new _u;this.promise=e,this.resolve=Qo(wu,e,1),this.reject=Qo(Au,e,1)};$s.f=gu=function(e){return e===fu||e===Mu?new Cu(e):qs(e)}}da(da.G+da.W+da.F*!mu,{Promise:fu}),Qa(fu,"Promise"),au("Promise");var Mu=Ko.Promise;da(da.S+da.F*!mu,"Promise",{reject:function(e){var t=gu(this),r=t.reject;return r(e),t.promise}}),da(da.S+1*da.F,"Promise",{resolve:function(e){return nu(this===Mu?fu:this,e)}}),da(da.S+da.F*!(mu&&bs((function(e){fu.all(e)["catch"](du)}))),"Promise",{all:function(e){var t=this,r=gu(t),n=r.resolve,i=r.reject,o=eu((function(){var r=[],o=0,a=1;Ls(e,!1,(function(e){var s=o++,u=!1;r.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=gu(t),n=r.reject,i=eu((function(){Ls(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}}),da(da.P+da.R,"Promise",{finally:function(e){var t=Os(this,Ko.Promise||Zo.Promise),r="function"==typeof e;return this.then(r?function(r){return nu(t,e()).then((function(){return r}))}:e,r?function(r){return nu(t,e()).then((function(){throw r}))}:e)}}),da(da.S,"Promise",{try:function(e){var t=$s.f(this);return e=eu(e),(e.e?t.reject:t.resolve)(e.v),t.promise}});var Su=Ko.Promise,Tu=i((function(e){e.exports={default:Su,__esModule:!0}})),Eu=n(Tu),Iu=i((function(e){var t=Da("meta"),r=ua.f,n=0,i=Object.isExtensible||function(){return!0},o=!ta((function(){return i(Object.preventExtensions({}))})),a=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,r){if(!$o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!fa(e,t)){if(!i(e))return"F";if(!r)return"E";a(e)}return e[t].i},getWeak:function(e,r){if(!fa(e,t)){if(!i(e))return!0;if(!r)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&s.NEED&&i(e)&&!fa(e,t)&&a(e),e}}})),Ru=function(e,t){var r=(Ko.Object||{})[e]||Object[e],n={};n[e]=t(r),da(da.S+da.F*ta((function(){r(1)})),"Object",n)},Lu=Iu.onFreeze;Ru("freeze",(function(e){return function(t){return e&&$o(t)?e(Lu(t)):t}}));var Pu=Ko.Object.freeze,Ou=i((function(e){e.exports={default:Pu,__esModule:!0}})),Du=n(Ou),ku={f:Za},Nu=ku.f("iterator"),Fu=i((function(e){e.exports={default:Nu,__esModule:!0}}));n(Fu);var Bu=ua.f,zu=function(e){var t=Ko.Symbol||(Ko.Symbol={});"_"==e.charAt(0)||e in t||Bu(t,e,{value:ku.f(e)})},Uu=Object.getOwnPropertySymbols,ju={}.propertyIsEnumerable,Hu=Array.isArray||function(e){return"Array"==Ca(e)},Gu=Ua.concat("length","prototype"),Vu=Object.getOwnPropertyNames||function(e){return za(e,Gu)},Wu=Vu,Xu={}.toString,qu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yu=function(e){if(qu&&"[object Window]"==Xu.call(e))try{var t=Wu(e)}catch(r){t=qu.slice()}else t=Wu(Sa(e));return t},Zu=Object.getOwnPropertyDescriptor,Ku={f:ra?Zu:function(e,t){if(e=Sa(e),t=aa(t,!0),oa)try{return Zu(e,t)}catch(r){}if(fa(e,t))return la(!ju.call(e,t),e[t])}},Ju=Iu.KEY,Qu=Ku.f,$u=ua.f,el=Yu,tl=Zo.Symbol,rl=Zo.JSON,nl=rl&&rl.stringify,il=Za("_hidden"),ol=Za("toPrimitive"),al={}.propertyIsEnumerable,sl=La("symbol-registry"),ul=La("symbols"),ll=La("op-symbols"),cl=Object.prototype,hl="function"==typeof tl,fl=Zo.QObject,pl=!fl||!fl.prototype||!fl.prototype.findChild,dl=ra&&ta((function(){return 7!=Ya($u({},"a",{get:function(){return $u(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Qu(cl,t);n&&delete cl[t],$u(e,t,r),n&&e!==cl&&$u(cl,t,n)}:$u,gl=function(e){var t=ul[e]=Ya(tl.prototype);return t._k=e,t},ml=hl&&"symbol"==typeof tl.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof tl},vl=function(e,t,r){return e===cl&&vl(ll,t,r),ea(e),t=aa(t,!0),ea(r),fa(ul,t)?(r.enumerable?(fa(e,il)&&e[il][t]&&(e[il][t]=!1),r=Ya(r,{enumerable:la(0,!1)})):(fa(e,il)||$u(e,il,la(1,{})),e[il][t]=!0),dl(e,t,r)):$u(e,t,r)},yl=function(e,t){ea(e);var r,n=t=Sa(t),i=ja(n),o=Uu;if(o){o=o(n);for(var a,s=ju,u=0;o.length>u;)s.call(n,a=o[u++])&&i.push(a)}for(n=0,a=i.length;a>n;)vl(e,r=i[n++],t[r]);return e},bl=function(e){var t=al.call(this,e=aa(e,!0));return!(this===cl&&fa(ul,e)&&!fa(ll,e))&&(!(t||!fa(this,e)||!fa(ul,e)||fa(this,il)&&this[il][e])||t)},xl=function(e,t){if(e=Sa(e),t=aa(t,!0),e!==cl||!fa(ul,t)||fa(ll,t)){var r=Qu(e,t);return!r||!fa(ul,t)||fa(e,il)&&e[il][t]||(r.enumerable=!0),r}},Al=function(e){e=el(Sa(e));for(var t,r=[],n=0;e.length>n;)fa(ul,t=e[n++])||t==il||t==Ju||r.push(t);return r},wl=function(e){var t=e===cl;e=el(t?ll:Sa(e));for(var r,n=[],i=0;e.length>i;)fa(ul,r=e[i++])&&(!t||fa(cl,r))&&n.push(ul[r]);return n};hl||(tl=function(){if(this instanceof tl)throw TypeError("Symbol is not a constructor!");var e=Da(0<arguments.length?arguments[0]:void 0),t=function(r){this===cl&&t.call(ll,r),fa(this,il)&&fa(this[il],e)&&(this[il][e]=!1),dl(this,e,la(1,r))};return ra&&pl&&dl(cl,e,{configurable:!0,set:t}),gl(e)},ca(tl.prototype,"toString",(function(){return this._k})),Ku.f=xl,ua.f=vl,Vu=Yu=Al,ju=bl,Uu=wl,ku.f=function(e){return gl(Za(e))}),da(da.G+da.W+da.F*!hl,{Symbol:tl});for(var _l="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),Cl=0;_l.length>Cl;)Za(_l[Cl++]);for(var Ml=ja(Za.store),Sl=0;Ml.length>Sl;)zu(Ml[Sl++]);da(da.S+da.F*!hl,"Symbol",{for:function(e){return fa(sl,e+="")?sl[e]:sl[e]=tl(e)},keyFor:function(e){if(!ml(e))throw TypeError(e+" is not a symbol!");for(var t in sl)if(sl[t]===e)return t},useSetter:function(){pl=!0},useSimple:function(){pl=!1}}),da(da.S+da.F*!hl,"Object",{create:function(e,t){return void 0===t?Ya(e):yl(Ya(e),t)},defineProperty:vl,defineProperties:yl,getOwnPropertyDescriptor:xl,getOwnPropertyNames:Al,getOwnPropertySymbols:wl}),rl&&da(da.S+da.F*(!hl||ta((function(){var e=tl();return"[null]"!=nl([e])||"{}"!=nl({a:e})||"{}"!=nl(Object(e))}))),"JSON",{stringify:function(e){for(var t,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(t=n=r[1],($o(n)||void 0!==e)&&!ml(e))return Hu(n)||(n=function(e,r){if("function"==typeof t&&(r=t.call(this,e,r)),!ml(r))return r}),r[1]=n,nl.apply(rl,r)}}),tl.prototype[ol]||ca(tl.prototype,ol,tl.prototype.valueOf),Qa(tl,"Symbol"),Qa(Math,"Math",!0),Qa(Zo.JSON,"JSON",!0),zu("asyncIterator"),zu("observable");var Tl=Ko.Symbol,El=i((function(e){e.exports={default:Tl,__esModule:!0}}));n(El);var Il=i((function(e,t){t.__esModule=!0,e=Fu&&Fu.__esModule?Fu:{default:Fu};var r=El&&El.__esModule?El:{default:El},n="function"===typeof r.default&&"symbol"===typeof e.default?function(e){return typeof e}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};t.default="function"===typeof r.default&&"symbol"===n(e.default)?function(e){return"undefined"===typeof e?"undefined":n(e)}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":"undefined"===typeof e?"undefined":n(e)}})),Rl=n(Il),Ll=function(e,t){if(!$o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},Pl=ua.f,Ol=Iu.fastKey,Dl=ra?"_s":"size",kl=function(e,t){var r=Ol(t);if("F"!==r)return e._i[r];for(e=e._f;e;e=e.n)if(e.k==t)return e},Nl={getConstructor:function(e,t,r,n){var i=e((function(e,o){Rs(e,i,t,"_i"),e._t=t,e._i=Ya(null),e._f=void 0,e._l=void 0,e[Dl]=0,void 0!=o&&Ls(o,r,e[n],e)}));return iu(i.prototype,{clear:function(){for(var e=Ll(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[Dl]=0},delete:function(e){var r=Ll(this,t);if(e=kl(r,e)){var n=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=n),n&&(n.p=i),r._f==e&&(r._f=n),r._l==e&&(r._l=i),r[Dl]--}return!!e},forEach:function(e){Ll(this,t);for(var r,n=Qo(e,1<arguments.length?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!kl(Ll(this,t),e)}}),ra&&Pl(i.prototype,"size",{get:function(){return Ll(this,t)[Dl]}}),i},def:function(e,t,r){var n,i=kl(e,t);return i?i.v=r:(e._l=i={i:n=Ol(t,!0),k:t,v:r,p:t=e._l,n:void 0,r:!1},e._f||(e._f=i),t&&(t.n=i),e[Dl]++,"F"!==n&&(e._i[n]=i)),e},getEntry:kl,setStrong:function(e,t,r){ss(e,t,(function(e,r){this._t=Ll(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?_s(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,_s(1))}),r?"entries":"values",!r,!0),au(t)}},Fl=Za("species"),Bl=function(e,t){if(Hu(e)){var r=e.constructor;"function"!=typeof r||r!==Array&&!Hu(r.prototype)||(r=void 0),$o(r)&&(r=r[Fl],null===r&&(r=void 0))}return new(void 0===r?Array:r)(t)},zl=function(e,t){var r=1==e,n=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,u=t||Bl;return function(t,l,c){var h=Object(Aa(t)),f=Ma(h);l=Qo(l,c,3),c=Ea(f.length);var p,d,g=0;for(t=r?u(t,c):n?u(t,0):void 0;c>g;g++)if((s||g in f)&&(p=f[g],d=l(p,g,h),e))if(r)t[g]=d;else if(d)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:t.push(p)}else if(o)return!1;return a?-1:i||o?o:t}},Ul=ua.f,jl=zl(0),Hl=function(e,t,r,n,i,o){var a=Zo[e],s=a,u=i?"set":"add",l=s&&s.prototype,c={};return ra&&"function"==typeof s&&(o||l.forEach&&!ta((function(){(new s).entries().next()})))?(s=t((function(t,r){Rs(t,s,e,"_c"),t._c=new a,void 0!=r&&Ls(r,i,t[u],t)})),jl("add clear delete forEach get has set keys values entries toJSON".split(" "),(function(e){var t="add"==e||"set"==e;e in l&&(!o||"clear"!=e)&&ca(s.prototype,e,(function(r,n){return Rs(this,s,e),t||!o||$o(r)?(r=this._c[e](0===r?0:r,n),t?this:r):"get"==e&&void 0}))})),o||Ul(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(t,e,i,u),iu(s.prototype,r),Iu.NEED=!0),Qa(s,e),c[e]=s,da(da.G+da.W+da.F,c),o||n.setStrong(s,e,i),s};Hl("Map",(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(e){return(e=Nl.getEntry(Ll(this,"Map"),e))&&e.v},set:function(e,t){return Nl.def(Ll(this,"Map"),0===e?0:e,t)}},Nl,!0),da(da.P+da.R,"Map",{toJSON:function(e){return function(){if(ds(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return Ls(this,!1,t.push,t,void 0),t}}("Map")});var Gl=function(e){da(da.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})};Gl("Map");var Vl=function(e){da(da.S,e,{from:function(e,t,r){var n;if(Jo(this),(n=void 0!==t)&&Jo(t),void 0==e)return new this;var i=[];if(n){var o=0,a=Qo(t,r,2);Ls(e,!1,(function(e){i.push(a(e,o++))}))}else Ls(e,!1,i.push,i);return new this(i)}})};Vl("Map");var Wl=Ko.Map,Xl=i((function(e){e.exports={default:Wl,__esModule:!0}})),ql=n(Xl),Yl=Object.assign,Zl=!Yl||ta((function(){var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Yl({},e)[r]||"abcdefghijklmnopqrst"!=Object.keys(Yl({},t)).join("")}))?function(e,t){for(var r=Object(Aa(e)),n=arguments.length,i=1,o=Uu,a=ju;n>i;)for(var s,u=Ma(arguments[i++]),l=o?ja(u).concat(o(u)):ja(u),c=l.length,h=0;c>h;)a.call(u,s=l[h++])&&(r[s]=u[s]);return r}:Yl,Kl=Iu.getWeak,Jl=zl(5),Ql=zl(6),$l=0,ec=function(e){return e._l||(e._l=new tc)},tc=function(){this.a=[]},rc=function(e,t){return Jl(e.a,(function(e){return e[0]===t}))};tc.prototype={get:function(e){if(e=rc(this,e))return e[1]},has:function(e){return!!rc(this,e)},set:function(e,t){var r=rc(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=Ql(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}};var nc={getConstructor:function(e,t,r,n){var i=e((function(e,o){Rs(e,i,t,"_i"),e._t=t,e._i=$l++,e._l=void 0,void 0!=o&&Ls(o,r,e[n],e)}));return iu(i.prototype,{delete:function(e){if(!$o(e))return!1;var r=Kl(e);return!0===r?ec(Ll(this,t))["delete"](e):r&&fa(r,this._i)&&delete r[this._i]},has:function(e){if(!$o(e))return!1;var r=Kl(e);return!0===r?ec(Ll(this,t)).has(e):r&&fa(r,this._i)}}),i},def:function(e,t,r){var n=Kl(ea(t),!0);return!0===n?ec(e).set(t,r):n[e._i]=r,e},ufstore:ec};i((function(e){var t=zl(0),r=!Zo.ActiveXObject&&"ActiveXObject"in Zo,n=Iu.getWeak,i=Object.isExtensible,o=nc.ufstore,a=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},s={get:function(e){if($o(e)){var t=n(e);return!0===t?o(Ll(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return nc.def(Ll(this,"WeakMap"),e,t)}},u=e.exports=Hl("WeakMap",a,s,nc,!0,!0);if(Ll&&r){var l=nc.getConstructor(a,"WeakMap");Zl(l.prototype,s),Iu.NEED=!0,t(["delete","has","get","set"],(function(e){var t=u.prototype,r=t[e];ca(t,e,(function(t,n){return $o(t)&&!i(t)?(this._f||(this._f=new l),t=this._f[e](t,n),"set"==e?this:t):r.call(this,t,n)}))}))}})),Gl("WeakMap"),Vl("WeakMap");var ic=Ko.WeakMap,oc=i((function(e){e.exports={default:ic,__esModule:!0}})),ac=n(oc);Ru("keys",(function(){return function(e){return ja(Object(Aa(e)))}}));var sc=Ko.Object.keys,uc=i((function(e){e.exports={default:sc,__esModule:!0}})),lc=n(uc),cc=Ko.JSON||(Ko.JSON={stringify:JSON.stringify}),hc=function(e){return cc.stringify.apply(cc,arguments)},fc=i((function(e){e.exports={default:hc,__esModule:!0}})),pc=n(fc);da(da.S,"Object",{create:Ya});var dc=Ko.Object,gc=function(e,t){return dc.create(e,t)},mc=i((function(e){e.exports={default:gc,__esModule:!0}})),vc=n(mc);da(da.S+da.F*!ra,"Object",{defineProperties:Ha});var yc=Ko.Object,bc=function(e,t){return yc.defineProperties(e,t)},xc=i((function(e){e.exports={default:bc,__esModule:!0}})),Ac=n(xc);da(da.S+da.F,"Object",{assign:Zl});var wc=Ko.Object.assign,_c=i((function(e){e.exports={default:wc,__esModule:!0}})),Cc=n(_c);da(da.S,"Math",{sign:Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}});var Mc=Ko.Math.sign,Sc=i((function(e){e.exports={default:Mc,__esModule:!0}})),Tc=n(Sc),Ec=Math.floor;da(da.S,"Number",{isInteger:function(e){return!$o(e)&&isFinite(e)&&Ec(e)===e}});var Ic=Ko.Number.isInteger,Rc=i((function(e){e.exports={default:Ic,__esModule:!0}})),Lc=n(Rc);da(da.S,"Number",{EPSILON:Math.pow(2,-52)});var Pc=Math.pow(2,-52),Oc=i((function(e){e.exports={default:Pc,__esModule:!0}})),Dc=n(Oc),kc=i((function(e,t){(function(e,r){r(t)})(0,(function(e){function t(){}function r(e,t){this.x=e||0,this.y=t||0}function n(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function i(e,t,o,a,s,u,l,c,h,f){Object.defineProperty(this,"id",{value:Xo++}),this.uuid=Go.generateUUID(),this.name="",this.image=void 0!==e?e:i.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:i.DEFAULT_MAPPING,this.wrapS=void 0!==o?o:1001,this.wrapT=void 0!==a?a:1001,this.magFilter=void 0!==s?s:1006,this.minFilter=void 0!==u?u:1008,this.anisotropy=void 0!==h?h:1,this.format=void 0!==l?l:1023,this.internalFormat=null,this.type=void 0!==c?c:1009,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:3e3,this.version=0,this.onUpdate=null}function o(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1}function a(e,t,r){this.width=e,this.height=t,this.scissor=new o(0,0,e,t),this.scissorTest=!1,this.viewport=new o(0,0,e,t),r=r||{},this.texture=new i(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:1006,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function s(e,t,r){a.call(this,e,t,r),this.samples=4}function u(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1}function l(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}function c(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function h(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||h.DefaultOrder}function f(){this.mask=1}function p(){Object.defineProperty(this,"id",{value:ia++}),this.uuid=Go.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=p.DefaultUp.clone();var e=new l,t=new h,r=new u,i=new l(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Ac(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new c},normalMatrix:{value:new n}}),this.matrix=new c,this.matrixWorld=new c,this.matrixAutoUpdate=p.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new f,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function d(){p.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function g(e,t){this.min=void 0!==e?e:new l(1/0,1/0,1/0),this.max=void 0!==t?t:new l(-1/0,-1/0,-1/0)}function m(e,t,r,n,i){var o,a=0;for(o=e.length-3;a<=o;a+=3){Ra.fromArray(e,a);var s=i.x*Math.abs(Ra.x)+i.y*Math.abs(Ra.y)+i.z*Math.abs(Ra.z),u=t.dot(Ra),l=r.dot(Ra),c=n.dot(Ra);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}function v(e,t){this.center=void 0!==e?e:new l,this.radius=void 0!==t?t:-1}function y(e,t){this.origin=void 0!==e?e:new l,this.direction=void 0!==t?t:new l(0,0,-1)}function b(e,t){this.normal=void 0!==e?e:new l(1,0,0),this.constant=void 0!==t?t:0}function x(e,t,r){this.a=void 0!==e?e:new l,this.b=void 0!==t?t:new l,this.c=void 0!==r?r:new l}function A(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function w(e,t,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:.5>r?t:r<2/3?e+6*(t-e)*(2/3-r):e}function _(e){return.04045>e?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function C(e){return.0031308>e?12.92*e:1.055*Math.pow(e,.41666)-.055}function M(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new l,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new A,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function S(){Object.defineProperty(this,"id",{value:ts++}),this.uuid=Go.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function T(e){S.call(this),this.type="MeshBasicMaterial",this.color=new A(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(e)}function E(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function I(e,t,r){E.call(this,new Int8Array(e),t,r)}function R(e,t,r){E.call(this,new Uint8Array(e),t,r)}function L(e,t,r){E.call(this,new Uint8ClampedArray(e),t,r)}function P(e,t,r){E.call(this,new Int16Array(e),t,r)}function O(e,t,r){E.call(this,new Uint16Array(e),t,r)}function D(e,t,r){E.call(this,new Int32Array(e),t,r)}function k(e,t,r){E.call(this,new Uint32Array(e),t,r)}function N(e,t,r){E.call(this,new Float32Array(e),t,r)}function F(e,t,r){E.call(this,new Float64Array(e),t,r)}function B(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function z(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}function U(){Object.defineProperty(this,"id",{value:ns+=2}),this.uuid=Go.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0},this.userData={}}function j(e,t){p.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new U,this.material=void 0!==t?t:new T,this.updateMorphTargets()}function H(e,t,r,n,i,o,a,s){return null===(1===t.side?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,2!==t.side,s))?null:(Ts.copy(s),Ts.applyMatrix4(e.matrixWorld),t=r.ray.origin.distanceTo(Ts),t<r.near||t>r.far?null:{distance:t,point:Ts.clone(),object:e})}function G(e,t,n,i,o,a,s,u,l,c,h,f){if(ps.fromBufferAttribute(o,c),ds.fromBufferAttribute(o,h),gs.fromBufferAttribute(o,f),o=e.morphTargetInfluences,t.morphTargets&&a&&o){bs.set(0,0,0),xs.set(0,0,0),As.set(0,0,0);for(var p=0,d=a.length;p<d;p++){var g=o[p],m=a[p];0!==g&&(ms.fromBufferAttribute(m,c),vs.fromBufferAttribute(m,h),ys.fromBufferAttribute(m,f),s?(bs.addScaledVector(ms,g),xs.addScaledVector(vs,g),As.addScaledVector(ys,g)):(bs.addScaledVector(ms.sub(ps),g),xs.addScaledVector(vs.sub(ds),g),As.addScaledVector(ys.sub(gs),g)))}ps.add(bs),ds.add(xs),gs.add(As)}return e.isSkinnedMesh&&(e.boneTransform(c,ps),e.boneTransform(h,ds),e.boneTransform(f,gs)),(e=H(e,t,n,i,ps,ds,gs,Ss))&&(u&&(_s.fromBufferAttribute(u,c),Cs.fromBufferAttribute(u,h),Ms.fromBufferAttribute(u,f),e.uv=x.getUV(Ss,ps,ds,gs,_s,Cs,Ms,new r)),l&&(_s.fromBufferAttribute(l,c),Cs.fromBufferAttribute(l,h),Ms.fromBufferAttribute(l,f),e.uv2=x.getUV(Ss,ps,ds,gs,_s,Cs,Ms,new r)),u=new M(c,h,f),x.getNormal(ps,ds,gs,u.normal),e.face=u),e}function V(){Object.defineProperty(this,"id",{value:Es+=2}),this.uuid=Go.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function W(e){var t,r={};for(t in e)for(var n in r[t]={},e[t]){var i=e[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?r[t][n]=i.clone():Array.isArray(i)?r[t][n]=i.slice():r[t][n]=i}return r}function X(e){for(var t={},r=0;r<e.length;r++){var n,i=W(e[r]);for(n in i)t[n]=i[n]}return t}function q(e){S.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Y(){p.call(this),this.type="Camera",this.matrixWorldInverse=new c,this.projectionMatrix=new c,this.projectionMatrixInverse=new c}function Z(e,t,r,n){Y.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function K(e,t,r){if(p.call(this),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=r;var n=new Z(90,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new l(1,0,0)),this.add(n);var i=new Z(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new l(-1,0,0)),this.add(i);var o=new Z(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new l(0,1,0)),this.add(o);var a=new Z(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new l(0,-1,0)),this.add(a);var s=new Z(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new l(0,0,1)),this.add(s);var u=new Z(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new l(0,0,-1)),this.add(u),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var l=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.xr.enabled=l},this.clear=function(e,t,n,i){for(var o=e.getRenderTarget(),a=0;6>a;a++)e.setRenderTarget(r,a),e.clear(t,n,i);e.setRenderTarget(o)}}}function J(e,t,r){Lc(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),a.call(this,e,e,t)}function Q(e,t,r,n,o,a,s,u,l,c,h,f){i.call(this,null,a,s,u,l,c,n,o,h,f),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==c?c:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function $(e,t,r,n,i,o){this.planes=[void 0!==e?e:new b,void 0!==t?t:new b,void 0!==r?r:new b,void 0!==n?n:new b,void 0!==i?i:new b,void 0!==o?o:new b]}function ee(){function e(i,o){!1!==r&&(n(i,o),t.requestAnimationFrame(e))}var t=null,r=!1,n=null;return{start:function(){!0!==r&&null!==n&&(t.requestAnimationFrame(e),r=!0)},stop:function(){r=!1},setAnimationLoop:function(e){n=e},setContext:function(e){t=e}}}function te(e,t){function r(t,r){var n=t.array,i=t.usage,o=e.createBuffer();return e.bindBuffer(r,o),e.bufferData(r,n,i),t.onUploadCallback(),r=5126,n instanceof Float32Array?r=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?r=5123:n instanceof Int16Array?r=5122:n instanceof Uint32Array?r=5125:n instanceof Int32Array?r=5124:n instanceof Int8Array?r=5120:n instanceof Uint8Array&&(r=5121),{buffer:o,type:r,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}var n=t.isWebGL2,i=new ac;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=i.get(t);r&&(e.deleteBuffer(r.buffer),i.delete(t))},update:function(t,o){t.isInterleavedBufferAttribute&&(t=t.data);var a=i.get(t);if(void 0===a)i.set(t,r(t,o));else if(a.version<t.version){var s=t.array,u=t.updateRange;e.bindBuffer(o,a.buffer),-1===u.count?e.bufferSubData(o,0,s):(n?e.bufferSubData(o,u.offset*s.BYTES_PER_ELEMENT,s,u.offset,u.count):e.bufferSubData(o,u.offset*s.BYTES_PER_ELEMENT,s.subarray(u.offset,u.offset+u.count)),u.count=-1),a.version=t.version}}}}function re(e,t,r,n){V.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new ne(e,t,r,n)),this.mergeVertices()}function ne(e,t,r,n){U.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},e=e||1,t=t||1;var i=e/2,o=t/2;r=Math.floor(r)||1,n=Math.floor(n)||1;var a=r+1,s=n+1,u=e/r,l=t/n,c=[],h=[],f=[],p=[];for(e=0;e<s;e++){var d=e*l-o;for(t=0;t<a;t++)h.push(t*u-i,-d,0),f.push(0,0,1),p.push(t/r),p.push(1-e/n)}for(e=0;e<n;e++)for(t=0;t<r;t++)i=t+a*(e+1),o=t+1+a*(e+1),s=t+1+a*e,c.push(t+a*e,i,s),c.push(i,o,s);this.setIndex(c),this.setAttribute("position",new N(h,3)),this.setAttribute("normal",new N(f,3)),this.setAttribute("uv",new N(p,2))}function ie(e,t,r,n){function i(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}var o,a,s=new A(0),u=0,l=null,c=0,h=null;return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),u=void 0!==t?t:1,i(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,i(s,u)},render:function(t,n,f,p){n=n.background,f=e.xr,(f=f.getSession&&f.getSession())&&"additive"===f.environmentBlendMode&&(n=null),null===n?i(s,u):n&&n.isColor&&(i(n,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),n&&(n.isCubeTexture||n.isWebGLCubeRenderTarget||306===n.mapping)?(void 0===a&&(a=new j(new Os(1,1,1),new q({type:"BackgroundCubeMaterial",uniforms:W(zs.cube.uniforms),vertexShader:zs.cube.vertexShader,fragmentShader:zs.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),p=n.isWebGLCubeRenderTarget?n.texture:n,a.material.uniforms.envMap.value=p,a.material.uniforms.flipEnvMap.value=p.isCubeTexture?-1:1,l===n&&c===p.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=n,c=p.version,h=e.toneMapping),t.unshift(a,a.geometry,a.material,0,0,null)):n&&n.isTexture&&(void 0===o&&(o=new j(new ne(2,2),new q({type:"BackgroundMaterial",uniforms:W(zs.background.uniforms),vertexShader:zs.background.vertexShader,fragmentShader:zs.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=n,!0===n.matrixAutoUpdate&&n.updateMatrix(),o.material.uniforms.uvTransform.value.copy(n.matrix),l===n&&c===n.version&&h===e.toneMapping||(o.material.needsUpdate=!0,l=n,c=n.version,h=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null))}}}function oe(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,a,s,u){if(0!==u){if(o){n=e;var l="drawArraysInstanced"}else if(n=t.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===n)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");n[l](i,a,s,u),r.update(s,i,u)}}}function ae(e,t,r){function n(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var i,o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==r.precision?r.precision:"highp",s=n(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s),r=!0===r.logarithmicDepthBuffer,s=e.getParameter(34930);var u=e.getParameter(35660),l=e.getParameter(3379),c=e.getParameter(34076),h=e.getParameter(34921),f=e.getParameter(36347),p=e.getParameter(36348),d=e.getParameter(36349),g=0<u,m=o||!!t.get("OES_texture_float"),v=g&&m,y=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var r=t.get("EXT_texture_filter_anisotropic");return i=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:a,logarithmicDepthBuffer:r,maxTextures:s,maxVertexTextures:u,maxTextureSize:l,maxCubemapSize:c,maxAttributes:h,maxVertexUniforms:f,maxVaryings:p,maxFragmentUniforms:d,vertexTextures:g,floatFragmentTextures:m,floatVertexTextures:v,maxSamples:y}}function se(){function e(){c.value!==i&&(c.value=i,c.needsUpdate=0<o),r.numPlanes=o,r.numIntersection=0}function t(e,t,n,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=c.value,!0!==i||null===a)for(i=n+4*o,t=t.matrixWorldInverse,l.getNormalMatrix(t),(null===a||a.length<i)&&(a=new Float32Array(i)),i=0;i!==o;++i,n+=4)u.copy(e[i]).applyMatrix4(t,l),u.normal.toArray(a,n),a[n+3]=u.constant;c.value=a,c.needsUpdate=!0}return r.numPlanes=o,r.numIntersection=0,a}var r=this,i=null,o=0,a=!1,s=!1,u=new b,l=new n,c={value:null,needsUpdate:!1};this.uniform=c,this.numIntersection=this.numPlanes=0,this.init=function(e,r,n){var s=0!==e.length||r||0!==o||a;return a=r,i=t(e,n,0),o=e.length,s},this.beginShadows=function(){s=!0,t(null)},this.endShadows=function(){s=!1,e()},this.setState=function(r,n,u,l,h,f){if(!a||null===r||0===r.length||s&&!u)s?t(null):e();else{u=s?0:o;var p=4*u,d=h.clippingState||null;for(c.value=d,d=t(r,l,p,f),r=0;r!==p;++r)d[r]=i[r];h.clippingState=d,this.numIntersection=n?this.numPlanes:0,this.numPlanes+=u}}}function ue(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];switch(r){case"WEBGL_depth_texture":var n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n}}}function le(e,t,r){function n(e){var i=e.target;for(var s in e=o.get(i),null!==e.index&&t.remove(e.index),e.attributes)t.remove(e.attributes[s]);i.removeEventListener("dispose",n),o.delete(i),(s=a.get(e))&&(t.remove(s),a.delete(e)),r.memory.geometries--}function i(e){var r=[],n=e.index,i=e.attributes.position;if(null!==n){var o=n.array;n=n.version,i=0;for(var s=o.length;i<s;i+=3){var u=o[i+0],l=o[i+1],c=o[i+2];r.push(u,l,l,c,c,u)}}else for(o=i.array,n=i.version,i=0,s=o.length/3-1;i<s;i+=3)u=i+0,l=i+1,c=i+2,r.push(u,l,l,c,c,u);r=new(65535<z(r)?k:O)(r,1),r.version=n,t.update(r,34963),(o=a.get(e))&&t.remove(o),a.set(e,r)}var o=new ac,a=new ac;return{get:function(e,t){var i=o.get(t);return i||(t.addEventListener("dispose",n),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new U).setFromObject(e)),i=t._bufferGeometry),o.set(t,i),r.memory.geometries++,i)},update:function(e){var r=e.index,n=e.attributes;for(var i in null!==r&&t.update(r,34963),n)t.update(n[i],34962);for(i in e=e.morphAttributes,e){r=e[i],n=0;for(var o=r.length;n<o;n++)t.update(r[n],34962)}},getWireframeAttribute:function(e){var t=a.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&i(e)}else i(e);return a.get(e)}}}function ce(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i)},this.renderInstances=function(n,u,l,c){if(0!==c){if(s){n=e;var h="drawElementsInstanced"}else if(n=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===n)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");n[h](i,l,o,u*a,c),r.update(l,i,c)}}}function he(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=e/3*n;break;case 1:t.lines+=e/2*n;break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function fe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function pe(e){var t={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,u=void 0===s?0:s.length;if(n=t[i.id],void 0===n){n=[];for(var l=0;l<u;l++)n[l]=[l,0];t[i.id]=n}var c=o.morphTargets&&i.morphAttributes.position;for(o=o.morphNormals&&i.morphAttributes.normal,l=0;l<u;l++){var h=n[l];0!==h[1]&&(c&&i.deleteAttribute("morphTarget"+l),o&&i.deleteAttribute("morphNormal"+l))}for(l=0;l<u;l++)h=n[l],h[0]=l,h[1]=s[l];for(n.sort(fe),l=s=0;8>l;l++)(h=n[l])&&(u=h[0],h=h[1])?(c&&i.setAttribute("morphTarget"+l,c[u]),o&&i.setAttribute("morphNormal"+l,o[u]),r[l]=h,s+=h):r[l]=0;i=i.morphTargetsRelative?1:1-s,a.getUniforms().setValue(e,"morphTargetBaseInfluence",i),a.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function de(e,t,r,n){var i=new ac;return{update:function(e){var o=n.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){i=new ac}}}function ge(e,t,r,n,o,a,s,u,l,c){e=void 0!==e?e:[],i.call(this,e,void 0!==t?t:301,r,n,o,a,void 0!==s?s:1022,u,l,c),this.flipY=!1}function me(e,t,r,n){i.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function ve(e,t,r,n){i.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function ye(e,t,r){var n=e[0];if(0>=n||0<n)return e;var i=t*r,o=Vs[i];if(void 0===o&&(o=new Float32Array(i),Vs[i]=o),0!==t)for(n.toArray(o,0),n=1,i=0;n!==t;++n)i+=r,e[n].toArray(o,i);return o}function be(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xe(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Ae(e,t){var r=Ws[t];void 0===r&&(r=new Int32Array(t),Ws[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function we(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function _e(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y):be(r,t)||(e.uniform2fv(this.addr,t),xe(r,t))}function Ce(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z):void 0!==t.r?r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b):be(r,t)||(e.uniform3fv(this.addr,t),xe(r,t))}function Me(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w):be(r,t)||(e.uniform4fv(this.addr,t),xe(r,t))}function Se(e,t){var r=this.cache,n=t.elements;void 0===n?be(r,t)||(e.uniformMatrix2fv(this.addr,!1,t),xe(r,t)):be(r,n)||(Ys.set(n),e.uniformMatrix2fv(this.addr,!1,Ys),xe(r,n))}function Te(e,t){var r=this.cache,n=t.elements;void 0===n?be(r,t)||(e.uniformMatrix3fv(this.addr,!1,t),xe(r,t)):be(r,n)||(qs.set(n),e.uniformMatrix3fv(this.addr,!1,qs),xe(r,n))}function Ee(e,t){var r=this.cache,n=t.elements;void 0===n?be(r,t)||(e.uniformMatrix4fv(this.addr,!1,t),xe(r,t)):be(r,n)||(Xs.set(n),e.uniformMatrix4fv(this.addr,!1,Xs),xe(r,n))}function Ie(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||Us,i)}function Re(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||js,i)}function Le(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||Hs,i)}function Pe(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||Gs,i)}function Oe(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function De(e,t){var r=this.cache;be(r,t)||(e.uniform2iv(this.addr,t),xe(r,t))}function ke(e,t){var r=this.cache;be(r,t)||(e.uniform3iv(this.addr,t),xe(r,t))}function Ne(e,t){var r=this.cache;be(r,t)||(e.uniform4iv(this.addr,t),xe(r,t))}function Fe(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Be(e){switch(e){case 5126:return we;case 35664:return _e;case 35665:return Ce;case 35666:return Me;case 35674:return Se;case 35675:return Te;case 35676:return Ee;case 5124:case 35670:return Oe;case 35667:case 35671:return De;case 35668:case 35672:return ke;case 35669:case 35673:return Ne;case 5125:return Fe;case 35678:case 36198:case 36298:case 36306:case 35682:return Ie;case 35679:case 36299:case 36307:return Le;case 35680:case 36300:case 36308:case 36293:return Pe;case 36289:case 36303:case 36311:case 36292:return Re}}function ze(e,t){e.uniform1fv(this.addr,t)}function Ue(e,t){e.uniform1iv(this.addr,t)}function je(e,t){e.uniform2iv(this.addr,t)}function He(e,t){e.uniform3iv(this.addr,t)}function Ge(e,t){e.uniform4iv(this.addr,t)}function Ve(e,t){t=ye(t,this.size,2),e.uniform2fv(this.addr,t)}function We(e,t){t=ye(t,this.size,3),e.uniform3fv(this.addr,t)}function Xe(e,t){t=ye(t,this.size,4),e.uniform4fv(this.addr,t)}function qe(e,t){t=ye(t,this.size,4),e.uniformMatrix2fv(this.addr,!1,t)}function Ye(e,t){t=ye(t,this.size,9),e.uniformMatrix3fv(this.addr,!1,t)}function Ze(e,t){t=ye(t,this.size,16),e.uniformMatrix4fv(this.addr,!1,t)}function Ke(e,t,r){var n=t.length,i=Ae(r,n);for(e.uniform1iv(this.addr,i),e=0;e!==n;++e)r.safeSetTexture2D(t[e]||Us,i[e])}function Je(e,t,r){var n=t.length,i=Ae(r,n);for(e.uniform1iv(this.addr,i),e=0;e!==n;++e)r.safeSetTextureCube(t[e]||Gs,i[e])}function Qe(e){switch(e){case 5126:return ze;case 35664:return Ve;case 35665:return We;case 35666:return Xe;case 35674:return qe;case 35675:return Ye;case 35676:return Ze;case 5124:case 35670:return Ue;case 35667:case 35671:return je;case 35668:case 35672:return He;case 35669:case 35673:return Ge;case 35678:case 36198:case 36298:case 36306:case 35682:return Ke;case 35680:case 36300:case 36308:case 36293:return Je}}function $e(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Be(t.type)}function et(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Qe(t.type)}function tt(e){this.id=e,this.seq=[],this.map={}}function rt(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n),o=e.getUniformLocation(t,i.name),a=this,s=i.name,u=s.length;for(Zs.lastIndex=0;;){var l=Zs.exec(s),c=Zs.lastIndex,h=l[1],f=l[3];if("]"===l[2]&&(h|=0),void 0===f||"["===f&&c+2===u){s=a,i=void 0===f?new $e(h,i,o):new et(h,i,o),s.seq.push(i),s.map[i.id]=i;break}f=a.map[h],void 0===f&&(f=new tt(h),h=a,a=f,h.seq.push(a),h.map[a.id]=a),a=f}}}function nt(e,t,r){return t=e.createShader(t),e.shaderSource(t,r),e.compileShader(t),t}function it(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+e)}}function ot(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&""===i)return"";for(e=e.getShaderSource(t).split("\n"),t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e=e.join("\n"),"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+e}function at(e,t){return t=it(t),"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function st(e,t){return t=it(t),"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function ut(e,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;case 5:t="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function lt(e){var t,r=[];for(t in e){var n=e[t];!1!==n&&r.push("#define "+t+" "+n)}return r.join("\n")}function ct(e){return""!==e}function ht(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ft(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function pt(e,t){if(e=Bs[t],void 0===e)throw Error("Can not resolve #include <"+t+">");return e.replace(Js,pt)}function dt(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),gt(e,t,r,n)}function gt(e,t,r,n){for(e="",t=parseInt(t);t<parseInt(r);t++)e+=n.replace(/\[ i \]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return e}function mt(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function vt(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}function yt(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}function bt(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}function xt(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}function At(e,t,r){var n,i,o=e.getContext(),a=r.defines,s=r.vertexShader,u=r.fragmentShader,l=vt(r),c=yt(r),h=bt(r),f=xt(r),p=0<e.gammaFactor?e.gammaFactor:1,d=r.isWebGL2?"":[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ct).join("\n"),g=lt(a),m=o.createProgram();return r.isRawShaderMaterial?(a=[g].filter(ct).join("\n"),0<a.length&&(a+="\n"),l=[d,g].filter(ct).join("\n"),0<l.length&&(l+="\n")):(a=[mt(r),"#define SHADER_NAME "+r.shaderName,g,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ct).join("\n"),l=[d,mt(r),"#define SHADER_NAME "+r.shaderName,g,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?Bs.tonemapping_pars_fragment:"",0!==r.toneMapping?ut("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.matcapEncoding||r.envMapEncoding||r.emissiveMapEncoding||r.lightMapEncoding?Bs.encodings_pars_fragment:"",r.mapEncoding?at("mapTexelToLinear",r.mapEncoding):"",r.matcapEncoding?at("matcapTexelToLinear",r.matcapEncoding):"",r.envMapEncoding?at("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?at("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMapEncoding?at("lightMapTexelToLinear",r.lightMapEncoding):"",r.outputEncoding?st("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(ct).join("\n")),s=s.replace(Js,pt),s=ht(s,r),s=ft(s,r),u=u.replace(Js,pt),u=ht(u,r),u=ft(u,r),s=s.replace($s,gt).replace(Qs,dt),u=u.replace($s,gt).replace(Qs,dt),r.isWebGL2&&!r.isRawShaderMaterial&&(c=!1,h=/^\s*#version\s+300\s+es\s*\n/,r.isShaderMaterial&&null!==s.match(h)&&null!==u.match(h)&&(c=!0,s=s.replace(h,""),u=u.replace(h,"")),a="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+a,l=["#version 300 es\n\n#define varying in",c?"":"out highp vec4 pc_fragColor;",c?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+l),u=l+u,s=nt(o,35633,a+s),u=nt(o,35632,u),o.attachShader(m,s),o.attachShader(m,u),void 0!==r.index0AttributeName?o.bindAttribLocation(m,0,r.index0AttributeName):!0===r.morphTargets&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),e.debug.checkShaderErrors&&(e=o.getProgramInfoLog(m).trim(),c=o.getShaderInfoLog(s).trim(),h=o.getShaderInfoLog(u).trim(),p=f=!0,!1===o.getProgramParameter(m,35714)?(f=!1,d=ot(o,s,"vertex"),g=ot(o,u,"fragment"),console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,d,g)):""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==c&&""!==h||(p=!1),p&&(this.diagnostics={runnable:f,programLog:e,vertexShader:{log:c,prefix:a},fragmentShader:{log:h,prefix:l}})),o.deleteShader(s),o.deleteShader(u),this.getUniforms=function(){return void 0===n&&(n=new rt(o,m)),n},this.getAttributes=function(){if(void 0===i){for(var e={},t=o.getProgramParameter(m,35721),r=0;r<t;r++){var n=o.getActiveAttrib(m,r).name;e[n]=o.getAttribLocation(m,n)}i=e}return i},this.destroy=function(){o.deleteProgram(m),this.program=void 0},this.name=r.shaderName,this.id=Ks++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=s,this.fragmentShader=u,this}function wt(e,t,r){function n(e){if(e)e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding);else var t=3e3;return t}var i=[],o=r.isWebGL2,a=r.logarithmicDepthBuffer,s=r.floatVertexTextures,u=r.precision,l=r.maxVertexUniforms,c=r.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(i,f,p,d,g,m,v){var y=d.fog;d=i.isMeshStandardMaterial?d.environment:null,d=i.envMap||d;var b=h[i.type];if(v.isSkinnedMesh){var x=v.skeleton.bones;if(s)x=1024;else{var A=Math.min(Math.floor((l-20)/4),x.length);A<x.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+x.length+" bones. This GPU supports "+A+"."),x=0):x=A}}else x=0;null!==i.precision&&(u=r.getMaxPrecision(i.precision),u!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",u,"instead.")),b?(A=zs[b],A={name:i.type,uniforms:Ds.clone(A.uniforms),vertexShader:A.vertexShader,fragmentShader:A.fragmentShader}):A={name:i.type,uniforms:i.uniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader},i.onBeforeCompile(A,e);var w=e.getRenderTarget();return{isWebGL2:o,shaderID:b,shaderName:A.name,uniforms:A.uniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,defines:i.defines,isRawShaderMaterial:i.isRawShaderMaterial,isShaderMaterial:i.isShaderMaterial,precision:u,instancing:!0===v.isInstancedMesh,supportsVertexTextures:c,outputEncoding:null!==w?n(w.texture):e.outputEncoding,map:!!i.map,mapEncoding:n(i.map),matcap:!!i.matcap,matcapEncoding:n(i.matcap),envMap:!!d,envMapMode:d&&d.mapping,envMapEncoding:n(d),envMapCubeUV:!!d&&(306===d.mapping||307===d.mapping),lightMap:!!i.lightMap,lightMapEncoding:n(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:n(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap)&&!!i.displacementMap,fog:!!y,useFog:i.fog,fogExp2:y&&y.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:a,skinning:i.skinning&&0<x,maxBones:x,useVertexTexture:s,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numRectAreaLights:f.rectArea.length,numHemiLights:f.hemi.length,numDirLightShadows:f.directionalShadowMap.length,numPointLightShadows:f.pointShadowMap.length,numSpotLightShadows:f.spotShadowMap.length,numClippingPlanes:g,numClipIntersection:m,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<p.length,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:i.onBeforeCompile}},this.getProgramCacheKey=function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);if(void 0===t.isRawShaderMaterial){for(n=0;n<f.length;n++)r.push(t[f[n]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.onBeforeCompile.toString()),r.join()},this.acquireProgram=function(t,r){for(var n,o=0,a=i.length;o<a;o++){var s=i[o];if(s.cacheKey===r){n=s,++n.usedTimes;break}}return void 0===n&&(n=new At(e,r,t),i.push(n)),n},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function _t(){var e=new ac;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new ac}}}function Ct(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Mt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function St(){function e(e,n,i,a,s,u){var l=t[r];return void 0===l?(l={id:e.id,object:e,geometry:n,material:i,program:i.program||o,groupOrder:a,renderOrder:e.renderOrder,z:s,group:u},t[r]=l):(l.id=e.id,l.object=e,l.geometry=n,l.material=i,l.program=i.program||o,l.groupOrder=a,l.renderOrder=e.renderOrder,l.z=s,l.group=u),r++,l}var t=[],r=0,n=[],i=[],o={id:-1};return{opaque:n,transparent:i,init:function(){r=0,n.length=0,i.length=0},push:function(t,r,o,a,s,u){t=e(t,r,o,a,s,u),(!0===o.transparent?i:n).push(t)},unshift:function(t,r,o,a,s,u){t=e(t,r,o,a,s,u),(!0===o.transparent?i:n).unshift(t)},finish:function(){for(var e=r,n=t.length;e<n;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){1<n.length&&n.sort(e||Ct),1<i.length&&i.sort(t||Mt)}}}function Tt(){function e(r){r=r.target,r.removeEventListener("dispose",e),t.delete(r)}var t=new ac;return{get:function(r,n){var i=t.get(r);if(void 0===i){var o=new St;t.set(r,new ac),t.get(r).set(n,o),r.addEventListener("dispose",e)}else o=i.get(n),void 0===o&&(o=new St,i.set(n,o));return o},dispose:function(){t=new ac}}}function Et(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var r={direction:new l,color:new A};break;case"SpotLight":r={position:new l,direction:new l,color:new A,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new l,color:new A,distance:0,decay:0};break;case"HemisphereLight":r={direction:new l,skyColor:new A,groundColor:new A};break;case"RectAreaLight":r={color:new A,position:new l,halfWidth:new l,halfHeight:new l}}return e[t.id]=r}}}function It(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];switch(t.type){case"DirectionalLight":var n={shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n}}}function Rt(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Lt(){for(var e=new Et,t=It(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;9>n;n++)r.probe.push(new l);var i=new l,o=new c,a=new c;return{setup:function(n,s,u){for(var l=0,c=0,h=0,f=0;9>f;f++)r.probe[f].set(0,0,0);var p=s=0,d=0,g=0,m=0,v=0,y=0,b=0;u=u.matrixWorldInverse,n.sort(Rt),f=0;for(var x=n.length;f<x;f++){var A=n[f],w=A.color,_=A.intensity,C=A.distance,M=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)l+=w.r*_,c+=w.g*_,h+=w.b*_;else if(A.isLightProbe)for(M=0;9>M;M++)r.probe[M].addScaledVector(A.sh.coefficients[M],_);else if(A.isDirectionalLight){var S=e.get(A);S.color.copy(A.color).multiplyScalar(A.intensity),S.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(u),A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,r.directionalShadow[s]=w,r.directionalShadowMap[s]=M,r.directionalShadowMatrix[s]=A.shadow.matrix,v++),r.directional[s]=S,s++}else A.isSpotLight?(S=e.get(A),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),S.color.copy(w).multiplyScalar(_),S.distance=C,S.direction.setFromMatrixPosition(A.matrixWorld),i.setFromMatrixPosition(A.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(u),S.coneCos=Math.cos(A.angle),S.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),S.decay=A.decay,A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,r.spotShadow[d]=w,r.spotShadowMap[d]=M,r.spotShadowMatrix[d]=A.shadow.matrix,b++),r.spot[d]=S,d++):A.isRectAreaLight?(S=e.get(A),S.color.copy(w).multiplyScalar(_),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),a.identity(),o.copy(A.matrixWorld),o.premultiply(u),a.extractRotation(o),S.halfWidth.set(.5*A.width,0,0),S.halfHeight.set(0,.5*A.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),r.rectArea[g]=S,g++):A.isPointLight?(S=e.get(A),S.position.setFromMatrixPosition(A.matrixWorld),S.position.applyMatrix4(u),S.color.copy(A.color).multiplyScalar(A.intensity),S.distance=A.distance,S.decay=A.decay,A.castShadow&&(_=A.shadow,w=t.get(A),w.shadowBias=_.bias,w.shadowRadius=_.radius,w.shadowMapSize=_.mapSize,w.shadowCameraNear=_.camera.near,w.shadowCameraFar=_.camera.far,r.pointShadow[p]=w,r.pointShadowMap[p]=M,r.pointShadowMatrix[p]=A.shadow.matrix,y++),r.point[p]=S,p++):A.isHemisphereLight&&(S=e.get(A),S.direction.setFromMatrixPosition(A.matrixWorld),S.direction.transformDirection(u),S.direction.normalize(),S.skyColor.copy(A.color).multiplyScalar(_),S.groundColor.copy(A.groundColor).multiplyScalar(_),r.hemi[m]=S,m++)}r.ambient[0]=l,r.ambient[1]=c,r.ambient[2]=h,n=r.hash,n.directionalLength===s&&n.pointLength===p&&n.spotLength===d&&n.rectAreaLength===g&&n.hemiLength===m&&n.numDirectionalShadows===v&&n.numPointShadows===y&&n.numSpotShadows===b||(r.directional.length=s,r.spot.length=d,r.rectArea.length=g,r.point.length=p,r.hemi.length=m,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=y,r.pointShadowMap.length=y,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=y,r.spotShadowMatrix.length=b,n.directionalLength=s,n.pointLength=p,n.spotLength=d,n.rectAreaLength=g,n.hemiLength=m,n.numDirectionalShadows=v,n.numPointShadows=y,n.numSpotShadows=b,r.version=eu++)},state:r}}function Pt(){var e=new Lt,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function Ot(){function e(r){r=r.target,r.removeEventListener("dispose",e),t.delete(r)}var t=new ac;return{get:function(r,n){if(!1===t.has(r)){var i=new Pt;t.set(r,new ac),t.get(r).set(n,i),r.addEventListener("dispose",e)}else!1===t.get(r).has(n)?(i=new Pt,t.get(r).set(n,i)):i=t.get(r).get(n);return i},dispose:function(){t=new ac}}}function Dt(e){S.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function kt(e){S.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new l,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function Nt(e,t,n){function i(e,t,r){r=e<<0|t<<1|r<<2;var n=d[r];return void 0===n&&(n=new Dt({depthPacking:3201,morphTargets:e,skinning:t}),d[r]=n),n}function s(e,t,r){r=e<<0|t<<1|r<<2;var n=g[r];return void 0===n&&(n=new kt({morphTargets:e,skinning:t}),g[r]=n),n}function u(t,r,n,o,a,u,l){var c=i,h=t.customDepthMaterial;return!0===o.isPointLight&&(c=s,h=t.customDistanceMaterial),void 0===h?(h=!1,!0===n.morphTargets&&(h=r.morphAttributes&&r.morphAttributes.position&&0<r.morphAttributes.position.length),r=!1,!0===t.isSkinnedMesh&&(!0===n.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),t=c(h,r,!0===t.isInstancedMesh)):t=h,e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length&&(h=t.uuid,c=n.uuid,r=m[h],void 0===r&&(r={},m[h]=r),h=r[c],void 0===h&&(h=t.clone(),r[c]=h),t=h),t.visible=n.visible,t.wireframe=n.wireframe,t.side=3===l?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:v[n.side],t.clipShadows=n.clipShadows,t.clippingPlanes=n.clippingPlanes,t.clipIntersection=n.clipIntersection,t.wireframeLinewidth=n.wireframeLinewidth,t.linewidth=n.linewidth,!0===o.isPointLight&&!0===t.isMeshDistanceMaterial&&(t.referencePosition.setFromMatrixPosition(o.matrixWorld),t.nearDistance=a,t.farDistance=u),t}function l(r,n,i,o,a){if(!1!==r.visible){if(r.layers.test(n.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===a)&&(!r.frustumCulled||c.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,r.matrixWorld);var s=t.update(r),h=r.material;if(Array.isArray(h))for(var f=s.groups,p=0,d=f.length;p<d;p++){var g=f[p],m=h[g.materialIndex];m&&m.visible&&(m=u(r,s,m,o,i.near,i.far,a),e.renderBufferDirect(i,null,s,m,r,g))}else h.visible&&(m=u(r,s,h,o,i.near,i.far,a),e.renderBufferDirect(i,null,s,m,r,null))}for(r=r.children,s=0,h=r.length;s<h;s++)l(r[s],n,i,o,a)}}var c=new $,h=new r,f=new r,p=new o,d=[],g=[],m={},v={0:1,1:0,2:2},y=new q({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new r},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),b=y.clone();b.defines.HORIZONAL_PASS=1;var x=new U;x.setAttribute("position",new E(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var A=new j(x,y),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(r,i,o){if(!1!==w.enabled&&(!1!==w.autoUpdate||!1!==w.needsUpdate)&&0!==r.length){var s=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),g=e.state;g.setBlending(0),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var m=0,v=r.length;m<v;m++){var x=r[m],_=x.shadow;if(void 0===_)console.warn("THREE.WebGLShadowMap:",x,"has no shadow.");else{h.copy(_.mapSize);var C=_.getFrameExtents();h.multiply(C),f.copy(_.mapSize),(h.x>n||h.y>n)&&(h.x>n&&(f.x=Math.floor(n/C.x),h.x=f.x*C.x,_.mapSize.x=f.x),h.y>n&&(f.y=Math.floor(n/C.y),h.y=f.y*C.y,_.mapSize.y=f.y)),null!==_.map||_.isPointLightShadow||3!==this.type||(C={minFilter:1006,magFilter:1006,format:1023},_.map=new a(h.x,h.y,C),_.map.texture.name=x.name+".shadowMap",_.mapPass=new a(h.x,h.y,C),_.camera.updateProjectionMatrix()),null===_.map&&(C={minFilter:1003,magFilter:1003,format:1023},_.map=new a(h.x,h.y,C),_.map.texture.name=x.name+".shadowMap",_.camera.updateProjectionMatrix()),e.setRenderTarget(_.map),e.clear(),C=_.getViewportCount();for(var M=0;M<C;M++){var S=_.getViewport(M);p.set(f.x*S.x,f.y*S.y,f.x*S.z,f.y*S.w),g.viewport(p),_.updateMatrices(x,M),c=_.getFrustum(),l(i,o,_.camera,x,this.type)}_.isPointLightShadow||3!==this.type||(x=_,_=o,C=t.update(A),y.uniforms.shadow_pass.value=x.map.texture,y.uniforms.resolution.value=x.mapSize,y.uniforms.radius.value=x.radius,e.setRenderTarget(x.mapPass),e.clear(),e.renderBufferDirect(_,null,C,y,A,null),b.uniforms.shadow_pass.value=x.mapPass.texture,b.uniforms.resolution.value=x.mapSize,b.uniforms.radius.value=x.radius,e.setRenderTarget(x.map),e.clear(),e.renderBufferDirect(_,null,C,b,A,null))}}w.needsUpdate=!1,e.setRenderTarget(s,u,d)}}}function Ft(e,t,r){function n(t,r,n){var i=new Uint8Array(4),o=e.createTexture();for(e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728),t=0;t<n;t++)e.texImage2D(r+t,0,6408,1,1,0,6408,5121,i);return o}function i(r,n){v[r]=1,0===y[r]&&(e.enableVertexAttribArray(r),y[r]=1),b[r]!==n&&((p?e:t.get("ANGLE_instanced_arrays"))[p?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,n),b[r]=n)}function a(t){!0!==x[t]&&(e.enable(t),x[t]=!0)}function s(t){!1!==x[t]&&(e.disable(t),x[t]=!1)}function u(t,r,n,i,o,u,l,c){if(0===t)w&&(s(3042),w=!1);else if(w||(a(3042),w=!0),5!==t){if(t!==_||c!==R){if(100===C&&100===T||(e.blendEquation(32774),T=C=100),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}I=E=S=M=null,_=t,R=c}}else o=o||r,u=u||n,l=l||i,r===C&&o===T||(e.blendEquationSeparate(G[r],G[o]),C=r,T=o),n===M&&i===S&&u===E&&l===I||(e.blendFuncSeparate(V[n],V[i],V[u],V[l]),M=n,S=i,E=u,I=l),_=t,R=null}function l(t){L!==t&&(t?e.frontFace(2304):e.frontFace(2305),L=t)}function c(t){0!==t?(a(2884),t!==P&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):s(2884),P=t}function h(t,r,n){t?(a(32823),(D!==r||k!==n)&&(e.polygonOffset(r,n),D=r,k=n)):s(32823)}function f(t){void 0===t&&(t=33984+N-1),B!==t&&(e.activeTexture(t),B=t)}var p=r.isWebGL2,d=new function(){var t=!1,r=new o,n=null,i=new o(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},g=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?a(2929):s(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=n=r=null}}},m=new function(){var t=!1,r=null,n=null,i=null,o=null,u=null,l=null,c=null,h=null;return{setTest:function(e){t||(e?a(2960):s(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,a){n===t&&i===r&&o===a||(e.stencilFunc(t,r,a),n=t,i=r,o=a)},setOp:function(t,r,n){u===t&&l===r&&c===n||(e.stencilOp(t,r,n),u=t,l=r,c=n)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,h=c=l=u=o=i=n=r=null}}};r=e.getParameter(34921);var v=new Uint8Array(r),y=new Uint8Array(r),b=new Uint8Array(r),x={},A=null,w=null,_=null,C=null,M=null,S=null,T=null,E=null,I=null,R=!1,L=null,P=null,O=null,D=null,k=null,N=e.getParameter(35661),F=!1;r=0,r=e.getParameter(7938),-1!==r.indexOf("WebGL")?(r=parseFloat(/^WebGL ([0-9])/.exec(r)[1]),F=1<=r):-1!==r.indexOf("OpenGL ES")&&(r=parseFloat(/^OpenGL ES ([0-9])/.exec(r)[1]),F=2<=r);var B=null,z={},U=new o,j=new o,H={};H[3553]=n(3553,3553,1),H[34067]=n(34067,34069,6),d.setClear(0,0,0,1),g.setClear(1),m.setClear(0),a(2929),g.setFunc(3),l(!1),c(1),a(2884),u(0);var G={100:32774,101:32778,102:32779};p?(G[103]=32775,G[104]=32776):(r=t.get("EXT_blend_minmax"),null!==r&&(G[103]=r.MIN_EXT,G[104]=r.MAX_EXT));var V={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};return{buffers:{color:d,depth:g,stencil:m},initAttributes:function(){for(var e=0,t=v.length;e<t;e++)v[e]=0},enableAttribute:function(e){i(e,0)},enableAttributeAndDivisor:i,disableUnusedAttributes:function(){for(var t=0,r=y.length;t!==r;++t)y[t]!==v[t]&&(e.disableVertexAttribArray(t),y[t]=0)},vertexAttribPointer:function(t,r,n,i,o,a){!0!==p||5124!==n&&5125!==n?e.vertexAttribPointer(t,r,n,i,o,a):e.vertexAttribIPointer(t,r,n,i,o,a)},enable:a,disable:s,useProgram:function(t){return A!==t&&(e.useProgram(t),A=t,!0)},setBlending:u,setMaterial:function(e,t){2===e.side?s(2884):a(2884);var r=1===e.side;t&&(r=!r),l(r),1===e.blending&&!1===e.transparent?u(0):u(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),g.setFunc(e.depthFunc),g.setTest(e.depthTest),g.setMask(e.depthWrite),d.setMask(e.colorWrite),t=e.stencilWrite,m.setTest(t),t&&(m.setMask(e.stencilWriteMask),m.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),m.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),h(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:l,setCullFace:c,setLineWidth:function(t){t!==O&&(F&&e.lineWidth(t),O=t)},setPolygonOffset:h,setScissorTest:function(e){e?a(3089):s(3089)},activeTexture:f,bindTexture:function(t,r){null===B&&f();var n=z[B];void 0===n&&(n={type:void 0,texture:void 0},z[B]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||H[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=z[B];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===U.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),U.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){for(var t=0;t<y.length;t++)1===y[t]&&(e.disableVertexAttribArray(t),y[t]=0);x={},B=null,z={},P=L=_=A=null,d.reset(),g.reset(),m.reset()}}}function Bt(e,t,r,n,i,o,a){function s(e,t){return P?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function u(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),1>i||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap)return n=t?Go.floorPowerOfTwo:Math.floor,t=n(i*e.width),i=n(i*e.height),void 0===M&&(M=s(t,i)),r=r?s(t,i):M,r.width=t,r.height=i,r.getContext("2d").drawImage(e,0,0,t,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+t+"x"+i+")."),r;"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+").")}return e}function l(e){return Go.isPowerOfTwo(e.width)&&Go.isPowerOfTwo(e.height)}function c(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function h(t,r,i,o){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function f(r,n,i){if(!1===S)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}return r=n,6403===n&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===n&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===n&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||t.get("EXT_color_buffer_float"),r}function p(e){return 1003===e||1004===e||1005===e?9728:9729}function d(t){t=t.target,t.removeEventListener("dispose",d);var r=n.get(t);void 0!==r.__webglInit&&(e.deleteTexture(r.__webglTexture),n.remove(t)),t.isVideoTexture&&L.delete(t),a.memory.textures--}function g(t){t=t.target,t.removeEventListener("dispose",g);var r=n.get(t),i=n.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(i=0;6>i;i++)e.deleteFramebuffer(r.__webglFramebuffer[i]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[i]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}a.memory.textures--}function m(e,t){var i=n.get(e);if(e.isVideoTexture){var o=a.render.frame;L.get(e)!==o&&(L.set(e,o),e.update())}if(0<e.version&&i.__version!==e.version)if(o=e.image,void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void A(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function v(t,i){if(6===t.image.length){var a=n.get(t);if(0<t.version&&a.__version!==t.version){x(a,t),r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture);i=t.image[0]&&t.image[0].isDataTexture;for(var p=[],d=0;6>d;d++)p[d]=s||i?i?t.image[d].image:t.image[d]:u(t.image[d],!1,!0,E);var g=p[0],m=l(g)||S,v=o.convert(t.format),y=o.convert(t.type),A=f(t.internalFormat,v,y);if(b(34067,t,m),s){for(d=0;6>d;d++){var w=p[d].mipmaps;for(s=0;s<w.length;s++){var _=w[s];1023!==t.format&&1022!==t.format?null!==v?r.compressedTexImage2D(34069+d,s,A,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+d,s,A,_.width,_.height,0,v,y,_.data)}}a.__maxMipLevel=w.length-1}else{for(w=t.mipmaps,d=0;6>d;d++)if(i)for(r.texImage2D(34069+d,0,A,p[d].width,p[d].height,0,v,y,p[d].data),s=0;s<w.length;s++)_=w[s],_=_.image[d].image,r.texImage2D(34069+d,s+1,A,_.width,_.height,0,v,y,_.data);else for(r.texImage2D(34069+d,0,A,v,y,p[d]),s=0;s<w.length;s++)_=w[s],r.texImage2D(34069+d,s+1,A,v,y,_.image[d]);a.__maxMipLevel=w.length}c(t,m)&&h(34067,t,g.width,g.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture)}}function y(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}function b(r,o,a){a?(e.texParameteri(r,10242,D[o.wrapS]),e.texParameteri(r,10243,D[o.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,D[o.wrapR]),e.texParameteri(r,10240,k[o.magFilter]),e.texParameteri(r,10241,k[o.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,p(o.magFilter)),e.texParameteri(r,10241,p(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(a=t.get("EXT_texture_filter_anisotropic"))||1015===o.type&&null===t.get("OES_texture_float_linear")||1016===o.type&&null===(S||t.get("OES_texture_half_float_linear"))||!(1<o.anisotropy||n.get(o).__currentAnisotropy)||(e.texParameterf(r,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}function x(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",d),t.__webglTexture=e.createTexture(),a.memory.textures++)}function A(t,n,i){var a=3553;n.isDataTexture2DArray&&(a=35866),n.isDataTexture3D&&(a=32879),x(t,n),r.activeTexture(33984+i),r.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),i=!S&&(1001!==n.wrapS||1001!==n.wrapT||1003!==n.minFilter&&1006!==n.minFilter),i=i&&!1===l(n.image),i=u(n.image,i,!1,I);var s=l(i)||S,p=o.convert(n.format),d=o.convert(n.type),g=f(n.internalFormat,p,d);b(a,n,s);var m=n.mipmaps;if(n.isDepthTexture)g=6402,S?g=1015===n.type?36012:1014===n.type?33190:1020===n.type?35056:33189:1015===n.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===n.format&&6402===g&&1012!==n.type&&1014!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=1012,d=o.convert(n.type)),1027===n.format&&6402===g&&(g=34041,1020!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=1020,d=o.convert(n.type))),r.texImage2D(3553,0,g,i.width,i.height,0,p,d,null);else if(n.isDataTexture)if(0<m.length&&s){for(var v=0,y=m.length;v<y;v++){var A=m[v];r.texImage2D(3553,v,g,A.width,A.height,0,p,d,A.data)}n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,i.width,i.height,0,p,d,i.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(v=0,y=m.length;v<y;v++)A=m[v],1023!==n.format&&1022!==n.format?null!==p?r.compressedTexImage2D(3553,v,g,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,v,g,A.width,A.height,0,p,d,A.data);t.__maxMipLevel=m.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,g,i.width,i.height,i.depth,0,p,d,i.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,g,i.width,i.height,i.depth,0,p,d,i.data),t.__maxMipLevel=0;else if(0<m.length&&s){for(v=0,y=m.length;v<y;v++)A=m[v],r.texImage2D(3553,v,g,p,d,A);n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,p,d,i),t.__maxMipLevel=0;c(n,s)&&h(a,n,i.width,i.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function w(t,i,a,s){var u=o.convert(i.texture.format),l=o.convert(i.texture.type),c=f(i.texture.internalFormat,u,l);r.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function _(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){var i=33189;n?((n=r.depthTexture)&&n.isDepthTexture&&(1015===n.type?i=36012:1014===n.type&&(i=33190)),n=C(r),e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)):e.renderbufferStorage(36161,i,r.width,r.height),e.framebufferRenderbuffer(36160,36096,36161,t)}else r.depthBuffer&&r.stencilBuffer?(n?(n=C(r),e.renderbufferStorageMultisample(36161,n,35056,r.width,r.height)):e.renderbufferStorage(36161,34041,r.width,r.height),e.framebufferRenderbuffer(36160,33306,36161,t)):(t=o.convert(r.texture.format),i=o.convert(r.texture.type),i=f(r.texture.internalFormat,t,i),n?(n=C(r),e.renderbufferStorageMultisample(36161,n,i,r.width,r.height)):e.renderbufferStorage(36161,i,r.width,r.height));e.bindRenderbuffer(36161,null)}function C(e){return S&&e.isWebGLMultisampleRenderTarget?Math.min(R,e.samples):0}var M,S=i.isWebGL2,T=i.maxTextures,E=i.maxCubemapSize,I=i.maxTextureSize,R=i.maxSamples,L=new ac,P=!1;try{P="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(B){}var O=0,D={1e3:10497,1001:33071,1002:33648},k={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987},N=!1,F=!1;this.allocateTextureUnit=function(){var e=O;return e>=T&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+T),O+=1,e},this.resetTextureUnits=function(){O=0},this.setTexture2D=m,this.setTexture2DArray=function(e,t){var i=n.get(e);0<e.version&&i.__version!==e.version?A(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);0<e.version&&i.__version!==e.version?A(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=function(t){var i=n.get(t),s=n.get(t.texture);t.addEventListener("dispose",g),s.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===t.isWebGLCubeRenderTarget,p=!0===t.isWebGLMultisampleRenderTarget,d=l(t)||S;if(!S||1022!==t.texture.format||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u)for(i.__webglFramebuffer=[],p=0;6>p;p++)i.__webglFramebuffer[p]=e.createFramebuffer();else if(i.__webglFramebuffer=e.createFramebuffer(),p)if(S){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer),p=o.convert(t.texture.format);var v=o.convert(t.texture.type);p=f(t.texture.internalFormat,p,v),v=C(t),e.renderbufferStorageMultisample(36161,v,p,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),_(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){for(r.bindTexture(34067,s.__webglTexture),b(34067,t.texture,d),p=0;6>p;p++)w(i.__webglFramebuffer[p],t,36064,34069+p);c(t.texture,d)&&h(34067,t.texture,t.width,t.height),r.bindTexture(34067,null)}else r.bindTexture(3553,s.__webglTexture),b(3553,t.texture,d),w(i.__webglFramebuffer,t,36064,3553),c(t.texture,d)&&h(3553,t.texture,t.width,t.height),r.bindTexture(3553,null);if(t.depthBuffer){if(i=n.get(t),s=!0===t.isWebGLCubeRenderTarget,t.depthTexture){if(s)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,i.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(n.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),m(t.depthTexture,0),i=n.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}else if(s)for(i.__webglDepthbuffer=[],s=0;6>s;s++)e.bindFramebuffer(36160,i.__webglFramebuffer[s]),i.__webglDepthbuffer[s]=e.createRenderbuffer(),_(i.__webglDepthbuffer[s],t,!1);else e.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),_(i.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(e){var t=e.texture,i=l(e)||S;if(c(t,i)){i=e.isWebGLCubeRenderTarget?34067:3553;var o=n.get(t).__webglTexture;r.bindTexture(i,o),h(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(S){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),m(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?v(e,t):y(e,t)}}function zt(e,t,r){var n=r.isWebGL2;return{convert:function(e){if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e){if(n)return 5131;var r=t.get("OES_texture_half_float");return null!==r?r.HALF_FLOAT_OES:null}if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return r=t.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(r=t.get("WEBGL_compressed_texture_etc"),null!==r)){if(37492===e)return r.COMPRESSED_RGB8_ETC2;if(37496===e)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(r=t.get("WEBGL_compressed_texture_astc"),null!==r?e:null):36492===e?(r=t.get("EXT_texture_compression_bptc"),null!==r?e:null):1020===e?n?34042:(r=t.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Ut(e){Z.call(this),this.cameras=e||[]}function jt(){p.call(this),this.type="Group"}function Ht(){this._grip=this._targetRay=null}function Gt(e,t){function r(e){var t=m.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function n(){m.forEach((function(e,t){e.disconnect(t)})),m.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),u.isPresenting=!1,u.dispatchEvent({type:"sessionend"})}function i(e){f=e,S.setContext(c),S.start(),u.isPresenting=!0,u.dispatchEvent({type:"sessionstart"})}function a(e){for(var t=c.inputSources,r=0;r<g.length;r++)m.set(t[r],g[r]);for(r=0;r<e.removed.length;r++){t=e.removed[r];var n=m.get(t);n&&(n.dispatchEvent({type:"disconnected",data:t}),m.delete(t))}for(r=0;r<e.added.length;r++)t=e.added[r],(n=m.get(t))&&n.dispatchEvent({type:"connected",data:t})}function s(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}var u=this,c=null,h=1,f=null,p="local-floor",d=null,g=[],m=new ql,v=new Z;v.layers.enable(1),v.viewport=new o;var y=new Z;y.layers.enable(2),y.viewport=new o;var b=[v,y],x=new Ut;x.layers.enable(1),x.layers.enable(2);var A=null,w=null;this.isPresenting=this.enabled=!1,this.getController=function(e){var t=g[e];return void 0===t&&(t=new Ht,g[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=g[e];return void 0===t&&(t=new Ht,g[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){h=e,!0===u.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){p=e,!0===u.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f},this.getSession=function(){return c},this.setSession=function(e){c=e,null!==c&&(c.addEventListener("select",r),c.addEventListener("selectstart",r),c.addEventListener("selectend",r),c.addEventListener("squeeze",r),c.addEventListener("squeezestart",r),c.addEventListener("squeezeend",r),c.addEventListener("end",n),e=t.getContextAttributes(),!0!==e.xrCompatible&&t.makeXRCompatible(),e=new XRWebGLLayer(c,t,{antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:h}),c.updateRenderState({baseLayer:e}),c.requestReferenceSpace(p).then(i),c.addEventListener("inputsourceschange",a))};var _=new l,C=new l;this.getCamera=function(e){x.near=y.near=v.near=e.near,x.far=y.far=v.far=e.far,A===x.near&&w===x.far||(c.updateRenderState({depthNear:x.near,depthFar:x.far}),A=x.near,w=x.far);var t=e.parent,r=x.cameras;s(x,t);for(var n=0;n<r.length;n++)s(r[n],t);for(e.matrixWorld.copy(x.matrixWorld),e=e.children,n=0,t=e.length;n<t;n++)e[n].updateMatrixWorld(!0);if(2===r.length){_.setFromMatrixPosition(v.matrixWorld),C.setFromMatrixPosition(y.matrixWorld),r=_.distanceTo(C);var i=v.projectionMatrix.elements,o=y.projectionMatrix.elements,a=i[14]/(i[10]-1);n=i[14]/(i[10]+1),e=(i[9]+1)/i[5],t=(i[9]-1)/i[5];var u=(i[8]-1)/i[0],l=(o[8]+1)/o[0];o=a*u,i=a*l,l=r/(-u+l),u=l*-u,v.matrixWorld.decompose(x.position,x.quaternion,x.scale),x.translateX(u),x.translateZ(l),x.matrixWorld.compose(x.position,x.quaternion,x.scale),x.matrixWorldInverse.getInverse(x.matrixWorld),a+=l,l=n+l,x.projectionMatrix.makePerspective(o-u,i+(r-u),e*n/l*a,t*n/l*a,a,l)}else x.projectionMatrix.copy(v.projectionMatrix);return x};var M=null,S=new ee;S.setAnimationLoop((function(t,r){if(d=r.getViewerPose(f),null!==d){var n=d.views,i=c.renderState.baseLayer;e.setFramebuffer(i.framebuffer);var o=!1;n.length!==x.cameras.length&&(x.cameras.length=0,o=!0);for(var a=0;a<n.length;a++){var s=n[a],u=i.getViewport(s),l=b[a];l.matrix.fromArray(s.transform.matrix),l.projectionMatrix.fromArray(s.projectionMatrix),l.viewport.set(u.x,u.y,u.width,u.height),0===a&&x.matrix.copy(l.matrix),!0===o&&x.cameras.push(l)}}for(n=c.inputSources,a=0;a<g.length;a++)g[a].update(n[a],r,f);M&&M(t,r)})),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}function Vt(e){function t(t,r,n){if(t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap),(n=r.envMap||n)&&(t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio,t.maxMipLevel.value=e.get(n).__maxMipLevel),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map)var i=r.map;else r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap&&(i=r.emissiveMap);if(void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap)var o=r.aoMap;else r.lightMap&&(o=r.lightMap);void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function r(e,t,r){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||r)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,o,a){if(n.isMeshBasicMaterial)t(e,n);else if(n.isMeshLambertMaterial)t(e,n),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap);else if(n.isMeshToonMaterial)t(e,n),e.specular.value.copy(n.specular),e.shininess.value=Math.max(n.shininess,1e-4),n.gradientMap&&(e.gradientMap.value=n.gradientMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshPhongMaterial)t(e,n),e.specular.value.copy(n.specular),e.shininess.value=Math.max(n.shininess,1e-4),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshStandardMaterial)t(e,n,i),n.isMeshPhysicalMaterial?(r(e,n,i),e.reflectivity.value=n.reflectivity,e.clearcoat.value=n.clearcoat,e.clearcoatRoughness.value=n.clearcoatRoughness,n.sheen&&e.sheen.value.copy(n.sheen),n.clearcoatMap&&(e.clearcoatMap.value=n.clearcoatMap),n.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=n.clearcoatRoughnessMap),n.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(n.clearcoatNormalScale),e.clearcoatNormalMap.value=n.clearcoatNormalMap,1===n.side&&e.clearcoatNormalScale.value.negate()),e.transparency.value=n.transparency):r(e,n,i);else if(n.isMeshMatcapMaterial)t(e,n),n.matcap&&(e.matcap.value=n.matcap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshDepthMaterial)t(e,n),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isMeshDistanceMaterial)t(e,n),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),e.referencePosition.value.copy(n.referencePosition),e.nearDistance.value=n.nearDistance,e.farDistance.value=n.farDistance;else if(n.isMeshNormalMaterial)t(e,n),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);else if(n.isLineBasicMaterial)e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,n.isLineDashedMaterial&&(e.dashSize.value=n.dashSize,e.totalSize.value=n.dashSize+n.gapSize,e.scale.value=n.scale);else if(n.isPointsMaterial){if(e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.size.value=n.size*o,e.scale.value=.5*a,n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.map)var s=n.map;else n.alphaMap&&(s=n.alphaMap);void 0!==s&&(!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uvTransform.value.copy(s.matrix))}else if(n.isSpriteMaterial){if(e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.rotation.value=n.rotation,n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.map)var u=n.map;else n.alphaMap&&(u=n.alphaMap);void 0!==u&&(!0===u.matrixAutoUpdate&&u.updateMatrix(),e.uvTransform.value.copy(u.matrix))}else n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Wt(e){var t;function n(){R=new ue(Fe),L=new ae(Fe,R,e),!1===L.isWebGL2&&(R.get("WEBGL_depth_texture"),R.get("OES_texture_float"),R.get("OES_texture_half_float"),R.get("OES_texture_half_float_linear"),R.get("OES_standard_derivatives"),R.get("OES_element_index_uint"),R.get("ANGLE_instanced_arrays")),R.get("OES_texture_float_linear"),q=new zt(Fe,R,L),P=new Ft(Fe,R,L),P.scissor(Ae.copy(Ie).multiplyScalar(Me).floor()),P.viewport(xe.copy(Ee).multiplyScalar(Me).floor()),O=new he(Fe),D=new _t,k=new Bt(Fe,R,P,D,L,q,O),N=new te(Fe,L),F=new le(Fe,N,O),B=new de(Fe,F,N,O),V=new pe(Fe),z=new wt(Y,R,L),U=new Vt(D),j=new Tt,H=new Ot,G=new ie(Y,P,B,C),W=new oe(Fe,R,O,L),X=new ce(Fe,R,O,L),O.programs=z.programs,Y.capabilities=L,Y.extensions=R,Y.properties=D,Y.renderLists=j,Y.state=P,Y.info=O}function i(e){e.preventDefault(),Z=!0}function a(){Z=!1,n()}function s(e){e=e.target,e.removeEventListener("dispose",s),u(e),D.remove(e)}function u(e){var t=D.get(e).program;e.program=void 0,void 0!==t&&z.releaseProgram(t)}function h(e,t){e.render((function(e){Y.renderBufferImmediate(e,t)}))}function f(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)I.pushLight(e),e.castShadow&&I.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Le.intersectsSprite(e)){n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke);var i=B.update(e),o=e.material;o.visible&&E.push(e,i,o,r,Ne.z,null)}}else if(e.isImmediateRenderObject)n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke),E.push(e,null,e.material,r,Ne.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==O.render.frame&&(e.skeleton.update(),e.skeleton.frame=O.render.frame),!e.frustumCulled||Le.intersectsObject(e)))if(n&&Ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ke),i=B.update(e),o=e.material,Array.isArray(o))for(var a=i.groups,s=0,u=a.length;s<u;s++){var l=a[s],c=o[l.materialIndex];c&&c.visible&&E.push(e,i,c,r,Ne.z,l)}else o.visible&&E.push(e,i,o,r,Ne.z,null);for(e=e.children,s=0,u=e.length;s<u;s++)f(e[s],t,r,n)}}function p(e,t,r,n){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,l=void 0===n?a.material:n;if(a=a.group,r.isArrayCamera){be=r;for(var c=r.cameras,h=0,f=c.length;h<f;h++){var p=c[h];s.layers.test(p.layers)&&(P.viewport(xe.copy(p.viewport)),I.setupLights(p),g(s,t,p,u,l,a))}}else be=null,g(s,t,r,u,l,a)}}function g(e,r,n,i,o,a){if(e.onBeforeRender(Y,r,n,i,o,a),I=H.get(r,be||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var s=v(n,r,o,e);P.setMaterial(o),me=t=null,ve=!1,h(e,s)}else Y.renderBufferDirect(n,r,i,o,e,a);e.onAfterRender(Y,r,n,i,o,a),I=H.get(r,be||n)}function m(e,t,r){var n=D.get(e),i=I.state.lights,o=i.state.version;r=z.getParameters(e,i.state,I.state.shadowsArray,t,Pe.numPlanes,Pe.numIntersection,r);var a=z.getProgramCacheKey(r),l=n.program,c=!0;if(void 0===l)e.addEventListener("dispose",s);else if(l.cacheKey!==a)u(e);else{if(n.lightsStateVersion!==o)n.lightsStateVersion=o;else if(void 0!==r.shaderID)return;c=!1}if(c&&(l=z.acquireProgram(r,a),n.program=l,n.uniforms=r.uniforms,n.outputEncoding=r.outputEncoding,e.program=l),r=l.getAttributes(),e.morphTargets)for(a=e.numSupportedMorphTargets=0;a<Y.maxMorphTargets;a++)0<=r["morphTarget"+a]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(a=e.numSupportedMorphNormals=0;a<Y.maxMorphNormals;a++)0<=r["morphNormal"+a]&&e.numSupportedMorphNormals++;r=n.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=Pe.numPlanes,n.numIntersection=Pe.numIntersection,r.clippingPlanes=Pe.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.needsLights=e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights,n.lightsStateVersion=o,n.needsLights&&(r.ambientLightColor.value=i.state.ambient,r.lightProbe.value=i.state.probe,r.directionalLights.value=i.state.directional,r.directionalLightShadows.value=i.state.directionalShadow,r.spotLights.value=i.state.spot,r.spotLightShadows.value=i.state.spotShadow,r.rectAreaLights.value=i.state.rectArea,r.pointLights.value=i.state.point,r.pointLightShadows.value=i.state.pointShadow,r.hemisphereLights.value=i.state.hemi,r.directionalShadowMap.value=i.state.directionalShadowMap,r.directionalShadowMatrix.value=i.state.directionalShadowMatrix,r.spotShadowMap.value=i.state.spotShadowMap,r.spotShadowMatrix.value=i.state.spotShadowMatrix,r.pointShadowMap.value=i.state.pointShadowMap,r.pointShadowMatrix.value=i.state.pointShadowMatrix),e=n.program.getUniforms(),e=rt.seqWithValue(e.seq,r),n.uniformsList=e}function v(e,t,r,n){k.resetTextureUnits();var i=t.fog,o=r.isMeshStandardMaterial?t.environment:null,a=null===ne?Y.outputEncoding:ne.texture.encoding,s=D.get(r),u=I.state.lights;Oe&&(De||e!==ye)&&Pe.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,s,e===ye&&r.id===ge),r.version===s.__version?void 0===s.program||r.fog&&s.fog!==i||s.environment!==o||s.needsLights&&s.lightsStateVersion!==u.state.version?m(r,t,n):void 0===s.numClippingPlanes||s.numClippingPlanes===Pe.numPlanes&&s.numIntersection===Pe.numIntersection?s.outputEncoding!==a&&m(r,t,n):m(r,t,n):(m(r,t,n),s.__version=r.version);var l=!1,c=!1,h=!1;if(t=s.program,a=t.getUniforms(),u=s.uniforms,P.useProgram(t.program)&&(h=c=l=!0),r.id!==ge&&(ge=r.id,c=!0),(l||ye!==e)&&(a.setValue(Fe,"projectionMatrix",e.projectionMatrix),L.logarithmicDepthBuffer&&a.setValue(Fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ye!==e&&(ye=e,h=c=!0),(r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap)&&(l=a.map.cameraPosition,void 0!==l&&l.setValue(Fe,Ne.setFromMatrixPosition(e.matrixWorld))),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&a.setValue(Fe,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&a.setValue(Fe,"viewMatrix",e.matrixWorldInverse)),r.skinning&&(a.setOptional(Fe,n,"bindMatrix"),a.setOptional(Fe,n,"bindMatrixInverse"),e=n.skeleton))if(l=e.bones,L.floatVertexTextures){if(void 0===e.boneTexture){l=Math.sqrt(4*l.length),l=Go.ceilPowerOfTwo(l),l=Math.max(l,4);var f=new Float32Array(l*l*4);f.set(e.boneMatrices);var p=new Q(f,l,l,1023,1015);e.boneMatrices=f,e.boneTexture=p,e.boneTextureSize=l}a.setValue(Fe,"boneTexture",e.boneTexture,k),a.setValue(Fe,"boneTextureSize",e.boneTextureSize)}else a.setOptional(Fe,e,"boneMatrices");return(c||s.receiveShadow!==n.receiveShadow)&&(s.receiveShadow=n.receiveShadow,a.setValue(Fe,"receiveShadow",n.receiveShadow)),c&&(a.setValue(Fe,"toneMappingExposure",Y.toneMappingExposure),a.setValue(Fe,"toneMappingWhitePoint",Y.toneMappingWhitePoint),s.needsLights&&(c=h,u.ambientLightColor.needsUpdate=c,u.lightProbe.needsUpdate=c,u.directionalLights.needsUpdate=c,u.directionalLightShadows.needsUpdate=c,u.pointLights.needsUpdate=c,u.pointLightShadows.needsUpdate=c,u.spotLights.needsUpdate=c,u.spotLightShadows.needsUpdate=c,u.rectAreaLights.needsUpdate=c,u.hemisphereLights.needsUpdate=c),i&&r.fog&&U.refreshFogUniforms(u,i),U.refreshMaterialUniforms(u,r,o,Me,Ce),void 0!==u.ltc_1&&(u.ltc_1.value=Fs.LTC_1),void 0!==u.ltc_2&&(u.ltc_2.value=Fs.LTC_2),rt.upload(Fe,s.uniformsList,u,k)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(rt.upload(Fe,s.uniformsList,u,k),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&a.setValue(Fe,"center",n.center),a.setValue(Fe,"modelViewMatrix",n.modelViewMatrix),a.setValue(Fe,"normalMatrix",n.normalMatrix),a.setValue(Fe,"modelMatrix",n.matrixWorld),t}e=e||{};var y=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),b=void 0!==e.context?e.context:null,x=void 0!==e.alpha&&e.alpha,A=void 0===e.depth||e.depth,w=void 0===e.stencil||e.stencil,_=void 0!==e.antialias&&e.antialias,C=void 0===e.premultipliedAlpha||e.premultipliedAlpha,M=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,S=void 0!==e.powerPreference?e.powerPreference:"default",T=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,E=null,I=null;this.domElement=y,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var R,L,P,O,D,k,N,F,B,z,U,j,H,G,V,W,X,q,Y=this,Z=!1,K=null,J=0,re=0,ne=null,fe=null,ge=-1,me=t=null,ve=!1,ye=null,be=null,xe=new o,Ae=new o,we=null,_e=y.width,Ce=y.height,Me=1,Se=null,Te=null,Ee=new o(0,0,_e,Ce),Ie=new o(0,0,_e,Ce),Re=!1,Le=new $,Pe=new se,Oe=!1,De=!1,ke=new c,Ne=new l;try{x={alpha:x,depth:A,stencil:w,antialias:_,premultipliedAlpha:C,preserveDrawingBuffer:M,powerPreference:S,failIfMajorPerformanceCaveat:T},y.addEventListener("webglcontextlost",i,!1),y.addEventListener("webglcontextrestored",a,!1);var Fe=b||y.getContext("webgl",x)||y.getContext("experimental-webgl",x);if(null===Fe){if(null!==y.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===Fe.getShaderPrecisionFormat&&(Fe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ge){throw console.error("THREE.WebGLRenderer: "+Ge.message),Ge}n();var Be=new Gt(Y,Fe);this.xr=Be;var ze=new Nt(Y,B,L.maxTextureSize);this.shadowMap=ze,this.getContext=function(){return Fe},this.getContextAttributes=function(){return Fe.getContextAttributes()},this.forceContextLoss=function(){var e=R.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=R.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Me},this.setPixelRatio=function(e){void 0!==e&&(Me=e,this.setSize(_e,Ce,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new r),e.set(_e,Ce)},this.setSize=function(e,t,r){Be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(_e=e,Ce=t,y.width=Math.floor(e*Me),y.height=Math.floor(t*Me),!1!==r&&(y.style.width=e+"px",y.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new r),e.set(_e*Me,Ce*Me).floor()},this.setDrawingBufferSize=function(e,t,r){_e=e,Ce=t,Me=r,y.width=Math.floor(e*r),y.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new o),e.copy(xe)},this.getViewport=function(e){return e.copy(Ee)},this.setViewport=function(e,t,r,n){e.isVector4?Ee.set(e.x,e.y,e.z,e.w):Ee.set(e,t,r,n),P.viewport(xe.copy(Ee).multiplyScalar(Me).floor())},this.getScissor=function(e){return e.copy(Ie)},this.setScissor=function(e,t,r,n){e.isVector4?Ie.set(e.x,e.y,e.z,e.w):Ie.set(e,t,r,n),P.scissor(Ae.copy(Ie).multiplyScalar(Me).floor())},this.getScissorTest=function(){return Re},this.setScissorTest=function(e){P.setScissorTest(Re=e)},this.setOpaqueSort=function(e){Se=e},this.setTransparentSort=function(e){Te=e},this.getClearColor=function(){return G.getClearColor()},this.setClearColor=function(){G.setClearColor.apply(G,arguments)},this.getClearAlpha=function(){return G.getClearAlpha()},this.setClearAlpha=function(){G.setClearAlpha.apply(G,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),Fe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){y.removeEventListener("webglcontextlost",i,!1),y.removeEventListener("webglcontextrestored",a,!1),j.dispose(),H.dispose(),D.dispose(),B.dispose(),Be.dispose(),He.stop()},this.renderBufferImmediate=function(e,t){P.initAttributes();var r=D.get(e);e.hasPositions&&!r.position&&(r.position=Fe.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Fe.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Fe.createBuffer()),e.hasColors&&!r.color&&(r.color=Fe.createBuffer()),t=t.getAttributes(),e.hasPositions&&(Fe.bindBuffer(34962,r.position),Fe.bufferData(34962,e.positionArray,35048),P.enableAttribute(t.position),Fe.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(Fe.bindBuffer(34962,r.normal),Fe.bufferData(34962,e.normalArray,35048),P.enableAttribute(t.normal),Fe.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(Fe.bindBuffer(34962,r.uv),Fe.bufferData(34962,e.uvArray,35048),P.enableAttribute(t.uv),Fe.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(Fe.bindBuffer(34962,r.color),Fe.bufferData(34962,e.colorArray,35048),P.enableAttribute(t.color),Fe.vertexAttribPointer(t.color,3,5126,!1,0,0)),P.disableUnusedAttributes(),Fe.drawArrays(4,0,e.count),e.count=0};var Ue=new d;this.renderBufferDirect=function(e,r,n,i,o,a){null===r&&(r=Ue);var s=o.isMesh&&0>o.matrixWorld.determinant(),u=v(e,r,i,o);P.setMaterial(i,s);var l=!1;if(t===n.id&&me===u.id&&ve===(!0===i.wireframe)||(t=n.id,me=u.id,ve=!0===i.wireframe,l=!0),(i.morphTargets||i.morphNormals)&&(V.update(o,n,i,u),l=!0),!0===o.isInstancedMesh&&(l=!0),e=n.index,r=n.attributes.position,null===e){if(void 0===r||0===r.count)return}else if(0===e.count)return;var c=1;if(!0===i.wireframe&&(e=F.getWireframeAttribute(n),c=2),s=W,null!==e){var h=N.get(e);s=X,s.setIndex(h)}if(l){if(!1!==L.isWebGL2||!o.isInstancedMesh&&!n.isInstancedBufferGeometry||null!==R.get("ANGLE_instanced_arrays")){P.initAttributes(),l=n.attributes,u=u.getAttributes();var f=i.defaultAttributeValues;for(_ in u){var p=u[_];if(0<=p){var d=l[_];if(void 0!==d){var g=d.normalized,m=d.itemSize,y=N.get(d);if(void 0!==y){var b=y.buffer,x=y.type;if(y=y.bytesPerElement,d.isInterleavedBufferAttribute){var A=d.data,w=A.stride;d=d.offset,A&&A.isInstancedInterleavedBuffer?(P.enableAttributeAndDivisor(p,A.meshPerAttribute),void 0===n._maxInstanceCount&&(n._maxInstanceCount=A.meshPerAttribute*A.count)):P.enableAttribute(p),Fe.bindBuffer(34962,b),P.vertexAttribPointer(p,m,x,g,w*y,d*y)}else d.isInstancedBufferAttribute?(P.enableAttributeAndDivisor(p,d.meshPerAttribute),void 0===n._maxInstanceCount&&(n._maxInstanceCount=d.meshPerAttribute*d.count)):P.enableAttribute(p),Fe.bindBuffer(34962,b),P.vertexAttribPointer(p,m,x,g,0,0)}}else if("instanceMatrix"===_)y=N.get(o.instanceMatrix),void 0!==y&&(b=y.buffer,x=y.type,P.enableAttributeAndDivisor(p+0,1),P.enableAttributeAndDivisor(p+1,1),P.enableAttributeAndDivisor(p+2,1),P.enableAttributeAndDivisor(p+3,1),Fe.bindBuffer(34962,b),Fe.vertexAttribPointer(p+0,4,x,!1,64,0),Fe.vertexAttribPointer(p+1,4,x,!1,64,16),Fe.vertexAttribPointer(p+2,4,x,!1,64,32),Fe.vertexAttribPointer(p+3,4,x,!1,64,48));else if(void 0!==f&&(g=f[_],void 0!==g))switch(g.length){case 2:Fe.vertexAttrib2fv(p,g);break;case 3:Fe.vertexAttrib3fv(p,g);break;case 4:Fe.vertexAttrib4fv(p,g);break;default:Fe.vertexAttrib1fv(p,g)}}}P.disableUnusedAttributes()}null!==e&&Fe.bindBuffer(34963,h.buffer)}var _=n.drawRange.start*c;l=null!==a?a.start*c:0,h=Math.max(_,l),a=Math.max(0,Math.min(null!==e?e.count:r.count,_+n.drawRange.count*c,l+(null!==a?a.count*c:1/0))-1-h+1),0!==a&&(o.isMesh?!0===i.wireframe?(P.setLineWidth(i.wireframeLinewidth*(null===ne?Me:1)),s.setMode(1)):s.setMode(4):o.isLine?(i=i.linewidth,void 0===i&&(i=1),P.setLineWidth(i*(null===ne?Me:1)),o.isLineSegments?s.setMode(1):o.isLineLoop?s.setMode(2):s.setMode(3)):o.isPoints?s.setMode(0):o.isSprite&&s.setMode(4),o.isInstancedMesh?s.renderInstances(n,h,a,o.count):n.isInstancedBufferGeometry?s.renderInstances(n,h,a,Math.min(n.instanceCount,n._maxInstanceCount)):s.render(h,a))},this.compile=function(e,t){I=H.get(e,t),I.init(),e.traverse((function(e){e.isLight&&(I.pushLight(e),e.castShadow&&I.pushShadow(e))})),I.setupLights(t);var r={};e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){var o=n[i];!1===o.uuid in r&&(m(o,e,t),r[o.uuid]=!0)}else!1===n.uuid in r&&(m(n,e,t),r[n.uuid]=!0)}))};var je=null,He=new ee;He.setAnimationLoop((function(e){Be.isPresenting||je&&je(e)})),"undefined"!==typeof window&&He.setContext(window),this.setAnimationLoop=function(e){je=e,Be.setAnimationLoop(e),He.start()},this.render=function(e,r,n,i){if(void 0!==n){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var o=n}if(void 0!==i){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var a=i}r&&r.isCamera?Z||(me=t=null,ve=!1,ge=-1,ye=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===r.parent&&r.updateMatrixWorld(),Be.enabled&&Be.isPresenting&&(r=Be.getCamera(r)),e.onBeforeRender(Y,e,r,o||ne),I=H.get(e,r),I.init(),ke.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Le.setFromProjectionMatrix(ke),De=this.localClippingEnabled,Oe=Pe.init(this.clippingPlanes,De,r),E=j.get(e,r),E.init(),f(e,r,0,Y.sortObjects),E.finish(),!0===Y.sortObjects&&E.sort(Se,Te),Oe&&Pe.beginShadows(),ze.render(I.state.shadowsArray,e,r),I.setupLights(r),Oe&&Pe.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==o&&this.setRenderTarget(o),G.render(E,e,r,a),n=E.opaque,i=E.transparent,e.overrideMaterial?(o=e.overrideMaterial,n.length&&p(n,e,r,o),i.length&&p(i,e,r,o)):(n.length&&p(n,e,r),i.length&&p(i,e,r)),e.onAfterRender(Y,e,r),null!==ne&&(k.updateRenderTargetMipmap(ne),k.updateMultisampleRenderTarget(ne)),P.buffers.depth.setTest(!0),P.buffers.depth.setMask(!0),P.buffers.color.setMask(!0),P.setPolygonOffset(!1),I=E=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){K!==e&&null===ne&&Fe.bindFramebuffer(36160,e),K=e},this.getActiveCubeFace=function(){return J},this.getActiveMipmapLevel=function(){return re},this.getRenderTarget=function(){return ne},this.setRenderTarget=function(e,t,r){ne=e,J=t,re=r,e&&void 0===D.get(e).__webglFramebuffer&&k.setupRenderTarget(e);var n=K,i=!1;e?(n=D.get(e).__webglFramebuffer,e.isWebGLCubeRenderTarget?(n=n[t||0],i=!0):n=e.isWebGLMultisampleRenderTarget?D.get(e).__webglMultisampledFramebuffer:n,xe.copy(e.viewport),Ae.copy(e.scissor),we=e.scissorTest):(xe.copy(Ee).multiplyScalar(Me).floor(),Ae.copy(Ie).multiplyScalar(Me).floor(),we=Re),fe!==n&&(Fe.bindFramebuffer(36160,n),fe=n),P.viewport(xe),P.scissor(Ae),P.setScissorTest(we),i&&(e=D.get(e.texture),Fe.framebufferTexture2D(36160,36064,34069+(t||0),e.__webglTexture,r||0))},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=D.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){a=!1,s!==fe&&(Fe.bindFramebuffer(36160,s),a=!0);try{var u=e.texture,l=u.format,c=u.type;1023!==l&&q.convert(l)!==Fe.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===c||q.convert(c)===Fe.getParameter(35738)||1015===c&&(L.isWebGL2||R.get("OES_texture_float")||R.get("WEBGL_color_buffer_float"))||1016===c&&(L.isWebGL2?R.get("EXT_color_buffer_float"):R.get("EXT_color_buffer_half_float"))?36053===Fe.checkFramebufferStatus(36160)?0<=t&&t<=e.width-n&&0<=r&&r<=e.height-i&&Fe.readPixels(t,r,n,i,q.convert(l),q.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{a&&Fe.bindFramebuffer(36160,fe)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n);n=Math.floor(t.image.height*n);var o=q.convert(t.format);k.setTexture2D(t,0),Fe.copyTexImage2D(3553,r,o,e.x,e.y,i,n,0),P.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){void 0===n&&(n=0);var i=t.image.width,o=t.image.height,a=q.convert(r.format),s=q.convert(r.type);k.setTexture2D(r,0),t.isDataTexture?Fe.texSubImage2D(3553,n,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?Fe.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Fe.texSubImage2D(3553,n,e.x,e.y,a,s,t.image),0===n&&r.generateMipmaps&&Fe.generateMipmap(3553),P.unbindTexture()},this.initTexture=function(e){k.setTexture2D(e,0),P.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Xt(e,t){this.name="",this.color=new A(e),this.density=void 0!==t?t:25e-5}function qt(e,t,r){this.name="",this.color=new A(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function Yt(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function Zt(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function Kt(e){S.call(this),this.type="SpriteMaterial",this.color=new A(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(e)}function Jt(e){if(p.call(this),this.type="Sprite",void 0===ru){ru=new U;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);t=new Yt(t,5),ru.setIndex([0,1,2,0,2,3]),ru.setAttribute("position",new Zt(t,3,0,!1)),ru.setAttribute("uv",new Zt(t,2,3,!1))}this.geometry=ru,this.material=void 0!==e?e:new Kt,this.center=new r(.5,.5)}function Qt(e,t,r,n,i,o){au.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(su.x=o*au.x-i*au.y,su.y=i*au.x+o*au.y):su.copy(au),e.copy(t),e.x+=su.x,e.y+=su.y,e.applyMatrix4(uu)}function $t(){p.call(this),this._currentLevel=0,this.type="LOD",Ac(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function er(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),j.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new c,this.bindMatrixInverse=new c}function tr(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new c)}function rr(){p.call(this),this.type="Bone"}function nr(e,t,r){j.call(this,e,t),this.instanceMatrix=new E(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function ir(e){S.call(this),this.type="LineBasicMaterial",this.color=new A(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(e)}function or(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),p.call(this),this.type="Line",this.geometry=void 0!==e?e:new U,this.material=void 0!==t?t:new ir,this.updateMorphTargets()}function ar(e,t){or.call(this,e,t),this.type="LineSegments"}function sr(e,t){or.call(this,e,t),this.type="LineLoop"}function ur(e){S.call(this),this.type="PointsMaterial",this.color=new A(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}function lr(e,t){p.call(this),this.type="Points",this.geometry=void 0!==e?e:new U,this.material=void 0!==t?t:new ur,this.updateMorphTargets()}function cr(e,t,r,n,i,o,a){var s=Pu.distanceSqToPoint(e);s<r&&(r=new l,Pu.closestPointToPoint(e,r),r.applyMatrix4(n),e=i.ray.origin.distanceTo(r),e<i.near||e>i.far||o.push({distance:e,distanceToRay:Math.sqrt(s),point:r,index:t,face:null,object:a}))}function hr(e,t,r,n,o,a,s,u,l){i.call(this,e,t,r,n,o,a,s,u,l),this.format=void 0!==s?s:1022,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==o?o:1006,this.generateMipmaps=!1}function fr(e,t,r,n,o,a,s,u,l,c,h,f){i.call(this,null,a,s,u,l,c,n,o,h,f),this.image={width:t,height:r},this.mipmaps=e,this.generateMipmaps=this.flipY=!1}function pr(e,t,r,n,o,a,s,u,l){i.call(this,e,t,r,n,o,a,s,u,l),this.needsUpdate=!0}function dr(e,t,r,n,o,a,s,u,l,c){if(c=void 0!==c?c:1026,1026!==c&&1027!==c)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&1026===c&&(r=1012),void 0===r&&1027===c&&(r=1020),i.call(this,null,n,o,a,s,u,c,r,l),this.image={width:e,height:t},this.magFilter=void 0!==s?s:1003,this.minFilter=void 0!==u?u:1003,this.generateMipmaps=this.flipY=!1}function gr(e){U.call(this),this.type="WireframeGeometry";var t,r,n,i=[],o=[0,0],a={},s=["a","b","c"];if(e&&e.isGeometry){var u=e.faces,c=0;for(r=u.length;c<r;c++){var h=u[c];for(t=0;3>t;t++){var f=h[s[t]],p=h[s[(t+1)%3]];o[0]=Math.min(f,p),o[1]=Math.max(f,p),f=o[0]+","+o[1],void 0===a[f]&&(a[f]={index1:o[0],index2:o[1]})}}for(f in a)c=a[f],s=e.vertices[c.index1],i.push(s.x,s.y,s.z),s=e.vertices[c.index2],i.push(s.x,s.y,s.z)}else if(e&&e.isBufferGeometry)if(s=new l,null!==e.index){u=e.attributes.position,h=e.index;var d=e.groups;for(0===d.length&&(d=[{start:0,count:h.count,materialIndex:0}]),e=0,n=d.length;e<n;++e)for(c=d[e],t=c.start,r=c.count,c=t,r=t+r;c<r;c+=3)for(t=0;3>t;t++)f=h.getX(c+t),p=h.getX(c+(t+1)%3),o[0]=Math.min(f,p),o[1]=Math.max(f,p),f=o[0]+","+o[1],void 0===a[f]&&(a[f]={index1:o[0],index2:o[1]});for(f in a)c=a[f],s.fromBufferAttribute(u,c.index1),i.push(s.x,s.y,s.z),s.fromBufferAttribute(u,c.index2),i.push(s.x,s.y,s.z)}else for(u=e.attributes.position,c=0,r=u.count/3;c<r;c++)for(t=0;3>t;t++)a=3*c+t,s.fromBufferAttribute(u,a),i.push(s.x,s.y,s.z),a=3*c+(t+1)%3,s.fromBufferAttribute(u,a),i.push(s.x,s.y,s.z);this.setAttribute("position",new N(i,3))}function mr(e,t,r){V.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new vr(e,t,r)),this.mergeVertices()}function vr(e,t,r){U.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n,i,o=[],a=[],s=[],u=[],c=new l,h=new l,f=new l,p=new l,d=new l;3>e.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var g=t+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=t;i++){var v=i/t;e(v,m,h),a.push(h.x,h.y,h.z),0<=v-1e-5?(e(v-1e-5,m,f),p.subVectors(h,f)):(e(v+1e-5,m,f),p.subVectors(f,h)),0<=m-1e-5?(e(v,m-1e-5,f),d.subVectors(h,f)):(e(v,m+1e-5,f),d.subVectors(f,h)),c.crossVectors(p,d).normalize(),s.push(c.x,c.y,c.z),u.push(v,m)}}for(n=0;n<r;n++)for(i=0;i<t;i++)e=n*g+i+1,c=(n+1)*g+i+1,h=(n+1)*g+i,o.push(n*g+i,e,h),o.push(e,c,h);this.setIndex(o),this.setAttribute("position",new N(a,3)),this.setAttribute("normal",new N(s,3)),this.setAttribute("uv",new N(u,2))}function yr(e,t,r,n){V.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new br(e,t,r,n)),this.mergeVertices()}function br(e,t,n,i){function o(e){u.push(e.x,e.y,e.z)}function a(t,r){t*=3,r.x=e[t+0],r.y=e[t+1],r.z=e[t+2]}function s(e,t,r,n){0>n&&1===e.x&&(c[t]=e.x-1),0===r.x&&0===r.z&&(c[t]=n/2/Math.PI+.5)}U.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;var u=[],c=[];(function(e){for(var r=new l,n=new l,i=new l,s=0;s<t.length;s+=3){a(t[s+0],r),a(t[s+1],n),a(t[s+2],i);var u,c,h=r,f=n,p=i,d=Math.pow(2,e),g=[];for(c=0;c<=d;c++){g[c]=[];var m=h.clone().lerp(p,c/d),v=f.clone().lerp(p,c/d),y=d-c;for(u=0;u<=y;u++)g[c][u]=0===u&&c===d?m:m.clone().lerp(v,u/y)}for(c=0;c<d;c++)for(u=0;u<2*(d-c)-1;u++)h=Math.floor(u/2),0===u%2?(o(g[c][h+1]),o(g[c+1][h]),o(g[c][h])):(o(g[c][h+1]),o(g[c+1][h+1]),o(g[c+1][h]))}})(i),function(e){for(var t=new l,r=0;r<u.length;r+=3)t.x=u[r+0],t.y=u[r+1],t.z=u[r+2],t.normalize().multiplyScalar(e),u[r+0]=t.x,u[r+1]=t.y,u[r+2]=t.z}(n),function(){for(var e=new l,t=0;t<u.length;t+=3)e.x=u[t+0],e.y=u[t+1],e.z=u[t+2],c.push(Math.atan2(e.z,-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));e=new l,t=new l;for(var n=new l,i=new l,o=new r,a=new r,h=new r,f=0,p=0;f<u.length;f+=9,p+=6){e.set(u[f+0],u[f+1],u[f+2]),t.set(u[f+3],u[f+4],u[f+5]),n.set(u[f+6],u[f+7],u[f+8]),o.set(c[p+0],c[p+1]),a.set(c[p+2],c[p+3]),h.set(c[p+4],c[p+5]),i.copy(e).add(t).add(n).divideScalar(3);var d=Math.atan2(i.z,-i.x);s(o,p+0,e,d),s(a,p+2,t,d),s(h,p+4,n,d)}for(e=0;e<c.length;e+=6)t=c[e+0],n=c[e+2],i=c[e+4],o=Math.min(t,n,i),.9<Math.max(t,n,i)&&.1>o&&(.2>t&&(c[e+0]+=1),.2>n&&(c[e+2]+=1),.2>i&&(c[e+4]+=1))}(),this.setAttribute("position",new N(u,3)),this.setAttribute("normal",new N(u.slice(),3)),this.setAttribute("uv",new N(c,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function xr(e,t){V.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ar(e,t)),this.mergeVertices()}function Ar(e,t){br.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function wr(e,t){V.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new _r(e,t)),this.mergeVertices()}function _r(e,t){br.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Cr(e,t){V.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Mr(e,t)),this.mergeVertices()}function Mr(e,t){var r=(1+Math.sqrt(5))/2;br.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Sr(e,t){V.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Tr(e,t)),this.mergeVertices()}function Tr(e,t){var r=(1+Math.sqrt(5))/2,n=1/r;br.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Er(e,t,r,n,i,o){V.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed."),e=new Ir(e,t,r,n,i),this.tangents=e.tangents,this.normals=e.normals,this.binormals=e.binormals,this.fromBufferGeometry(e),this.mergeVertices()}function Ir(e,t,n,i,o){function a(r){d=e.getPointAt(r/t,d);var o=s.normals[r];for(r=s.binormals[r],c=0;c<=i;c++){var a=c/i*Math.PI*2,u=Math.sin(a);a=-Math.cos(a),f.x=a*o.x+u*r.x,f.y=a*o.y+u*r.y,f.z=a*o.z+u*r.z,f.normalize(),m.push(f.x,f.y,f.z),h.x=d.x+n*f.x,h.y=d.y+n*f.y,h.z=d.z+n*f.z,g.push(h.x,h.y,h.z)}}U.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:o},t=t||64,n=n||1,i=i||8,o=o||!1;var s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;var u,c,h=new l,f=new l,p=new r,d=new l,g=[],m=[],v=[],y=[];for(u=0;u<t;u++)a(u);for(a(!1===o?t:0),u=0;u<=t;u++)for(c=0;c<=i;c++)p.x=u/t,p.y=c/i,v.push(p.x,p.y);(function(){for(c=1;c<=t;c++)for(u=1;u<=i;u++){var e=(i+1)*c+(u-1),r=(i+1)*c+u,n=(i+1)*(c-1)+u;y.push((i+1)*(c-1)+(u-1),e,n),y.push(e,r,n)}})(),this.setIndex(y),this.setAttribute("position",new N(g,3)),this.setAttribute("normal",new N(m,3)),this.setAttribute("uv",new N(v,2))}function Rr(e,t,r,n,i,o,a){V.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Lr(e,t,r,n,i,o)),this.mergeVertices()}function Lr(e,t,r,n,i,o){function a(e,t,r,n,i){var o=Math.sin(e);t=r/t*e,r=Math.cos(t),i.x=n*(2+r)*.5*Math.cos(e),i.y=n*(2+r)*o*.5,i.z=n*Math.sin(t)*.5}U.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var s,u=[],c=[],h=[],f=[],p=new l,d=new l,g=new l,m=new l,v=new l,y=new l,b=new l;for(s=0;s<=r;++s){var x=s/r*i*Math.PI*2;for(a(x,i,o,e,g),a(x+.01,i,o,e,m),y.subVectors(m,g),b.addVectors(m,g),v.crossVectors(y,b),b.crossVectors(v,y),v.normalize(),b.normalize(),x=0;x<=n;++x){var A=x/n*Math.PI*2,w=-t*Math.cos(A);A=t*Math.sin(A),p.x=g.x+(w*b.x+A*v.x),p.y=g.y+(w*b.y+A*v.y),p.z=g.z+(w*b.z+A*v.z),c.push(p.x,p.y,p.z),d.subVectors(p,g).normalize(),h.push(d.x,d.y,d.z),f.push(s/r),f.push(x/n)}}for(x=1;x<=r;x++)for(s=1;s<=n;s++)e=(n+1)*x+(s-1),t=(n+1)*x+s,i=(n+1)*(x-1)+s,u.push((n+1)*(x-1)+(s-1),e,i),u.push(e,t,i);this.setIndex(u),this.setAttribute("position",new N(c,3)),this.setAttribute("normal",new N(h,3)),this.setAttribute("uv",new N(f,2))}function Pr(e,t,r,n,i){V.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new Or(e,t,r,n,i)),this.mergeVertices()}function Or(e,t,r,n,i){U.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],u=[],c=[],h=[],f=new l,p=new l,d=new l;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var g=a/n*i,m=o/r*Math.PI*2;p.x=(e+t*Math.cos(m))*Math.cos(g),p.y=(e+t*Math.cos(m))*Math.sin(g),p.z=t*Math.sin(m),u.push(p.x,p.y,p.z),f.x=e*Math.cos(g),f.y=e*Math.sin(g),d.subVectors(p,f).normalize(),c.push(d.x,d.y,d.z),h.push(a/n),h.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++)e=(n+1)*(o-1)+a-1,t=(n+1)*(o-1)+a,i=(n+1)*o+a,s.push((n+1)*o+a-1,e,i),s.push(e,t,i);this.setIndex(s),this.setAttribute("position",new N(u,3)),this.setAttribute("normal",new N(c,3)),this.setAttribute("uv",new N(h,2))}function Dr(e,t,r,n,i){for(var o,a=0,s=t,u=r-n;s<r;s+=n)a+=(e[u]-e[s])*(e[s+1]+e[u+1]),u=s;if(i===0<a)for(i=t;i<r;i+=n)o=Kr(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=Kr(i,e[i],e[i+1],o);return o&&Vr(o,o.next)&&(Jr(o),o=o.next),o}function kr(e,t){if(!e)return e;t||(t=e);do{var r=!1;if(e.steiner||!Vr(e,e.next)&&0!==Gr(e.prev,e,e.next))e=e.next;else{if(Jr(e),e=t=e.prev,e===e.next)break;r=!0}}while(r||e!==t);return t}function Nr(e,t,r,n,i,o,a){if(e){if(!a&&o){var s=e,u=s;do{null===u.z&&(u.z=Ur(u.x,u.y,n,i,o)),u.prevZ=u.prev,u=u.nextZ=u.next}while(u!==s);u.prevZ.nextZ=null,u.prevZ=null,s=u;var l,c,h,f,p=1;do{u=s;var d=s=null;for(c=0;u;){c++;var g=u;for(l=h=0;l<p&&(h++,g=g.nextZ,g);l++);for(f=p;0<h||0<f&&g;)0!==h&&(0===f||!g||u.z<=g.z)?(l=u,u=u.nextZ,h--):(l=g,g=g.nextZ,f--),d?d.nextZ=l:s=l,l.prevZ=d,d=l;u=g}d.nextZ=null,p*=2}while(1<c)}for(s=e;e.prev!==e.next;){if(u=e.prev,g=e.next,o)d=Fr(e,n,i,o);else e:if(d=e,c=d.prev,h=d,p=d.next,0<=Gr(c,h,p))d=!1;else{for(l=d.next.next;l!==d.prev;){if(Hr(c.x,c.y,h.x,h.y,p.x,p.y,l.x,l.y)&&0<=Gr(l.prev,l,l.next)){d=!1;break e}l=l.next}d=!0}if(d)t.push(u.i/r),t.push(e.i/r),t.push(g.i/r),Jr(e),s=e=g.next;else if(e=g,e===s){if(a){if(1===a){e=kr(e),a=t,s=r,u=e;do{g=u.prev,d=u.next.next,!Vr(g,d)&&Wr(g,u,u.next,d)&&Yr(g,d)&&Yr(d,g)&&(a.push(g.i/s),a.push(u.i/s),a.push(d.i/s),Jr(u),Jr(u.next),u=e=d),u=u.next}while(u!==e);e=kr(u),Nr(e,t,r,n,i,o,2)}else if(2===a)e:{a=e;do{for(s=a.next.next;s!==a.prev;){if(u=a.i!==s.i){if(u=a,g=s,d=u.next.i!==g.i&&u.prev.i!==g.i){t:{d=u;do{if(d.i!==u.i&&d.next.i!==u.i&&d.i!==g.i&&d.next.i!==g.i&&Wr(d,d.next,u,g)){d=!0;break t}d=d.next}while(d!==u);d=!1}d=!d}if(d){if(d=Yr(u,g)&&Yr(g,u)){d=u,c=!1,h=(u.x+g.x)/2,p=(u.y+g.y)/2;do{d.y>p!==d.next.y>p&&d.next.y!==d.y&&h<(d.next.x-d.x)*(p-d.y)/(d.next.y-d.y)+d.x&&(c=!c),d=d.next}while(d!==u);d=c}d=d&&(Gr(u.prev,u,g.prev)||Gr(u,g.prev,g))||Vr(u,g)&&0<Gr(u.prev,u,u.next)&&0<Gr(g.prev,g,g.next)}u=d}if(u){e=Zr(a,s),a=kr(a,a.next),e=kr(e,e.next),Nr(a,t,r,n,i,o),Nr(e,t,r,n,i,o);break e}s=s.next}a=a.next}while(a!==e)}}else Nr(kr(e),t,r,n,i,o,1);break}}}}function Fr(e,t,r,n){var i=e.prev,o=e.next;if(0<=Gr(i,e,o))return!1;var a=i.x>e.x?i.x>o.x?i.x:o.x:e.x>o.x?e.x:o.x,s=i.y>e.y?i.y>o.y?i.y:o.y:e.y>o.y?e.y:o.y,u=Ur(i.x<e.x?i.x<o.x?i.x:o.x:e.x<o.x?e.x:o.x,i.y<e.y?i.y<o.y?i.y:o.y:e.y<o.y?e.y:o.y,t,r,n);for(t=Ur(a,s,t,r,n),r=e.prevZ,n=e.nextZ;r&&r.z>=u&&n&&n.z<=t;){if(r!==e.prev&&r!==e.next&&Hr(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Gr(r.prev,r,r.next))return!1;if(r=r.prevZ,n!==e.prev&&n!==e.next&&Hr(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Gr(n.prev,n,n.next))return!1;n=n.nextZ}for(;r&&r.z>=u;){if(r!==e.prev&&r!==e.next&&Hr(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=Gr(r.prev,r,r.next))return!1;r=r.prevZ}for(;n&&n.z<=t;){if(n!==e.prev&&n!==e.next&&Hr(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=Gr(n.prev,n,n.next))return!1;n=n.nextZ}return!0}function Br(e,t){return e.x-t.x}function zr(e,t){var r=t,n=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(i===r.y)return r;if(i===r.next.y)return r.next}var s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!s)return null;if(n===o)return s;t=s,a=s.x;var u=s.y,l=1/0;r=s;do{if(n>=r.x&&r.x>=a&&n!==r.x&&Hr(i<u?n:o,i,a,u,i<u?o:n,i,r.x,r.y)){var c,h=Math.abs(i-r.y)/(n-r.x);if((c=Yr(r,e))&&!(c=h<l)&&(c=h===l)&&!(c=r.x>s.x)&&(c=r.x===s.x)){c=s;var f=r;c=0>Gr(c.prev,c,f.prev)&&0>Gr(f.next,c,c.next)}c&&(s=r,l=h)}r=r.next}while(r!==t);return s}function Ur(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),1431655765&(e|e<<1)|(1431655765&(t|t<<1))<<1}function jr(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Hr(e,t,r,n,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(n-s)-(r-a)*(t-s)&&0<=(r-a)*(o-s)-(i-a)*(n-s)}function Gr(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Vr(e,t){return e.x===t.x&&e.y===t.y}function Wr(e,t,r,n){var i=qr(Gr(e,t,r)),o=qr(Gr(e,t,n)),a=qr(Gr(r,n,e)),s=qr(Gr(r,n,t));return!!(i!==o&&a!==s||0===i&&Xr(e,r,t)||0===o&&Xr(e,n,t)||0===a&&Xr(r,e,n)||0===s&&Xr(r,t,n))}function Xr(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function qr(e){return 0<e?1:0>e?-1:0}function Yr(e,t){return 0>Gr(e.prev,e,e.next)?0<=Gr(e,t,e.next)&&0<=Gr(e,e.prev,t):0>Gr(e,t,e.prev)||0>Gr(e,e.next,t)}function Zr(e,t){var r=new Qr(e.i,e.x,e.y),n=new Qr(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Kr(e,t,r,n){return e=new Qr(e,t,r),n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function Jr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qr(e,t,r){this.i=e,this.x=t,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function $r(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function en(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function tn(e,t){V.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new rn(e,t)),this.mergeVertices()}function rn(e,t){function n(e){function n(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}function s(e,t,n){var i=e.x-t.x,o=e.y-t.y,a=n.x-e.x,s=n.y-e.y,u=i*i+o*o;if(Math.abs(i*s-o*a)>Dc){var l=Math.sqrt(u),c=Math.sqrt(a*a+s*s);if(u=t.x-o/l,t=t.y+i/l,s=((n.x-s/c-u)*s-(n.y+a/c-t)*a)/(i*s-o*a),a=u+i*s-e.x,i=t+o*s-e.y,o=a*a+i*i,2>=o)return new r(a,i);o=Math.sqrt(o/2)}else e=!1,i>Dc?a>Dc&&(e=!0):i<-Dc?a<-Dc&&(e=!0):Tc(o)===Tc(s)&&(e=!0),e?(a=-o,o=Math.sqrt(u)):(a=i,i=o,o=Math.sqrt(u/2));return new r(a/o,i/o)}function u(e,t){for(j=e.length;0<=--j;){var r=j,n=j-1;0>n&&(n=e.length-1);var a,s=m+2*w;for(a=0;a<s;a++){var u=z*a,l=z*(a+1),c=t+n+u,h=t+n+l;l=t+r+l,f(t+r+u),f(c),f(l),f(c),f(h),f(l),u=o.length/3,u=C.generateSideWallUV(i,o,u-6,u-3,u-2,u-1),p(u[0]),p(u[1]),p(u[3]),p(u[1]),p(u[2]),p(u[3])}}}function c(e,t,r){d.push(e),d.push(t),d.push(r)}function h(e,t,r){f(e),f(t),f(r),e=o.length/3,e=C.generateTopUV(i,o,e-3,e-2,e-1),p(e[0]),p(e[1]),p(e[2])}function f(e){o.push(d[3*e]),o.push(d[3*e+1]),o.push(d[3*e+2])}function p(e){a.push(e.x),a.push(e.y)}var d=[],g=void 0!==t.curveSegments?t.curveSegments:12,m=void 0!==t.steps?t.steps:1,v=void 0!==t.depth?t.depth:100,y=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.bevelThickness?t.bevelThickness:6,x=void 0!==t.bevelSize?t.bevelSize:b-2,A=void 0!==t.bevelOffset?t.bevelOffset:0,w=void 0!==t.bevelSegments?t.bevelSegments:3,_=t.extrudePath,C=void 0!==t.UVGenerator?t.UVGenerator:Bu;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);var M,S=!1;if(_){var T=_.getSpacedPoints(m);S=!0,y=!1;var E=_.computeFrenetFrames(m,!1),I=new l,R=new l,L=new l}y||(A=x=b=w=0),g=e.extractPoints(g),e=g.shape;var P=g.holes;if(!Fu.isClockWise(e)){e=e.reverse();var O=0;for(M=P.length;O<M;O++){var D=P[O];Fu.isClockWise(D)&&(P[O]=D.reverse())}}var k=Fu.triangulateShape(e,P),N=e;for(O=0,M=P.length;O<M;O++)D=P[O],e=e.concat(D);var F,B,z=e.length,U=k.length;g=[];var j=0,H=N.length,G=H-1;for(F=j+1;j<H;j++,G++,F++)G===H&&(G=0),F===H&&(F=0),g[j]=s(N[j],N[G],N[F]);_=[];var V=g.concat();for(O=0,M=P.length;O<M;O++){D=P[O];var W=[];for(j=0,H=D.length,G=H-1,F=j+1;j<H;j++,G++,F++)G===H&&(G=0),F===H&&(F=0),W[j]=s(D[j],D[G],D[F]);_.push(W),V=V.concat(W)}for(G=0;G<w;G++){H=G/w;var X=b*Math.cos(H*Math.PI/2);for(F=x*Math.sin(H*Math.PI/2)+A,j=0,H=N.length;j<H;j++){var q=n(N[j],g[j],F);c(q.x,q.y,-X)}for(O=0,M=P.length;O<M;O++)for(D=P[O],W=_[O],j=0,H=D.length;j<H;j++)q=n(D[j],W[j],F),c(q.x,q.y,-X)}for(F=x+A,j=0;j<z;j++)q=y?n(e[j],V[j],F):e[j],S?(R.copy(E.normals[0]).multiplyScalar(q.x),I.copy(E.binormals[0]).multiplyScalar(q.y),L.copy(T[0]).add(R).add(I),c(L.x,L.y,L.z)):c(q.x,q.y,0);for(H=1;H<=m;H++)for(j=0;j<z;j++)q=y?n(e[j],V[j],F):e[j],S?(R.copy(E.normals[H]).multiplyScalar(q.x),I.copy(E.binormals[H]).multiplyScalar(q.y),L.copy(T[H]).add(R).add(I),c(L.x,L.y,L.z)):c(q.x,q.y,v/m*H);for(G=w-1;0<=G;G--){for(H=G/w,X=b*Math.cos(H*Math.PI/2),F=x*Math.sin(H*Math.PI/2)+A,j=0,H=N.length;j<H;j++)q=n(N[j],g[j],F),c(q.x,q.y,v+X);for(O=0,M=P.length;O<M;O++)for(D=P[O],W=_[O],j=0,H=D.length;j<H;j++)q=n(D[j],W[j],F),S?c(q.x,q.y+T[m-1].y,T[m-1].x+X):c(q.x,q.y,v+X)}(function(){var e=o.length/3;if(y){var t=0*z;for(j=0;j<U;j++)B=k[j],h(B[2]+t,B[1]+t,B[0]+t);for(t=z*(m+2*w),j=0;j<U;j++)B=k[j],h(B[0]+t,B[1]+t,B[2]+t)}else{for(j=0;j<U;j++)B=k[j],h(B[2],B[1],B[0]);for(j=0;j<U;j++)B=k[j],h(B[0]+z*m,B[1]+z*m,B[2]+z*m)}i.addGroup(e,o.length/3-e,0)})(),function(){var e=o.length/3,t=0;for(u(N,t),t+=N.length,O=0,M=P.length;O<M;O++)D=P[O],u(D,t),t+=D.length;i.addGroup(e,o.length/3-e,1)}()}U.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var i=this,o=[],a=[],s=0,u=e.length;s<u;s++)n(e[s]);this.setAttribute("position",new N(o,3)),this.setAttribute("uv",new N(a,2)),this.computeVertexNormals()}function nn(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r.shapes.push(e[n].uuid);else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function on(e,t){V.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new an(e,t)),this.mergeVertices()}function an(e,t){t=t||{};var r=t.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new V;e=r.generateShapes(e,t.size),t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),rn.call(this,e,t),this.type="TextBufferGeometry"}function sn(e,t,r,n,i,o,a){V.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new un(e,t,r,n,i,o,a)),this.mergeVertices()}function un(e,t,r,n,i,o,a){U.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,c=Math.min(o+a,Math.PI),h=0,f=[],p=new l,d=new l,g=[],m=[],v=[],y=[];for(u=0;u<=r;u++){var b=[],x=u/r,A=0;for(0==u&&0==o?A=.5/t:u==r&&c==Math.PI&&(A=-.5/t),s=0;s<=t;s++){var w=s/t;p.x=-e*Math.cos(n+w*i)*Math.sin(o+x*a),p.y=e*Math.cos(o+x*a),p.z=e*Math.sin(n+w*i)*Math.sin(o+x*a),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),y.push(w+A,1-x),b.push(h++)}f.push(b)}for(u=0;u<r;u++)for(s=0;s<t;s++)e=f[u][s+1],n=f[u][s],i=f[u+1][s],a=f[u+1][s+1],(0!==u||0<o)&&g.push(e,n,a),(u!==r-1||c<Math.PI)&&g.push(n,i,a);this.setIndex(g),this.setAttribute("position",new N(m,3)),this.setAttribute("normal",new N(v,3)),this.setAttribute("uv",new N(y,2))}function ln(e,t,r,n,i,o){V.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new cn(e,t,r,n,i,o)),this.mergeVertices()}function cn(e,t,n,i,o,a){U.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:a},e=e||.5,t=t||1,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var s,u,c=[],h=[],f=[],p=[],d=e,g=(t-e)/i,m=new l,v=new r;for(s=0;s<=i;s++){for(u=0;u<=n;u++)e=o+u/n*a,m.x=d*Math.cos(e),m.y=d*Math.sin(e),h.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,p.push(v.x,v.y);d+=g}for(s=0;s<i;s++)for(t=s*(n+1),u=0;u<n;u++)e=u+t,o=e+n+1,a=e+n+2,d=e+1,c.push(e,o,d),c.push(o,a,d);this.setIndex(c),this.setAttribute("position",new N(h,3)),this.setAttribute("normal",new N(f,3)),this.setAttribute("uv",new N(p,2))}function hn(e,t,r,n){V.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new fn(e,t,r,n)),this.mergeVertices()}function fn(e,t,n,i){U.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Go.clamp(i,0,2*Math.PI);var o,a=[],s=[],u=[],c=1/t,h=new l,f=new r;for(o=0;o<=t;o++){var p=n+o*c*i,d=Math.sin(p),g=Math.cos(p);for(p=0;p<=e.length-1;p++)h.x=e[p].x*d,h.y=e[p].y,h.z=e[p].x*g,s.push(h.x,h.y,h.z),f.x=o/t,f.y=p/(e.length-1),u.push(f.x,f.y)}for(o=0;o<t;o++)for(p=0;p<e.length-1;p++)n=p+o*e.length,c=n+e.length,h=n+e.length+1,f=n+1,a.push(n,c,f),a.push(c,h,f);if(this.setIndex(a),this.setAttribute("position",new N(s,3)),this.setAttribute("uv",new N(u,2)),this.computeVertexNormals(),i===2*Math.PI)for(i=this.attributes.normal.array,a=new l,s=new l,u=new l,n=t*e.length*3,p=o=0;o<e.length;o++,p+=3)a.x=i[p+0],a.y=i[p+1],a.z=i[p+2],s.x=i[n+p+0],s.y=i[n+p+1],s.z=i[n+p+2],u.addVectors(a,s).normalize(),i[p+0]=i[n+p+0]=u.x,i[p+1]=i[n+p+1]=u.y,i[p+2]=i[n+p+2]=u.z}function pn(e,t){V.call(this),this.type="ShapeGeometry","object"===("undefined"===typeof t?"undefined":Rl(t))&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new dn(e,t)),this.mergeVertices()}function dn(e,t){function r(e){var r,s=i.length/3;e=e.extractPoints(t);var l=e.shape,c=e.holes;for(!1===Fu.isClockWise(l)&&(l=l.reverse()),e=0,r=c.length;e<r;e++){var h=c[e];!0===Fu.isClockWise(h)&&(c[e]=h.reverse())}var f=Fu.triangulateShape(l,c);for(e=0,r=c.length;e<r;e++)h=c[e],l=l.concat(h);for(e=0,r=l.length;e<r;e++)h=l[e],i.push(h.x,h.y,0),o.push(0,0,1),a.push(h.x,h.y);for(e=0,r=f.length;e<r;e++)l=f[e],n.push(l[0]+s,l[1]+s,l[2]+s),u+=3}U.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(e))r(e);else for(var l=0;l<e.length;l++)r(e[l]),this.addGroup(s,u,l),s+=u,u=0;this.setIndex(n),this.setAttribute("position",new N(i,3)),this.setAttribute("normal",new N(o,3)),this.setAttribute("uv",new N(a,2))}function gn(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t.shapes.push(e[r].uuid);else t.shapes.push(e.uuid);return t}function mn(e,t){U.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var r=[];t=Math.cos(Go.DEG2RAD*(void 0!==t?t:1));var n=[0,0],i={},o=["a","b","c"];if(e.isBufferGeometry){var a=new V;a.fromBufferGeometry(e)}else a=e.clone();a.mergeVertices(),a.computeFaceNormals(),e=a.vertices,a=a.faces;for(var s=0,u=a.length;s<u;s++)for(var l=a[s],c=0;3>c;c++){var h=l[o[c]],f=l[o[(c+1)%3]];n[0]=Math.min(h,f),n[1]=Math.max(h,f),h=n[0]+","+n[1],void 0===i[h]?i[h]={index1:n[0],index2:n[1],face1:s,face2:void 0}:i[h].face2=s}for(h in i)n=i[h],(void 0===n.face2||a[n.face1].normal.dot(a[n.face2].normal)<=t)&&(o=e[n.index1],r.push(o.x,o.y,o.z),o=e[n.index2],r.push(o.x,o.y,o.z));this.setAttribute("position",new N(r,3))}function vn(e,t,r,n,i,o,a,s){V.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new yn(e,t,r,n,i,o,a,s)),this.mergeVertices()}function yn(e,t,n,i,o,a,s,u){function c(n){var o,a=new r,c=new l,v=0,x=!0===n?e:t,A=!0===n?1:-1,w=m;for(o=1;o<=i;o++)p.push(0,y*A,0),d.push(0,A,0),g.push(.5,.5),m++;var _=m;for(o=0;o<=i;o++){var C=o/i*u+s,M=Math.cos(C);C=Math.sin(C),c.x=x*C,c.y=y*A,c.z=x*M,p.push(c.x,c.y,c.z),d.push(0,A,0),a.x=.5*M+.5,a.y=.5*C*A+.5,g.push(a.x,a.y),m++}for(o=0;o<i;o++)a=w+o,c=_+o,!0===n?f.push(c,c+1,a):f.push(c+1,c,a),v+=3;h.addGroup(b,v,!0===n?1:2),b+=v}U.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var h=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var f=[],p=[],d=[],g=[],m=0,v=[],y=n/2,b=0;(function(){var r,a,c=new l,x=new l,A=0,w=(t-e)/n;for(a=0;a<=o;a++){var _=[],C=a/o,M=C*(t-e)+e;for(r=0;r<=i;r++){var S=r/i,T=S*u+s,E=Math.sin(T);T=Math.cos(T),x.x=M*E,x.y=-C*n+y,x.z=M*T,p.push(x.x,x.y,x.z),c.set(E,w,T).normalize(),d.push(c.x,c.y,c.z),g.push(S,1-C),_.push(m++)}v.push(_)}for(r=0;r<i;r++)for(a=0;a<o;a++)c=v[a+1][r],x=v[a+1][r+1],w=v[a][r+1],f.push(v[a][r],c,w),f.push(c,x,w),A+=6;h.addGroup(b,A,0),b+=A})(),!1===a&&(0<e&&c(!0),0<t&&c(!1)),this.setIndex(f),this.setAttribute("position",new N(p,3)),this.setAttribute("normal",new N(d,3)),this.setAttribute("uv",new N(g,2))}function bn(e,t,r,n,i,o,a){vn.call(this,0,e,t,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function xn(e,t,r,n,i,o,a){yn.call(this,0,e,t,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function An(e,t,r,n){V.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new wn(e,t,r,n)),this.mergeVertices()}function wn(e,t,n,i){U.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var o,a=[],s=[],u=[],c=[],h=new l,f=new r;s.push(0,0,0),u.push(0,0,1),c.push(.5,.5);var p=0;for(o=3;p<=t;p++,o+=3){var d=n+p/t*i;h.x=e*Math.cos(d),h.y=e*Math.sin(d),s.push(h.x,h.y,h.z),u.push(0,0,1),f.x=(s[o]/e+1)/2,f.y=(s[o+1]/e+1)/2,c.push(f.x,f.y)}for(o=1;o<=t;o++)a.push(o,o+1,0);this.setIndex(a),this.setAttribute("position",new N(s,3)),this.setAttribute("normal",new N(u,3)),this.setAttribute("uv",new N(c,2))}function _n(e){S.call(this),this.type="ShadowMaterial",this.color=new A(0),this.transparent=!0,this.setValues(e)}function Cn(e){q.call(this,e),this.type="RawShaderMaterial"}function Mn(e){S.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new A(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new A(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Sn(e){Mn.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new r(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function Tn(e){S.call(this),this.type="MeshPhongMaterial",this.color=new A(16777215),this.specular=new A(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new A(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function En(e){S.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new A(16777215),this.specular=new A(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new A(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function In(e){S.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(e)}function Rn(e){S.call(this),this.type="MeshLambertMaterial",this.color=new A(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new A(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Ln(e){S.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new A(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function Pn(e){ir.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function On(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function Dn(e,t,r,n){On.call(this,e,t,r,n),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function kn(e,t,r,n){On.call(this,e,t,r,n)}function Nn(e,t,r,n){On.call(this,e,t,r,n)}function Fn(e,t,r,n){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ju.convertArray(t,this.TimeBufferType),this.values=ju.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Bn(e,t,r){Fn.call(this,e,t,r)}function zn(e,t,r,n){Fn.call(this,e,t,r,n)}function Un(e,t,r,n){Fn.call(this,e,t,r,n)}function jn(e,t,r,n){On.call(this,e,t,r,n)}function Hn(e,t,r,n){Fn.call(this,e,t,r,n)}function Gn(e,t,r,n){Fn.call(this,e,t,r,n)}function Vn(e,t,r,n){Fn.call(this,e,t,r,n)}function Wn(e,t,r,n){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:2500,this.uuid=Go.generateUUID(),0>this.duration&&this.resetDuration()}function Xn(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Un;case"vector":case"vector2":case"vector3":case"vector4":return Vn;case"color":return zn;case"quaternion":return Hn;case"bool":case"boolean":return Bn;case"string":return Gn}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function qn(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=Xn(e.type);if(void 0===e.times){var r=[],n=[];ju.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function Yn(e,t,r){var n=this,i=!1,o=0,a=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,!1===i&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad)&&n.onLoad()},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){return e=u.indexOf(e),-1!==e&&u.splice(e,2),this},this.getHandler=function(e){for(var t=0,r=u.length;t<r;t+=2){var n=u[t],i=u[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}function Zn(e){this.manager=void 0!==e?e:Gu,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Kn(e){Zn.call(this,e)}function Jn(e){Zn.call(this,e)}function Qn(e){Zn.call(this,e)}function $n(e){Zn.call(this,e)}function ei(e){Zn.call(this,e)}function ti(e){Zn.call(this,e)}function ri(e){Zn.call(this,e)}function ni(){this.type="Curve",this.arcLengthDivisions=200}function ii(e,t,r,n,i,o,a,s){ni.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function oi(e,t,r,n,i,o){ii.call(this,e,t,r,r,n,i,o),this.type="ArcCurve"}function ai(){var e=0,t=0,r=0,n=0;return{initCatmullRom:function(i,o,a,s,u){i=u*(a-i),s=u*(s-o),e=o,t=i,r=-3*o+3*a-2*i-s,n=2*o-2*a+i+s},initNonuniformCatmullRom:function(i,o,a,s,u,l,c){i=((o-i)/u-(a-i)/(u+l)+(a-o)/l)*l,s=((a-o)/l-(s-o)/(l+c)+(s-a)/c)*l,e=o,t=i,r=-3*o+3*a-2*i-s,n=2*o-2*a+i+s},calc:function(i){var o=i*i;return e+t*i+r*o+n*o*i}}}function si(e,t,r,n){ni.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function ui(e,t,r,n,i){t=.5*(n-t),i=.5*(i-r);var o=e*e;return(2*r-2*n+t+i)*e*o+(-3*r+3*n-2*t-i)*o+t*e+r}function li(e,t,r,n){var i=1-e;return i*i*t+2*(1-e)*e*r+e*e*n}function ci(e,t,r,n,i){var o=1-e,a=1-e;return o*o*o*t+3*a*a*e*r+3*(1-e)*e*e*n+e*e*e*i}function hi(e,t,n,i){ni.call(this),this.type="CubicBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r,this.v3=i||new r}function fi(e,t,r,n){ni.call(this),this.type="CubicBezierCurve3",this.v0=e||new l,this.v1=t||new l,this.v2=r||new l,this.v3=n||new l}function pi(e,t){ni.call(this),this.type="LineCurve",this.v1=e||new r,this.v2=t||new r}function di(e,t){ni.call(this),this.type="LineCurve3",this.v1=e||new l,this.v2=t||new l}function gi(e,t,n){ni.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r,this.v1=t||new r,this.v2=n||new r}function mi(e,t,r){ni.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new l,this.v1=t||new l,this.v2=r||new l}function vi(e){ni.call(this),this.type="SplineCurve",this.points=e||[]}function yi(){ni.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function bi(e){yi.call(this),this.type="Path",this.currentPoint=new r,e&&this.setFromPoints(e)}function xi(e){bi.call(this,e),this.uuid=Go.generateUUID(),this.type="Shape",this.holes=[]}function Ai(e,t){p.call(this),this.type="Light",this.color=new A(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function wi(e,t,r){Ai.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(p.DefaultUp),this.updateMatrix(),this.groundColor=new A(t)}function _i(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.mapPass=this.map=null,this.matrix=new c,this._frustum=new $,this._frameExtents=new r(1,1),this._viewportCount=1,this._viewports=[new o(0,0,1,1)]}function Ci(){_i.call(this,new Z(50,1,.5,500))}function Mi(e,t,r,n,i,o){Ai.call(this,e,t),this.type="SpotLight",this.position.copy(p.DefaultUp),this.updateMatrix(),this.target=new p,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Ci}function Si(){_i.call(this,new Z(90,1,.5,500)),this._frameExtents=new r(4,2),this._viewportCount=6,this._viewports=[new o(2,1,1,1),new o(0,1,1,1),new o(3,1,1,1),new o(1,1,1,1),new o(3,0,1,1),new o(1,0,1,1)],this._cubeDirections=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],this._cubeUps=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)]}function Ti(e,t,r,n){Ai.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new Si}function Ei(e,t,r,n,i,o){Y.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Ii(){_i.call(this,new Ei(-5,5,5,-5,.5,500))}function Ri(e,t){Ai.call(this,e,t),this.type="DirectionalLight",this.position.copy(p.DefaultUp),this.updateMatrix(),this.target=new p,this.shadow=new Ii}function Li(e,t){Ai.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Pi(e,t,r,n){Ai.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function Oi(){this.coefficients=[];for(var e=0;9>e;e++)this.coefficients.push(new l)}function Di(e,t){Ai.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Oi}function ki(e){Zn.call(this,e),this.textures={}}function Ni(){U.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Fi(e,t,r,n){"number"===typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),E.call(this,e,t,r),this.meshPerAttribute=n||1}function Bi(e){Zn.call(this,e)}function zi(e){Zn.call(this,e)}function Ui(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Zn.call(this,e),this.options=void 0}function ji(){this.type="ShapePath",this.color=new A,this.subPaths=[],this.currentPath=null}function Hi(e){this.type="Font",this.data=e}function Gi(e){Zn.call(this,e)}function Vi(e){Zn.call(this,e)}function Wi(e,t,r){Di.call(this,void 0,r),e=(new A).set(e),r=(new A).set(t),t=new l(e.r,e.g,e.b),e=new l(r.r,r.g,r.b),r=Math.sqrt(Math.PI);var n=r*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(e).multiplyScalar(r),this.sh.coefficients[1].copy(t).sub(e).multiplyScalar(n)}function Xi(e,t){Di.call(this,void 0,t),e=(new A).set(e),this.sh.coefficients[0].set(e.r,e.g,e.b).multiplyScalar(2*Math.sqrt(Math.PI))}function qi(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Z,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Z,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Yi(e){this.autoStart=void 0===e||e,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Zi(){p.call(this),this.type="AudioListener",this.context=rl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Yi}function Ki(e){p.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function Ji(e){Ki.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Qi(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function $i(e,t,r){switch(this.binding=e,this.valueSize=r,t){case"quaternion":e=this._slerp,t=this._slerpAdditive;var n=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":t=e=this._select,n=this._setAdditiveIdentityOther,this.buffer=Array(5*r);break;default:e=this._lerp,t=this._lerpAdditive,n=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=e,this._mixBufferRegionAdditive=t,this._setIdentity=n,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function eo(e,t,r){r=r||to.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function to(e,t,r){this.path=t,this.parsedPath=r||to.parseTrackName(t),this.node=to.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ro(){this.uuid=Go.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function no(e,t,r,n){this._mixer=e,this._clip=t,this._localRoot=r||null,this.blendMode=n||t.blendMode,e=t.tracks,t=e.length,r=Array(t),n={endingStart:2400,endingEnd:2400};for(var i=0;i!==t;++i){var o=e[i].createInterpolant(null);r[i]=o,o.settings=n}this._interpolantSettings=n,this._interpolants=r,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function io(e){this._root=e,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function oo(e,t){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=t),this.value=e}function ao(e,t,r){Yt.call(this,e,t),this.meshPerAttribute=r||1}function so(e,t,r,n){this.ray=new y(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.layers=new f,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Ac(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function uo(e,t){return e.distance-t.distance}function lo(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n){e=e.children,n=0;for(var i=e.length;n<i;n++)lo(e[n],t,r,!0)}}function co(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}function ho(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}function fo(e,t){this.min=void 0!==e?e:new r(1/0,1/0),this.max=void 0!==t?t:new r(-1/0,-1/0)}function po(e,t){this.start=void 0!==e?e:new l,this.end=void 0!==t?t:new l}function go(e){p.call(this),this.material=e,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function mo(e,t){p.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,e=new U,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,n=1;32>r;r++,n++){var i=r/32*Math.PI*2,o=n/32*Math.PI*2;t.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}e.setAttribute("position",new N(t,3)),t=new ir({fog:!1,toneMapped:!1}),this.cone=new ar(e,t),this.add(this.cone),this.update()}function vo(e){var t=[];e&&e.isBone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,vo(e.children[r]));return t}function yo(e){for(var t=vo(e),r=new U,n=[],i=[],o=new A(0,0,1),a=new A(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.setAttribute("position",new N(n,3)),r.setAttribute("color",new N(i,3)),n=new ir({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),ar.call(this,r,n),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function bo(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r,e=new un(t,4,2),t=new T({wireframe:!0,fog:!1,toneMapped:!1}),j.call(this,e,t),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function xo(e,t,r){p.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,e=new _r(t),e.rotateY(.5*Math.PI),this.material=new T({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0),t=e.getAttribute("position"),t=new Float32Array(3*t.count),e.setAttribute("color",new E(t,3)),this.add(new j(e,this.material)),this.update()}function Ao(e,t,r,n){e=e||10,t=t||10,r=new A(void 0!==r?r:4473924),n=new A(void 0!==n?n:8947848);var i=t/2,o=e/t,a=e/2;e=[];for(var s=[],u=0,l=0,c=-a;u<=t;u++,c+=o){e.push(-a,0,c,a,0,c),e.push(c,0,-a,c,0,a);var h=u===i?r:n;h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3}t=new U,t.setAttribute("position",new N(e,3)),t.setAttribute("color",new N(s,3)),r=new ir({vertexColors:!0,toneMapped:!1}),ar.call(this,t,r),this.type="GridHelper"}function wo(e,t,r,n,i,o){e=e||10,t=t||16,r=r||8,n=n||64,i=new A(void 0!==i?i:4473924),o=new A(void 0!==o?o:8947848);var a,s=[],u=[];for(a=0;a<=t;a++){var l=a/t*2*Math.PI,c=Math.sin(l)*e;l=Math.cos(l)*e,s.push(0,0,0),s.push(c,0,l);var h=1&a?i:o;u.push(h.r,h.g,h.b),u.push(h.r,h.g,h.b)}for(a=0;a<=r;a++){h=1&a?i:o;var f=e-e/r*a;for(t=0;t<n;t++)l=t/n*2*Math.PI,c=Math.sin(l)*f,l=Math.cos(l)*f,s.push(c,0,l),u.push(h.r,h.g,h.b),l=(t+1)/n*2*Math.PI,c=Math.sin(l)*f,l=Math.cos(l)*f,s.push(c,0,l),u.push(h.r,h.g,h.b)}e=new U,e.setAttribute("position",new N(s,3)),e.setAttribute("color",new N(u,3)),s=new ir({vertexColors:!0,toneMapped:!1}),ar.call(this,e,s),this.type="PolarGridHelper"}function _o(e,t,r){p.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1),e=new U,e.setAttribute("position",new N([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new ir({fog:!1,toneMapped:!1}),this.lightPlane=new or(e,t),this.add(this.lightPlane),e=new U,e.setAttribute("position",new N([0,0,0,0,0,1],3)),this.targetLine=new or(e,t),this.add(this.targetLine),this.update()}function Co(e){function t(e,t,n){r(e,n),r(t,n)}function r(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var n=new U,i=new ir({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],a=[],s={},u=new A(16755200),l=new A(16711680),c=new A(43775),h=new A(16777215),f=new A(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",l),t("p","n2",l),t("p","n3",l),t("p","n4",l),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",h),t("p","c",f),t("cn1","cn2",f),t("cn3","cn4",f),t("cf1","cf2",f),t("cf3","cf4",f),n.setAttribute("position",new N(o,3)),n.setAttribute("color",new N(a,3)),ar.call(this,n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Mo(e,t,r,n,i,o,a){if(kl.set(i,o,a).unproject(n),e=t[e],void 0!==e)for(r=r.getAttribute("position"),t=0,n=e.length;t<n;t++)r.setXYZ(e[t],kl.x,kl.y,kl.z)}function So(e,t){this.object=e,void 0===t&&(t=16776960),e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Float32Array(24),n=new U;n.setIndex(new E(e,1)),n.setAttribute("position",new E(r,3)),ar.call(this,n,new ir({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function To(e,t){this.type="Box3Helper",this.box=e,t=t||16776960,e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new U;r.setIndex(new E(e,1)),r.setAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),ar.call(this,r,new ir({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Eo(e,t,r){this.plane=e,this.size=void 0===t?1:t,e=void 0!==r?r:16776960,t=new U,t.setAttribute("position",new N([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),or.call(this,t,new ir({color:e,toneMapped:!1})),this.type="PlaneHelper",t=new U,t.setAttribute("position",new N([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new j(t,new T({color:e,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function Io(e,t,r,n,i,o){p.call(this),this.type="ArrowHelper",void 0===e&&(e=new l(0,0,1)),void 0===t&&(t=new l(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===Bl&&(Bl=new U,Bl.setAttribute("position",new N([0,0,0,0,1,0],3)),zl=new yn(0,.5,1,5,1),zl.translate(0,-.5,0)),this.position.copy(t),this.line=new or(Bl,new ir({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new j(zl,new T({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function Ro(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];e=new U,e.setAttribute("position",new N(t,3)),e.setAttribute("color",new N([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new ir({vertexColors:!0,toneMapped:!1}),ar.call(this,e,t),this.type="AxesHelper"}function Lo(e){this._renderer=e,this._pingPongRenderTarget=null,e=new Float32Array(20);var t=new l(0,1,0);e=new Cn({defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Vl[3e3]},outputEncoding:{value:Vl[3e3]}},vertexShader:No(),fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n"+Fo()+"\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1}),e.type="SphericalGaussianBlur",this._blurMaterial=e,this._cubemapShader=this._equirectShader=null,this._compileMaterial(this._blurMaterial)}function Po(e){return e=new a(3*jl,3*jl,e),e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Oo(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function Do(){var e=new r(1,1);return e=new Cn({uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Vl[3e3]},outputEncoding:{value:Vl[3e3]}},vertexShader:No(),fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n"+Fo()+"\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1}),e.type="EquirectangularToCubeUV",e}function ko(){var e=new Cn({uniforms:{envMap:{value:null},inputEncoding:{value:Vl[3e3]},outputEncoding:{value:Vl[3e3]}},vertexShader:No(),fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n"+Fo()+"\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}function No(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function Fo(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}function Bo(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),si.call(this,e),this.type="catmullrom",this.closed=!0}function zo(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),si.call(this,e),this.type="catmullrom"}function Uo(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),si.call(this,e),this.type="catmullrom"}void 0===Dc&&(Number.EPSILON=Math.pow(2,-52)),void 0===Lc&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Tc&&(Math.sign=function(e){return 0>e?-1:0<e?1:+e}),!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Cc&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),Cc(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){void 0!==this._listeners&&(e=this._listeners[e],void 0!==e&&(t=e.indexOf(t),-1!==t&&e.splice(t,1)))},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this,t=t.slice(0);for(var r=0,n=t.length;r<n;r++)t[r].call(this,e)}}}});for(var jo=[],Ho=0;256>Ho;Ho++)jo[Ho]=(16>Ho?"0":"")+Ho.toString(16);var Go={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(jo[255&e]+jo[e>>8&255]+jo[e>>16&255]+jo[e>>24&255]+"-"+jo[255&t]+jo[t>>8&255]+"-"+jo[t>>16&15|64]+jo[t>>24&255]+"-"+jo[63&r|128]+jo[r>>8&255]+"-"+jo[r>>16&255]+jo[r>>24&255]+jo[255&n]+jo[n>>8&255]+jo[n>>16&255]+jo[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Go.DEG2RAD},radToDeg:function(e){return e*Go.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){var o=Math.cos,a=Math.sin,s=o(r/2);r=a(r/2);var u=o((t+n)/2),l=a((t+n)/2),c=o((t-n)/2),h=a((t-n)/2);switch(o=o((n-t)/2),t=a((n-t)/2),i){case"XYX":e.set(s*l,r*c,r*h,s*u);break;case"YZY":e.set(r*h,s*l,r*c,s*u);break;case"ZXZ":e.set(r*c,r*h,s*l,s*u);break;case"XZX":e.set(s*l,r*t,r*o,s*u);break;case"YXY":e.set(r*o,s*l,r*t,s*u);break;case"ZYZ":e.set(r*t,r*o,s*l,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};Ac(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Cc(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y;return e=e.elements,this.x=e[0]*t+e[3]*r+e[6],this.y=e[1]*t+e[4]*r+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return e=this.y-e.y,t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t);t=Math.sin(t);var n=this.x-e.x,i=this.y-e.y;return this.x=n*r-i*t+e.x,this.y=n*t+i*r+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Cc(n.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=n,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},extractBasis:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var i=r[3],o=r[6],a=r[1],s=r[4],u=r[7],l=r[2],c=r[5];r=r[8];var h=n[0],f=n[3],p=n[6],d=n[1],g=n[4],m=n[7],v=n[2],y=n[5];return n=n[8],t[0]=e*h+i*d+o*v,t[3]=e*f+i*g+o*y,t[6]=e*p+i*m+o*n,t[1]=a*h+s*d+u*v,t[4]=a*f+s*g+u*y,t[7]=a*p+s*m+u*n,t[2]=l*h+c*d+r*v,t[5]=l*f+c*g+r*y,t[8]=l*p+c*m+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7];return e=e[8],t*o*e-t*a*u-r*i*e+r*a*s+n*i*u-n*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var r=e.elements;e=this.elements,t=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7];r=r[8];var c=r*a-s*l,h=s*u-r*o,f=l*o-a*u,p=t*c+n*h+i*f;return 0===p?this.set(0,0,0,0,0,0,0,0,0):(p=1/p,e[0]=c*p,e[1]=(i*l-r*n)*p,e[2]=(s*n-i*a)*p,e[3]=h*p,e[4]=(r*t-i*u)*p,e[5]=(i*o-s*t)*p,e[6]=f*p,e[7]=(n*u-l*t)*p,e[8]=(a*t-n*o)*p,this)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,o,a){var s=Math.cos(i);i=Math.sin(i),this.set(r*s,r*i,-r*(s*o+i*a)+o+e,-n*i,n*s,-n*(-i*o+s*a)+a+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var r=this.elements,n=r[0],i=r[3],o=r[6],a=r[1],s=r[4],u=r[7];return r[0]=t*n+e*a,r[3]=t*i+e*s,r[6]=t*o+e*u,r[1]=-e*n+t*a,r[4]=-e*i+t*s,r[7]=-e*o+t*u,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){var t=this.elements;e=e.elements;for(var r=0;9>r;r++)if(t[r]!==e[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;9>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var Vo,Wo={getDataURL:function(e){if("undefined"==typeof HTMLCanvasElement)return e.src;if(!(e instanceof HTMLCanvasElement)){void 0===Vo&&(Vo=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Vo.width=e.width,Vo.height=e.height;var t=Vo.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),e=Vo}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Xo=0;i.DEFAULT_IMAGE=void 0,i.DEFAULT_MAPPING=300,i.prototype=Cc(vc(t.prototype),{constructor:i,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=Go.generateUUID()),!t&&void 0===e.images[n.uuid]){if(Array.isArray(n))for(var i=[],o=0,a=n.length;o<a;o++)i.push(Wo.getDataURL(n[o]));else i=Wo.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(i.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Ac(o.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Cc(o.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n+e[12]*i,this.y=e[1]*t+e[5]*r+e[9]*n+e[13]*i,this.z=e[2]*t+e[6]*r+e[10]*n+e[14]*i,this.w=e[3]*t+e[7]*r+e[11]*n+e[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){e=e.elements;var t=e[0],r=e[4],n=e[8],i=e[1],o=e[5],a=e[9],s=e[2],u=e[6],l=e[10];return.01>Math.abs(r-i)&&.01>Math.abs(n-s)&&.01>Math.abs(a-u)?.1>Math.abs(r+i)&&.1>Math.abs(n+s)&&.1>Math.abs(a+u)&&.1>Math.abs(t+o+l-3)?(this.set(1,0,0,0),this):(e=Math.PI,t=(t+1)/2,o=(o+1)/2,l=(l+1)/2,r=(r+i)/4,n=(n+s)/4,a=(a+u)/4,t>o&&t>l?.01>t?(u=0,r=s=.707106781):(u=Math.sqrt(t),s=r/u,r=n/u):o>l?.01>o?(u=.707106781,s=0,r=.707106781):(s=Math.sqrt(o),u=r/s,r=a/s):.01>l?(s=u=.707106781,r=0):(r=Math.sqrt(l),u=n/r,s=a/r),this.set(u,s,r,e),this):(e=Math.sqrt((u-a)*(u-a)+(n-s)*(n-s)+(i-r)*(i-r)),.001>Math.abs(e)&&(e=1),this.x=(u-a)/e,this.y=(n-s)/e,this.z=(i-r)/e,this.w=Math.acos((t+o+l-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),a.prototype=Cc(vc(t.prototype),{constructor:a,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),s.prototype=Cc(vc(a.prototype),{constructor:s,isWebGLMultisampleRenderTarget:!0,copy:function(e){return a.prototype.copy.call(this,e),this.samples=e.samples,this}}),Cc(u,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],u=r[n+1],l=r[n+2];r=r[n+3],n=i[o+0];var c=i[o+1],h=i[o+2];if(i=i[o+3],r!==i||s!==n||u!==c||l!==h){o=1-a;var f=s*n+u*c+l*h+r*i,p=0<=f?1:-1,d=1-f*f;d>Dc&&(d=Math.sqrt(d),f=Math.atan2(d,f*p),o=Math.sin(o*f)/d,a=Math.sin(a*f)/d),p*=a,s=s*o+n*p,u=u*o+c*p,l=l*o+h*p,r=r*o+i*p,o===1-a&&(a=1/Math.sqrt(s*s+u*u+l*l+r*r),s*=a,u*=a,l*=a,r*=a)}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=r},multiplyQuaternionsFlat:function(e,t,r,n,i,o){var a=r[n],s=r[n+1],u=r[n+2];r=r[n+3],n=i[o];var l=i[o+1],c=i[o+2];return i=i[o+3],e[t]=a*i+r*n+s*c-u*l,e[t+1]=s*i+r*l+u*n-a*c,e[t+2]=u*i+r*c+a*l-s*n,e[t+3]=r*i-a*n-s*l-u*c,e}}),Ac(u.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Cc(u.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z;e=e.order;var o=Math.cos,a=Math.sin,s=o(r/2),u=o(n/2);switch(o=o(i/2),r=a(r/2),n=a(n/2),i=a(i/2),e){case"XYZ":this._x=r*u*o+s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o-r*n*i;break;case"YXZ":this._x=r*u*o+s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o+r*n*i;break;case"ZXY":this._x=r*u*o-s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o-r*n*i;break;case"ZYX":this._x=r*u*o-s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o+r*n*i;break;case"YZX":this._x=r*u*o+s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o-r*n*i;break;case"XZY":this._x=r*u*o-s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o+r*n*i;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){t/=2;var r=Math.sin(t);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(t),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,r=t[0];e=t[4];var n=t[8],i=t[1],o=t[5],a=t[9],s=t[2],u=t[6];t=t[10];var l=r+o+t;return 0<l?(r=.5/Math.sqrt(l+1),this._w=.25/r,this._x=(u-a)*r,this._y=(n-s)*r,this._z=(i-e)*r):r>o&&r>t?(r=2*Math.sqrt(1+r-o-t),this._w=(u-a)/r,this._x=.25*r,this._y=(e+i)/r,this._z=(n+s)/r):o>t?(r=2*Math.sqrt(1+o-r-t),this._w=(n-s)/r,this._x=(e+i)/r,this._y=.25*r,this._z=(a+u)/r):(r=2*Math.sqrt(1+t-r-o),this._w=(i-e)/r,this._x=(n+s)/r,this._y=(a+u)/r,this._z=.25*r),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return 1e-6>r?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=r,this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Go.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);return 0===r||this.slerp(e,Math.min(1,t/r)),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z;e=e._w;var o=t._x,a=t._y,s=t._z;return t=t._w,this._x=r*t+e*o+n*s-i*a,this._y=n*t+e*a+i*o-r*s,this._z=i*t+e*s+r*a-n*o,this._w=e*t-r*o-n*a-i*s,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=r,this._y=n,this._z=i,this;if(e=1-a*a,e<=Dc)return a=1-t,this._w=a*o+t*this._w,this._x=a*r+t*this._x,this._y=a*n+t*this._y,this._z=a*i+t*this._z,this.normalize(),this._onChangeCallback(),this;e=Math.sqrt(e);var s=Math.atan2(e,a);return a=Math.sin((1-t)*s)/e,t=Math.sin(t*s)/e,this._w=o*a+this._w*t,this._x=r*a+this._x*t,this._y=n*a+this._y*t,this._z=i*a+this._z*t,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var qo=new l,Yo=new u;Cc(l.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yo.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Yo.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[3]*r+e[6]*n,this.y=e[1]*t+e[4]*r+e[7]*n,this.z=e[2]*t+e[5]*r+e[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z;e=e.elements;var i=1/(e[3]*t+e[7]*r+e[11]*n+e[15]);return this.x=(e[0]*t+e[4]*r+e[8]*n+e[12])*i,this.y=(e[1]*t+e[5]*r+e[9]*n+e[13])*i,this.z=(e[2]*t+e[6]*r+e[10]*n+e[14])*i,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z;e=e.w;var s=e*t+o*n-a*r,u=e*r+a*t-i*n,l=e*n+i*r-o*t;return t=-i*t-o*r-a*n,this.x=s*e+t*-i+u*-a-l*-o,this.y=u*e+t*-o+l*-i-s*-a,this.z=l*e+t*-a+s*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n,this.y=e[1]*t+e[5]*r+e[9]*n,this.z=e[2]*t+e[6]*r+e[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y;e=e.z;var i=t.x,o=t.y;return t=t.z,this.x=n*t-e*o,this.y=e*i-r*t,this.z=r*o-n*i,this},projectOnVector:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))},projectOnPlane:function(e){return qo.copy(this).projectOnVector(e),this.sub(qo)},reflect:function(e){return this.sub(qo.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Go.clamp(e,-1,1)))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return e=this.z-e.z,t*t+r*r+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=t,this.y=r,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var Zo=new l,Ko=new c,Jo=new l(0,0,0),Qo=new l(1,1,1),$o=new l,ea=new l,ta=new l;Cc(c.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,o,a,s,u,l,c,h,f,p,d,g){var m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=n,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new c).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/Zo.setFromMatrixColumn(e,0).length(),i=1/Zo.setFromMatrixColumn(e,1).length();return e=1/Zo.setFromMatrixColumn(e,2).length(),t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r);r=Math.sin(r);var a=Math.cos(n);n=Math.sin(n);var s=Math.cos(i);if(i=Math.sin(i),"XYZ"===e.order){e=o*s;var u=o*i,l=r*s,c=r*i;t[0]=a*s,t[4]=-a*i,t[8]=n,t[1]=u+l*n,t[5]=e-c*n,t[9]=-r*a,t[2]=c-e*n,t[6]=l+u*n,t[10]=o*a}else"YXZ"===e.order?(e=a*s,u=a*i,l=n*s,c=n*i,t[0]=e+c*r,t[4]=l*r-u,t[8]=o*n,t[1]=o*i,t[5]=o*s,t[9]=-r,t[2]=u*r-l,t[6]=c+e*r,t[10]=o*a):"ZXY"===e.order?(e=a*s,u=a*i,l=n*s,c=n*i,t[0]=e-c*r,t[4]=-o*i,t[8]=l+u*r,t[1]=u+l*r,t[5]=o*s,t[9]=c-e*r,t[2]=-o*n,t[6]=r,t[10]=o*a):"ZYX"===e.order?(e=o*s,u=o*i,l=r*s,c=r*i,t[0]=a*s,t[4]=l*n-u,t[8]=e*n+c,t[1]=a*i,t[5]=c*n+e,t[9]=u*n-l,t[2]=-n,t[6]=r*a,t[10]=o*a):"YZX"===e.order?(e=o*a,u=o*n,l=r*a,c=r*n,t[0]=a*s,t[4]=c-e*i,t[8]=l*i+u,t[1]=i,t[5]=o*s,t[9]=-r*s,t[2]=-n*s,t[6]=u*i+l,t[10]=e-c*i):"XZY"===e.order&&(e=o*a,u=o*n,l=r*a,c=r*n,t[0]=a*s,t[4]=-i,t[8]=n*s,t[1]=e*i+c,t[5]=o*s,t[9]=u*i-l,t[2]=l*i-u,t[6]=r*s,t[10]=c*i+e);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Jo,e,Qo)},lookAt:function(e,t,r){var n=this.elements;return ta.subVectors(e,t),0===ta.lengthSq()&&(ta.z=1),ta.normalize(),$o.crossVectors(r,ta),0===$o.lengthSq()&&(1===Math.abs(r.z)?ta.x+=1e-4:ta.z+=1e-4,ta.normalize(),$o.crossVectors(r,ta)),$o.normalize(),ea.crossVectors(ta,$o),n[0]=$o.x,n[4]=ea.x,n[8]=ta.x,n[1]=$o.y,n[5]=ea.y,n[9]=ta.y,n[2]=$o.z,n[6]=ea.z,n[10]=ta.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var i=r[4],o=r[8],a=r[12],s=r[1],u=r[5],l=r[9],c=r[13],h=r[2],f=r[6],p=r[10],d=r[14],g=r[3],m=r[7],v=r[11];r=r[15];var y=n[0],b=n[4],x=n[8],A=n[12],w=n[1],_=n[5],C=n[9],M=n[13],S=n[2],T=n[6],E=n[10],I=n[14],R=n[3],L=n[7],P=n[11];return n=n[15],t[0]=e*y+i*w+o*S+a*R,t[4]=e*b+i*_+o*T+a*L,t[8]=e*x+i*C+o*E+a*P,t[12]=e*A+i*M+o*I+a*n,t[1]=s*y+u*w+l*S+c*R,t[5]=s*b+u*_+l*T+c*L,t[9]=s*x+u*C+l*E+c*P,t[13]=s*A+u*M+l*I+c*n,t[2]=h*y+f*w+p*S+d*R,t[6]=h*b+f*_+p*T+d*L,t[10]=h*x+f*C+p*E+d*P,t[14]=h*A+f*M+p*I+d*n,t[3]=g*y+m*w+v*S+r*R,t[7]=g*b+m*_+v*T+r*L,t[11]=g*x+m*C+v*E+r*P,t[15]=g*A+m*M+v*I+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-n*u*c-i*a*h+r*u*h+n*a*f-r*s*f)+e[7]*(+t*s*f-t*u*h+i*o*h-n*o*f+n*u*l-i*s*l)+e[11]*(+t*u*c-t*a*f-i*o*c+r*o*f+i*a*l-r*u*l)+e[15]*(-n*a*l-t*s*c+t*a*h+n*o*c-r*o*h+r*s*l)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),t=this.elements;var r=e.elements;e=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7],c=r[8],h=r[9],f=r[10],p=r[11],d=r[12],g=r[13],m=r[14];r=r[15];var v=h*m*l-g*f*l+g*u*p-s*m*p-h*u*r+s*f*r,y=d*f*l-c*m*l-d*u*p+a*m*p+c*u*r-a*f*r,b=c*g*l-d*h*l+d*s*p-a*g*p-c*s*r+a*h*r,x=d*h*u-c*g*u-d*s*f+a*g*f+c*s*m-a*h*m,A=e*v+n*y+i*b+o*x;return 0===A?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(A=1/A,t[0]=v*A,t[1]=(g*f*o-h*m*o-g*i*p+n*m*p+h*i*r-n*f*r)*A,t[2]=(s*m*o-g*u*o+g*i*l-n*m*l-s*i*r+n*u*r)*A,t[3]=(h*u*o-s*f*o-h*i*l+n*f*l+s*i*p-n*u*p)*A,t[4]=y*A,t[5]=(c*m*o-d*f*o+d*i*p-e*m*p-c*i*r+e*f*r)*A,t[6]=(d*u*o-a*m*o-d*i*l+e*m*l+a*i*r-e*u*r)*A,t[7]=(a*f*o-c*u*o+c*i*l-e*f*l-a*i*p+e*u*p)*A,t[8]=b*A,t[9]=(d*h*o-c*g*o-d*n*p+e*g*p+c*n*r-e*h*r)*A,t[10]=(a*g*o-d*s*o+d*n*l-e*g*l-a*n*r+e*s*r)*A,t[11]=(c*s*o-a*h*o-c*n*l+e*h*l+a*n*p-e*s*p)*A,t[12]=x*A,t[13]=(c*g*i-d*h*i+d*n*f-e*g*f-c*n*m+e*h*m)*A,t[14]=(d*s*i-a*g*i-d*n*u+e*g*u+a*n*m-e*s*m)*A,t[15]=(a*h*i-c*s*i+c*n*u-e*h*u-a*n*f+e*s*f)*A,this)},scale:function(e){var t=this.elements,r=e.x,n=e.y;return e=e.z,t[0]*=r,t[4]*=n,t[8]*=e,t[1]*=r,t[5]*=n,t[9]*=e,t[2]*=r,t[6]*=n,t[10]*=e,t[3]*=r,t[7]*=n,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t);t=Math.sin(t);var n=1-r,i=e.x,o=e.y;e=e.z;var a=n*i,s=n*o;return this.set(a*i+r,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+r,s*e-t*i,0,a*e-t*o,s*e+t*i,n*e*e+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,l=o+o,c=a+a;t=i*u;var h=i*l;i*=c;var f=o*l;o*=c,a*=c,u*=s,l*=s,s*=c,c=r.x;var p=r.y;return r=r.z,n[0]=(1-(f+a))*c,n[1]=(h+s)*c,n[2]=(i-l)*c,n[3]=0,n[4]=(h-s)*p,n[5]=(1-(t+a))*p,n[6]=(o+u)*p,n[7]=0,n[8]=(i+l)*r,n[9]=(o-u)*r,n[10]=(1-(t+f))*r,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=Zo.set(n[0],n[1],n[2]).length(),o=Zo.set(n[4],n[5],n[6]).length(),a=Zo.set(n[8],n[9],n[10]).length();0>this.determinant()&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],Ko.copy(this),e=1/i,n=1/o;var s=1/a;return Ko.elements[0]*=e,Ko.elements[1]*=e,Ko.elements[2]*=e,Ko.elements[4]*=n,Ko.elements[5]*=n,Ko.elements[6]*=n,Ko.elements[8]*=s,Ko.elements[9]*=s,Ko.elements[10]*=s,t.setFromRotationMatrix(Ko),r.x=i,r.y=o,r.z=a,this},makePerspective:function(e,t,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*i/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*i/(r-n),a[9]=(r+n)/(r-n),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+i)/(o-i),a[14]=-2*o*i/(o-i),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=1/(t-e),u=1/(r-n),l=1/(o-i);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-(r+n)*u,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-(o+i)*l,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){var t=this.elements;e=e.elements;for(var r=0;16>r;r++)if(t[r]!==e[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;16>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var ra=new c,na=new u;h.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),h.DefaultOrder="XYZ",Ac(h.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Cc(h.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=Go.clamp,i=e.elements;e=i[0];var o=i[4],a=i[8],s=i[1],u=i[5],l=i[9],c=i[2],h=i[6];switch(i=i[10],t=t||this._order,t){case"XYZ":this._y=Math.asin(n(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(-l,i),this._z=Math.atan2(-o,e)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-n(l,-1,1)),.9999999>Math.abs(l)?(this._y=Math.atan2(a,i),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,e),this._z=0);break;case"ZXY":this._x=Math.asin(n(h,-1,1)),.9999999>Math.abs(h)?(this._y=Math.atan2(-c,i),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(s,e));break;case"ZYX":this._y=Math.asin(-n(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(h,i),this._z=Math.atan2(s,e)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(n(s,-1,1)),.9999999>Math.abs(s)?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,e)):(this._x=0,this._y=Math.atan2(a,i));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,e)):(this._x=Math.atan2(-l,i),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return ra.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ra,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return na.setFromEuler(this),this.setFromQuaternion(na,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Cc(f.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var ia=0,oa=new l,aa=new u,sa=new c,ua=new l,la=new l,ca=new l,ha=new u,fa=new l(1,0,0),pa=new l(0,1,0),da=new l(0,0,1),ga={type:"added"},ma={type:"removed"};p.DefaultUp=new l(0,1,0),p.DefaultMatrixAutoUpdate=!0,p.prototype=Cc(vc(t.prototype),{constructor:p,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return aa.setFromAxisAngle(e,t),this.quaternion.multiply(aa),this},rotateOnWorldAxis:function(e,t){return aa.setFromAxisAngle(e,t),this.quaternion.premultiply(aa),this},rotateX:function(e){return this.rotateOnAxis(fa,e)},rotateY:function(e){return this.rotateOnAxis(pa,e)},rotateZ:function(e){return this.rotateOnAxis(da,e)},translateOnAxis:function(e,t){return oa.copy(e).applyQuaternion(this.quaternion),this.position.add(oa.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(fa,e)},translateY:function(e){return this.translateOnAxis(pa,e)},translateZ:function(e){return this.translateOnAxis(da,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(sa.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?ua.copy(e):ua.set(e,t,r),e=this.parent,this.updateWorldMatrix(!0,!1),la.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sa.lookAt(la,ua,this.up):sa.lookAt(ua,la,this.up),this.quaternion.setFromRotationMatrix(sa),e&&(sa.extractRotation(e.matrixWorld),aa.setFromRotationMatrix(sa),this.quaternion.premultiply(aa.inverse()))},add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ga)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}return t=this.children.indexOf(e),-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ma)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),sa.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),sa.multiply(e.parent.matrixWorld)),e.applyMatrix4(sa),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new l),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new u),this.updateMatrixWorld(!0),this.matrixWorld.decompose(la,e,ca),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new l),this.updateMatrixWorld(!0),this.matrixWorld.decompose(la,ha,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new l),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(e=this.children,t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)},toJSON:function(e){function t(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}function r(e){var t,r=[];for(t in e){var n=e[t];delete n.metadata,r.push(n)}return r}var n=void 0===e||"string"===typeof e,i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==pc(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){o.geometry=t(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes)if(a=a.shapes,Array.isArray(a))for(var s=0,u=a.length;s<u;s++)t(e.shapes,a[s]);else t(e.shapes,a)}if(void 0!==this.material)if(Array.isArray(this.material)){for(a=[],s=0,u=this.material.length;s<u;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(0<this.children.length)for(o.children=[],s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object);if(n){n=r(e.geometries),s=r(e.materials),u=r(e.textures);var l=r(e.images);a=r(e.shapes),0<n.length&&(i.geometries=n),0<s.length&&(i.materials=s),0<u.length&&(i.textures=u),0<l.length&&(i.images=l),0<a.length&&(i.shapes=a)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(pc(e.userData)),!0===t)for(t=0;t<e.children.length;t++)this.add(e.children[t].clone());return this}}),d.prototype=Cc(vc(p.prototype),{constructor:d,isScene:!0,copy:function(e,t){return p.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=p.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ya=[new l,new l,new l,new l,new l,new l,new l,new l],ba=new l,xa=new g,Aa=new l,wa=new l,_a=new l,Ca=new l,Ma=new l,Sa=new l,Ta=new l,Ea=new l,Ia=new l,Ra=new l;Cc(g.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){return t=ba.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new l),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new l),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),xa.copy(t.boundingBox),xa.applyMatrix4(e.matrixWorld),this.union(xa)),e=e.children,t=0;for(var r=e.length;t<r;t++)this.expandByObject(e[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new l),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,ba),ba.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){if(0<e.normal.x)var t=e.normal.x*this.min.x,r=e.normal.x*this.max.x;else t=e.normal.x*this.max.x,r=e.normal.x*this.min.x;return 0<e.normal.y?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){return!this.isEmpty()&&(this.getCenter(Ta),Ea.subVectors(this.max,Ta),Aa.subVectors(e.a,Ta),wa.subVectors(e.b,Ta),_a.subVectors(e.c,Ta),Ca.subVectors(wa,Aa),Ma.subVectors(_a,wa),Sa.subVectors(Aa,_a),e=[0,-Ca.z,Ca.y,0,-Ma.z,Ma.y,0,-Sa.z,Sa.y,Ca.z,0,-Ca.x,Ma.z,0,-Ma.x,Sa.z,0,-Sa.x,-Ca.y,Ca.x,0,-Ma.y,Ma.x,0,-Sa.y,Sa.x,0],!!m(e,Aa,wa,_a,Ea)&&(e=[1,0,0,0,1,0,0,0,1],!!m(e,Aa,wa,_a,Ea)&&(Ia.crossVectors(Ca,Ma),e=[Ia.x,Ia.y,Ia.z],m(e,Aa,wa,_a,Ea))))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new l),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return ba.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(ba).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ya)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var La=new g;Cc(v.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):La.setFromPoints(e).getCenter(r);for(var n=t=0,i=e.length;n<i;n++)t=Math.max(t,r.distanceToSquared(e[n]));return this.radius=Math.sqrt(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new l),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new g),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Pa=new l,Oa=new l,Da=new l,ka=new l,Na=new l,Fa=new l,Ba=new l;Cc(y.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new l),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Pa)),this},closestPointToPoint:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new l),t.subVectors(e,this.origin),e=t.dot(this.direction),0>e?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Pa.subVectors(e,this.origin).dot(this.direction);return 0>t?this.origin.distanceToSquared(e):(Pa.copy(this.direction).multiplyScalar(t).add(this.origin),Pa.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Oa.copy(e).add(t).multiplyScalar(.5),Da.copy(t).sub(e).normalize(),ka.copy(this.origin).sub(Oa);var i=.5*e.distanceTo(t),o=-this.direction.dot(Da),a=ka.dot(this.direction),s=-ka.dot(Da),u=ka.lengthSq(),l=Math.abs(1-o*o);if(0<l){e=o*s-a,t=o*a-s;var c=i*l;0<=e?t>=-c?t<=c?(i=1/l,e*=i,t*=i,o=e*(e+o*t+2*a)+t*(o*e+t+2*s)+u):(t=i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u):(t=-i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u):t<=-c?(e=Math.max(0,-(-o*i+a)),t=0<e?-i:Math.min(Math.max(-i,-s),i),o=-e*e+t*(t+2*s)+u):t<=c?(e=0,t=Math.min(Math.max(-i,-s),i),o=t*(t+2*s)+u):(e=Math.max(0,-(o*i+a)),t=0<e?i:Math.min(Math.max(-i,-s),i),o=-e*e+t*(t+2*s)+u)}else t=0<o?-i:i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u;return r&&r.copy(this.direction).multiplyScalar(e).add(this.origin),n&&n.copy(Da).multiplyScalar(t).add(Oa),o},intersectSphere:function(e,t){Pa.subVectors(e.center,this.origin);var r=Pa.dot(this.direction),n=Pa.dot(Pa)-r*r;return e=e.radius*e.radius,n>e?null:(e=Math.sqrt(e-n),n=r-e,r+=e,0>n&&0>r?null:0>n?this.at(r,t):this.at(n,t))},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/t,0<=e?e:null)},intersectPlane:function(e,t){return e=this.distanceToPlane(e),null===e?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function(e,t){var r=1/this.direction.x,n=1/this.direction.y,i=1/this.direction.z,o=this.origin;if(0<=r){var a=(e.min.x-o.x)*r;r*=e.max.x-o.x}else a=(e.max.x-o.x)*r,r*=e.min.x-o.x;if(0<=n){var s=(e.min.y-o.y)*n;n*=e.max.y-o.y}else s=(e.max.y-o.y)*n,n*=e.min.y-o.y;return a>n||s>r?null:((s>a||a!==a)&&(a=s),(n<r||r!==r)&&(r=n),0<=i?(s=(e.min.z-o.z)*i,e=(e.max.z-o.z)*i):(s=(e.max.z-o.z)*i,e=(e.min.z-o.z)*i),a>e||s>r?null:((s>a||a!==a)&&(a=s),(e<r||r!==r)&&(r=e),0>r?null:this.at(0<=a?a:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Pa)},intersectTriangle:function(e,t,r,n,i){if(Na.subVectors(t,e),Fa.subVectors(r,e),Ba.crossVectors(Na,Fa),t=this.direction.dot(Ba),0<t){if(n)return null;n=1}else{if(!(0>t))return null;n=-1,t=-t}return ka.subVectors(this.origin,e),e=n*this.direction.dot(Fa.crossVectors(ka,Fa)),0>e?null:(r=n*this.direction.dot(Na.cross(ka)),0>r||e+r>t?null:(e=-n*ka.dot(Ba),0>e?null:this.at(e/t,i)))},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var za=new l,Ua=new l,ja=new n;Cc(b.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){return t=za.subVectors(r,t).cross(Ua.subVectors(e,t)).normalize(),this.setFromNormalAndCoplanarPoint(t,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new l),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new l);var r=e.delta(za),n=this.normal.dot(r);if(0===n){if(0===this.distanceToPoint(e.start))return t.copy(e.start)}else if(n=-(e.start.dot(this.normal)+this.constant)/n,!(0>n||1<n))return t.copy(r).multiplyScalar(n).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&0<e||0>e&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new l),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){return t=t||ja.getNormalMatrix(e),e=this.coplanarPoint(za).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize(),this.constant=-e.dot(t),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var Ha=new l,Ga=new l,Va=new l,Wa=new l,Xa=new l,qa=new l,Ya=new l,Za=new l,Ka=new l,Ja=new l;Cc(x,{getNormal:function(e,t,r,n){return void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new l),n.subVectors(r,t),Ha.subVectors(e,t),n.cross(Ha),e=n.lengthSq(),0<e?n.multiplyScalar(1/Math.sqrt(e)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){Ha.subVectors(n,t),Ga.subVectors(r,t),Va.subVectors(e,t),e=Ha.dot(Ha),t=Ha.dot(Ga),r=Ha.dot(Va);var o=Ga.dot(Ga);n=Ga.dot(Va);var a=e*o-t*t;return void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new l),0===a?i.set(-2,-1,-1):(a=1/a,o=(o*r-t*n)*a,e=(e*n-t*r)*a,i.set(1-o-e,e,o))},containsPoint:function(e,t,r,n){return x.getBarycoord(e,t,r,n,Wa),0<=Wa.x&&0<=Wa.y&&1>=Wa.x+Wa.y},getUV:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,Wa),s.set(0,0),s.addScaledVector(i,Wa.x),s.addScaledVector(o,Wa.y),s.addScaledVector(a,Wa.z),s},isFrontFacing:function(e,t,r,n){return Ha.subVectors(r,t),Ga.subVectors(e,t),0>Ha.cross(Ga).dot(n)}}),Cc(x.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Ha.subVectors(this.c,this.b),Ga.subVectors(this.a,this.b),.5*Ha.cross(Ga).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new l),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return x.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new b),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return x.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return x.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return x.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return x.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new l);var r=this.a,n=this.b,i=this.c;Xa.subVectors(n,r),qa.subVectors(i,r),Za.subVectors(e,r);var o=Xa.dot(Za),a=qa.dot(Za);if(0>=o&&0>=a)return t.copy(r);Ka.subVectors(e,n);var s=Xa.dot(Ka),u=qa.dot(Ka);if(0<=s&&u<=s)return t.copy(n);var c=o*u-s*a;if(0>=c&&0<=o&&0>=s)return n=o/(o-s),t.copy(r).addScaledVector(Xa,n);Ja.subVectors(e,i),e=Xa.dot(Ja);var h=qa.dot(Ja);return 0<=h&&e<=h?t.copy(i):(o=e*a-o*h,0>=o&&0<=a&&0>=h?(c=a/(a-h),t.copy(r).addScaledVector(qa,c)):(a=s*h-e*u,0>=a&&0<=u-s&&0<=e-h?(Ya.subVectors(i,n),c=(u-s)/(u-s+(e-h)),t.copy(n).addScaledVector(Ya,c)):(i=1/(a+o+c),n=o*i,c*=i,t.copy(r).addScaledVector(Xa,n).addScaledVector(qa,c))))},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Qa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$a={h:0,s:0,l:0},es={h:0,s:0,l:0};Cc(A.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){return e=Go.euclideanModulo(e,1),t=Go.clamp(t,0,1),r=Go.clamp(r,0,1),0===t?this.r=this.g=this.b=r:(t=.5>=r?r*(1+t):r+t-r*t,r=2*r-t,this.r=w(r,t,e+1/3),this.g=w(r,t,e),this.b=w(r,t,e-1/3)),this},setStyle:function(e){function t(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n=r[2];switch(r[1]){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(r[1])/360;var i=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(n,i,o)}}}else if(r=/^#([A-Fa-f0-9]+)$/.exec(e)){if(r=r[1],n=r.length,3===n)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(6===n)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},setColorName:function(e){var t=Qa[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){return void 0===t&&(t=2),t=0<t?1/t:1,this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=_(e.r),this.g=_(e.g),this.b=_(e.b),this},copyLinearToSRGB:function(e){return this.r=C(e.r),this.g=C(e.g),this.b=C(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r=this.r,n=this.g,i=this.b,o=Math.max(r,n,i),a=Math.min(r,n,i),s=(a+o)/2;if(a===o)a=t=0;else{var u=o-a;switch(a=.5>=s?u/(o+a):u/(2-o-a),o){case r:t=(n-i)/u+(n<i?6:0);break;case n:t=(i-r)/u+2;break;case i:t=(r-n)/u+4}t/=6}return e.h=t,e.s=a,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL($a),$a.h+=e,$a.s+=t,$a.l+=r,this.setHSL($a.h,$a.s,$a.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL($a),e.getHSL(es),e=Go.lerp($a.h,es.h,t);var r=Go.lerp($a.s,es.s,t);return t=Go.lerp($a.l,es.l,t),this.setHSL(e,r,t),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),A.NAMES=Qa,Cc(M.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var ts=0;S.prototype=Cc(vc(t.prototype),{constructor:S,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0===r)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if("shading"===t)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;else{var n=this[t];void 0===n?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}},toJSON:function(e){function t(e){var t,r=[];for(t in e){var n=e[t];delete n.metadata,r.push(n)}return r}var r=void 0===e||"string"===typeof e;r&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),1>this.opacity&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==pc(this.userData)&&(n.userData=this.userData),r&&(r=t(e.textures),e=t(e.images),0<r.length&&(n.textures=r),0<e.length&&(n.images=e)),n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(pc(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(S.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),T.prototype=vc(S.prototype),T.prototype.constructor=T,T.prototype.isMeshBasicMaterial=!0,T.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var rs=new l;Object.defineProperty(E.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Cc(E.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new A),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,o=e.length;i<o;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new r),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new l),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new o),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this},applyMatrix3:function(e){for(var t=0,r=this.count;t<r;t++)rs.x=this.getX(t),rs.y=this.getY(t),rs.z=this.getZ(t),rs.applyMatrix3(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)rs.x=this.getX(t),rs.y=this.getY(t),rs.z=this.getZ(t),rs.applyMatrix4(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)rs.x=this.getX(t),rs.y=this.getY(t),rs.z=this.getZ(t),rs.applyNormalMatrix(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)rs.x=this.getX(t),rs.y=this.getY(t),rs.z=this.getZ(t),rs.transformDirection(e),this.setXYZ(t,rs.x,rs.y,rs.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),I.prototype=vc(E.prototype),I.prototype.constructor=I,R.prototype=vc(E.prototype),R.prototype.constructor=R,L.prototype=vc(E.prototype),L.prototype.constructor=L,P.prototype=vc(E.prototype),P.prototype.constructor=P,O.prototype=vc(E.prototype),O.prototype.constructor=O,D.prototype=vc(E.prototype),D.prototype.constructor=D,k.prototype=vc(E.prototype),k.prototype.constructor=k,N.prototype=vc(E.prototype),N.prototype.constructor=N,F.prototype=vc(E.prototype),F.prototype.constructor=F,Cc(B.prototype,{computeGroups:function(e){var t=[],r=void 0;e=e.faces;for(var n=0;n<e.length;n++){var i=e[n];if(i.materialIndex!==r){r=i.materialIndex,void 0!==o&&(o.count=3*n-o.start,t.push(o));var o={start:3*n,materialIndex:r}}}void 0!==o&&(o.count=3*n-o.start,t.push(o)),this.groups=t},fromGeometry:function(e){var t=e.faces,n=e.vertices,i=e.faceVertexUvs,o=i[0]&&0<i[0].length,a=i[1]&&0<i[1].length,s=e.morphTargets,u=s.length;if(0<u){for(var l=[],c=0;c<u;c++)l[c]={name:s[c].name,data:[]};this.morphTargets.position=l}var h=e.morphNormals,f=h.length;if(0<f){var p=[];for(c=0;c<f;c++)p[c]={name:h[c].name,data:[]};this.morphTargets.normal=p}var d=e.skinIndices,g=e.skinWeights,m=d.length===n.length,v=g.length===n.length;for(0<n.length&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),c=0;c<t.length;c++){var y=t[c];this.vertices.push(n[y.a],n[y.b],n[y.c]);var b=y.vertexNormals;for(3===b.length?this.normals.push(b[0],b[1],b[2]):(b=y.normal,this.normals.push(b,b,b)),b=y.vertexColors,3===b.length?this.colors.push(b[0],b[1],b[2]):(b=y.color,this.colors.push(b,b,b)),!0===o&&(b=i[0][c],void 0!==b?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new r,new r,new r))),!0===a&&(b=i[1][c],void 0!==b?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new r,new r,new r))),b=0;b<u;b++){var x=s[b].vertices;l[b].data.push(x[y.a],x[y.b],x[y.c])}for(b=0;b<f;b++)x=h[b].vertexNormals[c],p[b].data.push(x.a,x.b,x.c);m&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),v&&this.skinWeights.push(g[y.a],g[y.b],g[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var ns=1,is=new c,os=new p,as=new l,ss=new g,us=new g,ls=new l;U.prototype=Cc(vc(t.prototype),{constructor:U,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<z(e)?k:O)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;if(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),t=this.attributes.normal,void 0!==t){var r=(new n).getNormalMatrix(e);t.applyNormalMatrix(r),t.needsUpdate=!0}return t=this.attributes.tangent,void 0!==t&&(t.transformDirection(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return is.makeRotationX(e),this.applyMatrix4(is),this},rotateY:function(e){return is.makeRotationY(e),this.applyMatrix4(is),this},rotateZ:function(e){return is.makeRotationZ(e),this.applyMatrix4(is),this},translate:function(e,t,r){return is.makeTranslation(e,t,r),this.applyMatrix4(is),this},scale:function(e,t,r){return is.makeScale(e,t,r),this.applyMatrix4(is),this},lookAt:function(e){return os.lookAt(e),os.updateMatrix(),this.applyMatrix4(os.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(as).negate(),this.translate(as.x,as.y,as.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){e=new N(3*t.vertices.length,3);var r=new N(3*t.colors.length,3);this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(e=new N(t.lineDistances.length,1),this.setAttribute("lineDistance",e.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new N(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var r=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(r=void 0,t.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new B).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);for(var r in this.setAttribute("position",new E(t,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(t=new Float32Array(3*e.normals.length),this.setAttribute("normal",new E(t,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.setAttribute("color",new E(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new E(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(t=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new E(t,2).copyVector2sArray(e.uvs2))),this.groups=e.groups,e.morphTargets){t=[];for(var n=e.morphTargets[r],i=0,o=n.length;i<o;i++){var a=n[i],s=new N(3*a.data.length,3);s.name=a.name,t.push(s.copyVector3sArray(a.data))}this.morphAttributes[r]=t}return 0<e.skinIndices.length&&(r=new N(4*e.skinIndices.length,4),this.setAttribute("skinIndex",r.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(r=new N(4*e.skinWeights.length,4),this.setAttribute("skinWeight",r.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new g);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t){e=0;for(var r=t.length;e<r;e++)ss.setFromBufferAttribute(t[e]),this.morphTargetsRelative?(ls.addVectors(this.boundingBox.min,ss.min),this.boundingBox.expandByPoint(ls),ls.addVectors(this.boundingBox.max,ss.max),this.boundingBox.expandByPoint(ls)):(this.boundingBox.expandByPoint(ss.min),this.boundingBox.expandByPoint(ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new v);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(ss.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];us.setFromBufferAttribute(o),this.morphTargetsRelative?(ls.addVectors(ss.min,us.min),ss.expandByPoint(ls),ls.addVectors(ss.max,us.max),ss.expandByPoint(ls)):(ss.expandByPoint(us.min),ss.expandByPoint(us.max))}ss.getCenter(r);var a=0;for(n=0,i=e.count;n<i;n++)ls.fromBufferAttribute(e,n),a=Math.max(a,r.distanceToSquared(ls));if(t)for(n=0,i=t.length;n<i;n++){o=t[n];for(var s=this.morphTargetsRelative,u=0,l=o.count;u<l;u++)ls.fromBufferAttribute(o,u),s&&(as.fromBufferAttribute(e,u),ls.add(as)),a=Math.max(a,r.distanceToSquared(ls))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var r=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new E(new Float32Array(r.length),3));else for(var n=t.normal.array,i=0,o=n.length;i<o;i++)n[i]=0;n=t.normal.array;var a=new l,s=new l,u=new l,c=new l,h=new l;if(e){var f=e.array;for(i=0,o=e.count;i<o;i+=3){e=3*f[i+0];var p=3*f[i+1],d=3*f[i+2];a.fromArray(r,e),s.fromArray(r,p),u.fromArray(r,d),c.subVectors(u,s),h.subVectors(a,s),c.cross(h),n[e]+=c.x,n[e+1]+=c.y,n[e+2]+=c.z,n[p]+=c.x,n[p+1]+=c.y,n[p+2]+=c.z,n[d]+=c.x,n[d+1]+=c.y,n[d+2]+=c.z}}else for(i=0,o=r.length;i<o;i+=9)a.fromArray(r,i),s.fromArray(r,i+3),u.fromArray(r,i+6),c.subVectors(u,s),h.subVectors(a,s),c.cross(h),n[i]=c.x,n[i+1]=c.y,n[i+2]=c.z,n[i+3]=c.x,n[i+4]=c.y,n[i+5]=c.z,n[i+6]=c.x,n[i+7]=c.y,n[i+8]=c.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r,n=this.attributes;for(r in n)if(void 0!==e.attributes[r]){var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t;o=Math.min(a.length,i.length-s);for(var u=0;u<o;u++,s++)i[s]=a[u]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)ls.x=e.getX(t),ls.y=e.getY(t),ls.z=e.getZ(t),ls.normalize(),e.setXYZ(t,ls.x,ls.y,ls.z)},toNonIndexed:function(){function e(e,t){var r=e.array,n=e.itemSize;e=e.normalized;for(var i,o=new r.constructor(t.length*n),a=0,s=0,u=t.length;s<u;s++){i=t[s]*n;for(var l=0;l<n;l++)o[a++]=r[i++]}return new E(o,n,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t,r=new U,n=this.index.array,i=this.attributes;for(t in i){var o=i[t];o=e(o,n),r.setAttribute(t,o)}var a=this.morphAttributes;for(t in a){var s=[],u=a[t];i=0;for(var l=u.length;i<l;i++)o=u[i],o=e(o,n),s.push(o);r.morphAttributes[t]=s}for(r.morphTargetsRelative=this.morphTargetsRelative,n=this.groups,i=0,t=n.length;i<t;i++)o=n[i],r.addGroup(o.start,o.count,o.materialIndex);return r},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<lc(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(l in t)void 0!==t[l]&&(e[l]=t[l]);return e}e.data={attributes:{}},t=this.index,null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});var r=this.attributes;for(l in r){t=r[l];var n=t.toJSON();""!==t.name&&(n.name=t.name),e.data.attributes[l]=n}r={};var i=!1;for(l in this.morphAttributes){for(var o=this.morphAttributes[l],a=[],s=0,u=o.length;s<u;s++)t=o[s],n=t.toJSON(),""!==t.name&&(n.name=t.name),a.push(n);0<a.length&&(r[l]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);var l=this.groups;return 0<l.length&&(e.data.groups=JSON.parse(pc(l))),l=this.boundingSphere,null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new U).copy(this)},copy:function(e){var t;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var r=e.index;for(a in null!==r&&this.setIndex(r.clone()),r=e.attributes,r)this.setAttribute(a,r[a].clone());var n=e.morphAttributes;for(a in n){var i=[],o=n[a];for(r=0,t=o.length;r<t;r++)i.push(o[r].clone());this.morphAttributes[a]=i}this.morphTargetsRelative=e.morphTargetsRelative;var a=e.groups;for(r=0,t=a.length;r<t;r++)n=a[r],this.addGroup(n.start,n.count,n.materialIndex);return a=e.boundingBox,null!==a&&(this.boundingBox=a.clone()),a=e.boundingSphere,null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var cs=new c,hs=new y,fs=new v,ps=new l,ds=new l,gs=new l,ms=new l,vs=new l,ys=new l,bs=new l,xs=new l,As=new l,_s=new r,Cs=new r,Ms=new r,Ss=new l,Ts=new l;j.prototype=Cc(vc(p.prototype),{constructor:j,isMesh:!0,copy:function(e){return p.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Cc({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,t){var n=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),fs.copy(n.boundingSphere),fs.applyMatrix4(o),!1!==e.ray.intersectsSphere(fs)&&(cs.getInverse(o),hs.copy(e.ray).applyMatrix4(cs),null===n.boundingBox||!1!==hs.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a=n.index;o=n.attributes.position;var s,u,l=n.morphAttributes.position,c=n.morphTargetsRelative,h=n.attributes.uv,f=n.attributes.uv2,p=n.groups,d=n.drawRange;if(null!==a)if(Array.isArray(i)){var g=0;for(s=p.length;g<s;g++){var m=p[g],v=i[m.materialIndex],y=Math.max(m.start,d.start);for(u=n=Math.min(m.start+m.count,d.start+d.count);y<u;y+=3){n=a.getX(y);var b=a.getX(y+1),A=a.getX(y+2);(n=G(this,v,e,hs,o,l,c,h,f,n,b,A))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}}}else for(y=Math.max(0,d.start),n=Math.min(a.count,d.start+d.count),g=y,s=n;g<s;g+=3)n=a.getX(g),b=a.getX(g+1),A=a.getX(g+2),(n=G(this,i,e,hs,o,l,c,h,f,n,b,A))&&(n.faceIndex=Math.floor(g/3),t.push(n));else if(void 0!==o)if(Array.isArray(i))for(g=0,s=p.length;g<s;g++)for(m=p[g],v=i[m.materialIndex],y=Math.max(m.start,d.start),u=n=Math.min(m.start+m.count,d.start+d.count);y<u;y+=3)n=y,b=y+1,A=y+2,(n=G(this,v,e,hs,o,l,c,h,f,n,b,A))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n));else for(y=Math.max(0,d.start),n=Math.min(o.count,d.start+d.count),g=y,s=n;g<s;g+=3)n=g,b=g+1,A=g+2,(n=G(this,i,e,hs,o,l,c,h,f,n,b,A))&&(n.faceIndex=Math.floor(g/3),t.push(n))}else if(n.isGeometry)for(o=Array.isArray(i),l=n.vertices,c=n.faces,n=n.faceVertexUvs[0],0<n.length&&(a=n),d=0,g=c.length;d<g;d++)s=c[d],n=o?i[s.materialIndex]:i,void 0!==n&&(h=l[s.a],f=l[s.b],p=l[s.c],n=H(this,n,e,hs,h,f,p,Ss))&&(a&&a[d]&&(m=a[d],_s.copy(m[0]),Cs.copy(m[1]),Ms.copy(m[2]),n.uv=x.getUV(Ss,h,f,p,_s,Cs,Ms,new r)),n.face=s,n.faceIndex=d,t.push(n))},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Es=0,Is=new c,Rs=new p,Ls=new l;V.prototype=Cc(vc(t.prototype),{constructor:V,isGeometry:!0,applyMatrix4:function(e){for(var t=(new n).getNormalMatrix(e),r=0,i=this.vertices.length;r<i;r++)this.vertices[r].applyMatrix4(e);for(r=0,i=this.faces.length;r<i;r++){e=this.faces[r],e.normal.applyMatrix3(t).normalize();for(var o=0,a=e.vertexNormals.length;o<a;o++)e.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(e){return Is.makeRotationX(e),this.applyMatrix4(Is),this},rotateY:function(e){return Is.makeRotationY(e),this.applyMatrix4(Is),this},rotateZ:function(e){return Is.makeRotationZ(e),this.applyMatrix4(Is),this},translate:function(e,t,r){return Is.makeTranslation(e,t,r),this.applyMatrix4(Is),this},scale:function(e,t,r){return Is.makeScale(e,t,r),this.applyMatrix4(Is),this},lookAt:function(e){return Rs.lookAt(e),Rs.updateMatrix(),this.applyMatrix4(Rs.matrix),this},fromBufferGeometry:function(e){function t(e,t,i,o){var a=void 0===u?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()],f=void 0===s?[]:[(new l).fromArray(s,3*e),(new l).fromArray(s,3*t),(new l).fromArray(s,3*i)];o=new M(e,t,i,f,a,o),n.faces.push(o),void 0!==c&&n.faceVertexUvs[0].push([(new r).fromArray(c,2*e),(new r).fromArray(c,2*t),(new r).fromArray(c,2*i)]),void 0!==h&&n.faceVertexUvs[1].push([(new r).fromArray(h,2*e),(new r).fromArray(h,2*t),(new r).fromArray(h,2*i)])}var n=this,i=null!==e.index?e.index.array:void 0,o=e.attributes;if(void 0===o.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;for(void 0!==h&&(this.faceVertexUvs[1]=[]),o=0;o<a.length;o+=3)n.vertices.push((new l).fromArray(a,o)),void 0!==u&&n.colors.push((new A).fromArray(u,o));var f=e.groups;if(0<f.length)for(o=0;o<f.length;o++){a=f[o];var p=a.start,d=p;for(p+=a.count;d<p;d+=3)void 0!==i?t(i[d],i[d+1],i[d+2],a.materialIndex):t(d,d+1,d+2,a.materialIndex)}else if(void 0!==i)for(o=0;o<i.length;o+=3)t(i[o],i[o+1],i[o+2]);else for(o=0;o<a.length/3;o+=3)t(o,o+1,o+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ls).negate(),this.translate(Ls.x,Ls.y,Ls.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius;t=0===t?1:1/t;var r=new c;return r.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new l,t=new l,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b];e.subVectors(this.vertices[i.c],a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t;void 0===e&&(e=!0);var r=Array(this.vertices.length),n=0;for(t=this.vertices.length;n<t;n++)r[n]=new l;if(e){var i=new l,o=new l;for(e=0,n=this.faces.length;e<n;e++){t=this.faces[e];var a=this.vertices[t.a],s=this.vertices[t.b],u=this.vertices[t.c];i.subVectors(u,s),o.subVectors(a,s),i.cross(o),r[t.a].add(i),r[t.b].add(i),r[t.c].add(i)}}else for(this.computeFaceNormals(),e=0,n=this.faces.length;e<n;e++)t=this.faces[e],r[t.a].add(t.normal),r[t.b].add(t.normal),r[t.c].add(t.normal);for(n=0,t=this.vertices.length;n<t;n++)r[n].normalize();for(e=0,n=this.faces.length;e<n;e++)t=this.faces[e],a=t.vertexNormals,3===a.length?(a[0].copy(r[t.a]),a[1].copy(r[t.b]),a[2].copy(r[t.c])):(a[0]=r[t.a].clone(),a[1]=r[t.b].clone(),a[2]=r[t.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var t=0;for(e=this.faces.length;t<e;t++){var r=this.faces[t],n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r=0;for(t=this.faces.length;r<t;r++){var n=this.faces[r];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);var i=0;for(e=n.vertexNormals.length;i<e;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}var o=new V;for(o.faces=this.faces,i=0,e=this.morphTargets.length;i<e;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[],n=this.morphNormals[i].faceNormals;var a=this.morphNormals[i].vertexNormals;for(r=0,t=this.faces.length;r<t;r++){var s=new l,u={a:new l,b:new l,c:new l};n.push(s),a.push(u)}}for(a=this.morphNormals[i],o.vertices=this.morphTargets[i].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,t=this.faces.length;r<t;r++)n=this.faces[r],s=a.faceNormals[r],u=a.vertexNormals[r],s.copy(n.normal),u.a.copy(n.vertexNormals[0]),u.b.copy(n.vertexNormals[1]),u.c.copy(n.vertexNormals[2])}for(r=0,t=this.faces.length;r<t;r++)n=this.faces[r],n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new g),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new v),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var i,o=this.vertices.length,a=this.vertices,s=e.vertices,u=this.faces,l=e.faces,c=this.colors,h=e.colors;void 0===r&&(r=0),void 0!==t&&(i=(new n).getNormalMatrix(t));for(var f=0,p=s.length;f<p;f++){var d=s[f].clone();void 0!==t&&d.applyMatrix4(t),a.push(d)}for(f=0,p=h.length;f<p;f++)c.push(h[f].clone());for(f=0,p=l.length;f<p;f++){s=l[f];var g=s.vertexNormals;for(h=s.vertexColors,c=new M(s.a+o,s.b+o,s.c+o),c.normal.copy(s.normal),void 0!==i&&c.normal.applyMatrix3(i).normalize(),t=0,a=g.length;t<a;t++)d=g[t].clone(),void 0!==i&&d.applyMatrix3(i).normalize(),c.vertexNormals.push(d);for(c.color.copy(s.color),t=0,a=h.length;t<a;t++)d=h[t],c.vertexColors.push(d.clone());c.materialIndex=s.materialIndex+r,u.push(c)}for(f=0,p=e.faceVertexUvs.length;f<p;f++)for(r=e.faceVertexUvs[f],void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]),t=0,a=r.length;t<a;t++){for(i=r[t],o=[],u=0,l=i.length;u<l;u++)o.push(i[u].clone());this.faceVertexUvs[f].push(o)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t={},r=[],n=[],i=Math.pow(10,4),o=0;for(e=this.vertices.length;o<e;o++){var a=this.vertices[o];a=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i),void 0===t[a]?(t[a]=o,r.push(this.vertices[o]),n[o]=r.length-1):n[o]=n[t[a]]}for(t=[],o=0,e=this.faces.length;o<e;o++)for(i=this.faces[o],i.a=n[i.a],i.b=n[i.b],i.c=n[i.c],i=[i.a,i.b,i.c],a=0;3>a;a++)if(i[a]===i[(a+1)%3]){t.push(o);break}for(o=t.length-1;0<=o;o--)for(i=t[o],this.faces.splice(i,1),n=0,e=this.faceVertexUvs.length;n<e;n++)this.faceVertexUvs[n].splice(i,1);return o=this.vertices.length-r.length,this.vertices=r,o},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new l(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===t&&(n=[]),a&&a.length===t&&(i=[]),r=0;r<t;r++){var s=e[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,r){return r?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=u.length/3,u.push(e.x,e.y,e.z)),l[t]}function r(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=c.length,c.push(e.getHex())),h[t]}function n(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=f.length/2,f.push(e.x,e.y)),p[t]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o,a=this.parameters;for(o in a)void 0!==a[o]&&(i[o]=a[o]);return i}for(a=[],o=0;o<this.vertices.length;o++){var s=this.vertices[o];a.push(s.x,s.y,s.z)}s=[];var u=[],l={},c=[],h={},f=[],p={};for(o=0;o<this.faces.length;o++){var d=this.faces[o],g=void 0!==this.faceVertexUvs[0][o],m=0<d.normal.length(),v=0<d.vertexNormals.length,y=1!==d.color.r||1!==d.color.g||1!==d.color.b,b=0<d.vertexColors.length,x=0;x=e(x,0,0),x=e(x,1,!0),x=e(x,2,!1),x=e(x,3,g),x=e(x,4,m),x=e(x,5,v),x=e(x,6,y),x=e(x,7,b),s.push(x),s.push(d.a,d.b,d.c),s.push(d.materialIndex),g&&(g=this.faceVertexUvs[0][o],s.push(n(g[0]),n(g[1]),n(g[2]))),m&&s.push(t(d.normal)),v&&(m=d.vertexNormals,s.push(t(m[0]),t(m[1]),t(m[2]))),y&&s.push(r(d.color)),b&&(d=d.vertexColors,s.push(r(d[0]),r(d[1]),r(d[2])))}return i.data={},i.data.vertices=a,i.data.normals=u,0<c.length&&(i.data.colors=c),0<f.length&&(i.data.uvs=[f]),i.data.faces=s,i},clone:function(){return(new V).copy(this)},copy:function(e){var t,r,n;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var i=e.vertices,o=0;for(t=i.length;o<t;o++)this.vertices.push(i[o].clone());for(i=e.colors,o=0,t=i.length;o<t;o++)this.colors.push(i[o].clone());for(i=e.faces,o=0,t=i.length;o<t;o++)this.faces.push(i[o].clone());for(o=0,t=e.faceVertexUvs.length;o<t;o++){var a=e.faceVertexUvs[o];for(void 0===this.faceVertexUvs[o]&&(this.faceVertexUvs[o]=[]),i=0,r=a.length;i<r;i++){var s=a[i],u=[],l=0;for(n=s.length;l<n;l++)u.push(s[l].clone());this.faceVertexUvs[o].push(u)}}for(l=e.morphTargets,o=0,t=l.length;o<t;o++){if(n={},n.name=l[o].name,void 0!==l[o].vertices)for(n.vertices=[],i=0,r=l[o].vertices.length;i<r;i++)n.vertices.push(l[o].vertices[i].clone());if(void 0!==l[o].normals)for(n.normals=[],i=0,r=l[o].normals.length;i<r;i++)n.normals.push(l[o].normals[i].clone());this.morphTargets.push(n)}for(l=e.morphNormals,o=0,t=l.length;o<t;o++){if(n={},void 0!==l[o].vertexNormals)for(n.vertexNormals=[],i=0,r=l[o].vertexNormals.length;i<r;i++)a=l[o].vertexNormals[i],s={},s.a=a.a.clone(),s.b=a.b.clone(),s.c=a.c.clone(),n.vertexNormals.push(s);if(void 0!==l[o].faceNormals)for(n.faceNormals=[],i=0,r=l[o].faceNormals.length;i<r;i++)n.faceNormals.push(l[o].faceNormals[i].clone());this.morphNormals.push(n)}for(i=e.skinWeights,o=0,t=i.length;o<t;o++)this.skinWeights.push(i[o].clone());for(i=e.skinIndices,o=0,t=i.length;o<t;o++)this.skinIndices.push(i[o].clone());for(i=e.lineDistances,o=0,t=i.length;o<t;o++)this.lineDistances.push(i[o]);return o=e.boundingBox,null!==o&&(this.boundingBox=o.clone()),o=e.boundingSphere,null!==o&&(this.boundingSphere=o.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ps=function(e){function t(t,r,n,i,o,a){e.call(this),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a},this.fromBufferGeometry(new Os(t,r,n,i,o,a)),this.mergeVertices()}return e&&(t.__proto__=e),t.prototype=vc(e&&e.prototype),t.prototype.constructor=t}(V),Os=function(e){function t(t,r,n,i,o,a){function s(e,t,r,n,i,o,a,s,m,v,y){var b=o/m,x=a/v,A=o/2,w=a/2,_=s/2;a=m+1;for(var C=v+1,M=o=0,S=new l,T=0;T<C;T++)for(var E=T*x-w,I=0;I<a;I++)S[e]=(I*b-A)*n,S[t]=E*i,S[r]=_,h.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[r]=0<s?1:-1,f.push(S.x,S.y,S.z),p.push(I/m),p.push(1-T/v),o+=1;for(e=0;e<v;e++)for(t=0;t<m;t++)r=d+t+a*(e+1),n=d+(t+1)+a*(e+1),i=d+(t+1)+a*e,c.push(d+t+a*e,r,i),c.push(r,n,i),M+=6;u.addGroup(g,M,y),g+=M,d+=o}e.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a};var u=this;t=t||1,r=r||1,n=n||1,i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var c=[],h=[],f=[],p=[],d=0,g=0;s("z","y","x",-1,-1,n,r,t,a,o,0),s("z","y","x",1,-1,n,r,-t,a,o,1),s("x","z","y",1,1,t,n,r,i,a,2),s("x","z","y",1,-1,t,n,-r,i,a,3),s("x","y","z",1,-1,t,r,n,i,o,4),s("x","y","z",-1,-1,t,r,-n,i,o,5),this.setIndex(c),this.setAttribute("position",new N(h,3)),this.setAttribute("normal",new N(f,3)),this.setAttribute("uv",new N(p,2))}return e&&(t.__proto__=e),t.prototype=vc(e&&e.prototype),t.prototype.constructor=t}(U),Ds={clone:W,merge:X};q.prototype=vc(S.prototype),q.prototype.constructor=q,q.prototype.isShaderMaterial=!0,q.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=W(e.uniforms),this.defines=Cc({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Cc({},e.extensions),this},q.prototype.toJSON=function(e){var t=S.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r].value;t.uniforms[r]=n&&n.isTexture?{type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?{type:"c",value:n.getHex()}:n&&n.isVector2?{type:"v2",value:n.toArray()}:n&&n.isVector3?{type:"v3",value:n.toArray()}:n&&n.isVector4?{type:"v4",value:n.toArray()}:n&&n.isMatrix3?{type:"m3",value:n.toArray()}:n&&n.isMatrix4?{type:"m4",value:n.toArray()}:{value:n}}for(var i in 0<lc(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,e={},this.extensions)!0===this.extensions[i]&&(e[i]=!0);return 0<lc(e).length&&(t.extensions=e),t},Y.prototype=Cc(vc(p.prototype),{constructor:Y,isCamera:!0,copy:function(e,t){return p.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new l),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){p.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){p.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Z.prototype=Cc(vc(Y.prototype),{constructor:Z,isPerspectiveCamera:!0,copy:function(e,t){return Y.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Cc({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Go.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Go.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Go.RAD2DEG*Math.atan(Math.tan(.5*Go.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Go.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}o=this.filmOffset,0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=p.prototype.toJSON.call(this,e),e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Cc({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),K.prototype=vc(p.prototype),K.prototype.constructor=K,J.prototype=vc(a.prototype),J.prototype.constructor=J,J.prototype.isWebGLCubeRenderTarget=!0,J.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var r=new d,n=new q({type:"CubemapFromEquirect",uniforms:W({tEquirect:{value:null}}),vertexShader:"varying vec3 vWorldDirection;\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",fragmentShader:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}",side:1,blending:0});return n.uniforms.tEquirect.value=t,t=new j(new Os(5,5,5),n),r.add(t),new K(1,10,this).update(e,r),t.geometry.dispose(),t.material.dispose(),this},Q.prototype=vc(i.prototype),Q.prototype.constructor=Q,Q.prototype.isDataTexture=!0;var ks=new v,Ns=new l;Cc($.prototype,{set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;6>r;r++)t[r].copy(e.planes[r]);return this},setFromProjectionMatrix:function(e){var t=this.planes,r=e.elements;e=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7],c=r[8],h=r[9],f=r[10],p=r[11],d=r[12],g=r[13],m=r[14];return r=r[15],t[0].setComponents(o-e,l-a,p-c,r-d).normalize(),t[1].setComponents(o+e,l+a,p+c,r+d).normalize(),t[2].setComponents(o+n,l+s,p+h,r+g).normalize(),t[3].setComponents(o-n,l-s,p-h,r-g).normalize(),t[4].setComponents(o-i,l-u,p-f,r-m).normalize(),t[5].setComponents(o+i,l+u,p+f,r+m).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ks.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ks)},intersectsSprite:function(e){return ks.center.set(0,0,0),ks.radius=.7071067811865476,ks.applyMatrix4(e.matrixWorld),this.intersectsSphere(ks)},intersectsSphere:function(e){var t=this.planes,r=e.center;e=-e.radius;for(var n=0;6>n;n++)if(t[n].distanceToPoint(r)<e)return!1;return!0},intersectsBox:function(e){for(var t=this.planes,r=0;6>r;r++){var n=t[r];if(Ns.x=0<n.normal.x?e.max.x:e.min.x,Ns.y=0<n.normal.y?e.max.y:e.min.y,Ns.z=0<n.normal.z?e.max.z:e.min.z,0>n.distanceToPoint(Ns))return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;6>r;r++)if(0>t[r].distanceToPoint(e))return!1;return!0}});var Fs={common:{diffuse:{value:new A(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new n},uv2Transform:{value:new n},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new A(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new A(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new n}},sprite:{diffuse:{value:new A(15658734)},opacity:{value:1},center:{value:new r(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new n}}};re.prototype=vc(V.prototype),re.prototype.constructor=re,ne.prototype=vc(U.prototype),ne.prototype.constructor=ne;var Bs={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},zs={basic:{uniforms:X([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.fog]),vertexShader:Bs.meshbasic_vert,fragmentShader:Bs.meshbasic_frag},lambert:{uniforms:X([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.fog,Fs.lights,{emissive:{value:new A(0)}}]),vertexShader:Bs.meshlambert_vert,fragmentShader:Bs.meshlambert_frag},phong:{uniforms:X([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.fog,Fs.lights,{emissive:{value:new A(0)},specular:{value:new A(1118481)},shininess:{value:30}}]),vertexShader:Bs.meshphong_vert,fragmentShader:Bs.meshphong_frag},standard:{uniforms:X([Fs.common,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.roughnessmap,Fs.metalnessmap,Fs.fog,Fs.lights,{emissive:{value:new A(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bs.meshphysical_vert,fragmentShader:Bs.meshphysical_frag},toon:{uniforms:X([Fs.common,Fs.specularmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.gradientmap,Fs.fog,Fs.lights,{emissive:{value:new A(0)},specular:{value:new A(1118481)},shininess:{value:30}}]),vertexShader:Bs.meshtoon_vert,fragmentShader:Bs.meshtoon_frag},matcap:{uniforms:X([Fs.common,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.fog,{matcap:{value:null}}]),vertexShader:Bs.meshmatcap_vert,fragmentShader:Bs.meshmatcap_frag},points:{uniforms:X([Fs.points,Fs.fog]),vertexShader:Bs.points_vert,fragmentShader:Bs.points_frag},dashed:{uniforms:X([Fs.common,Fs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bs.linedashed_vert,fragmentShader:Bs.linedashed_frag},depth:{uniforms:X([Fs.common,Fs.displacementmap]),vertexShader:Bs.depth_vert,fragmentShader:Bs.depth_frag},normal:{uniforms:X([Fs.common,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,{opacity:{value:1}}]),vertexShader:Bs.normal_vert,fragmentShader:Bs.normal_frag},sprite:{uniforms:X([Fs.sprite,Fs.fog]),vertexShader:Bs.sprite_vert,fragmentShader:Bs.sprite_frag},background:{uniforms:{uvTransform:{value:new n},t2D:{value:null}},vertexShader:Bs.background_vert,fragmentShader:Bs.background_frag},cube:{uniforms:X([Fs.envmap,{opacity:{value:1}}]),vertexShader:Bs.cube_vert,fragmentShader:Bs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bs.equirect_vert,fragmentShader:Bs.equirect_frag},distanceRGBA:{uniforms:X([Fs.common,Fs.displacementmap,{referencePosition:{value:new l},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bs.distanceRGBA_vert,fragmentShader:Bs.distanceRGBA_frag},shadow:{uniforms:X([Fs.lights,Fs.fog,{color:{value:new A(0)},opacity:{value:1}}]),vertexShader:Bs.shadow_vert,fragmentShader:Bs.shadow_frag}};zs.physical={uniforms:X([zs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new r(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new A(0)},transparency:{value:0}}]),vertexShader:Bs.meshphysical_vert,fragmentShader:Bs.meshphysical_frag},ge.prototype=vc(i.prototype),ge.prototype.constructor=ge,ge.prototype.isCubeTexture=!0,Object.defineProperty(ge.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),me.prototype=vc(i.prototype),me.prototype.constructor=me,me.prototype.isDataTexture2DArray=!0,ve.prototype=vc(i.prototype),ve.prototype.constructor=ve,ve.prototype.isDataTexture3D=!0;var Us=new i,js=new me,Hs=new ve,Gs=new ge,Vs=[],Ws=[],Xs=new Float32Array(16),qs=new Float32Array(9),Ys=new Float32Array(4);et.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),xe(t,e)},tt.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}};var Zs=/([\w\d_]+)(\])?(\[|\.)?/g;rt.prototype.setValue=function(e,t,r,n){t=this.map[t],void 0!==t&&t.setValue(e,r,n)},rt.prototype.setOptional=function(e,t,r){t=t[r],void 0!==t&&this.setValue(e,r,t)},rt.upload=function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}},rt.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r};var Ks=0,Js=/^[ \t]*#include +<([\w\d./]+)>/gm,Qs=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,$s=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,eu=0;Dt.prototype=vc(S.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isMeshDepthMaterial=!0,Dt.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},kt.prototype=vc(S.prototype),kt.prototype.constructor=kt,kt.prototype.isMeshDistanceMaterial=!0,kt.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Ut.prototype=Cc(vc(Z.prototype),{constructor:Ut,isArrayCamera:!0}),jt.prototype=Cc(vc(p.prototype),{constructor:jt,isGroup:!0}),Cc(Ht.prototype,{constructor:Ht,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new jt,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new jt,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,r){var n=null,i=null,o=this._targetRay,a=this._grip;return e&&(null!==o&&(n=t.getPose(e.targetRaySpace,r),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),null!==o&&(o.visible=null!==n),null!==a&&(a.visible=null!==i),this}}),Cc(Gt.prototype,t.prototype),Cc(Xt.prototype,{isFogExp2:!0,clone:function(){return new Xt(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Cc(qt.prototype,{isFog:!0,clone:function(){return new qt(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Yt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Cc(Yt.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var tu=new l;Ac(Zt.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Cc(Zt.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,r=this.data.count;t<r;t++)tu.x=this.getX(t),tu.y=this.getY(t),tu.z=this.getZ(t),tu.applyMatrix4(e),this.setXYZ(t,tu.x,tu.y,tu.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this},clone:function(){for(var e=[],t=0;t<this.count;t++)for(var r=t*this.data.stride+this.offset,n=0;n<this.itemSize;n++)e.push(this.data.array[r+n]);return new E(new this.array.constructor(e),this.itemSize,this.normalized)},toJSON:function(){for(var e=[],t=0;t<this.count;t++)for(var r=t*this.data.stride+this.offset,n=0;n<this.itemSize;n++)e.push(this.data.array[r+n]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}),Kt.prototype=vc(S.prototype),Kt.prototype.constructor=Kt,Kt.prototype.isSpriteMaterial=!0,Kt.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var ru,nu=new l,iu=new l,ou=new l,au=new r,su=new r,uu=new c,lu=new l,cu=new l,hu=new l,fu=new r,pu=new r,du=new r;Jt.prototype=Cc(vc(p.prototype),{constructor:Jt,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),iu.setFromMatrixScale(this.matrixWorld),uu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ou.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&iu.multiplyScalar(-ou.z);var n=this.material.rotation;if(0!==n)var i=Math.cos(n),o=Math.sin(n);n=this.center,Qt(lu.set(-.5,-.5,0),ou,n,iu,o,i),Qt(cu.set(.5,-.5,0),ou,n,iu,o,i),Qt(hu.set(.5,.5,0),ou,n,iu,o,i),fu.set(0,0),pu.set(1,0),du.set(1,1);var a=e.ray.intersectTriangle(lu,cu,hu,!1,nu);null===a&&(Qt(cu.set(-.5,.5,0),ou,n,iu,o,i),pu.set(0,1),a=e.ray.intersectTriangle(lu,hu,cu,!1,nu),null===a)||(o=e.ray.origin.distanceTo(nu),o<e.near||o>e.far||t.push({distance:o,point:nu.clone(),uv:x.getUV(nu,lu,cu,hu,fu,pu,du,new r),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return p.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var gu=new l,mu=new l;$t.prototype=Cc(vc(p.prototype),{constructor:$t,isLOD:!0,copy:function(e){p.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(0<t.length){for(var r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(0<this.levels.length){gu.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(gu);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(1<t.length){gu.setFromMatrixPosition(e.matrixWorld),mu.setFromMatrixPosition(this.matrixWorld),e=gu.distanceTo(mu)/e.zoom,t[0].object.visible=!0;for(var r=1,n=t.length;r<n;r++){if(!(e>=t[r].distance))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<n;r++)t[r].object.visible=!1}},toJSON:function(e){e=p.prototype.toJSON.call(this,e),!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var t=this.levels,r=0,n=t.length;r<n;r++){var i=t[r];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),er.prototype=Cc(vc(j.prototype),{constructor:er,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new o,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();1/0!==i?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){j.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var e=new l,t=new o,r=new o,n=new l,i=new c;return function(o,a){var s=this.skeleton,u=this.geometry;for(t.fromBufferAttribute(u.attributes.skinIndex,o),r.fromBufferAttribute(u.attributes.skinWeight,o),e.fromBufferAttribute(u.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0),o=0;4>o;o++)if(u=r.getComponent(o),0!==u){var l=t.getComponent(o);i.multiplyMatrices(s.bones[l].matrixWorld,s.boneInverses[l]),a.addScaledVector(n.copy(e).applyMatrix4(i),u)}return a.applyMatrix4(this.bindMatrixInverse)}}()});var vu=new c,yu=new c;Cc(tr.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var r=new c;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},pose:function(){var e,t,r=0;for(t=this.bones.length;r<t;r++)(e=this.bones[r])&&e.matrixWorld.getInverse(this.boneInverses[r]);for(r=0,t=this.bones.length;r<t;r++)(e=this.bones[r])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=e.length;i<o;i++)vu.multiplyMatrices(e[i]?e[i].matrixWorld:yu,t[i]),vu.toArray(r,16*i);void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new tr(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),rr.prototype=Cc(vc(p.prototype),{constructor:rr,isBone:!0});var bu=new c,xu=new c,Au=[],wu=new j;nr.prototype=Cc(vc(j.prototype),{constructor:nr,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if(wu.geometry=this.geometry,wu.material=this.material,void 0!==wu.material)for(var i=0;i<n;i++){this.getMatrixAt(i,bu),xu.multiplyMatrices(r,bu),wu.matrixWorld=xu,wu.raycast(e,Au);for(var o=0,a=Au.length;o<a;o++){var s=Au[o];s.instanceId=i,s.object=this,t.push(s)}Au.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),ir.prototype=vc(S.prototype),ir.prototype.constructor=ir,ir.prototype.isLineBasicMaterial=!0,ir.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var _u=new l,Cu=new l,Mu=new c,Su=new y,Tu=new v;or.prototype=Cc(vc(p.prototype),{constructor:or,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)_u.fromBufferAttribute(t,n-1),Cu.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=_u.distanceTo(Cu);e.setAttribute("lineDistance",new N(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(t=e.vertices,r=e.lineDistances,r[0]=0,n=1,i=t.length;n<i;n++)r[n]=r[n-1],r[n]+=t[n-1].distanceTo(t[n]);return this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Tu.copy(r.boundingSphere),Tu.applyMatrix4(n),Tu.radius+=i,!1!==e.ray.intersectsSphere(Tu)){Mu.getInverse(n),Su.copy(e.ray).applyMatrix4(Mu),n=i/((this.scale.x+this.scale.y+this.scale.z)/3),n*=n;var o=new l,a=new l;i=new l;var s=new l,u=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var c=r.index,h=r.attributes.position.array;if(null!==c){c=c.array,r=0;for(var f=c.length-1;r<f;r+=u){var p=c[r+1];o.fromArray(h,3*c[r]),a.fromArray(h,3*p),p=Su.distanceSqToSegment(o,a,s,i),p>n||(s.applyMatrix4(this.matrixWorld),p=e.ray.origin.distanceTo(s),p<e.near||p>e.far||t.push({distance:p,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}}else for(r=0,f=h.length/3-1;r<f;r+=u)o.fromArray(h,3*r),a.fromArray(h,3*r+3),p=Su.distanceSqToSegment(o,a,s,i),p>n||(s.applyMatrix4(this.matrixWorld),p=e.ray.origin.distanceTo(s),p<e.near||p>e.far||t.push({distance:p,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}else if(r.isGeometry)for(o=r.vertices,a=o.length,r=0;r<a-1;r+=u)p=Su.distanceSqToSegment(o[r],o[r+1],s,i),p>n||(s.applyMatrix4(this.matrixWorld),p=e.ray.origin.distanceTo(s),p<e.near||p>e.far||t.push({distance:p,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Iu=new l,Ru=new l;ar.prototype=Cc(vc(or.prototype),{constructor:ar,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)Iu.fromBufferAttribute(t,n),Ru.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+Iu.distanceTo(Ru);e.setAttribute("lineDistance",new N(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(t=e.vertices,r=e.lineDistances,n=0,i=t.length;n<i;n+=2)Iu.copy(t[n]),Ru.copy(t[n+1]),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+Iu.distanceTo(Ru);return this}}),sr.prototype=Cc(vc(or.prototype),{constructor:sr,isLineLoop:!0}),ur.prototype=vc(S.prototype),ur.prototype.constructor=ur,ur.prototype.isPointsMaterial=!0,ur.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Lu=new c,Pu=new y,Ou=new v,ku=new l;lr.prototype=Cc(vc(p.prototype),{constructor:lr,isPoints:!0,raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Ou.copy(r.boundingSphere),Ou.applyMatrix4(n),Ou.radius+=i,!1!==e.ray.intersectsSphere(Ou))if(Lu.getInverse(n),Pu.copy(e.ray).applyMatrix4(Lu),i/=(this.scale.x+this.scale.y+this.scale.z)/3,i*=i,r.isBufferGeometry){var o=r.index;if(r=r.attributes.position.array,null!==o){var a=o.array;o=0;for(var s=a.length;o<s;o++){var u=a[o];ku.fromArray(r,3*u),cr(ku,u,i,n,e,t,this)}}else for(o=0,a=r.length/3;o<a;o++)ku.fromArray(r,3*o),cr(ku,o,i,n,e,t,this)}else for(r=r.vertices,o=0,a=r.length;o<a;o++)cr(r[o],o,i,n,e,t,this)},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),hr.prototype=Cc(vc(i.prototype),{constructor:hr,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),fr.prototype=vc(i.prototype),fr.prototype.constructor=fr,fr.prototype.isCompressedTexture=!0,pr.prototype=vc(i.prototype),pr.prototype.constructor=pr,pr.prototype.isCanvasTexture=!0,dr.prototype=vc(i.prototype),dr.prototype.constructor=dr,dr.prototype.isDepthTexture=!0,gr.prototype=vc(U.prototype),gr.prototype.constructor=gr,mr.prototype=vc(V.prototype),mr.prototype.constructor=mr,vr.prototype=vc(U.prototype),vr.prototype.constructor=vr,yr.prototype=vc(V.prototype),yr.prototype.constructor=yr,br.prototype=vc(U.prototype),br.prototype.constructor=br,xr.prototype=vc(V.prototype),xr.prototype.constructor=xr,Ar.prototype=vc(br.prototype),Ar.prototype.constructor=Ar,wr.prototype=vc(V.prototype),wr.prototype.constructor=wr,_r.prototype=vc(br.prototype),_r.prototype.constructor=_r,Cr.prototype=vc(V.prototype),Cr.prototype.constructor=Cr,Mr.prototype=vc(br.prototype),Mr.prototype.constructor=Mr,Sr.prototype=vc(V.prototype),Sr.prototype.constructor=Sr,Tr.prototype=vc(br.prototype),Tr.prototype.constructor=Tr,Er.prototype=vc(V.prototype),Er.prototype.constructor=Er,Ir.prototype=vc(U.prototype),Ir.prototype.constructor=Ir,Ir.prototype.toJSON=function(){var e=U.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Rr.prototype=vc(V.prototype),Rr.prototype.constructor=Rr,Lr.prototype=vc(U.prototype),Lr.prototype.constructor=Lr,Pr.prototype=vc(V.prototype),Pr.prototype.constructor=Pr,Or.prototype=vc(U.prototype),Or.prototype.constructor=Or;var Nu={triangulate:function(e,t,r){r=r||2;var n,i=t&&t.length,o=i?t[0]*r:e.length,a=Dr(e,0,o,r,!0),s=[];if(!a||a.next===a.prev)return s;if(i){var u,l=r;i=[];var c=0;for(u=t.length;c<u;c++){var h=t[c]*l,f=c<u-1?t[c+1]*l:e.length;h=Dr(e,h,f,l,!1),h===h.next&&(h.steiner=!0),i.push(jr(h))}for(i.sort(Br),c=0;c<i.length;c++)l=i[c],t=a,(t=zr(l,t))&&(l=Zr(t,l),kr(t,t.next),kr(l,l.next)),a=kr(a,a.next)}if(e.length>80*r){var p=n=e[0],d=i=e[1];for(l=r;l<o;l+=r)c=e[l],t=e[l+1],c<p&&(p=c),t<d&&(d=t),c>n&&(n=c),t>i&&(i=t);n=Math.max(n-p,i-d),n=0!==n?1/n:0}return Nr(a,s,r,p,d,n),s}},Fu={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return 0>Fu.area(e)},triangulateShape:function(e,t){var r=[],n=[],i=[];$r(e),en(r,e);var o=e.length;for(t.forEach($r),e=0;e<t.length;e++)n.push(o),o+=t[e].length,en(r,t[e]);for(t=Nu.triangulate(r,n),e=0;e<t.length;e+=3)i.push(t.slice(e,e+3));return i}};tn.prototype=vc(V.prototype),tn.prototype.constructor=tn,tn.prototype.toJSON=function(){var e=V.prototype.toJSON.call(this);return nn(this.parameters.shapes,this.parameters.options,e)},rn.prototype=vc(U.prototype),rn.prototype.constructor=rn,rn.prototype.toJSON=function(){var e=U.prototype.toJSON.call(this);return nn(this.parameters.shapes,this.parameters.options,e)};var Bu={generateTopUV:function(e,t,n,i,o){e=t[3*i],i=t[3*i+1];var a=t[3*o];return o=t[3*o+1],[new r(t[3*n],t[3*n+1]),new r(e,i),new r(a,o)]},generateSideWallUV:function(e,t,n,i,o,a){e=t[3*n];var s=t[3*n+1];n=t[3*n+2];var u=t[3*i],l=t[3*i+1];i=t[3*i+2];var c=t[3*o],h=t[3*o+1];o=t[3*o+2];var f=t[3*a],p=t[3*a+1];return t=t[3*a+2],.01>Math.abs(s-l)?[new r(e,1-n),new r(u,1-i),new r(c,1-o),new r(f,1-t)]:[new r(s,1-n),new r(l,1-i),new r(h,1-o),new r(p,1-t)]}};on.prototype=vc(V.prototype),on.prototype.constructor=on,an.prototype=vc(rn.prototype),an.prototype.constructor=an,sn.prototype=vc(V.prototype),sn.prototype.constructor=sn,un.prototype=vc(U.prototype),un.prototype.constructor=un,ln.prototype=vc(V.prototype),ln.prototype.constructor=ln,cn.prototype=vc(U.prototype),cn.prototype.constructor=cn,hn.prototype=vc(V.prototype),hn.prototype.constructor=hn,fn.prototype=vc(U.prototype),fn.prototype.constructor=fn,pn.prototype=vc(V.prototype),pn.prototype.constructor=pn,pn.prototype.toJSON=function(){var e=V.prototype.toJSON.call(this);return gn(this.parameters.shapes,e)},dn.prototype=vc(U.prototype),dn.prototype.constructor=dn,dn.prototype.toJSON=function(){var e=U.prototype.toJSON.call(this);return gn(this.parameters.shapes,e)},mn.prototype=vc(U.prototype),mn.prototype.constructor=mn,vn.prototype=vc(V.prototype),vn.prototype.constructor=vn,yn.prototype=vc(U.prototype),yn.prototype.constructor=yn,bn.prototype=vc(vn.prototype),bn.prototype.constructor=bn,xn.prototype=vc(yn.prototype),xn.prototype.constructor=xn,An.prototype=vc(V.prototype),An.prototype.constructor=An,wn.prototype=vc(U.prototype),wn.prototype.constructor=wn;var zu=Du({__proto__:null,WireframeGeometry:gr,ParametricGeometry:mr,ParametricBufferGeometry:vr,TetrahedronGeometry:xr,TetrahedronBufferGeometry:Ar,OctahedronGeometry:wr,OctahedronBufferGeometry:_r,IcosahedronGeometry:Cr,IcosahedronBufferGeometry:Mr,DodecahedronGeometry:Sr,DodecahedronBufferGeometry:Tr,PolyhedronGeometry:yr,PolyhedronBufferGeometry:br,TubeGeometry:Er,TubeBufferGeometry:Ir,TorusKnotGeometry:Rr,TorusKnotBufferGeometry:Lr,TorusGeometry:Pr,TorusBufferGeometry:Or,TextGeometry:on,TextBufferGeometry:an,SphereGeometry:sn,SphereBufferGeometry:un,RingGeometry:ln,RingBufferGeometry:cn,PlaneGeometry:re,PlaneBufferGeometry:ne,LatheGeometry:hn,LatheBufferGeometry:fn,ShapeGeometry:pn,ShapeBufferGeometry:dn,ExtrudeGeometry:tn,ExtrudeBufferGeometry:rn,EdgesGeometry:mn,ConeGeometry:bn,ConeBufferGeometry:xn,CylinderGeometry:vn,CylinderBufferGeometry:yn,CircleGeometry:An,CircleBufferGeometry:wn,BoxGeometry:Ps,BoxBufferGeometry:Os});_n.prototype=vc(S.prototype),_n.prototype.constructor=_n,_n.prototype.isShadowMaterial=!0,_n.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this},Cn.prototype=vc(q.prototype),Cn.prototype.constructor=Cn,Cn.prototype.isRawShaderMaterial=!0,Mn.prototype=vc(S.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isMeshStandardMaterial=!0,Mn.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Sn.prototype=vc(Mn.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isMeshPhysicalMaterial=!0,Sn.prototype.copy=function(e){return Mn.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new A).copy(e.sheen):null,this.transparency=e.transparency,this},Tn.prototype=vc(S.prototype),Tn.prototype.constructor=Tn,Tn.prototype.isMeshPhongMaterial=!0,Tn.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},En.prototype=vc(S.prototype),En.prototype.constructor=En,En.prototype.isMeshToonMaterial=!0,En.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},In.prototype=vc(S.prototype),In.prototype.constructor=In,In.prototype.isMeshNormalMaterial=!0,In.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rn.prototype=vc(S.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshLambertMaterial=!0,Rn.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ln.prototype=vc(S.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isMeshMatcapMaterial=!0,Ln.prototype.copy=function(e){return S.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Pn.prototype=vc(ir.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isLineDashedMaterial=!0,Pn.prototype.copy=function(e){return ir.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Uu=Du({__proto__:null,ShadowMaterial:_n,SpriteMaterial:Kt,RawShaderMaterial:Cn,ShaderMaterial:q,PointsMaterial:ur,MeshPhysicalMaterial:Sn,MeshStandardMaterial:Mn,MeshPhongMaterial:Tn,MeshToonMaterial:En,MeshNormalMaterial:In,MeshLambertMaterial:Rn,MeshDepthMaterial:Dt,MeshDistanceMaterial:kt,MeshBasicMaterial:T,MeshMatcapMaterial:Ln,LineDashedMaterial:Pn,LineBasicMaterial:ir,Material:S}),ju={arraySlice:function(e,t,r){return ju.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{a=o[n],void 0!==a&&(t.push(o.time),r.push.apply(r,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[n],void 0!==a&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++]}while(void 0!==o);else do{a=o[n],void 0!==a&&(t.push(o.time),r.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,r,n,i){i=i||30,e=e.clone(),e.name=t;var o=[];for(t=0;t<e.tracks.length;++t){for(var a=e.tracks[t],s=a.getValueSize(),u=[],l=[],c=0;c<a.times.length;++c){var h=a.times[c]*i;if(!(h<r||h>=n))for(u.push(a.times[c]),h=0;h<s;++h)l.push(a.values[c*s+h])}0!==u.length&&(a.times=ju.convertArray(u,a.times.constructor),a.values=ju.convertArray(l,a.values.constructor),o.push(a))}for(e.tracks=o,r=1/0,t=0;t<e.tracks.length;++t)r>e.tracks[t].times[0]&&(r=e.tracks[t].times[0]);for(t=0;t<e.tracks.length;++t)e.tracks[t].shift(-1*r);return e.resetDuration(),e},makeClipAdditive:function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=e),(void 0===n||0>=n)&&(n=30);var i=e.tracks.length;for(t/=n,n=0;n<i;++n){var o=r.tracks[n],a=o.ValueTypeName;if("bool"!==a&&"string"!==a){var s=e.tracks.find((function(e){return e.name===o.name&&e.ValueTypeName===a}));if(void 0!==s){var l=o.getValueSize(),c=o.times.length-1;t<=o.times[0]?c=ju.arraySlice(o.values,0,o.valueSize):t>=o.times[c]?c=ju.arraySlice(o.values,c*l):(c=o.createInterpolant(),c.evaluate(t),c=c.resultBuffer),"quaternion"===a&&new u(c[0],c[1],c[2],c[3]).normalize().conjugate().toArray(c);for(var h=s.times.length,f=0;f<h;++f){var p=f*l;if("quaternion"===a)u.multiplyQuaternionsFlat(s.values,p,c,0,s.values,p);else for(var d=0;d<l;++d)s.values[p+d]-=c[d]}}}}return e.blendMode=2501,e}};Cc(On.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{r:{n:if(!(e<n)){for(var o=r+2;;){if(void 0===n){if(e<i)break n;return this._cachedIndex=r=t.length,this.afterEnd_(r-1,e,i)}if(r===o)break;if(i=n,n=t[++r],e<n)break t}n=t.length;break r}if(e>=i)break e;for(o=t[1],e<o&&(r=2,i=o),o=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===o)break;if(n=i,i=t[--r-1],e>=i)break t}n=r,r=0}for(;r<n;)i=r+n>>>1,e<t[i]?n=i:r=i+1;if(n=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return this._cachedIndex=r=t.length,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize;e*=n;for(var i=0;i!==n;++i)t[i]=r[e+i];return t},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Cc(On.prototype,{beforeStart_:On.prototype.copySampleValue_,afterEnd_:On.prototype.copySampleValue_}),Dn.prototype=Cc(vc(On.prototype),{constructor:Dn,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-r;break;case 2402:i=n.length-2,a=t+n[i]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*r-t;break;case 2402:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}e=.5*(r-t),n=this.valueSize,this._weightPrev=e/(t-a),this._weightNext=e/(s-r),this._offsetPrev=i*n,this._offsetNext=o*n},interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;e*=a;var s=e-a,u=this._offsetPrev,l=this._offsetNext,c=this._weightPrev,h=this._weightNext,f=(r-t)/(n-t);for(r=f*f,n=r*f,t=-c*n+2*c*r-c*f,c=(1+c)*n+(-1.5-2*c)*r+(-.5+c)*f+1,f=(-1-h)*n+(1.5+h)*r+.5*f,h=h*n-h*r,r=0;r!==a;++r)i[r]=t*o[u+r]+c*o[s+r]+f*o[e+r]+h*o[l+r];return i}}),kn.prototype=Cc(vc(On.prototype),{constructor:kn,interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;e*=a;var s=e-a;for(t=(r-t)/(n-t),r=1-t,n=0;n!==a;++n)i[n]=o[s+n]*r+o[e+n]*t;return i}}),Nn.prototype=Cc(vc(On.prototype),{constructor:Nn,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Cc(Fn,{toJSON:function(e){var t=e.constructor;if(void 0!==t.toJSON)t=t.toJSON(e);else{t={name:e.name,times:ju.convertArray(e.times,Array),values:ju.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Cc(Fn.prototype,{constructor:Fn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Nn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new kn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Dn(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;return++o,0===i&&o===n||(i>=o&&(o=Math.max(o,1),i=o-1),e=this.getValueSize(),this.times=ju.arraySlice(r,i,o),this.values=ju.arraySlice(this.values,i*e,o*e)),this},validate:function(){var e=!0,t=this.getValueSize();0!==t-Math.floor(t)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times;t=this.values;var n=r.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==n;o++){var a=r[o];if("number"===typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==i&&i>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,i),e=!1;break}i=a}if(void 0!==t&&ju.isTypedArray(t))for(o=0,r=t.length;o!==r;++o)if(n=t[o],isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,n),e=!1;break}return e},optimize:function(){for(var e=ju.arraySlice(this.times),t=ju.arraySlice(this.values),r=this.getValueSize(),n=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(n)s=!0;else{var l=a*r,c=l-r,h=l+r;for(u=0;u!==r;++u){var f=t[l+u];if(f!==t[c+u]||f!==t[h+u]){s=!0;break}}}if(s){if(a!==i)for(e[i]=e[a],s=a*r,l=i*r,u=0;u!==r;++u)t[l+u]=t[s+u];++i}}if(0<o){for(e[i]=e[o],s=o*r,l=i*r,u=0;u!==r;++u)t[l+u]=t[s+u];++i}return i!==e.length?(this.times=ju.arraySlice(e,0,i),this.values=ju.arraySlice(t,0,i*r)):(this.times=e,this.values=t),this},clone:function(){var e=ju.arraySlice(this.times,0),t=ju.arraySlice(this.values,0);return e=new this.constructor(this.name,e,t),e.createInterpolant=this.createInterpolant,e}}),Bn.prototype=Cc(vc(Fn.prototype),{constructor:Bn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zn.prototype=Cc(vc(Fn.prototype),{constructor:zn,ValueTypeName:"color"}),Un.prototype=Cc(vc(Fn.prototype),{constructor:Un,ValueTypeName:"number"}),jn.prototype=Cc(vc(On.prototype),{constructor:jn,interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;for(e*=a,t=(r-t)/(n-t),r=e+a;e!==r;e+=4)u.slerpFlat(i,0,o,e-a,o,e,t);return i}}),Hn.prototype=Cc(vc(Fn.prototype),{constructor:Hn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new jn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Gn.prototype=Cc(vc(Fn.prototype),{constructor:Gn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Vn.prototype=Cc(vc(Fn.prototype),{constructor:Vn,ValueTypeName:"vector"}),Cc(Wn,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,o=r.length;i!==o;++i)t.push(qn(r[i]).scale(n));return new Wn(e.name,e.duration,t,e.blendMode)},toJSON:function(e){var t=[],r=e.tracks;e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(var n=0,i=r.length;n!==i;++n)t.push(Fn.toJSON(r[n]));return e},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=ju.getKeyframeOrder(s);s=ju.sortedArray(s,1,l),u=ju.sortedArray(u,1,l),n||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Un(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/r))}return new Wn(e,-1,o)},findByName:function(e,t){var r=e;for(Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations),e=0;e<r.length;e++)if(r[e].name===t)return r[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&1<u.length){var l=u[1];(u=n[l])||(n[l]=u=[]),u.push(s)}}for(l in e=[],n)e.push(Wn.CreateFromMorphTargetSequence(l,n[l],t,r));return e},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var r=function(e,t,r,n,i){if(0!==r.length){var o=[],a=[];ju.flattenJSON(r,o,a,n),0!==o.length&&i.push(new e(t,o,a))}},n=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.blendMode;e=e.hierarchy||[];for(var u=0;u<e.length;u++){var l=e[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){o={};for(var c=0;c<l.length;c++)if(l[c].morphTargets)for(var h=0;h<l[c].morphTargets.length;h++)o[l[c].morphTargets[h]]=-1;for(var f in o){var p=[],d=[];for(h=0;h!==l[c].morphTargets.length;++h){var g=l[c];p.push(g.time),d.push(g.morphTarget===f?1:0)}n.push(new Un(".morphTargetInfluence["+f+"]",p,d))}o=o.length*(a||1)}else c=".bones["+t[u].name+"]",r(Vn,c+".position",l,"pos",n),r(Hn,c+".quaternion",l,"rot",n),r(Vn,c+".scale",l,"scl",n)}return 0===n.length?null:new Wn(i,o,n,s)}}),Cc(Wn.prototype,{resetDuration:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Wn(this.name,this.duration,e,this.blendMode)}});var Hu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Gu=new Yn;Cc(Zn.prototype,{load:function(){},loadAsync:function(e,t){var r=this;return new Eu((function(n,i){r.load(e,n,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Vu={};Kn.prototype=Cc(vc(Zn.prototype),{constructor:Kn,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Hu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Vu[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){r=a[1];var s=!!a[2];a=a[3],a=decodeURIComponent(a),s&&(a=atob(a));try{var u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":var l=new Uint8Array(a.length);for(s=0;s<a.length;s++)l[s]=a.charCodeAt(s);var c="blob"===u?new Blob([l.buffer],{type:r}):l.buffer;break;case"document":c=(new DOMParser).parseFromString(a,r);break;case"json":c=JSON.parse(a);break;default:c=a}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(f){setTimeout((function(){n&&n(f),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Vu[e]=[],Vu[e].push({onLoad:t,onProgress:r,onError:n});var h=new XMLHttpRequest;for(s in h.open("GET",e,!0),h.addEventListener("load",(function(t){var r=this.response,n=Vu[e];if(delete Vu[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Hu.add(e,r);for(var o=0,a=n.length;o<a;o++){var s=n[o];s.onLoad&&s.onLoad(r)}}else{for(o=0,a=n.length;o<a;o++)s=n[o],s.onError&&s.onError(t);i.manager.itemError(e)}i.manager.itemEnd(e)}),!1),h.addEventListener("progress",(function(t){for(var r=Vu[e],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(t)}}),!1),h.addEventListener("error",(function(t){var r=Vu[e];delete Vu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),h.addEventListener("abort",(function(t){var r=Vu[e];delete Vu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)h.setRequestHeader(s,this.requestHeader[s]);h.send(null)}return i.manager.itemStart(e),h}Vu[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Jn.prototype=Cc(vc(Zn.prototype),{constructor:Jn,load:function(e,t,r,n){var i=this,o=new Kn(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=Wn.parse(e[r]);t.push(n)}return t}}),Qn.prototype=Cc(vc(Zn.prototype),{constructor:Qn,load:function(e,t,r,n){function i(i){u.load(e[i],(function(e){e=o.parse(e,!0),a[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},l+=1,6===l&&(1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s))}),r,n)}var o=this,a=[],s=new fr;s.image=a;var u=new Kn(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,h=e.length;c<h;++c)i(c);else u.load(e,(function(e){if(e=o.parse(e,!0),e.isCubemap)for(var r=e.mipmaps.length/e.mipmapCount,n=0;n<r;n++){a[n]={mipmaps:[]};for(var i=0;i<e.mipmapCount;i++)a[n].mipmaps.push(e.mipmaps[n*e.mipmapCount+i]),a[n].format=e.format,a[n].width=e.width,a[n].height=e.height}else s.image.width=e.width,s.image.height=e.height,s.mipmaps=e.mipmaps;1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s)}),r,n);return s}}),$n.prototype=Cc(vc(Zn.prototype),{constructor:$n,load:function(e,t,r,n){var i=this,o=new Q,a=new Kn(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){(e=i.parse(e))&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:1001,o.wrapT=void 0!==e.wrapT?e.wrapT:1001,o.magFilter=void 0!==e.magFilter?e.magFilter:1006,o.minFilter=void 0!==e.minFilter?e.minFilter:1006,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps,o.minFilter=1008),1===e.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,t&&t(o,e))}),r,n),o}}),ei.prototype=Cc(vc(Zn.prototype),{constructor:ei,load:function(e,t,r,n){function i(){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),Hu.add(e,this),t&&t(this),a.manager.itemEnd(e)}function o(t){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),n&&n(t),a.manager.itemError(e),a.manager.itemEnd(e)}void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,s=Hu.get(e);if(void 0!==s)return a.manager.itemStart(e),setTimeout((function(){t&&t(s),a.manager.itemEnd(e)}),0),s;var u=document.createElementNS("http://www.w3.org/1999/xhtml","img");return u.addEventListener("load",i,!1),u.addEventListener("error",o,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(u.crossOrigin=this.crossOrigin),a.manager.itemStart(e),u.src=e,u}}),ti.prototype=Cc(vc(Zn.prototype),{constructor:ti,load:function(e,t,r,n){function i(r){a.load(e[r],(function(e){o.images[r]=e,s++,6===s&&(o.needsUpdate=!0,t&&t(o))}),void 0,n)}var o=new ge,a=new ei(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var s=0;for(r=0;r<e.length;++r)i(r);return o}}),ri.prototype=Cc(vc(Zn.prototype),{constructor:ri,load:function(e,t,r,n){var o=new i,a=new ei(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(r){o.image=r,r=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data:image\/jpeg/),o.format=r?1022:1023,o.needsUpdate=!0,void 0!==t&&t(o)}),r,n),o}}),Cc(ni.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r=[],n=this.getPoint(0),i=0;for(r.push(0),t=1;t<=e;t++){var o=this.getPoint(t/e);i+=o.distanceTo(n),r.push(i),n=o}return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r=this.getLengths(),n=r.length;t=t||e*r[n-1];for(var i,o=0,a=n-1;o<=a;)if(e=Math.floor(o+(a-o)/2),i=r[e]-t,0>i)o=e+1;else{if(!(0<i)){a=e;break}a=e-1}return e=a,r[e]===t?e/(n-1):(o=r[e],(e+(t-o)/(r[e+1]-o))/(n-1))},getTangent:function(e,t){var n=e-1e-4;return e+=1e-4,0>n&&(n=0),1<e&&(e=1),n=this.getPoint(n),e=this.getPoint(e),t=t||(n.isVector2?new r:new l),t.copy(e).sub(n).normalize(),t},getTangentAt:function(e,t){return e=this.getUtoTmapping(e),this.getTangent(e,t)},computeFrenetFrames:function(e,t){var r,n=new l,i=[],o=[],a=[],s=new l,u=new c;for(r=0;r<=e;r++){var h=r/e;i[r]=this.getTangentAt(h,new l),i[r].normalize()}o[0]=new l,a[0]=new l,r=Number.MAX_VALUE,h=Math.abs(i[0].x);var f=Math.abs(i[0].y),p=Math.abs(i[0].z);for(h<=r&&(r=h,n.set(1,0,0)),f<=r&&(r=f,n.set(0,1,0)),p<=r&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]),r=1;r<=e;r++)o[r]=o[r-1].clone(),a[r]=a[r-1].clone(),s.crossVectors(i[r-1],i[r]),s.length()>Dc&&(s.normalize(),n=Math.acos(Go.clamp(i[r-1].dot(i[r]),-1,1)),o[r].applyMatrix4(u.makeRotationAxis(s,n))),a[r].crossVectors(i[r],o[r]);if(!0===t)for(n=Math.acos(Go.clamp(o[0].dot(o[e]),-1,1)),n/=e,0<i[0].dot(s.crossVectors(o[0],o[e]))&&(n=-n),r=1;r<=e;r++)o[r].applyMatrix4(u.makeRotationAxis(i[r],n*r)),a[r].crossVectors(i[r],o[r]);return{tangents:i,normals:o,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),ii.prototype=vc(ni.prototype),ii.prototype.constructor=ii,ii.prototype.isEllipseCurve=!0,ii.prototype.getPoint=function(e,t){t=t||new r;for(var n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Dc;0>i;)i+=n;for(;i>n;)i-=n;i<Dc&&(i=o?0:n),!0!==this.aClockwise||o||(i=i===n?-n:i-n),n=this.aStartAngle+e*i,e=this.aX+this.xRadius*Math.cos(n);var a=this.aY+this.yRadius*Math.sin(n);return 0!==this.aRotation&&(n=Math.cos(this.aRotation),i=Math.sin(this.aRotation),o=e-this.aX,a-=this.aY,e=o*n-a*i+this.aX,a=o*i+a*n+this.aY),t.set(e,a)},ii.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ii.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},ii.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},oi.prototype=vc(ii.prototype),oi.prototype.constructor=oi,oi.prototype.isArcCurve=!0;var Wu=new l,Xu=new ai,qu=new ai,Yu=new ai;si.prototype=vc(ni.prototype),si.prototype.constructor=si,si.prototype.isCatmullRomCurve3=!0,si.prototype.getPoint=function(e,t){t=t||new l;var r=this.points,n=r.length;e*=n-(this.closed?0:1);var i=Math.floor(e);if(e-=i,this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/n)+1)*n:0===e&&i===n-1&&(i=n-2,e=1),this.closed||0<i)var o=r[(i-1)%n];else Wu.subVectors(r[0],r[1]).add(r[0]),o=Wu;var a=r[i%n],s=r[(i+1)%n];if(this.closed||i+2<n?r=r[(i+2)%n]:(Wu.subVectors(r[n-1],r[n-2]).add(r[n-1]),r=Wu),"centripetal"===this.curveType||"chordal"===this.curveType){var u="chordal"===this.curveType?.5:.25;n=Math.pow(o.distanceToSquared(a),u),i=Math.pow(a.distanceToSquared(s),u),u=Math.pow(s.distanceToSquared(r),u),1e-4>i&&(i=1),1e-4>n&&(n=i),1e-4>u&&(u=i),Xu.initNonuniformCatmullRom(o.x,a.x,s.x,r.x,n,i,u),qu.initNonuniformCatmullRom(o.y,a.y,s.y,r.y,n,i,u),Yu.initNonuniformCatmullRom(o.z,a.z,s.z,r.z,n,i,u)}else"catmullrom"===this.curveType&&(Xu.initCatmullRom(o.x,a.x,s.x,r.x,this.tension),qu.initCatmullRom(o.y,a.y,s.y,r.y,this.tension),Yu.initCatmullRom(o.z,a.z,s.z,r.z,this.tension));return t.set(Xu.calc(e),qu.calc(e),Yu.calc(e)),t},si.prototype.copy=function(e){ni.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},si.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},si.prototype.fromJSON=function(e){ni.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new l).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},hi.prototype=vc(ni.prototype),hi.prototype.constructor=hi,hi.prototype.isCubicBezierCurve=!0,hi.prototype.getPoint=function(e,t){t=t||new r;var n=this.v0,i=this.v1,o=this.v2,a=this.v3;return t.set(ci(e,n.x,i.x,o.x,a.x),ci(e,n.y,i.y,o.y,a.y)),t},hi.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},hi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},hi.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},fi.prototype=vc(ni.prototype),fi.prototype.constructor=fi,fi.prototype.isCubicBezierCurve3=!0,fi.prototype.getPoint=function(e,t){t=t||new l;var r=this.v0,n=this.v1,i=this.v2,o=this.v3;return t.set(ci(e,r.x,n.x,i.x,o.x),ci(e,r.y,n.y,i.y,o.y),ci(e,r.z,n.z,i.z,o.z)),t},fi.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},fi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},fi.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},pi.prototype=vc(ni.prototype),pi.prototype.constructor=pi,pi.prototype.isLineCurve=!0,pi.prototype.getPoint=function(e,t){return t=t||new r,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},pi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},pi.prototype.getTangent=function(e,t){return e=t||new r,e.copy(this.v2).sub(this.v1).normalize()},pi.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},pi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},pi.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},di.prototype=vc(ni.prototype),di.prototype.constructor=di,di.prototype.isLineCurve3=!0,di.prototype.getPoint=function(e,t){return t=t||new l,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},di.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},di.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},di.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},di.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},gi.prototype=vc(ni.prototype),gi.prototype.constructor=gi,gi.prototype.isQuadraticBezierCurve=!0,gi.prototype.getPoint=function(e,t){t=t||new r;var n=this.v0,i=this.v1,o=this.v2;return t.set(li(e,n.x,i.x,o.x),li(e,n.y,i.y,o.y)),t},gi.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},gi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},gi.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},mi.prototype=vc(ni.prototype),mi.prototype.constructor=mi,mi.prototype.isQuadraticBezierCurve3=!0,mi.prototype.getPoint=function(e,t){t=t||new l;var r=this.v0,n=this.v1,i=this.v2;return t.set(li(e,r.x,n.x,i.x),li(e,r.y,n.y,i.y),li(e,r.z,n.z,i.z)),t},mi.prototype.copy=function(e){return ni.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},mi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},mi.prototype.fromJSON=function(e){return ni.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},vi.prototype=vc(ni.prototype),vi.prototype.constructor=vi,vi.prototype.isSplineCurve=!0,vi.prototype.getPoint=function(e,t){t=t||new r;var n=this.points,i=(n.length-1)*e;e=Math.floor(i),i-=e;var o=n[0===e?e:e-1],a=n[e],s=n[e>n.length-2?n.length-1:e+1];return n=n[e>n.length-3?n.length-1:e+2],t.set(ui(i,o.x,a.x,s.x,n.x),ui(i,o.y,a.y,s.y,n.y)),t},vi.prototype.copy=function(e){ni.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this},vi.prototype.toJSON=function(){var e=ni.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e},vi.prototype.fromJSON=function(e){ni.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new r).fromArray(i))}return this};var Zu=Du({__proto__:null,ArcCurve:oi,CatmullRomCurve3:si,CubicBezierCurve:hi,CubicBezierCurve3:fi,EllipseCurve:ii,LineCurve:pi,LineCurve3:di,QuadraticBezierCurve:gi,QuadraticBezierCurve3:mi,SplineCurve:vi});yi.prototype=Cc(vc(ni.prototype),{constructor:yi,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new pi(t,e))},getPoint:function(e){var t=e*this.getLength(),r=this.getCurveLengths();for(e=0;e<r.length;){if(r[e]>=t)return t=r[e]-t,e=this.curves[e],r=e.getLength(),e.getPointAt(0===r?0:1-t/r);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++){var o=i[n];o=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e);for(var a=0;a<o.length;a++){var s=o[a];t&&t.equals(s)||(r.push(s),t=s)}}return this.autoClose&&1<r.length&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){ni.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=ni.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e},fromJSON:function(e){ni.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new Zu[n.type]).fromJSON(n))}return this}}),bi.prototype=Cc(vc(yi.prototype),{constructor:bi,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new pi(this.currentPoint.clone(),new r(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){return e=new gi(this.currentPoint.clone(),new r(e,t),new r(n,i)),this.curves.push(e),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,o,a){return e=new hi(this.currentPoint.clone(),new r(e,t),new r(n,i),new r(o,a)),this.curves.push(e),this.currentPoint.set(o,a),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);return t=new vi(t),this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,o),this},absarc:function(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this},ellipse:function(e,t,r,n,i,o,a,s){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,o,a,s),this},absellipse:function(e,t,r,n,i,o,a,s){return e=new ii(e,t,r,n,i,o,a,s),0<this.curves.length&&(t=e.getPoint(0),t.equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e),this},copy:function(e){return yi.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=yi.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return yi.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),xi.prototype=Cc(vc(bi.prototype),{constructor:xi,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){bi.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this},toJSON:function(){var e=bi.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e},fromJSON:function(e){bi.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new bi).fromJSON(n))}return this}}),Ai.prototype=Cc(vc(p.prototype),{constructor:Ai,isLight:!0,copy:function(e){return p.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return e=p.prototype.toJSON.call(this,e),e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),wi.prototype=Cc(vc(Ai.prototype),{constructor:wi,isHemisphereLight:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Cc(_i.prototype,{_projScreenMatrix:new c,_lightPositionWorld:new l,_lookTarget:new l,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ci.prototype=Cc(vc(_i.prototype),{constructor:Ci,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*Go.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),_i.prototype.updateMatrices.call(this,e)}}),Mi.prototype=Cc(vc(Ai.prototype),{constructor:Mi,isSpotLight:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Si.prototype=Cc(vc(_i.prototype),{constructor:Si,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var r=this.camera,n=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),o.copy(r.position),o.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(o),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Ti.prototype=Cc(vc(Ai.prototype),{constructor:Ti,isPointLight:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Ei.prototype=Cc(vc(Y.prototype),{constructor:Ei,isOrthographicCamera:!0,copy:function(e,t){return Y.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Cc({},e.view),this},setViewOffset:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e;r+=e,e=n+t,t=n-t,null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom,i+=n*this.view.offsetX,r=i+n*this.view.width,e-=t*this.view.offsetY,t=e-t*this.view.height),this.projectionMatrix.makeOrthographic(i,r,e,t,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=p.prototype.toJSON.call(this,e),e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Cc({},this.view)),e}}),Ii.prototype=Cc(vc(_i.prototype),{constructor:Ii,isDirectionalLightShadow:!0,updateMatrices:function(e){_i.prototype.updateMatrices.call(this,e)}}),Ri.prototype=Cc(vc(Ai.prototype),{constructor:Ri,isDirectionalLight:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Li.prototype=Cc(vc(Ai.prototype),{constructor:Li,isAmbientLight:!0}),Pi.prototype=Cc(vc(Ai.prototype),{constructor:Pi,isRectAreaLight:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return e=Ai.prototype.toJSON.call(this,e),e.object.width=this.width,e.object.height=this.height,e}}),Cc(Oi.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;9>t;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;9>e;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var r=e.x,n=e.y;e=e.z;var i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*n),t.addScaledVector(i[2],.488603*e),t.addScaledVector(i[3],.488603*r),t.addScaledVector(i[4],1.092548*r*n),t.addScaledVector(i[5],1.092548*n*e),t.addScaledVector(i[6],.315392*(3*e*e-1)),t.addScaledVector(i[7],1.092548*r*e),t.addScaledVector(i[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){var r=e.x,n=e.y;e=e.z;var i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*n),t.addScaledVector(i[2],1.023328*e),t.addScaledVector(i[3],1.023328*r),t.addScaledVector(i[4],.858086*r*n),t.addScaledVector(i[5],.858086*n*e),t.addScaledVector(i[6],.743125*e*e-.247708),t.addScaledVector(i[7],.858086*r*e),t.addScaledVector(i[8],.429043*(r*r-n*n)),t},add:function(e){for(var t=0;9>t;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var r=0;9>r;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this},scale:function(e){for(var t=0;9>t;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var r=0;9>r;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(var t=0;9>t;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var r=this.coefficients,n=0;9>n;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=this.coefficients,n=0;9>n;n++)r[n].toArray(e,t+3*n);return e}}),Cc(Oi,{getBasisAt:function(e,t){var r=e.x,n=e.y;e=e.z,t[0]=.282095,t[1]=.488603*n,t[2]=.488603*e,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*e,t[6]=.315392*(3*e*e-1),t[7]=1.092548*r*e,t[8]=.546274*(r*r-n*n)}}),Di.prototype=Cc(vc(Ai.prototype),{constructor:Di,isLightProbe:!0,copy:function(e){return Ai.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){return e=Ai.prototype.toJSON.call(this,e),e.object.sh=this.sh.toArray(),e}}),ki.prototype=Cc(vc(Zn.prototype),{constructor:ki,load:function(e,t,r,n){var i=this,o=new Kn(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){function t(e){return void 0===i[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),i[e]}var i=this.textures,a=new Uu[e.type];if(void 0!==e.uuid&&(a.uuid=e.uuid),void 0!==e.name&&(a.name=e.name),void 0!==e.color&&a.color.setHex(e.color),void 0!==e.roughness&&(a.roughness=e.roughness),void 0!==e.metalness&&(a.metalness=e.metalness),void 0!==e.sheen&&(a.sheen=(new A).setHex(e.sheen)),void 0!==e.emissive&&a.emissive.setHex(e.emissive),void 0!==e.specular&&a.specular.setHex(e.specular),void 0!==e.shininess&&(a.shininess=e.shininess),void 0!==e.clearcoat&&(a.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(a.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(a.fog=e.fog),void 0!==e.flatShading&&(a.flatShading=e.flatShading),void 0!==e.blending&&(a.blending=e.blending),void 0!==e.combine&&(a.combine=e.combine),void 0!==e.side&&(a.side=e.side),void 0!==e.opacity&&(a.opacity=e.opacity),void 0!==e.transparent&&(a.transparent=e.transparent),void 0!==e.alphaTest&&(a.alphaTest=e.alphaTest),void 0!==e.depthTest&&(a.depthTest=e.depthTest),void 0!==e.depthWrite&&(a.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(a.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(a.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(a.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(a.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(a.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(a.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(a.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(a.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(a.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(a.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(a.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(a.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(a.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(a.rotation=e.rotation),1!==e.linewidth&&(a.linewidth=e.linewidth),void 0!==e.dashSize&&(a.dashSize=e.dashSize),void 0!==e.gapSize&&(a.gapSize=e.gapSize),void 0!==e.scale&&(a.scale=e.scale),void 0!==e.polygonOffset&&(a.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(a.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(a.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(a.skinning=e.skinning),void 0!==e.morphTargets&&(a.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(a.morphNormals=e.morphNormals),void 0!==e.dithering&&(a.dithering=e.dithering),void 0!==e.vertexTangents&&(a.vertexTangents=e.vertexTangents),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.toneMapped&&(a.toneMapped=e.toneMapped),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.vertexColors&&(a.vertexColors="number"===typeof e.vertexColors?0<e.vertexColors:e.vertexColors),void 0!==e.uniforms)for(var s in e.uniforms){var u=e.uniforms[s];switch(a.uniforms[s]={},u.type){case"t":a.uniforms[s].value=t(u.value);break;case"c":a.uniforms[s].value=(new A).setHex(u.value);break;case"v2":a.uniforms[s].value=(new r).fromArray(u.value);break;case"v3":a.uniforms[s].value=(new l).fromArray(u.value);break;case"v4":a.uniforms[s].value=(new o).fromArray(u.value);break;case"m3":a.uniforms[s].value=(new n).fromArray(u.value);case"m4":a.uniforms[s].value=(new c).fromArray(u.value);break;default:a.uniforms[s].value=u.value}}if(void 0!==e.defines&&(a.defines=e.defines),void 0!==e.vertexShader&&(a.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(a.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var h in e.extensions)a.extensions[h]=e.extensions[h];return void 0!==e.shading&&(a.flatShading=1===e.shading),void 0!==e.size&&(a.size=e.size),void 0!==e.sizeAttenuation&&(a.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(a.map=t(e.map)),void 0!==e.matcap&&(a.matcap=t(e.matcap)),void 0!==e.alphaMap&&(a.alphaMap=t(e.alphaMap)),void 0!==e.bumpMap&&(a.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(a.bumpScale=e.bumpScale),void 0!==e.normalMap&&(a.normalMap=t(e.normalMap)),void 0!==e.normalMapType&&(a.normalMapType=e.normalMapType),void 0!==e.normalScale&&(s=e.normalScale,!1===Array.isArray(s)&&(s=[s,s]),a.normalScale=(new r).fromArray(s)),void 0!==e.displacementMap&&(a.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(a.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(a.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(a.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(a.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(a.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(a.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(a.specularMap=t(e.specularMap)),void 0!==e.envMap&&(a.envMap=t(e.envMap)),void 0!==e.envMapIntensity&&(a.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(a.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(a.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(a.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(a.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(a.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(a.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(a.gradientMap=t(e.gradientMap)),void 0!==e.clearcoatMap&&(a.clearcoatMap=t(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(a.clearcoatRoughnessMap=t(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(a.clearcoatNormalMap=t(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(a.clearcoatNormalScale=(new r).fromArray(e.clearcoatNormalScale)),a},setTextures:function(e){return this.textures=e,this}});var Ku={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};Ni.prototype=Cc(vc(U.prototype),{constructor:Ni,isInstancedBufferGeometry:!0,copy:function(e){return U.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=U.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Fi.prototype=Cc(vc(E.prototype),{constructor:Fi,isInstancedBufferAttribute:!0,copy:function(e){return E.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=E.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Bi.prototype=Cc(vc(Zn.prototype),{constructor:Bi,load:function(e,t,r,n){var i=this,o=new Kn(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){var t=e.isInstancedBufferGeometry?new Ni:new U,r=e.data.index;if(void 0!==r){var n=new Ju[r.type](r.array);t.setIndex(new E(n,1))}for(var i in r=e.data.attributes,r){var o=r[i];n=new Ju[o.type](o.array),n=new(o.isInstancedBufferAttribute?Fi:E)(n,o.itemSize,o.normalized),void 0!==o.name&&(n.name=o.name),t.setAttribute(i,n)}var a=e.data.morphAttributes;if(a)for(i in a){var s=a[i],u=[];r=0;for(var c=s.length;r<c;r++)o=s[r],n=new Ju[o.type](o.array),n=new E(n,o.itemSize,o.normalized),void 0!==o.name&&(n.name=o.name),u.push(n);t.morphAttributes[i]=u}if(e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0),i=e.data.groups||e.data.drawcalls||e.data.offsets,void 0!==i)for(r=0,o=i.length;r!==o;++r)n=i[r],t.addGroup(n.start,n.count,n.materialIndex);return r=e.data.boundingSphere,void 0!==r&&(i=new l,void 0!==r.center&&i.fromArray(r.center),t.boundingSphere=new v(i,r.radius)),e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Ju={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};zi.prototype=Cc(vc(Zn.prototype),{constructor:zi,load:function(e,t,r,n){var i=this,o=""===this.path?Ku.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o,o=new Kn(i.manager),o.setPath(this.path),o.load(e,(function(r){var o=null;try{o=JSON.parse(r)}catch(a){return void 0!==n&&n(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}r=o.metadata,void 0===r||void 0===r.type||"geometry"===r.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e):i.parse(o,t)}),r,n)},parse:function(e,t){var r=this.parseShape(e.shapes);r=this.parseGeometries(e.geometries,r);var n=this.parseImages(e.images,(function(){void 0!==t&&t(i)}));n=this.parseTextures(e.textures,n),n=this.parseMaterials(e.materials,n);var i=this.parseObject(e.object,r,n);return e.animations&&(i.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0===t||t(i),i},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new xi).fromJSON(e[r]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var r={};if(void 0!==e)for(var n=new Bi,i=0,o=e.length;i<o;i++){var a=e[i];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":var s=new zu[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new zu[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new zu[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new zu[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new zu[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new zu[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new zu[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new zu[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new zu[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new zu[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new zu[a.type]((new Zu[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new zu[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new zu[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":s=[];for(var u=0,l=a.shapes.length;u<l;u++){var c=t[a.shapes[u]];s.push(c)}s=new zu[a.type](s,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(s=[],u=0,l=a.shapes.length;u<l;u++)c=t[a.shapes[u]],s.push(c);u=a.options.extrudePath,void 0!==u&&(a.options.extrudePath=(new Zu[u.type]).fromJSON(u)),s=new zu[a.type](s,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=n.parse(a);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),r[a.uuid]=s}return r},parseMaterials:function(e,t){var r={},n={};if(void 0!==e){var i=new ki;i.setTextures(t),t=0;for(var o=e.length;t<o;t++){var a=e[t];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++){var l=a.materials[u];void 0===r[l.uuid]&&(r[l.uuid]=i.parse(l)),s.push(r[l.uuid])}n[a.uuid]=s}else void 0===r[a.uuid]&&(r[a.uuid]=i.parse(a)),n[a.uuid]=r[a.uuid]}}return n},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=Wn.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),t.push(i)}return t},parseImages:function(e,t){function r(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}var n=this,i={};if(void 0!==e&&0<e.length){t=new Yn(t);var o=new ei(t);o.setCrossOrigin(this.crossOrigin),t=0;for(var a=e.length;t<a;t++){var s=e[t],u=s.url;if(Array.isArray(u)){i[s.uuid]=[];for(var l=0,c=u.length;l<c;l++){var h=u[l];h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h,i[s.uuid].push(r(h))}}else h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:n.resourcePath+s.url,i[s.uuid]=r(h)}}return i},parseTextures:function(e,t){function r(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var o=0,a=e.length;o<a;o++){var s=e[o];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=Array.isArray(t[s.image])?new ge(t[s.image]):new i(t[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=r(s.mapping,Qu)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.center&&u.center.fromArray(s.center),void 0!==s.rotation&&(u.rotation=s.rotation),void 0!==s.wrap&&(u.wrapS=r(s.wrap[0],$u),u.wrapT=r(s.wrap[1],$u)),void 0!==s.format&&(u.format=s.format),void 0!==s.type&&(u.type=s.type),void 0!==s.encoding&&(u.encoding=s.encoding),void 0!==s.minFilter&&(u.minFilter=r(s.minFilter,el)),void 0!==s.magFilter&&(u.magFilter=r(s.magFilter,el)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(u.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(u.unpackAlignment=s.unpackAlignment),n[s.uuid]=u}return n},parseObject:function(e,t,r){function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":var o=new d;void 0!==e.background&&Lc(e.background)&&(o.background=new A(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new qt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Xt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Z(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Cc({},e.view));break;case"OrthographicCamera":o=new Ei(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Cc({},e.view));break;case"AmbientLight":o=new Li(e.color,e.intensity);break;case"DirectionalLight":o=new Ri(e.color,e.intensity);break;case"PointLight":o=new Ti(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Pi(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Mi(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new wi(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Di).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=n(e.geometry);var a=i(e.material);o=new j(o,a);break;case"InstancedMesh":o=n(e.geometry),a=i(e.material);var s=e.instanceMatrix;o=new nr(o,a,e.count),o.instanceMatrix=new E(new Float32Array(s.array),16);break;case"LOD":o=new $t;break;case"Line":o=new or(n(e.geometry),i(e.material),e.mode);break;case"LineLoop":o=new sr(n(e.geometry),i(e.material));break;case"LineSegments":o=new ar(n(e.geometry),i(e.material));break;case"PointCloud":case"Points":o=new lr(n(e.geometry),i(e.material));break;case"Sprite":o=new Jt(i(e.material));break;case"Group":o=new jt;break;default:o=new p}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children)for(s=e.children,a=0;a<s.length;a++)o.add(this.parseObject(s[a],t,r));if("LOD"===e.type)for(void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate),e=e.levels,s=0;s<e.length;s++){a=e[s];var u=o.getObjectByProperty("uuid",a.object);void 0!==u&&o.addLevel(u,a.distance)}return o}});var Qu={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},$u={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},el={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};Ui.prototype=Cc(vc(Zn.prototype),{constructor:Ui,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Hu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(r){Hu.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Cc(ji.prototype,{moveTo:function(e,t){return this.currentPath=new bi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return this.currentPath.bezierCurveTo(e,t,r,n,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=new xi;o.curves=i.curves,t.push(o)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Dc){if(0>l&&(a=t[o],u=-u,s=t[i],l=-l),!(e.y<a.y||e.y>s.y))if(e.y===a.y){if(e.x===a.x)return!0}else{if(i=l*(e.x-a.x)-u*(e.y-a.y),0===i)return!0;0>i||(n=!n)}}else if(e.y===a.y&&(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x))return!0}return n}var i=Fu.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return r(o);if(t=[],1===o.length){var a=o[0],s=new xi;return s.curves=a.curves,t.push(s),t}var u=!i(o[0].getPoints());u=e?!u:u,s=[];var l=[],c=[],h=0;l[h]=void 0,c[h]=[];for(var f=0,p=o.length;f<p;f++){a=o[f];var d=a.getPoints(),g=i(d);(g=e?!g:g)?(!u&&l[h]&&h++,l[h]={s:new xi,p:d},l[h].s.curves=a.curves,u&&h++,c[h]=[]):c[h].push({h:a,p:d[0]})}if(!l[0])return r(o);if(1<l.length){for(f=!1,e=[],i=0,o=l.length;i<o;i++)s[i]=[];for(i=0,o=l.length;i<o;i++)for(a=c[i],g=0;g<a.length;g++){for(u=a[g],h=!0,d=0;d<l.length;d++)n(u.p,l[d].p)&&(i!==d&&e.push({froms:i,tos:d,hole:g}),h?(h=!1,s[d].push(u)):f=!0);h&&s[i].push(u)}0<e.length&&(f||(c=s))}for(f=0,i=l.length;f<i;f++)for(s=l[f].s,t.push(s),e=c[f],o=0,a=e.length;o<a;o++)s.holes.push(e[o].h);return t}}),Cc(Hi.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);var r=[],n=t;t=this.data;var i=ws?ws(e):String(e).split("");n/=t.resolution;var o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*n;e=[];for(var a=0,s=0,u=0;u<i.length;u++){var l=i[u];if("\n"===l)a=0,s-=o;else{var c=l;l=n;var h=a,f=s,p=t,d=p.glyphs[c]||p.glyphs["?"];if(d){if(c=new ji,d.o){p=d._cachedOutline||(d._cachedOutline=d.o.split(" "));for(var g=0,m=p.length;g<m;)switch(p[g++]){case"m":var v=p[g++]*l+h,y=p[g++]*l+f;c.moveTo(v,y);break;case"l":v=p[g++]*l+h,y=p[g++]*l+f,c.lineTo(v,y);break;case"q":var b=p[g++]*l+h,x=p[g++]*l+f,A=p[g++]*l+h,w=p[g++]*l+f;c.quadraticCurveTo(A,w,b,x);break;case"b":b=p[g++]*l+h,x=p[g++]*l+f,A=p[g++]*l+h,w=p[g++]*l+f,v=p[g++]*l+h,y=p[g++]*l+f,c.bezierCurveTo(A,w,v,y,b,x)}}l={offsetX:d.ha*l,path:c}}else console.error('THREE.Font: character "'+c+'" does not exists in font family '+p.familyName+"."),l=void 0;a+=l.offsetX,e.push(l.path)}}for(t=0,i=e.length;t<i;t++)Array.prototype.push.apply(r,e[t].toShapes());return r}}),Gi.prototype=Cc(vc(Zn.prototype),{constructor:Gi,load:function(e,t,r,n){var i=this,o=new Kn(this.manager);o.setPath(this.path),o.load(e,(function(e){try{var r=JSON.parse(e)}catch(n){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}e=i.parse(r),t&&t(e)}),r,n)},parse:function(e){return new Hi(e)}});var tl,rl={getContext:function(){return void 0===tl&&(tl=new(window.AudioContext||window.webkitAudioContext)),tl},setContext:function(e){tl=e}};Vi.prototype=Cc(vc(Zn.prototype),{constructor:Vi,load:function(e,t,r,n){var i=this,o=new Kn(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.load(e,(function(r){try{var o=r.slice(0);rl.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)}}),Wi.prototype=Cc(vc(Di.prototype),{constructor:Wi,isHemisphereLightProbe:!0,copy:function(e){return Di.prototype.copy.call(this,e),this},toJSON:function(e){return Di.prototype.toJSON.call(this,e)}}),Xi.prototype=Cc(vc(Di.prototype),{constructor:Xi,isAmbientLightProbe:!0,copy:function(e){return Di.prototype.copy.call(this,e),this},toJSON:function(e){return Di.prototype.toJSON.call(this,e)}});var nl=new c,il=new c;Cc(qi.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r=e.projectionMatrix.clone(),n=t.eyeSep/2,i=n*t.near/t.focus,o=t.near*Math.tan(Go.DEG2RAD*t.fov*.5)/t.zoom;il.elements[12]=-n,nl.elements[12]=n,n=-o*t.aspect+i;var a=o*t.aspect+i;r.elements[0]=2*t.near/(a-n),r.elements[8]=(a+n)/(a-n),this.cameraL.projectionMatrix.copy(r),n=-o*t.aspect-i,a=o*t.aspect-i,r.elements[0]=2*t.near/(a-n),r.elements[8]=(a+n)/(a-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(il),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(nl)}}),Cc(Yi.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var ol=new l,al=new u,sl=new l,ul=new l;Zi.prototype=Cc(vc(p.prototype),{constructor:Zi,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){p.prototype.updateMatrixWorld.call(this,e),e=this.context.listener;var t=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ol,al,sl),ul.set(0,0,-1).applyQuaternion(al),e.positionX){var r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(ol.x,r),e.positionY.linearRampToValueAtTime(ol.y,r),e.positionZ.linearRampToValueAtTime(ol.z,r),e.forwardX.linearRampToValueAtTime(ul.x,r),e.forwardY.linearRampToValueAtTime(ul.y,r),e.forwardZ.linearRampToValueAtTime(ul.z,r),e.upX.linearRampToValueAtTime(t.x,r),e.upY.linearRampToValueAtTime(t.y,r),e.upZ.linearRampToValueAtTime(t.z,r)}else e.setPosition(ol.x,ol.y,ol.z),e.setOrientation(ul.x,ul.y,ul.z,t.x,t.y,t.z)}}),Ki.prototype=Cc(vc(p.prototype),{constructor:Ki,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+e,e=this.context.createBufferSource(),e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var ll=new l,cl=new u,hl=new l,fl=new l;Ji.prototype=Cc(vc(Ki.prototype),{constructor:Ji,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(p.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(ll,cl,hl),fl.set(0,0,1).applyQuaternion(cl),e=this.panner,e.positionX){var t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(ll.x,t),e.positionY.linearRampToValueAtTime(ll.y,t),e.positionZ.linearRampToValueAtTime(ll.z,t),e.orientationX.linearRampToValueAtTime(fl.x,t),e.orientationY.linearRampToValueAtTime(fl.y,t),e.orientationZ.linearRampToValueAtTime(fl.z,t)}else e.setPosition(ll.x,ll.y,ll.z),e.setOrientation(fl.x,fl.y,fl.z)}}),Cc(Qi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Cc($i.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize;e=e*n+n;var i=this.cumulativeWeight;if(0===i){for(i=0;i!==n;++i)r[e+i]=r[i];i=t}else i+=t,this._mixBufferRegion(r,e,0,t/i,n);this.cumulativeWeight=i},accumulateAdditive:function(e){var t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,r=this.buffer;e=e*t+t;var n=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>n&&this._mixBufferRegion(r,e,t*this._origIndex,1-n,t),0<i&&this._mixBufferRegionAdditive(r,e,this._addIndex*t,1,t),n=t,i=t+t;n!==i;++n)if(r[n]!==r[n+t]){o.setValue(r,e);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,r=t*this._origIndex;this.binding.getValue(e,r);for(var n=t;n!==r;++n)e[n]=e[r+n%t];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize;e<t;e++)this.buffer[e]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]},_select:function(e,t,r,n,i){if(.5<=n)for(n=0;n!==i;++n)e[t+n]=e[r+n]},_slerp:function(e,t,r,n){u.slerpFlat(e,t,e,t,e,r,n)},_slerpAdditive:function(e,t,r,n,i){i*=this._workIndex,u.multiplyQuaternionsFlat(e,i,e,t,e,r),u.slerpFlat(e,t,e,t,e,i,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}},_lerpAdditive:function(e,t,r,n,i){for(var o=0;o!==i;++o){var a=t+o;e[a]+=e[r+o]*n}}});var pl=/[\[\]\.:\/]/g,dl="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",gl=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),ml=/(WCOD+)?/.source.replace("WCOD",dl),vl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),yl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),bl=new RegExp("^"+gl+ml+vl+yl+"$"),xl=["material","materials","bones"];Cc(eo.prototype,{getValue:function(e,t){this.bind();var r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Cc(to,{Composite:eo,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new to.Composite(e,t,r):new to(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(pl,"")},parseTrackName:function(e){var t=bl.exec(e);if(!t)throw Error("PropertyBinding: Cannot parse trackName: "+e);t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]};var r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=t.nodeName.substring(r+1);-1!==xl.indexOf(n)&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=n)}if(null===t.propertyName||0===t.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}return e.children&&(e=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t||(i=e(i.children)))return i}return null}(e.children))?e:null}}),Cc(to.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(this.node=e=to.findNode(this.rootNode,t.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(e=e.skeleton.bones,r=0;r<e.length;r++)if(e[r].name===o){o=r;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}if(o=e[n],void 0===o)console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+n+" but it wasn't found.",e);else{if(t=this.Versioning.None,this.targetObject=e,void 0!==e.needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),r=this.BindingType.Direct,void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}r=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(r=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(r=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[r],this.setValue=this.SetterByBindingTypeAndVersioning[r][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Cc(to.prototype,{_getValue_unbound:to.prototype.getValue,_setValue_unbound:to.prototype.setValue}),Cc(ro.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,p=n[f];if(void 0===p){p=t++,n[f]=p,e.push(h),f=0;for(var d=s;f!==d;++f)a[f].push(new to(h,i[f],o[f]))}else if(p<r){u=e[p];var g=--r;for(d=e[g],n[d.uuid]=p,e[p]=d,n[f]=g,e[g]=h,f=0,d=s;f!==d;++f){var m=a[f],v=m[p];m[p]=m[g],void 0===v&&(v=new to(h,i[f],o[f])),m[g]=v}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,l=r[u];if(void 0!==l&&l>=t){var c=t++,h=e[c];for(r[h.uuid]=l,e[l]=h,r[u]=c,e[c]=s,s=0,u=i;s!==u;++s){h=n[s];var f=h[l];h[l]=h[c],h[c]=f}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a].uuid,l=n[u];if(void 0!==l)if(delete n[u],l<r){u=--r;var c=e[u],h=--t,f=e[h];for(n[c.uuid]=l,e[l]=c,n[f.uuid]=u,e[u]=f,e.pop(),c=0,f=o;c!==f;++c){var p=i[c],d=p[h];p[l]=p[u],p[u]=d,p.pop()}}else for(h=--t,f=e[h],n[f.uuid]=l,e[l]=f,e.pop(),c=0,f=o;c!==f;++c)p=i[c],p[l]=p[h],p.pop()}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,u=this.nCachedObjects_,l=Array(s.length);for(n=i.length,r[e]=n,o.push(e),a.push(t),i.push(l),r=u,n=s.length;r!==n;++r)l[r]=new to(s[r],e,t);return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Cc(no.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){r=this._clip.duration;var n=e._clip.duration,i=r/n;e.warp(1,n/r,t),this.warp(i,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;return null===o&&(this._timeScaleInterpolant=o=n._lendControlInterpolant()),n=o.parameterPositions,o=o.sampleValues,n[0]=i,n[1]=i+r,o[0]=e/a,o[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){if(t=(e-i)*r,0>t||0===r)return;this._startTime=null,t*=r}if(t*=this._updateTimeScale(e),r=this._updateTime(t),e=this._updateWeight(e),0<e)switch(t=this._interpolants,i=this._propertyBindings,this.blendMode){case 2501:for(var o=0,a=t.length;o!==a;++o)t[o].evaluate(r),i[o].accumulateAdditive(e);break;default:for(o=0,a=t.length;o!==a;++o)t[o].evaluate(r),i[o].accumulate(n,e)}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e,r=this._clip.duration,n=this.loop,i=this._loopCount,o=2202===n;if(0===e)return-1===i?t:o&&1===(1&i)?r-t:t;if(2200===n)e:{if(-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1)),t>=r)t=r;else{if(!(0>t)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=r||0>t){n=Math.floor(t/r),t-=r*n,i+=Math.abs(n);var a=this.repetitions-i;0>=a?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t=0<e?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1===a?(e=0>e,this._setEndings(e,!e,o)):this._setEndings(!1,!1,o),this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n}))}else this.time=t;if(o&&1===(1&i))return r-t}return t},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,n.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;return null===o&&(this._weightInterpolant=o=n._lendControlInterpolant()),n=o.parameterPositions,o=o.sampleValues,n[0]=i,o[0]=t,n[1]=i+e,o[1]=r,this}}),io.prototype=Cc(vc(t.prototype),{constructor:io,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings;e=e._interpolants;var a=r.uuid,s=this._bindingsByRootAndName,u=s[a];for(void 0===u&&(u={},s[a]=u),s=0;s!==i;++s){var l=n[s],c=l.name,h=u[c];if(void 0===h){if(h=o[s],void 0!==h){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,a,c));continue}h=new $i(to.create(r,c,t&&t._propertyBindings[s].binding.parsedPath),l.ValueTypeName,l.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,a,c)}o[s]=h,e[s].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return e=e._cacheIndex,null!==e&&e<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];void 0===o?(o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o):(t=o.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null,t=e._clip.uuid,r=this._actionsByClip,n=r[t];var i=n.knownActions,o=i[i.length-1],a=e._byClipCacheIndex;o._byClipCacheIndex=a,i[a]=o,i.pop(),e._byClipCacheIndex=null,delete n.actionByRoot[(e._localRoot||this._root).uuid],0===i.length&&delete r[t],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var t=0,r=e.length;t!==r;++t){var n=e[t];0===--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=n[t],o=this._bindings;void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid;r=r.path;var i=this._bindingsByRootAndName,o=i[n],a=t[t.length-1];e=e._cacheIndex,a._cacheIndex=e,t[e]=a,t.pop(),delete o[r],0===lc(o).length&&delete i[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&(r=new kn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,r){var n=t||this._root,i=n.uuid;n="string"===typeof e?Wn.findByName(n,e):e,e=null!==n?n.uuid:e;var o=this._actionsByClip[e],a=null;if(void 0===r&&(r=null!==n?n.blendMode:2500),void 0!==o){if(a=o.actionByRoot[i],void 0!==a&&a.blendMode===r)return a;a=o.knownActions[0],null===n&&(n=a._clip)}return null===n?null:(t=new no(this,n,t,r),this._bindAction(t,a),this._addInactiveAction(t,e,i),t)},existingAction:function(e,t){var r=t||this._root;return t=r.uuid,r="string"===typeof e?Wn.findByName(r,e):e,e=this._actionsByClip[r?r.uuid:e],void 0!==e&&e.actionByRoot[t]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Tc(e),o=this._accuIndex^=1,a=0;a!==r;++a)t[a]._update(n,e,i,o);for(e=this._bindings,t=this._nActiveBindings,a=0;a!==t;++a)e[a].apply(o);return this},setTime:function(e){for(var t=this.time=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions;e=e.uuid;var r=this._actionsByClip,n=r[e];if(void 0!==n){n=n.knownActions;for(var i=0,o=n.length;i!==o;++i){var a=n[i];this._deactivateAction(a);var s=a._cacheIndex,u=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,u._cacheIndex=s,t[s]=u,t.pop(),this._removeInactiveBindingsForAction(a)}delete r[e]}},uncacheRoot:function(e){e=e.uuid;var t=this._actionsByClip;for(n in t){var r=t[n].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var n=this._bindingsByRootAndName[e];if(void 0!==n)for(var i in n)e=n[i],e.restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,t){e=this.existingAction(e,t),null!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),oo.prototype.clone=function(){return new oo(void 0===this.value.clone?this.value:this.value.clone())},ao.prototype=Cc(vc(Yt.prototype),{constructor:ao,isInstancedInterleavedBuffer:!0,copy:function(e){return Yt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Cc(so.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){return r=r||[],lo(e,this,r,t),r.sort(uo),r},intersectObjects:function(e,t,r){if(r=r||[],!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,i=e.length;n<i;n++)lo(e[n],this,r,t);return r.sort(uo),r}}),Cc(co.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e,r),this.phi=Math.acos(Go.clamp(t/this.radius,-1,1))),this}}),Cc(ho.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});var Al=new r;Cc(fo.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){return t=Al.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new r),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new r),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new r),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new r),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Al.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var wl=new l,_l=new l;Cc(po.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new l),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new l),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new l),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){return wl.subVectors(e,this.start),_l.subVectors(this.end,this.start),e=_l.dot(_l),e=_l.dot(wl)/e,t&&(e=Go.clamp(e,0,1)),e},closestPointToPoint:function(e,t,r){return e=this.closestPointToPointParameter(e,t),void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new l),this.delta(r).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),go.prototype=vc(p.prototype),go.prototype.constructor=go,go.prototype.isImmediateRenderObject=!0;var Cl=new l;mo.prototype=vc(p.prototype),mo.prototype.constructor=mo,mo.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},mo.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Cl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Cl),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Ml=new l,Sl=new c,Tl=new c;yo.prototype=vc(ar.prototype),yo.prototype.constructor=yo,yo.prototype.isSkeletonHelper=!0,yo.prototype.updateMatrixWorld=function(e){var t=this.bones,r=this.geometry,n=r.getAttribute("position");Tl.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Sl.multiplyMatrices(Tl,a.matrixWorld),Ml.setFromMatrixPosition(Sl),n.setXYZ(o,Ml.x,Ml.y,Ml.z),Sl.multiplyMatrices(Tl,a.parent.matrixWorld),Ml.setFromMatrixPosition(Sl),n.setXYZ(o+1,Ml.x,Ml.y,Ml.z),o+=2)}r.getAttribute("position").needsUpdate=!0,p.prototype.updateMatrixWorld.call(this,e)},bo.prototype=vc(j.prototype),bo.prototype.constructor=bo,bo.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},bo.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var El=new l,Il=new A,Ll=new A;xo.prototype=vc(p.prototype),xo.prototype.constructor=xo,xo.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xo.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Il.copy(this.light.color),Ll.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?Il:Ll;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(El.setFromMatrixPosition(this.light.matrixWorld).negate())},Ao.prototype=Cc(vc(ar.prototype),{constructor:Ao,copy:function(e){return ar.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),wo.prototype=vc(ar.prototype),wo.prototype.constructor=wo;var Pl=new l,Ol=new l,Dl=new l;_o.prototype=vc(p.prototype),_o.prototype.constructor=_o,_o.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},_o.prototype.update=function(){Pl.setFromMatrixPosition(this.light.matrixWorld),Ol.setFromMatrixPosition(this.light.target.matrixWorld),Dl.subVectors(Ol,Pl),this.lightPlane.lookAt(Ol),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ol),this.targetLine.scale.z=Dl.length()};var kl=new l,Nl=new Y;Co.prototype=vc(ar.prototype),Co.prototype.constructor=Co,Co.prototype.update=function(){var e=this.geometry,t=this.pointMap;Nl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mo("c",t,e,Nl,0,0,-1),Mo("t",t,e,Nl,0,0,1),Mo("n1",t,e,Nl,-1,-1,-1),Mo("n2",t,e,Nl,1,-1,-1),Mo("n3",t,e,Nl,-1,1,-1),Mo("n4",t,e,Nl,1,1,-1),Mo("f1",t,e,Nl,-1,-1,1),Mo("f2",t,e,Nl,1,-1,1),Mo("f3",t,e,Nl,-1,1,1),Mo("f4",t,e,Nl,1,1,1),Mo("u1",t,e,Nl,.7,1.1,-1),Mo("u2",t,e,Nl,-.7,1.1,-1),Mo("u3",t,e,Nl,0,2,-1),Mo("cf1",t,e,Nl,-1,0,1),Mo("cf2",t,e,Nl,1,0,1),Mo("cf3",t,e,Nl,0,-1,1),Mo("cf4",t,e,Nl,0,1,1),Mo("cn1",t,e,Nl,-1,0,-1),Mo("cn2",t,e,Nl,1,0,-1),Mo("cn3",t,e,Nl,0,-1,-1),Mo("cn4",t,e,Nl,0,1,-1),e.getAttribute("position").needsUpdate=!0};var Fl=new g;So.prototype=vc(ar.prototype),So.prototype.constructor=So,So.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Fl.setFromObject(this.object),!Fl.isEmpty()){e=Fl.min;var t=Fl.max,r=this.geometry.attributes.position,n=r.array;n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=e.x,n[4]=t.y,n[5]=t.z,n[6]=e.x,n[7]=e.y,n[8]=t.z,n[9]=t.x,n[10]=e.y,n[11]=t.z,n[12]=t.x,n[13]=t.y,n[14]=e.z,n[15]=e.x,n[16]=t.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=t.x,n[22]=e.y,n[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},So.prototype.setFromObject=function(e){return this.object=e,this.update(),this},So.prototype.copy=function(e){return ar.prototype.copy.call(this,e),this.object=e.object,this},So.prototype.clone=function(){return(new this.constructor).copy(this)},To.prototype=vc(ar.prototype),To.prototype.constructor=To,To.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),p.prototype.updateMatrixWorld.call(this,e))},Eo.prototype=vc(or.prototype),Eo.prototype.constructor=Eo,Eo.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?1:0,this.lookAt(this.plane.normal),p.prototype.updateMatrixWorld.call(this,e)};var Bl,zl,Ul=new l;Io.prototype=vc(p.prototype),Io.prototype.constructor=Io,Io.prototype.setDirection=function(e){.99999<e.y?this.quaternion.set(0,0,0,1):-.99999>e.y?this.quaternion.set(1,0,0,0):(Ul.set(e.z,0,-e.x).normalize(),this.quaternion.setFromAxisAngle(Ul,Math.acos(e.y)))},Io.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},Io.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Io.prototype.copy=function(e){return p.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Io.prototype.clone=function(){return(new this.constructor).copy(this)},Ro.prototype=vc(ar.prototype),Ro.prototype.constructor=Ro;var jl=Math.pow(2,8),Hl=[.125,.215,.35,.446,.526,.582],Gl=5+Hl.length,Vl={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},Wl=new Ei,Xl=function(){for(var e=[],t=[],r=[],n=8,i=0;i<Gl;i++){var o=Math.pow(2,n);t.push(o);var a=1/o;4<i?a=Hl[i-8+4-1]:0==i&&(a=0),r.push(a),a=1/(o-1),o=-a/2,a=1+a/2;var s=[o,o,a,o,a,a,o,o,a,a,o,a];o=new Float32Array(108),a=new Float32Array(72);for(var u=new Float32Array(36),l=0;6>l;l++){var c=l%3*2/3-1,h=2<l?0:-1;o.set([c,h,0,c+2/3,h,0,c+2/3,h+1,0,c,h,0,c+2/3,h+1,0,c,h+1,0],18*l),a.set(s,12*l),u.set([l,l,l,l,l,l],6*l)}s=new U,s.setAttribute("position",new E(o,3)),s.setAttribute("uv",new E(a,2)),s.setAttribute("faceIndex",new E(u,1)),e.push(s),4<n&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:r}}(),Yl=Xl._lodPlanes,Zl=Xl._sizeLods,Kl=Xl._sigmas,Jl=null,Ql=(1+Math.sqrt(5))/2,$l=1/Ql,ec=[new l(1,1,1),new l(-1,1,1),new l(1,1,-1),new l(-1,1,-1),new l(0,Ql,$l),new l(0,Ql,-$l),new l($l,0,Ql),new l(-$l,0,Ql),new l(Ql,$l,0),new l(-Ql,$l,0)];Lo.prototype={constructor:Lo,fromScene:function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=.1),void 0===n&&(n=100),Jl=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,r,n,i),0<t&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(e){return e.magFilter=1003,e.minFilter=1003,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){Jl=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=ko(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Do(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Yl.length;e++)Yl[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Jl),e.scissorTest=!1,e.setSize(e.width,e.height)},_allocateTargets:function(e){var t=void 0!==e&&1009===e.type&&(3e3===e.encoding||3001===e.encoding||3007===e.encoding);t={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:t?e.encoding:3002,depthBuffer:!1,stencilBuffer:!1};var r=Po(t);return r.depthBuffer=!e,this._pingPongRenderTarget=Po(t),r},_compileMaterial:function(e){e=new j(Yl[0],e),this._renderer.compile(e,Wl)},_sceneToCubeUV:function(e,t,r,n){t=new Z(90,1,t,r),r=[1,-1,1,1,1,1];var i=[1,1,1,-1,-1,-1],o=this._renderer,a=o.outputEncoding,s=o.toneMapping,u=o.toneMappingExposure,l=o.getClearColor(),c=o.getClearAlpha();o.toneMapping=1,o.toneMappingExposure=1,o.outputEncoding=3e3;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var f=Math.min(Math.max(Math.ceil(va(Math.max(h.r,h.g,h.b))),-128),127);h=h.multiplyScalar(Math.pow(2,-f)),o.setClearColor(h,(f+128)/255),e.background=null}for(h=0;6>h;h++)f=h%3,0==f?(t.up.set(0,r[h],0),t.lookAt(i[h],0,0)):1==f?(t.up.set(0,0,r[h]),t.lookAt(0,i[h],0)):(t.up.set(0,r[h],0),t.lookAt(0,0,i[h])),Oo(n,f*jl,2<h?jl:0,jl,jl),o.setRenderTarget(n),o.render(e,t);o.toneMapping=s,o.toneMappingExposure=u,o.outputEncoding=a,o.setClearColor(l,c)},_textureToCubeUV:function(e,t){var r=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=ko()):null==this._equirectShader&&(this._equirectShader=Do());var n=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new j(Yl[0],n);n=n.uniforms,n.envMap.value=e,e.isCubeTexture||n.texelSize.value.set(1/e.image.width,1/e.image.height),n.inputEncoding.value=Vl[e.encoding],n.outputEncoding.value=Vl[t.texture.encoding],Oo(t,0,0,3*jl,2*jl),r.setRenderTarget(t),r.render(i,Wl)},_applyPMREM:function(e){var t=this._renderer,r=t.autoClear;t.autoClear=!1;for(var n=1;n<Gl;n++)this._blur(e,n-1,n,Math.sqrt(Kl[n]*Kl[n]-Kl[n-1]*Kl[n-1]),ec[(n-1)%ec.length]);t.autoClear=r},_blur:function(e,t,r,n,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,n,"latitudinal",i),this._halfBlur(o,e,r,r,n,"longitudinal",i)},_halfBlur:function(e,t,r,n,i,o,a){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new j(Yl[n],u);u=u.uniforms;var c=Zl[r]-1;c=isFinite(i)?Math.PI/(2*c):2*Math.PI/39;var h=i/c,f=isFinite(i)?1+Math.floor(3*h):20;20<f&&console.warn("sigmaRadians, "+i+", is too large and will clip, as it requested "+f+" samples when the maximum is set to 20"),i=[];for(var p=0,d=0;20>d;++d){var g=d/h;g=Math.exp(-g*g/2),i.push(g),0==d?p+=g:d<f&&(p+=2*g)}for(d=0;d<i.length;d++)i[d]/=p;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=i,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=c,u.mipInt.value=8-r,u.inputEncoding.value=Vl[e.texture.encoding],u.outputEncoding.value=Vl[e.texture.encoding],e=Zl[n],g=3*Math.max(0,jl-2*e),Oo(t,g,(0===n?0:2*jl)+2*e*(4<n?n-8+4:0),3*e,2*e),s.setRenderTarget(t),s.render(l,Wl)}},ni.create=function(e,t){return e.prototype=vc(ni.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Cc(yi.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new V,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new l(i.x,i.y,i.z||0))}return t}}),Cc(bi.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Bo.prototype=vc(si.prototype),zo.prototype=vc(si.prototype),Uo.prototype=vc(si.prototype),Cc(Uo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Ao.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},yo.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Cc(Zn.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ku.extractUrlBase(e)}}),Zn.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Cc(zi.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Cc(fo.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Cc(g.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Cc(v.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),$.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},po.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Cc(Go,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Go.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Go.ceilPowerOfTwo(e)}}),Cc(n.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Cc(c.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new l).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,o)}}),b.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},u.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Cc(y.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Cc(x.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Cc(x,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),x.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),x.getNormal(e,t,r,n)}}),Cc(xi.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new tn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new pn(this,e)}}),Cc(r.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(o.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(V.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Cc(p.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ac(p.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Cc(j.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Ac(j.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ac($t.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(tr.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),er.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ni.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Z.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Ac(Ai.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Ac(E.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Cc(E.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Cc(U.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t,r){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new E(t,r)))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ac(U.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ac(Ni.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Ac(so.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Ac(Yt.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Cc(Yt.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Cc(rn.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Ac(oo.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Ac(S.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new A}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Ac(Tn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Ac(q.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Cc(Wt.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Ac(Wt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}}}),Ac(Nt.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Ac(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ac(Ki.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Vi).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Qi.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},K.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Wo.crossOrigin=void 0,Wo.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ri;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,r,void 0,n),t&&(e.mapping=t),e},Wo.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new ti;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,r,void 0,n),t&&(e.mapping=t),e},Wo.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Wo.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}})),e.ACESFilmicToneMapping=5,e.AddEquation=100,e.AddOperation=2,e.AdditiveAnimationBlendMode=2501,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=Li,e.AmbientLightProbe=Xi,e.AnimationClip=Wn,e.AnimationLoader=Jn,e.AnimationMixer=io,e.AnimationObjectGroup=ro,e.AnimationUtils=ju,e.ArcCurve=oi,e.ArrayCamera=Ut,e.ArrowHelper=Io,e.Audio=Ki,e.AudioAnalyser=Qi,e.AudioContext=rl,e.AudioListener=Zi,e.AudioLoader=Vi,e.AxesHelper=Ro,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ro(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new $n(e)},e.Bone=rr,e.BooleanKeyframeTrack=Bn,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new So(e,t)},e.Box2=fo,e.Box3=g,e.Box3Helper=To,e.BoxBufferGeometry=Os,e.BoxGeometry=Ps,e.BoxHelper=So,e.BufferAttribute=E,e.BufferGeometry=U,e.BufferGeometryLoader=Bi,e.ByteType=1010,e.Cache=Hu,e.Camera=Y,e.CameraHelper=Co,e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=pr,e.CatmullRomCurve3=si,e.CineonToneMapping=4,e.CircleBufferGeometry=wn,e.CircleGeometry=An,e.ClampToEdgeWrapping=1001,e.Clock=Yi,e.ClosedSplineCurve3=Bo,e.Color=A,e.ColorKeyframeTrack=zn,e.CompressedTexture=fr,e.CompressedTextureLoader=Qn,e.ConeBufferGeometry=xn,e.ConeGeometry=bn,e.CubeCamera=K,e.CubeGeometry=Ps,e.CubeReflectionMapping=301,e.CubeRefractionMapping=302,e.CubeTexture=ge,e.CubeTextureLoader=ti,e.CubeUVReflectionMapping=306,e.CubeUVRefractionMapping=307,e.CubicBezierCurve=hi,e.CubicBezierCurve3=fi,e.CubicInterpolant=Dn,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=ni,e.CurvePath=yi,e.CustomBlending=5,e.CylinderBufferGeometry=yn,e.CylinderGeometry=vn,e.Cylindrical=ho,e.DataTexture=Q,e.DataTexture2DArray=me,e.DataTexture3D=ve,e.DataTextureLoader=$n,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=Gu,e.DepthFormat=1026,e.DepthStencilFormat=1027,e.DepthTexture=dr,e.DirectionalLight=Ri,e.DirectionalLightHelper=_o,e.DirectionalLightShadow=Ii,e.DiscreteInterpolant=Nn,e.DodecahedronBufferGeometry=Tr,e.DodecahedronGeometry=Sr,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new E(e,t).setUsage(35048)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=35048,e.DynamicReadUsage=35049,e.EdgesGeometry=mn,e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ar(new mn(e.geometry),new ir({color:void 0!==t?t:16777215}))},e.EllipseCurve=ii,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=304,e.Euler=h,e.EventDispatcher=t,e.ExtrudeBufferGeometry=rn,e.ExtrudeGeometry=tn,e.Face3=M,e.Face4=function(e,t,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new M(e,t,r,i,o,a)},e.FaceColors=1,e.FileLoader=Kn,e.FlatShading=1,e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new N(e,t)},e.Float32BufferAttribute=N,e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new F(e,t)},e.Float64BufferAttribute=F,e.FloatType=1015,e.Fog=qt,e.FogExp2=Xt,e.Font=Hi,e.FontLoader=Gi,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=0,e.Frustum=$,e.GammaEncoding=3007,e.Geometry=V,e.GeometryUtils={merge:function(e,t,r){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh){t.matrixAutoUpdate&&t.updateMatrix();var n=t.matrix;t=t.geometry}e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=Ao,e.Group=jt,e.HalfFloatType=1016,e.HemisphereLight=wi,e.HemisphereLightHelper=xo,e.HemisphereLightProbe=Wi,e.IcosahedronBufferGeometry=Mr,e.IcosahedronGeometry=Cr,e.ImageBitmapLoader=Ui,e.ImageLoader=ei,e.ImageUtils=Wo,e.ImmediateRenderObject=go,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=Fi,e.InstancedBufferGeometry=Ni,e.InstancedInterleavedBuffer=ao,e.InstancedMesh=nr,e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new P(e,t)},e.Int16BufferAttribute=P,e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new D(e,t)},e.Int32BufferAttribute=D,e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new I(e,t)},e.Int8BufferAttribute=I,e.IntType=1013,e.InterleavedBuffer=Yt,e.InterleavedBufferAttribute=Zt,e.Interpolant=On,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeepStencilOp=7680,e.KeyframeTrack=Fn,e.LOD=$t,e.LatheBufferGeometry=fn,e.LatheGeometry=hn,e.Layers=f,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=Ai,e.LightProbe=Di,e.LightShadow=_i,e.Line=or,e.Line3=po,e.LineBasicMaterial=ir,e.LineCurve=pi,e.LineCurve3=di,e.LineDashedMaterial=Pn,e.LineLoop=sr,e.LinePieces=1,e.LineSegments=ar,e.LineStrip=0,e.LinearEncoding=3e3,e.LinearFilter=1006,e.LinearInterpolant=kn,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=1008,e.LinearMipmapNearestFilter=1007,e.LinearToneMapping=1,e.Loader=Zn,e.LoaderUtils=Ku,e.LoadingManager=Yn,e.LogLuvEncoding=3003,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=S,e.MaterialLoader=ki,e.Math=Go,e.MathUtils=Go,e.Matrix3=n,e.Matrix4=c,e.MaxEquation=104,e.Mesh=j,e.MeshBasicMaterial=T,e.MeshDepthMaterial=Dt,e.MeshDistanceMaterial=kt,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MeshLambertMaterial=Rn,e.MeshMatcapMaterial=Ln,e.MeshNormalMaterial=In,e.MeshPhongMaterial=Tn,e.MeshPhysicalMaterial=Sn,e.MeshStandardMaterial=Mn,e.MeshToonMaterial=En,e.MinEquation=103,e.MirroredRepeatWrapping=1002,e.MixOperation=1,e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=1003,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=1005,e.NearestMipmapNearestFilter=1004,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalAnimationBlendMode=2500,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=Un,e.Object3D=p,e.ObjectLoader=zi,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=_r,e.OctahedronGeometry=wr,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=Ei,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.PMREMGenerator=Lo,e.ParametricBufferGeometry=vr,e.ParametricGeometry=mr,e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Jt(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ur(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new lr(e,t)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ur(e)},e.Path=bi,e.PerspectiveCamera=Z,e.Plane=b,e.PlaneBufferGeometry=ne,e.PlaneGeometry=re,e.PlaneHelper=Eo,e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new lr(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ur(e)},e.PointLight=Ti,e.PointLightHelper=bo,e.Points=lr,e.PointsMaterial=ur,e.PolarGridHelper=wo,e.PolyhedronBufferGeometry=br,e.PolyhedronGeometry=yr,e.PositionalAudio=Ji,e.PropertyBinding=to,e.PropertyMixer=$i,e.QuadraticBezierCurve=gi,e.QuadraticBezierCurve3=mi,e.Quaternion=u,e.QuaternionKeyframeTrack=Hn,e.QuaternionLinearInterpolant=jn,e.REVISION="117",e.RGBADepthPacking=3201,e.RGBAFormat=1023,e.RGBAIntegerFormat=1033,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=37496,e.RGBA_PVRTC_2BPPV1_Format=35843,e.RGBA_PVRTC_4BPPV1_Format=35842,e.RGBA_S3TC_DXT1_Format=33777,e.RGBA_S3TC_DXT3_Format=33778,e.RGBA_S3TC_DXT5_Format=33779,e.RGBDEncoding=3006,e.RGBEEncoding=3002,e.RGBEFormat=1023,e.RGBFormat=1022,e.RGBIntegerFormat=1032,e.RGBM16Encoding=3005,e.RGBM7Encoding=3004,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=37492,e.RGB_PVRTC_2BPPV1_Format=35841,e.RGB_PVRTC_4BPPV1_Format=35840,e.RGB_S3TC_DXT1_Format=33776,e.RGFormat=1030,e.RGIntegerFormat=1031,e.RawShaderMaterial=Cn,e.Ray=y,e.Raycaster=so,e.RectAreaLight=Pi,e.RedFormat=1028,e.RedIntegerFormat=1029,e.ReinhardToneMapping=2,e.RepeatWrapping=1e3,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=cn,e.RingGeometry=ln,e.SRGB8_ALPHA8_ASTC_10x10_Format=37851,e.SRGB8_ALPHA8_ASTC_10x5_Format=37848,e.SRGB8_ALPHA8_ASTC_10x6_Format=37849,e.SRGB8_ALPHA8_ASTC_10x8_Format=37850,e.SRGB8_ALPHA8_ASTC_12x10_Format=37852,e.SRGB8_ALPHA8_ASTC_12x12_Format=37853,e.SRGB8_ALPHA8_ASTC_4x4_Format=37840,e.SRGB8_ALPHA8_ASTC_5x4_Format=37841,e.SRGB8_ALPHA8_ASTC_5x5_Format=37842,e.SRGB8_ALPHA8_ASTC_6x5_Format=37843,e.SRGB8_ALPHA8_ASTC_6x6_Format=37844,e.SRGB8_ALPHA8_ASTC_8x5_Format=37845,e.SRGB8_ALPHA8_ASTC_8x6_Format=37846,e.SRGB8_ALPHA8_ASTC_8x8_Format=37847,e.Scene=d,e.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}},e.ShaderChunk=Bs,e.ShaderLib=zs,e.ShaderMaterial=q,e.ShadowMaterial=_n,e.Shape=xi,e.ShapeBufferGeometry=dn,e.ShapeGeometry=pn,e.ShapePath=ji,e.ShapeUtils=Fu,e.ShortType=1011,e.Skeleton=tr,e.SkeletonHelper=yo,e.SkinnedMesh=er,e.SmoothShading=2,e.Sphere=v,e.SphereBufferGeometry=un,e.SphereGeometry=sn,e.Spherical=co,e.SphericalHarmonics3=Oi,e.SphericalReflectionMapping=305,e.Spline=Uo,e.SplineCurve=vi,e.SplineCurve3=zo,e.SpotLight=Mi,e.SpotLightHelper=mo,e.SpotLightShadow=Ci,e.Sprite=Jt,e.SpriteMaterial=Kt,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=35044,e.StaticReadUsage=35045,e.StereoCamera=qi,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=Gn,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=Ar,e.TetrahedronGeometry=xr,e.TextBufferGeometry=an,e.TextGeometry=on,e.Texture=i,e.TextureLoader=ri,e.TorusBufferGeometry=Or,e.TorusGeometry=Pr,e.TorusKnotBufferGeometry=Lr,e.TorusKnotGeometry=Rr,e.Triangle=x,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=Ir,e.TubeGeometry=Er,e.UVMapping=300,e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new O(e,t)},e.Uint16BufferAttribute=O,e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new k(e,t)},e.Uint32BufferAttribute=k,e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new R(e,t)},e.Uint8BufferAttribute=R,e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new L(e,t)},e.Uint8ClampedBufferAttribute=L,e.Uncharted2ToneMapping=3,e.Uniform=oo,e.UniformsLib=Fs,e.UniformsUtils=Ds,e.UnsignedByteType=1009,e.UnsignedInt248Type=1020,e.UnsignedIntType=1014,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=1012,e.VSMShadowMap=3,e.Vector2=r,e.Vector3=l,e.Vector4=o,e.VectorKeyframeTrack=Vn,e.Vertex=function(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(e,t,r)},e.VertexColors=2,e.VideoTexture=hr,e.WebGLCubeRenderTarget=J,e.WebGLMultisampleRenderTarget=s,e.WebGLRenderTarget=a,e.WebGLRenderTargetCube=function(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new J(e,r)},e.WebGLRenderer=Wt,e.WebGLUtils=zt,e.WireframeGeometry=gr,e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ar(new gr(e.geometry),new ir({color:void 0!==t?t:16777215}))},e.WrapAroundEnding=2402,e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Kn(e)},e.ZeroCurvatureEnding=2400,e.ZeroFactor=200,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e.sRGBEncoding=3001,Object.defineProperty(e,"__esModule",{value:!0})}))})),Nc=n(kc);da(da.S+da.F*!ra,"Object",{defineProperty:ua.f});var Fc=Ko.Object,Bc=function(e,t,r){return Fc.defineProperty(e,t,r)},zc=i((function(e){e.exports={default:Bc,__esModule:!0}})),Uc=n(zc),jc=i((function(e,t){t.__esModule=!0;var r=zc&&zc.__esModule?zc:{default:zc};t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}})),Hc=n(jc);Ru("getPrototypeOf",(function(){return function(e){return ns(Object(Aa(e)))}}));var Gc=Ko.Object.getPrototypeOf,Vc=i((function(e){e.exports={default:Gc,__esModule:!0}})),Wc=n(Vc),Xc=i((function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),qc=n(Xc),Yc=i((function(e,t){t.__esModule=!0;var r=Il&&Il.__esModule?Il:{default:Il};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,r.default)(t))&&"function"!==typeof t?e:t}})),Zc=n(Yc),Kc=Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=Qo(Function.call,Ku.f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){if(ea(e),!$o(n)&&null!==n)throw TypeError(n+": can't set as prototype!");return t?e.__proto__=n:r(e,n),e}}({},!1):void 0);da(da.S,"Object",{setPrototypeOf:Kc});var Jc=Ko.Object.setPrototypeOf,Qc=i((function(e){e.exports={default:Jc,__esModule:!0}}));n(Qc);var $c=i((function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(Qc),i=r(mc),o=r(Il);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}})),eh=n($c);void 0===Dc&&(Number.EPSILON=Math.pow(2,-52)),void 0===Lc&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Tc&&(Math.sign=function(e){return 0>e?-1:0<e?1:+e}),!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Cc&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),Cc(a.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){void 0!==this._listeners&&(e=this._listeners[e],void 0!==e&&(t=e.indexOf(t),-1!==t&&e.splice(t,1)))},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this,t=t.slice(0);for(var r=0,n=t.length;r<n;r++)t[r].call(this,e)}}}});for(var th=[],rh=0;256>rh;rh++)th[rh]=(16>rh?"0":"")+rh.toString(16);var nh={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(th[255&e]+th[e>>8&255]+th[e>>16&255]+th[e>>24&255]+"-"+th[255&t]+th[t>>8&255]+"-"+th[t>>16&15|64]+th[t>>24&255]+"-"+th[63&r|128]+th[r>>8&255]+"-"+th[r>>16&255]+th[r>>24&255]+th[255&n]+th[n>>8&255]+th[n>>16&255]+th[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*nh.DEG2RAD},radToDeg:function(e){return e*nh.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){var o=Math.cos,a=Math.sin,s=o(r/2);r=a(r/2);var u=o((t+n)/2),l=a((t+n)/2),c=o((t-n)/2),h=a((t-n)/2);switch(o=o((n-t)/2),t=a((n-t)/2),i){case"XYX":e.set(s*l,r*c,r*h,s*u);break;case"YZY":e.set(r*h,s*l,r*c,s*u);break;case"ZXZ":e.set(r*c,r*h,s*l,s*u);break;case"XZX":e.set(s*l,r*t,r*o,s*u);break;case"YXY":e.set(r*o,s*l,r*t,s*u);break;case"ZYZ":e.set(r*t,r*o,s*l,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};Ac(s.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Cc(s.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y;return e=e.elements,this.x=e[0]*t+e[3]*r+e[6],this.y=e[1]*t+e[4]*r+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return e=this.y-e.y,t*t+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t);t=Math.sin(t);var n=this.x-e.x,i=this.y-e.y;return this.x=n*r-i*t+e.x,this.y=n*t+i*r+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Cc(u.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,o,a,s,u){var l=this.elements;return l[0]=e,l[1]=n,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},extractBasis:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var i=r[3],o=r[6],a=r[1],s=r[4],u=r[7],l=r[2],c=r[5];r=r[8];var h=n[0],f=n[3],p=n[6],d=n[1],g=n[4],m=n[7],v=n[2],y=n[5];return n=n[8],t[0]=e*h+i*d+o*v,t[3]=e*f+i*g+o*y,t[6]=e*p+i*m+o*n,t[1]=a*h+s*d+u*v,t[4]=a*f+s*g+u*y,t[7]=a*p+s*m+u*n,t[2]=l*h+c*d+r*v,t[5]=l*f+c*g+r*y,t[8]=l*p+c*m+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7];return e=e[8],t*o*e-t*a*u-r*i*e+r*a*s+n*i*u-n*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var r=e.elements;e=this.elements,t=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7];r=r[8];var c=r*a-s*l,h=s*u-r*o,f=l*o-a*u,p=t*c+n*h+i*f;return 0===p?this.set(0,0,0,0,0,0,0,0,0):(p=1/p,e[0]=c*p,e[1]=(i*l-r*n)*p,e[2]=(s*n-i*a)*p,e[3]=h*p,e[4]=(r*t-i*u)*p,e[5]=(i*o-s*t)*p,e[6]=f*p,e[7]=(n*u-l*t)*p,e[8]=(a*t-n*o)*p,this)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,o,a){var s=Math.cos(i);i=Math.sin(i),this.set(r*s,r*i,-r*(s*o+i*a)+o+e,-n*i,n*s,-n*(-i*o+s*a)+a+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var r=this.elements,n=r[0],i=r[3],o=r[6],a=r[1],s=r[4],u=r[7];return r[0]=t*n+e*a,r[3]=t*i+e*s,r[6]=t*o+e*u,r[1]=-e*n+t*a,r[4]=-e*i+t*s,r[7]=-e*o+t*u,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){var t=this.elements;e=e.elements;for(var r=0;9>r;r++)if(t[r]!==e[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;9>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var ih,oh={getDataURL:function(e){if("undefined"==typeof HTMLCanvasElement)return e.src;if(!(e instanceof HTMLCanvasElement)){void 0===ih&&(ih=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ih.width=e.width,ih.height=e.height;var t=ih.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),e=ih}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},ah=0;l.DEFAULT_IMAGE=void 0,l.DEFAULT_MAPPING=300,l.prototype=Cc(vc(a.prototype),{constructor:l,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=nh.generateUUID()),!t&&void 0===e.images[n.uuid]){if(Array.isArray(n))for(var i=[],o=0,a=n.length;o<a;o++)i.push(oh.getDataURL(n[o]));else i=oh.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(l.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Ac(c.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Cc(c.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n+e[12]*i,this.y=e[1]*t+e[5]*r+e[9]*n+e[13]*i,this.z=e[2]*t+e[6]*r+e[10]*n+e[14]*i,this.w=e[3]*t+e[7]*r+e[11]*n+e[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){e=e.elements;var t=e[0],r=e[4],n=e[8],i=e[1],o=e[5],a=e[9],s=e[2],u=e[6],l=e[10];return.01>Math.abs(r-i)&&.01>Math.abs(n-s)&&.01>Math.abs(a-u)?.1>Math.abs(r+i)&&.1>Math.abs(n+s)&&.1>Math.abs(a+u)&&.1>Math.abs(t+o+l-3)?(this.set(1,0,0,0),this):(e=Math.PI,t=(t+1)/2,o=(o+1)/2,l=(l+1)/2,r=(r+i)/4,n=(n+s)/4,a=(a+u)/4,t>o&&t>l?.01>t?(u=0,r=s=.707106781):(u=Math.sqrt(t),s=r/u,r=n/u):o>l?.01>o?(u=.707106781,s=0,r=.707106781):(s=Math.sqrt(o),u=r/s,r=a/s):.01>l?(s=u=.707106781,r=0):(r=Math.sqrt(l),u=n/r,s=a/r),this.set(u,s,r,e),this):(e=Math.sqrt((u-a)*(u-a)+(n-s)*(n-s)+(i-r)*(i-r)),.001>Math.abs(e)&&(e=1),this.x=(u-a)/e,this.y=(n-s)/e,this.z=(i-r)/e,this.w=Math.acos((t+o+l-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),h.prototype=Cc(vc(a.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),f.prototype=Cc(vc(h.prototype),{constructor:f,isWebGLMultisampleRenderTarget:!0,copy:function(e){return h.prototype.copy.call(this,e),this.samples=e.samples,this}}),Cc(p,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],u=r[n+1],l=r[n+2];r=r[n+3],n=i[o+0];var c=i[o+1],h=i[o+2];if(i=i[o+3],r!==i||s!==n||u!==c||l!==h){o=1-a;var f=s*n+u*c+l*h+r*i,p=0<=f?1:-1,d=1-f*f;d>Dc&&(d=Math.sqrt(d),f=Math.atan2(d,f*p),o=Math.sin(o*f)/d,a=Math.sin(a*f)/d),p*=a,s=s*o+n*p,u=u*o+c*p,l=l*o+h*p,r=r*o+i*p,o===1-a&&(a=1/Math.sqrt(s*s+u*u+l*l+r*r),s*=a,u*=a,l*=a,r*=a)}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=r},multiplyQuaternionsFlat:function(e,t,r,n,i,o){var a=r[n],s=r[n+1],u=r[n+2];r=r[n+3],n=i[o];var l=i[o+1],c=i[o+2];return i=i[o+3],e[t]=a*i+r*n+s*c-u*l,e[t+1]=s*i+r*l+u*n-a*c,e[t+2]=u*i+r*c+a*l-s*n,e[t+3]=r*i-a*n-s*l-u*c,e}}),Ac(p.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Cc(p.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z;e=e.order;var o=Math.cos,a=Math.sin,s=o(r/2),u=o(n/2);switch(o=o(i/2),r=a(r/2),n=a(n/2),i=a(i/2),e){case"XYZ":this._x=r*u*o+s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o-r*n*i;break;case"YXZ":this._x=r*u*o+s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o+r*n*i;break;case"ZXY":this._x=r*u*o-s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o-r*n*i;break;case"ZYX":this._x=r*u*o-s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o+r*n*i;break;case"YZX":this._x=r*u*o+s*n*i,this._y=s*n*o+r*u*i,this._z=s*u*i-r*n*o,this._w=s*u*o-r*n*i;break;case"XZY":this._x=r*u*o-s*n*i,this._y=s*n*o-r*u*i,this._z=s*u*i+r*n*o,this._w=s*u*o+r*n*i;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){t/=2;var r=Math.sin(t);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(t),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,r=t[0];e=t[4];var n=t[8],i=t[1],o=t[5],a=t[9],s=t[2],u=t[6];t=t[10];var l=r+o+t;return 0<l?(r=.5/Math.sqrt(l+1),this._w=.25/r,this._x=(u-a)*r,this._y=(n-s)*r,this._z=(i-e)*r):r>o&&r>t?(r=2*Math.sqrt(1+r-o-t),this._w=(u-a)/r,this._x=.25*r,this._y=(e+i)/r,this._z=(n+s)/r):o>t?(r=2*Math.sqrt(1+o-r-t),this._w=(n-s)/r,this._x=(e+i)/r,this._y=.25*r,this._z=(a+u)/r):(r=2*Math.sqrt(1+t-r-o),this._w=(i-e)/r,this._x=(n+s)/r,this._y=(a+u)/r,this._z=.25*r),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return 1e-6>r?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=r,this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(nh.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);return 0===r||this.slerp(e,Math.min(1,t/r)),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z;e=e._w;var o=t._x,a=t._y,s=t._z;return t=t._w,this._x=r*t+e*o+n*s-i*a,this._y=n*t+e*a+i*o-r*s,this._z=i*t+e*s+r*a-n*o,this._w=e*t-r*o-n*a-i*s,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=r,this._y=n,this._z=i,this;if(e=1-a*a,e<=Dc)return a=1-t,this._w=a*o+t*this._w,this._x=a*r+t*this._x,this._y=a*n+t*this._y,this._z=a*i+t*this._z,this.normalize(),this._onChangeCallback(),this;e=Math.sqrt(e);var s=Math.atan2(e,a);return a=Math.sin((1-t)*s)/e,t=Math.sin(t*s)/e,this._w=o*a+this._w*t,this._x=r*a+this._x*t,this._y=n*a+this._y*t,this._z=i*a+this._z*t,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var sh=new d,uh=new p;Cc(d.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(uh.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(uh.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[3]*r+e[6]*n,this.y=e[1]*t+e[4]*r+e[7]*n,this.z=e[2]*t+e[5]*r+e[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z;e=e.elements;var i=1/(e[3]*t+e[7]*r+e[11]*n+e[15]);return this.x=(e[0]*t+e[4]*r+e[8]*n+e[12])*i,this.y=(e[1]*t+e[5]*r+e[9]*n+e[13])*i,this.z=(e[2]*t+e[6]*r+e[10]*n+e[14])*i,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z;e=e.w;var s=e*t+o*n-a*r,u=e*r+a*t-i*n,l=e*n+i*r-o*t;return t=-i*t-o*r-a*n,this.x=s*e+t*-i+u*-a-l*-o,this.y=u*e+t*-o+l*-i-s*-a,this.z=l*e+t*-a+s*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n,this.y=e[1]*t+e[5]*r+e[9]*n,this.z=e[2]*t+e[6]*r+e[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y;e=e.z;var i=t.x,o=t.y;return t=t.z,this.x=n*t-e*o,this.y=e*i-r*t,this.z=r*o-n*i,this},projectOnVector:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))},projectOnPlane:function(e){return sh.copy(this).projectOnVector(e),this.sub(sh)},reflect:function(e){return this.sub(sh.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(nh.clamp(e,-1,1)))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return e=this.z-e.z,t*t+r*r+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=t,this.y=r,this.z=e,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var lh=new d,ch=new g,hh=new d(0,0,0),fh=new d(1,1,1),ph=new d,dh=new d,gh=new d;Cc(g.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,o,a,s,u,l,c,h,f,p,d,g){var m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=n,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new g).fromArray(this.elements)},copy:function(e){var t=this.elements;return e=e.elements,t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/lh.setFromMatrixColumn(e,0).length(),i=1/lh.setFromMatrixColumn(e,1).length();return e=1/lh.setFromMatrixColumn(e,2).length(),t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r);r=Math.sin(r);var a=Math.cos(n);n=Math.sin(n);var s=Math.cos(i);if(i=Math.sin(i),"XYZ"===e.order){e=o*s;var u=o*i,l=r*s,c=r*i;t[0]=a*s,t[4]=-a*i,t[8]=n,t[1]=u+l*n,t[5]=e-c*n,t[9]=-r*a,t[2]=c-e*n,t[6]=l+u*n,t[10]=o*a}else"YXZ"===e.order?(e=a*s,u=a*i,l=n*s,c=n*i,t[0]=e+c*r,t[4]=l*r-u,t[8]=o*n,t[1]=o*i,t[5]=o*s,t[9]=-r,t[2]=u*r-l,t[6]=c+e*r,t[10]=o*a):"ZXY"===e.order?(e=a*s,u=a*i,l=n*s,c=n*i,t[0]=e-c*r,t[4]=-o*i,t[8]=l+u*r,t[1]=u+l*r,t[5]=o*s,t[9]=c-e*r,t[2]=-o*n,t[6]=r,t[10]=o*a):"ZYX"===e.order?(e=o*s,u=o*i,l=r*s,c=r*i,t[0]=a*s,t[4]=l*n-u,t[8]=e*n+c,t[1]=a*i,t[5]=c*n+e,t[9]=u*n-l,t[2]=-n,t[6]=r*a,t[10]=o*a):"YZX"===e.order?(e=o*a,u=o*n,l=r*a,c=r*n,t[0]=a*s,t[4]=c-e*i,t[8]=l*i+u,t[1]=i,t[5]=o*s,t[9]=-r*s,t[2]=-n*s,t[6]=u*i+l,t[10]=e-c*i):"XZY"===e.order&&(e=o*a,u=o*n,l=r*a,c=r*n,t[0]=a*s,t[4]=-i,t[8]=n*s,t[1]=e*i+c,t[5]=o*s,t[9]=u*i-l,t[2]=l*i-u,t[6]=r*s,t[10]=c*i+e);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(hh,e,fh)},lookAt:function(e,t,r){var n=this.elements;return gh.subVectors(e,t),0===gh.lengthSq()&&(gh.z=1),gh.normalize(),ph.crossVectors(r,gh),0===ph.lengthSq()&&(1===Math.abs(r.z)?gh.x+=1e-4:gh.z+=1e-4,gh.normalize(),ph.crossVectors(r,gh)),ph.normalize(),dh.crossVectors(gh,ph),n[0]=ph.x,n[4]=dh.x,n[8]=gh.x,n[1]=ph.y,n[5]=dh.y,n[9]=gh.y,n[2]=ph.z,n[6]=dh.z,n[10]=gh.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var i=r[4],o=r[8],a=r[12],s=r[1],u=r[5],l=r[9],c=r[13],h=r[2],f=r[6],p=r[10],d=r[14],g=r[3],m=r[7],v=r[11];r=r[15];var y=n[0],b=n[4],x=n[8],A=n[12],w=n[1],_=n[5],C=n[9],M=n[13],S=n[2],T=n[6],E=n[10],I=n[14],R=n[3],L=n[7],P=n[11];return n=n[15],t[0]=e*y+i*w+o*S+a*R,t[4]=e*b+i*_+o*T+a*L,t[8]=e*x+i*C+o*E+a*P,t[12]=e*A+i*M+o*I+a*n,t[1]=s*y+u*w+l*S+c*R,t[5]=s*b+u*_+l*T+c*L,t[9]=s*x+u*C+l*E+c*P,t[13]=s*A+u*M+l*I+c*n,t[2]=h*y+f*w+p*S+d*R,t[6]=h*b+f*_+p*T+d*L,t[10]=h*x+f*C+p*E+d*P,t[14]=h*A+f*M+p*I+d*n,t[3]=g*y+m*w+v*S+r*R,t[7]=g*b+m*_+v*T+r*L,t[11]=g*x+m*C+v*E+r*P,t[15]=g*A+m*M+v*I+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-n*u*c-i*a*h+r*u*h+n*a*f-r*s*f)+e[7]*(+t*s*f-t*u*h+i*o*h-n*o*f+n*u*l-i*s*l)+e[11]*(+t*u*c-t*a*f-i*o*c+r*o*f+i*a*l-r*u*l)+e[15]*(-n*a*l-t*s*c+t*a*h+n*o*c-r*o*h+r*s*l)},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),t=this.elements;var r=e.elements;e=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7],c=r[8],h=r[9],f=r[10],p=r[11],d=r[12],g=r[13],m=r[14];r=r[15];var v=h*m*l-g*f*l+g*u*p-s*m*p-h*u*r+s*f*r,y=d*f*l-c*m*l-d*u*p+a*m*p+c*u*r-a*f*r,b=c*g*l-d*h*l+d*s*p-a*g*p-c*s*r+a*h*r,x=d*h*u-c*g*u-d*s*f+a*g*f+c*s*m-a*h*m,A=e*v+n*y+i*b+o*x;return 0===A?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(A=1/A,t[0]=v*A,t[1]=(g*f*o-h*m*o-g*i*p+n*m*p+h*i*r-n*f*r)*A,t[2]=(s*m*o-g*u*o+g*i*l-n*m*l-s*i*r+n*u*r)*A,t[3]=(h*u*o-s*f*o-h*i*l+n*f*l+s*i*p-n*u*p)*A,t[4]=y*A,t[5]=(c*m*o-d*f*o+d*i*p-e*m*p-c*i*r+e*f*r)*A,t[6]=(d*u*o-a*m*o-d*i*l+e*m*l+a*i*r-e*u*r)*A,t[7]=(a*f*o-c*u*o+c*i*l-e*f*l-a*i*p+e*u*p)*A,t[8]=b*A,t[9]=(d*h*o-c*g*o-d*n*p+e*g*p+c*n*r-e*h*r)*A,t[10]=(a*g*o-d*s*o+d*n*l-e*g*l-a*n*r+e*s*r)*A,t[11]=(c*s*o-a*h*o-c*n*l+e*h*l+a*n*p-e*s*p)*A,t[12]=x*A,t[13]=(c*g*i-d*h*i+d*n*f-e*g*f-c*n*m+e*h*m)*A,t[14]=(d*s*i-a*g*i-d*n*u+e*g*u+a*n*m-e*s*m)*A,t[15]=(a*h*i-c*s*i+c*n*u-e*h*u-a*n*f+e*s*f)*A,this)},scale:function(e){var t=this.elements,r=e.x,n=e.y;return e=e.z,t[0]*=r,t[4]*=n,t[8]*=e,t[1]*=r,t[5]*=n,t[9]*=e,t[2]*=r,t[6]*=n,t[10]*=e,t[3]*=r,t[7]*=n,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t);t=Math.sin(t);var n=1-r,i=e.x,o=e.y;e=e.z;var a=n*i,s=n*o;return this.set(a*i+r,a*o-t*e,a*e+t*o,0,a*o+t*e,s*o+r,s*e-t*i,0,a*e-t*o,s*e+t*i,n*e*e+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,l=o+o,c=a+a;t=i*u;var h=i*l;i*=c;var f=o*l;o*=c,a*=c,u*=s,l*=s,s*=c,c=r.x;var p=r.y;return r=r.z,n[0]=(1-(f+a))*c,n[1]=(h+s)*c,n[2]=(i-l)*c,n[3]=0,n[4]=(h-s)*p,n[5]=(1-(t+a))*p,n[6]=(o+u)*p,n[7]=0,n[8]=(i+l)*r,n[9]=(o-u)*r,n[10]=(1-(t+f))*r,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=lh.set(n[0],n[1],n[2]).length(),o=lh.set(n[4],n[5],n[6]).length(),a=lh.set(n[8],n[9],n[10]).length();0>this.determinant()&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],ch.copy(this),e=1/i,n=1/o;var s=1/a;return ch.elements[0]*=e,ch.elements[1]*=e,ch.elements[2]*=e,ch.elements[4]*=n,ch.elements[5]*=n,ch.elements[6]*=n,ch.elements[8]*=s,ch.elements[9]*=s,ch.elements[10]*=s,t.setFromRotationMatrix(ch),r.x=i,r.y=o,r.z=a,this},makePerspective:function(e,t,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*i/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*i/(r-n),a[9]=(r+n)/(r-n),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+i)/(o-i),a[14]=-2*o*i/(o-i),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=1/(t-e),u=1/(r-n),l=1/(o-i);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-(r+n)*u,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-(o+i)*l,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){var t=this.elements;e=e.elements;for(var r=0;16>r;r++)if(t[r]!==e[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;16>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var mh=new g,vh=new p;m.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),m.DefaultOrder="XYZ",Ac(m.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Cc(m.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=nh.clamp,i=e.elements;e=i[0];var o=i[4],a=i[8],s=i[1],u=i[5],l=i[9],c=i[2],h=i[6];switch(i=i[10],t=t||this._order,t){case"XYZ":this._y=Math.asin(n(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(-l,i),this._z=Math.atan2(-o,e)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-n(l,-1,1)),.9999999>Math.abs(l)?(this._y=Math.atan2(a,i),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,e),this._z=0);break;case"ZXY":this._x=Math.asin(n(h,-1,1)),.9999999>Math.abs(h)?(this._y=Math.atan2(-c,i),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(s,e));break;case"ZYX":this._y=Math.asin(-n(c,-1,1)),.9999999>Math.abs(c)?(this._x=Math.atan2(h,i),this._z=Math.atan2(s,e)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(n(s,-1,1)),.9999999>Math.abs(s)?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,e)):(this._x=0,this._y=Math.atan2(a,i));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,e)):(this._x=Math.atan2(-l,i),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return mh.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mh,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return vh.setFromEuler(this),this.setFromQuaternion(vh,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new d(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Cc(v.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var yh=0,bh=new d,xh=new p,Ah=new g,wh=new d,_h=new d,Ch=new d,Mh=new p,Sh=new d(1,0,0),Th=new d(0,1,0),Eh=new d(0,0,1),Ih={type:"added"},Rh={type:"removed"};y.DefaultUp=new d(0,1,0),y.DefaultMatrixAutoUpdate=!0,y.prototype=Cc(vc(a.prototype),{constructor:y,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return xh.setFromAxisAngle(e,t),this.quaternion.multiply(xh),this},rotateOnWorldAxis:function(e,t){return xh.setFromAxisAngle(e,t),this.quaternion.premultiply(xh),this},rotateX:function(e){return this.rotateOnAxis(Sh,e)},rotateY:function(e){return this.rotateOnAxis(Th,e)},rotateZ:function(e){return this.rotateOnAxis(Eh,e)},translateOnAxis:function(e,t){return bh.copy(e).applyQuaternion(this.quaternion),this.position.add(bh.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Sh,e)},translateY:function(e){return this.translateOnAxis(Th,e)},translateZ:function(e){return this.translateOnAxis(Eh,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Ah.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?wh.copy(e):wh.set(e,t,r),e=this.parent,this.updateWorldMatrix(!0,!1),_h.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ah.lookAt(_h,wh,this.up):Ah.lookAt(wh,_h,this.up),this.quaternion.setFromRotationMatrix(Ah),e&&(Ah.extractRotation(e.matrixWorld),xh.setFromRotationMatrix(Ah),this.quaternion.premultiply(xh.inverse()))},add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ih)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}return t=this.children.indexOf(e),-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Rh)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Ah.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ah.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ah),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new d),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new p),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_h,e,Ch),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new d),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_h,Mh,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new d),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(e=this.children,t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)},toJSON:function(e){function t(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}function r(e){var t,r=[];for(t in e){var n=e[t];delete n.metadata,r.push(n)}return r}var n=void 0===e||"string"===typeof e,i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==pc(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){o.geometry=t(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes)if(a=a.shapes,Array.isArray(a))for(var s=0,u=a.length;s<u;s++)t(e.shapes,a[s]);else t(e.shapes,a)}if(void 0!==this.material)if(Array.isArray(this.material)){for(a=[],s=0,u=this.material.length;s<u;s++)a.push(t(e.materials,this.material[s]));o.material=a}else o.material=t(e.materials,this.material);if(0<this.children.length)for(o.children=[],s=0;s<this.children.length;s++)o.children.push(this.children[s].toJSON(e).object);if(n){n=r(e.geometries),s=r(e.materials),u=r(e.textures);var l=r(e.images);a=r(e.shapes),0<n.length&&(i.geometries=n),0<s.length&&(i.materials=s),0<u.length&&(i.textures=u),0<l.length&&(i.images=l),0<a.length&&(i.shapes=a)}return i.object=o,i},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(pc(e.userData)),!0===t)for(t=0;t<e.children.length;t++)this.add(e.children[t].clone());return this}}),b.prototype=Cc(vc(y.prototype),{constructor:b,isScene:!0,copy:function(e,t){return y.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=y.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Lh=[new d,new d,new d,new d,new d,new d,new d,new d],Ph=new d,Oh=new x,Dh=new d,kh=new d,Nh=new d,Fh=new d,Bh=new d,zh=new d,Uh=new d,jh=new d,Hh=new d,Gh=new d;Cc(x.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){return t=Ph.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new d),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new d),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Oh.copy(t.boundingBox),Oh.applyMatrix4(e.matrixWorld),this.union(Oh)),e=e.children,t=0;for(var r=e.length;t<r;t++)this.expandByObject(e[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new d),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Ph),Ph.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){if(0<e.normal.x)var t=e.normal.x*this.min.x,r=e.normal.x*this.max.x;else t=e.normal.x*this.max.x,r=e.normal.x*this.min.x;return 0<e.normal.y?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){return!this.isEmpty()&&(this.getCenter(Uh),jh.subVectors(this.max,Uh),Dh.subVectors(e.a,Uh),kh.subVectors(e.b,Uh),Nh.subVectors(e.c,Uh),Fh.subVectors(kh,Dh),Bh.subVectors(Nh,kh),zh.subVectors(Dh,Nh),e=[0,-Fh.z,Fh.y,0,-Bh.z,Bh.y,0,-zh.z,zh.y,Fh.z,0,-Fh.x,Bh.z,0,-Bh.x,zh.z,0,-zh.x,-Fh.y,Fh.x,0,-Bh.y,Bh.x,0,-zh.y,zh.x,0],!!A(e,Dh,kh,Nh,jh)&&(e=[1,0,0,0,1,0,0,0,1],!!A(e,Dh,kh,Nh,jh)&&(Hh.crossVectors(Fh,Bh),e=[Hh.x,Hh.y,Hh.z],A(e,Dh,kh,Nh,jh))))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new d),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Ph.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Ph).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Lh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Lh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Lh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Lh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Lh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Lh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Lh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Lh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Lh)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Vh=new x;Cc(w.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):Vh.setFromPoints(e).getCenter(r);for(var n=t=0,i=e.length;n<i;n++)t=Math.max(t,r.distanceToSquared(e[n]));return this.radius=Math.sqrt(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new d),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new x),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Wh=new d,Xh=new d,qh=new d,Yh=new d,Zh=new d,Kh=new d,Jh=new d;Cc(_.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new d),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Wh)),this},closestPointToPoint:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new d),t.subVectors(e,this.origin),e=t.dot(this.direction),0>e?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Wh.subVectors(e,this.origin).dot(this.direction);return 0>t?this.origin.distanceToSquared(e):(Wh.copy(this.direction).multiplyScalar(t).add(this.origin),Wh.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Xh.copy(e).add(t).multiplyScalar(.5),qh.copy(t).sub(e).normalize(),Yh.copy(this.origin).sub(Xh);var i=.5*e.distanceTo(t),o=-this.direction.dot(qh),a=Yh.dot(this.direction),s=-Yh.dot(qh),u=Yh.lengthSq(),l=Math.abs(1-o*o);if(0<l){e=o*s-a,t=o*a-s;var c=i*l;0<=e?t>=-c?t<=c?(i=1/l,e*=i,t*=i,o=e*(e+o*t+2*a)+t*(o*e+t+2*s)+u):(t=i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u):(t=-i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u):t<=-c?(e=Math.max(0,-(-o*i+a)),t=0<e?-i:Math.min(Math.max(-i,-s),i),o=-e*e+t*(t+2*s)+u):t<=c?(e=0,t=Math.min(Math.max(-i,-s),i),o=t*(t+2*s)+u):(e=Math.max(0,-(o*i+a)),t=0<e?i:Math.min(Math.max(-i,-s),i),o=-e*e+t*(t+2*s)+u)}else t=0<o?-i:i,e=Math.max(0,-(o*t+a)),o=-e*e+t*(t+2*s)+u;return r&&r.copy(this.direction).multiplyScalar(e).add(this.origin),n&&n.copy(qh).multiplyScalar(t).add(Xh),o},intersectSphere:function(e,t){Wh.subVectors(e.center,this.origin);var r=Wh.dot(this.direction),n=Wh.dot(Wh)-r*r;return e=e.radius*e.radius,n>e?null:(e=Math.sqrt(e-n),n=r-e,r+=e,0>n&&0>r?null:0>n?this.at(r,t):this.at(n,t))},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/t,0<=e?e:null)},intersectPlane:function(e,t){return e=this.distanceToPlane(e),null===e?null:this.at(e,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function(e,t){var r=1/this.direction.x,n=1/this.direction.y,i=1/this.direction.z,o=this.origin;if(0<=r){var a=(e.min.x-o.x)*r;r*=e.max.x-o.x}else a=(e.max.x-o.x)*r,r*=e.min.x-o.x;if(0<=n){var s=(e.min.y-o.y)*n;n*=e.max.y-o.y}else s=(e.max.y-o.y)*n,n*=e.min.y-o.y;return a>n||s>r?null:((s>a||a!==a)&&(a=s),(n<r||r!==r)&&(r=n),0<=i?(s=(e.min.z-o.z)*i,e=(e.max.z-o.z)*i):(s=(e.max.z-o.z)*i,e=(e.min.z-o.z)*i),a>e||s>r?null:((s>a||a!==a)&&(a=s),(e<r||r!==r)&&(r=e),0>r?null:this.at(0<=a?a:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Wh)},intersectTriangle:function(e,t,r,n,i){if(Zh.subVectors(t,e),Kh.subVectors(r,e),Jh.crossVectors(Zh,Kh),t=this.direction.dot(Jh),0<t){if(n)return null;n=1}else{if(!(0>t))return null;n=-1,t=-t}return Yh.subVectors(this.origin,e),e=n*this.direction.dot(Kh.crossVectors(Yh,Kh)),0>e?null:(r=n*this.direction.dot(Zh.cross(Yh)),0>r||e+r>t?null:(e=-n*Yh.dot(Jh),0>e?null:this.at(e/t,i)))},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Qh=new d,$h=new d,ef=new u;Cc(C.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){return t=Qh.subVectors(r,t).cross($h.subVectors(e,t)).normalize(),this.setFromNormalAndCoplanarPoint(t,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new d),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new d);var r=e.delta(Qh),n=this.normal.dot(r);if(0===n){if(0===this.distanceToPoint(e.start))return t.copy(e.start)}else if(n=-(e.start.dot(this.normal)+this.constant)/n,!(0>n||1<n))return t.copy(r).multiplyScalar(n).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&0<e||0>e&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new d),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){return t=t||ef.getNormalMatrix(e),e=this.coplanarPoint(Qh).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize(),this.constant=-e.dot(t),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var tf=new d,rf=new d,nf=new d,of=new d,af=new d,sf=new d,uf=new d,lf=new d,cf=new d,hf=new d;Cc(M,{getNormal:function(e,t,r,n){return void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new d),n.subVectors(r,t),tf.subVectors(e,t),n.cross(tf),e=n.lengthSq(),0<e?n.multiplyScalar(1/Math.sqrt(e)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){tf.subVectors(n,t),rf.subVectors(r,t),nf.subVectors(e,t),e=tf.dot(tf),t=tf.dot(rf),r=tf.dot(nf);var o=rf.dot(rf);n=rf.dot(nf);var a=e*o-t*t;return void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new d),0===a?i.set(-2,-1,-1):(a=1/a,o=(o*r-t*n)*a,e=(e*n-t*r)*a,i.set(1-o-e,e,o))},containsPoint:function(e,t,r,n){return M.getBarycoord(e,t,r,n,of),0<=of.x&&0<=of.y&&1>=of.x+of.y},getUV:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,of),s.set(0,0),s.addScaledVector(i,of.x),s.addScaledVector(o,of.y),s.addScaledVector(a,of.z),s},isFrontFacing:function(e,t,r,n){return tf.subVectors(r,t),rf.subVectors(e,t),0>tf.cross(rf).dot(n)}}),Cc(M.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return tf.subVectors(this.c,this.b),rf.subVectors(this.a,this.b),.5*tf.cross(rf).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new d),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return M.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new C),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return M.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return M.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return M.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return M.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new d);var r=this.a,n=this.b,i=this.c;af.subVectors(n,r),sf.subVectors(i,r),lf.subVectors(e,r);var o=af.dot(lf),a=sf.dot(lf);if(0>=o&&0>=a)return t.copy(r);cf.subVectors(e,n);var s=af.dot(cf),u=sf.dot(cf);if(0<=s&&u<=s)return t.copy(n);var l=o*u-s*a;if(0>=l&&0<=o&&0>=s)return n=o/(o-s),t.copy(r).addScaledVector(af,n);hf.subVectors(e,i),e=af.dot(hf);var c=sf.dot(hf);return 0<=c&&e<=c?t.copy(i):(o=e*a-o*c,0>=o&&0<=a&&0>=c?(l=a/(a-c),t.copy(r).addScaledVector(sf,l)):(a=s*c-e*u,0>=a&&0<=u-s&&0<=e-c?(uf.subVectors(i,n),l=(u-s)/(u-s+(e-c)),t.copy(n).addScaledVector(uf,l)):(i=1/(a+o+l),n=o*i,l*=i,t.copy(r).addScaledVector(af,n).addScaledVector(sf,l))))},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var ff={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pf={h:0,s:0,l:0},df={h:0,s:0,l:0};Cc(S.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){return e=nh.euclideanModulo(e,1),t=nh.clamp(t,0,1),r=nh.clamp(r,0,1),0===t?this.r=this.g=this.b=r:(t=.5>=r?r*(1+t):r+t-r*t,r=2*r-t,this.r=T(r,t,e+1/3),this.g=T(r,t,e),this.b=T(r,t,e-1/3)),this},setStyle:function(e){function t(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n=r[2];switch(r[1]){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(n)){n=parseFloat(r[1])/360;var i=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(n,i,o)}}}else if(r=/^#([A-Fa-f0-9]+)$/.exec(e)){if(r=r[1],n=r.length,3===n)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(6===n)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},setColorName:function(e){var t=ff[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){return void 0===t&&(t=2),t=0<t?1/t:1,this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=E(e.r),this.g=E(e.g),this.b=E(e.b),this},copyLinearToSRGB:function(e){return this.r=I(e.r),this.g=I(e.g),this.b=I(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r=this.r,n=this.g,i=this.b,o=Math.max(r,n,i),a=Math.min(r,n,i),s=(a+o)/2;if(a===o)a=t=0;else{var u=o-a;switch(a=.5>=s?u/(o+a):u/(2-o-a),o){case r:t=(n-i)/u+(n<i?6:0);break;case n:t=(i-r)/u+2;break;case i:t=(r-n)/u+4}t/=6}return e.h=t,e.s=a,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL(pf),pf.h+=e,pf.s+=t,pf.l+=r,this.setHSL(pf.h,pf.s,pf.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(pf),e.getHSL(df),e=nh.lerp(pf.h,df.h,t);var r=nh.lerp(pf.s,df.s,t);return t=nh.lerp(pf.l,df.l,t),this.setHSL(e,r,t),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),S.NAMES=ff,Cc(R.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var gf=0;L.prototype=Cc(vc(a.prototype),{constructor:L,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0===r)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if("shading"===t)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;else{var n=this[t];void 0===n?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}},toJSON:function(e){function t(e){var t,r=[];for(t in e){var n=e[t];delete n.metadata,r.push(n)}return r}var r=void 0===e||"string"===typeof e;r&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),1>this.opacity&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==pc(this.userData)&&(n.userData=this.userData),r&&(r=t(e.textures),e=t(e.images),0<r.length&&(n.textures=r),0<e.length&&(n.images=e)),n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(pc(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(L.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),P.prototype=vc(L.prototype),P.prototype.constructor=P,P.prototype.isMeshBasicMaterial=!0,P.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var mf=new d;Object.defineProperty(O.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Cc(O.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new S),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new s),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new d),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new c),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this},applyMatrix3:function(e){for(var t=0,r=this.count;t<r;t++)mf.x=this.getX(t),mf.y=this.getY(t),mf.z=this.getZ(t),mf.applyMatrix3(e),this.setXYZ(t,mf.x,mf.y,mf.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)mf.x=this.getX(t),mf.y=this.getY(t),mf.z=this.getZ(t),mf.applyMatrix4(e),this.setXYZ(t,mf.x,mf.y,mf.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)mf.x=this.getX(t),mf.y=this.getY(t),mf.z=this.getZ(t),mf.applyNormalMatrix(e),this.setXYZ(t,mf.x,mf.y,mf.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)mf.x=this.getX(t),mf.y=this.getY(t),mf.z=this.getZ(t),mf.transformDirection(e),this.setXYZ(t,mf.x,mf.y,mf.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),D.prototype=vc(O.prototype),D.prototype.constructor=D,k.prototype=vc(O.prototype),k.prototype.constructor=k,N.prototype=vc(O.prototype),N.prototype.constructor=N,F.prototype=vc(O.prototype),F.prototype.constructor=F,B.prototype=vc(O.prototype),B.prototype.constructor=B,z.prototype=vc(O.prototype),z.prototype.constructor=z,U.prototype=vc(O.prototype),U.prototype.constructor=U,j.prototype=vc(O.prototype),j.prototype.constructor=j,H.prototype=vc(O.prototype),H.prototype.constructor=H,Cc(G.prototype,{computeGroups:function(e){var t=[],r=void 0;e=e.faces;for(var n=0;n<e.length;n++){var i=e[n];if(i.materialIndex!==r){r=i.materialIndex,void 0!==o&&(o.count=3*n-o.start,t.push(o));var o={start:3*n,materialIndex:r}}}void 0!==o&&(o.count=3*n-o.start,t.push(o)),this.groups=t},fromGeometry:function(e){var t=e.faces,r=e.vertices,n=e.faceVertexUvs,i=n[0]&&0<n[0].length,o=n[1]&&0<n[1].length,a=e.morphTargets,u=a.length;if(0<u){for(var l=[],c=0;c<u;c++)l[c]={name:a[c].name,data:[]};this.morphTargets.position=l}var h=e.morphNormals,f=h.length;if(0<f){var p=[];for(c=0;c<f;c++)p[c]={name:h[c].name,data:[]};this.morphTargets.normal=p}var d=e.skinIndices,g=e.skinWeights,m=d.length===r.length,v=g.length===r.length;for(0<r.length&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),c=0;c<t.length;c++){var y=t[c];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;for(3===b.length?this.normals.push(b[0],b[1],b[2]):(b=y.normal,this.normals.push(b,b,b)),b=y.vertexColors,3===b.length?this.colors.push(b[0],b[1],b[2]):(b=y.color,this.colors.push(b,b,b)),!0===i&&(b=n[0][c],void 0!==b?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new s,new s,new s))),!0===o&&(b=n[1][c],void 0!==b?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new s,new s,new s))),b=0;b<u;b++){var x=a[b].vertices;l[b].data.push(x[y.a],x[y.b],x[y.c])}for(b=0;b<f;b++)x=h[b].vertexNormals[c],p[b].data.push(x.a,x.b,x.c);m&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),v&&this.skinWeights.push(g[y.a],g[y.b],g[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var vf=1,yf=new g,bf=new y,xf=new d,Af=new x,wf=new x,_f=new d;W.prototype=Cc(vc(a.prototype),{constructor:W,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<V(e)?U:B)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;if(void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0),t=this.attributes.normal,void 0!==t){var r=(new u).getNormalMatrix(e);t.applyNormalMatrix(r),t.needsUpdate=!0}return t=this.attributes.tangent,void 0!==t&&(t.transformDirection(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return yf.makeRotationX(e),this.applyMatrix4(yf),this},rotateY:function(e){return yf.makeRotationY(e),this.applyMatrix4(yf),this},rotateZ:function(e){return yf.makeRotationZ(e),this.applyMatrix4(yf),this},translate:function(e,t,r){return yf.makeTranslation(e,t,r),this.applyMatrix4(yf),this},scale:function(e,t,r){return yf.makeScale(e,t,r),this.applyMatrix4(yf),this},lookAt:function(e){return bf.lookAt(e),bf.updateMatrix(),this.applyMatrix4(bf.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(xf).negate(),this.translate(xf.x,xf.y,xf.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){e=new j(3*t.vertices.length,3);var r=new j(3*t.colors.length,3);this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(e=new j(t.lineDistances.length,1),this.setAttribute("lineDistance",e.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new j(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var r=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(r=void 0,t.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}return!0===t.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new G).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);for(var r in this.setAttribute("position",new O(t,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(t=new Float32Array(3*e.normals.length),this.setAttribute("normal",new O(t,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.setAttribute("color",new O(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new O(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(t=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new O(t,2).copyVector2sArray(e.uvs2))),this.groups=e.groups,e.morphTargets){t=[];for(var n=e.morphTargets[r],i=0,o=n.length;i<o;i++){var a=n[i],s=new j(3*a.data.length,3);s.name=a.name,t.push(s.copyVector3sArray(a.data))}this.morphAttributes[r]=t}return 0<e.skinIndices.length&&(r=new j(4*e.skinIndices.length,4),this.setAttribute("skinIndex",r.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(r=new j(4*e.skinWeights.length,4),this.setAttribute("skinWeight",r.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new x);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t){e=0;for(var r=t.length;e<r;e++)Af.setFromBufferAttribute(t[e]),this.morphTargetsRelative?(_f.addVectors(this.boundingBox.min,Af.min),this.boundingBox.expandByPoint(_f),_f.addVectors(this.boundingBox.max,Af.max),this.boundingBox.expandByPoint(_f)):(this.boundingBox.expandByPoint(Af.min),this.boundingBox.expandByPoint(Af.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new w);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(Af.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];wf.setFromBufferAttribute(o),this.morphTargetsRelative?(_f.addVectors(Af.min,wf.min),Af.expandByPoint(_f),_f.addVectors(Af.max,wf.max),Af.expandByPoint(_f)):(Af.expandByPoint(wf.min),Af.expandByPoint(wf.max))}Af.getCenter(r);var a=0;for(n=0,i=e.count;n<i;n++)_f.fromBufferAttribute(e,n),a=Math.max(a,r.distanceToSquared(_f));if(t)for(n=0,i=t.length;n<i;n++){o=t[n];for(var s=this.morphTargetsRelative,u=0,l=o.count;u<l;u++)_f.fromBufferAttribute(o,u),s&&(xf.fromBufferAttribute(e,u),_f.add(xf)),a=Math.max(a,r.distanceToSquared(_f))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var r=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new O(new Float32Array(r.length),3));else for(var n=t.normal.array,i=0,o=n.length;i<o;i++)n[i]=0;n=t.normal.array;var a=new d,s=new d,u=new d,l=new d,c=new d;if(e){var h=e.array;for(i=0,o=e.count;i<o;i+=3){e=3*h[i+0];var f=3*h[i+1],p=3*h[i+2];a.fromArray(r,e),s.fromArray(r,f),u.fromArray(r,p),l.subVectors(u,s),c.subVectors(a,s),l.cross(c),n[e]+=l.x,n[e+1]+=l.y,n[e+2]+=l.z,n[f]+=l.x,n[f+1]+=l.y,n[f+2]+=l.z,n[p]+=l.x,n[p+1]+=l.y,n[p+2]+=l.z}}else for(i=0,o=r.length;i<o;i+=9)a.fromArray(r,i),s.fromArray(r,i+3),u.fromArray(r,i+6),l.subVectors(u,s),c.subVectors(a,s),l.cross(c),n[i]=l.x,n[i+1]=l.y,n[i+2]=l.z,n[i+3]=l.x,n[i+4]=l.y,n[i+5]=l.z,n[i+6]=l.x,n[i+7]=l.y,n[i+8]=l.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r,n=this.attributes;for(r in n)if(void 0!==e.attributes[r]){var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t;o=Math.min(a.length,i.length-s);for(var u=0;u<o;u++,s++)i[s]=a[u]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)_f.x=e.getX(t),_f.y=e.getY(t),_f.z=e.getZ(t),_f.normalize(),e.setXYZ(t,_f.x,_f.y,_f.z)},toNonIndexed:function(){function e(e,t){var r=e.array,n=e.itemSize;e=e.normalized;for(var i,o=new r.constructor(t.length*n),a=0,s=0,u=t.length;s<u;s++){i=t[s]*n;for(var l=0;l<n;l++)o[a++]=r[i++]}return new O(o,n,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t,r=new W,n=this.index.array,i=this.attributes;for(t in i){var o=i[t];o=e(o,n),r.setAttribute(t,o)}var a=this.morphAttributes;for(t in a){var s=[],u=a[t];i=0;for(var l=u.length;i<l;i++)o=u[i],o=e(o,n),s.push(o);r.morphAttributes[t]=s}for(r.morphTargetsRelative=this.morphTargetsRelative,n=this.groups,i=0,t=n.length;i<t;i++)o=n[i],r.addGroup(o.start,o.count,o.materialIndex);return r},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<lc(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(l in t)void 0!==t[l]&&(e[l]=t[l]);return e}e.data={attributes:{}},t=this.index,null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});var r=this.attributes;for(l in r){t=r[l];var n=t.toJSON();""!==t.name&&(n.name=t.name),e.data.attributes[l]=n}r={};var i=!1;for(l in this.morphAttributes){for(var o=this.morphAttributes[l],a=[],s=0,u=o.length;s<u;s++)t=o[s],n=t.toJSON(),""!==t.name&&(n.name=t.name),a.push(n);0<a.length&&(r[l]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);var l=this.groups;return 0<l.length&&(e.data.groups=JSON.parse(pc(l))),l=this.boundingSphere,null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new W).copy(this)},copy:function(e){var t;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var r=e.index;for(a in null!==r&&this.setIndex(r.clone()),r=e.attributes,r)this.setAttribute(a,r[a].clone());var n=e.morphAttributes;for(a in n){var i=[],o=n[a];for(r=0,t=o.length;r<t;r++)i.push(o[r].clone());this.morphAttributes[a]=i}this.morphTargetsRelative=e.morphTargetsRelative;var a=e.groups;for(r=0,t=a.length;r<t;r++)n=a[r],this.addGroup(n.start,n.count,n.materialIndex);return a=e.boundingBox,null!==a&&(this.boundingBox=a.clone()),a=e.boundingSphere,null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Cf=new g,Mf=new _,Sf=new w,Tf=new d,Ef=new d,If=new d,Rf=new d,Lf=new d,Pf=new d,Of=new d,Df=new d,kf=new d,Nf=new s,Ff=new s,Bf=new s,zf=new d,Uf=new d;X.prototype=Cc(vc(y.prototype),{constructor:X,isMesh:!0,copy:function(e){return y.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Cc({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,t){var r=this.geometry,n=this.material,i=this.matrixWorld;if(void 0!==n&&(null===r.boundingSphere&&r.computeBoundingSphere(),Sf.copy(r.boundingSphere),Sf.applyMatrix4(i),!1!==e.ray.intersectsSphere(Sf)&&(Cf.getInverse(i),Mf.copy(e.ray).applyMatrix4(Cf),null===r.boundingBox||!1!==Mf.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index;i=r.attributes.position;var a,u,l=r.morphAttributes.position,c=r.morphTargetsRelative,h=r.attributes.uv,f=r.attributes.uv2,p=r.groups,d=r.drawRange;if(null!==o)if(Array.isArray(n)){var g=0;for(a=p.length;g<a;g++){var m=p[g],v=n[m.materialIndex],y=Math.max(m.start,d.start);for(u=r=Math.min(m.start+m.count,d.start+d.count);y<u;y+=3){r=o.getX(y);var b=o.getX(y+1),x=o.getX(y+2);(r=Y(this,v,e,Mf,i,l,c,h,f,r,b,x))&&(r.faceIndex=Math.floor(y/3),r.face.materialIndex=m.materialIndex,t.push(r))}}}else for(y=Math.max(0,d.start),r=Math.min(o.count,d.start+d.count),g=y,a=r;g<a;g+=3)r=o.getX(g),b=o.getX(g+1),x=o.getX(g+2),(r=Y(this,n,e,Mf,i,l,c,h,f,r,b,x))&&(r.faceIndex=Math.floor(g/3),t.push(r));else if(void 0!==i)if(Array.isArray(n))for(g=0,a=p.length;g<a;g++)for(m=p[g],v=n[m.materialIndex],y=Math.max(m.start,d.start),u=r=Math.min(m.start+m.count,d.start+d.count);y<u;y+=3)r=y,b=y+1,x=y+2,(r=Y(this,v,e,Mf,i,l,c,h,f,r,b,x))&&(r.faceIndex=Math.floor(y/3),r.face.materialIndex=m.materialIndex,t.push(r));else for(y=Math.max(0,d.start),r=Math.min(i.count,d.start+d.count),g=y,a=r;g<a;g+=3)r=g,b=g+1,x=g+2,(r=Y(this,n,e,Mf,i,l,c,h,f,r,b,x))&&(r.faceIndex=Math.floor(g/3),t.push(r))}else if(r.isGeometry)for(i=Array.isArray(n),l=r.vertices,c=r.faces,r=r.faceVertexUvs[0],0<r.length&&(o=r),d=0,g=c.length;d<g;d++)a=c[d],r=i?n[a.materialIndex]:n,void 0!==r&&(h=l[a.a],f=l[a.b],p=l[a.c],r=q(this,r,e,Mf,h,f,p,zf))&&(o&&o[d]&&(m=o[d],Nf.copy(m[0]),Ff.copy(m[1]),Bf.copy(m[2]),r.uv=M.getUV(zf,h,f,p,Nf,Ff,Bf,new s)),r.face=a,r.faceIndex=d,t.push(r))},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jf=0,Hf=new g,Gf=new y,Vf=new d;Z.prototype=Cc(vc(a.prototype),{constructor:Z,isGeometry:!0,applyMatrix4:function(e){for(var t=(new u).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++)this.vertices[r].applyMatrix4(e);for(r=0,n=this.faces.length;r<n;r++){e=this.faces[r],e.normal.applyMatrix3(t).normalize();for(var i=0,o=e.vertexNormals.length;i<o;i++)e.vertexNormals[i].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(e){return Hf.makeRotationX(e),this.applyMatrix4(Hf),this},rotateY:function(e){return Hf.makeRotationY(e),this.applyMatrix4(Hf),this},rotateZ:function(e){return Hf.makeRotationZ(e),this.applyMatrix4(Hf),this},translate:function(e,t,r){return Hf.makeTranslation(e,t,r),this.applyMatrix4(Hf),this},scale:function(e,t,r){return Hf.makeScale(e,t,r),this.applyMatrix4(Hf),this},lookAt:function(e){return Gf.lookAt(e),Gf.updateMatrix(),this.applyMatrix4(Gf.matrix),this},fromBufferGeometry:function(e){function t(e,t,n,i){var o=void 0===u?[]:[r.colors[e].clone(),r.colors[t].clone(),r.colors[n].clone()],h=void 0===a?[]:[(new d).fromArray(a,3*e),(new d).fromArray(a,3*t),(new d).fromArray(a,3*n)];i=new R(e,t,n,h,o,i),r.faces.push(i),void 0!==l&&r.faceVertexUvs[0].push([(new s).fromArray(l,2*e),(new s).fromArray(l,2*t),(new s).fromArray(l,2*n)]),void 0!==c&&r.faceVertexUvs[1].push([(new s).fromArray(c,2*e),(new s).fromArray(c,2*t),(new s).fromArray(c,2*n)])}var r=this,n=null!==e.index?e.index.array:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var o=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,u=void 0!==i.color?i.color.array:void 0,l=void 0!==i.uv?i.uv.array:void 0,c=void 0!==i.uv2?i.uv2.array:void 0;for(void 0!==c&&(this.faceVertexUvs[1]=[]),i=0;i<o.length;i+=3)r.vertices.push((new d).fromArray(o,i)),void 0!==u&&r.colors.push((new S).fromArray(u,i));var h=e.groups;if(0<h.length)for(i=0;i<h.length;i++){o=h[i];var f=o.start,p=f;for(f+=o.count;p<f;p+=3)void 0!==n?t(n[p],n[p+1],n[p+2],o.materialIndex):t(p,p+1,p+2,o.materialIndex)}else if(void 0!==n)for(i=0;i<n.length;i+=3)t(n[i],n[i+1],n[i+2]);else for(i=0;i<o.length/3;i+=3)t(i,i+1,i+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vf).negate(),this.translate(Vf.x,Vf.y,Vf.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius;t=0===t?1:1/t;var r=new g;return r.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new d,t=new d,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b];e.subVectors(this.vertices[i.c],a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t;void 0===e&&(e=!0);var r=Array(this.vertices.length),n=0;for(t=this.vertices.length;n<t;n++)r[n]=new d;if(e){var i=new d,o=new d;for(e=0,n=this.faces.length;e<n;e++){t=this.faces[e];var a=this.vertices[t.a],s=this.vertices[t.b],u=this.vertices[t.c];i.subVectors(u,s),o.subVectors(a,s),i.cross(o),r[t.a].add(i),r[t.b].add(i),r[t.c].add(i)}}else for(this.computeFaceNormals(),e=0,n=this.faces.length;e<n;e++)t=this.faces[e],r[t.a].add(t.normal),r[t.b].add(t.normal),r[t.c].add(t.normal);for(n=0,t=this.vertices.length;n<t;n++)r[n].normalize();for(e=0,n=this.faces.length;e<n;e++)t=this.faces[e],a=t.vertexNormals,3===a.length?(a[0].copy(r[t.a]),a[1].copy(r[t.b]),a[2].copy(r[t.c])):(a[0]=r[t.a].clone(),a[1]=r[t.b].clone(),a[2]=r[t.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var t=0;for(e=this.faces.length;t<e;t++){var r=this.faces[t],n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r=0;for(t=this.faces.length;r<t;r++){var n=this.faces[r];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);var i=0;for(e=n.vertexNormals.length;i<e;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}var o=new Z;for(o.faces=this.faces,i=0,e=this.morphTargets.length;i<e;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[],n=this.morphNormals[i].faceNormals;var a=this.morphNormals[i].vertexNormals;for(r=0,t=this.faces.length;r<t;r++){var s=new d,u={a:new d,b:new d,c:new d};n.push(s),a.push(u)}}for(a=this.morphNormals[i],o.vertices=this.morphTargets[i].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,t=this.faces.length;r<t;r++)n=this.faces[r],s=a.faceNormals[r],u=a.vertexNormals[r],s.copy(n.normal),u.a.copy(n.vertexNormals[0]),u.b.copy(n.vertexNormals[1]),u.c.copy(n.vertexNormals[2])}for(r=0,t=this.faces.length;r<t;r++)n=this.faces[r],n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new x),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new w),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.colors,h=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new u).getNormalMatrix(t));for(var f=0,p=a.length;f<p;f++){var d=a[f].clone();void 0!==t&&d.applyMatrix4(t),o.push(d)}for(f=0,p=h.length;f<p;f++)c.push(h[f].clone());for(f=0,p=l.length;f<p;f++){a=l[f];var g=a.vertexNormals;for(h=a.vertexColors,c=new R(a.a+i,a.b+i,a.c+i),c.normal.copy(a.normal),void 0!==n&&c.normal.applyMatrix3(n).normalize(),t=0,o=g.length;t<o;t++)d=g[t].clone(),void 0!==n&&d.applyMatrix3(n).normalize(),c.vertexNormals.push(d);for(c.color.copy(a.color),t=0,o=h.length;t<o;t++)d=h[t],c.vertexColors.push(d.clone());c.materialIndex=a.materialIndex+r,s.push(c)}for(f=0,p=e.faceVertexUvs.length;f<p;f++)for(r=e.faceVertexUvs[f],void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]),t=0,o=r.length;t<o;t++){for(n=r[t],i=[],s=0,l=n.length;s<l;s++)i.push(n[s].clone());this.faceVertexUvs[f].push(i)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t={},r=[],n=[],i=Math.pow(10,4),o=0;for(e=this.vertices.length;o<e;o++){var a=this.vertices[o];a=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i),void 0===t[a]?(t[a]=o,r.push(this.vertices[o]),n[o]=r.length-1):n[o]=n[t[a]]}for(t=[],o=0,e=this.faces.length;o<e;o++)for(i=this.faces[o],i.a=n[i.a],i.b=n[i.b],i.c=n[i.c],i=[i.a,i.b,i.c],a=0;3>a;a++)if(i[a]===i[(a+1)%3]){t.push(o);break}for(o=t.length-1;0<=o;o--)for(i=t[o],this.faces.splice(i,1),n=0,e=this.faceVertexUvs.length;n<e;n++)this.faceVertexUvs[n].splice(i,1);return o=this.vertices.length-r.length,this.vertices=r,o},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new d(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===t&&(n=[]),a&&a.length===t&&(i=[]),r=0;r<t;r++){var s=e[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,r){return r?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=u.length/3,u.push(e.x,e.y,e.z)),l[t]}function r(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=c.length,c.push(e.getHex())),h[t]}function n(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=f.length/2,f.push(e.x,e.y)),p[t]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o,a=this.parameters;for(o in a)void 0!==a[o]&&(i[o]=a[o]);return i}for(a=[],o=0;o<this.vertices.length;o++){var s=this.vertices[o];a.push(s.x,s.y,s.z)}s=[];var u=[],l={},c=[],h={},f=[],p={};for(o=0;o<this.faces.length;o++){var d=this.faces[o],g=void 0!==this.faceVertexUvs[0][o],m=0<d.normal.length(),v=0<d.vertexNormals.length,y=1!==d.color.r||1!==d.color.g||1!==d.color.b,b=0<d.vertexColors.length,x=0;x=e(x,0,0),x=e(x,1,!0),x=e(x,2,!1),x=e(x,3,g),x=e(x,4,m),x=e(x,5,v),x=e(x,6,y),x=e(x,7,b),s.push(x),s.push(d.a,d.b,d.c),s.push(d.materialIndex),g&&(g=this.faceVertexUvs[0][o],s.push(n(g[0]),n(g[1]),n(g[2]))),m&&s.push(t(d.normal)),v&&(m=d.vertexNormals,s.push(t(m[0]),t(m[1]),t(m[2]))),y&&s.push(r(d.color)),b&&(d=d.vertexColors,s.push(r(d[0]),r(d[1]),r(d[2])))}return i.data={},i.data.vertices=a,i.data.normals=u,0<c.length&&(i.data.colors=c),0<f.length&&(i.data.uvs=[f]),i.data.faces=s,i},clone:function(){return(new Z).copy(this)},copy:function(e){var t,r,n;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var i=e.vertices,o=0;for(t=i.length;o<t;o++)this.vertices.push(i[o].clone());for(i=e.colors,o=0,t=i.length;o<t;o++)this.colors.push(i[o].clone());for(i=e.faces,o=0,t=i.length;o<t;o++)this.faces.push(i[o].clone());for(o=0,t=e.faceVertexUvs.length;o<t;o++){var a=e.faceVertexUvs[o];for(void 0===this.faceVertexUvs[o]&&(this.faceVertexUvs[o]=[]),i=0,r=a.length;i<r;i++){var s=a[i],u=[],l=0;for(n=s.length;l<n;l++)u.push(s[l].clone());this.faceVertexUvs[o].push(u)}}for(l=e.morphTargets,o=0,t=l.length;o<t;o++){if(n={},n.name=l[o].name,void 0!==l[o].vertices)for(n.vertices=[],i=0,r=l[o].vertices.length;i<r;i++)n.vertices.push(l[o].vertices[i].clone());if(void 0!==l[o].normals)for(n.normals=[],i=0,r=l[o].normals.length;i<r;i++)n.normals.push(l[o].normals[i].clone());this.morphTargets.push(n)}for(l=e.morphNormals,o=0,t=l.length;o<t;o++){if(n={},void 0!==l[o].vertexNormals)for(n.vertexNormals=[],i=0,r=l[o].vertexNormals.length;i<r;i++)a=l[o].vertexNormals[i],s={},s.a=a.a.clone(),s.b=a.b.clone(),s.c=a.c.clone(),n.vertexNormals.push(s);if(void 0!==l[o].faceNormals)for(n.faceNormals=[],i=0,r=l[o].faceNormals.length;i<r;i++)n.faceNormals.push(l[o].faceNormals[i].clone());this.morphNormals.push(n)}for(i=e.skinWeights,o=0,t=i.length;o<t;o++)this.skinWeights.push(i[o].clone());for(i=e.skinIndices,o=0,t=i.length;o<t;o++)this.skinIndices.push(i[o].clone());for(i=e.lineDistances,o=0,t=i.length;o<t;o++)this.lineDistances.push(i[o]);return o=e.boundingBox,null!==o&&(this.boundingBox=o.clone()),o=e.boundingSphere,null!==o&&(this.boundingSphere=o.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Wf=function(e){function t(e,r,n,i,o,a){qc(this,t);var s=Zc(this,(t.__proto__||Wc(t)).call(this));return s.type="BoxGeometry",s.parameters={width:e,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a},s.fromBufferGeometry(new Xf(e,r,n,i,o,a)),s.mergeVertices(),s}return eh(t,e),t}(Z),Xf=function(e){function t(e,r,n,i,o,a){function s(e,t,r,n,i,o,a,s,u,v,y){var b=o/u,x=a/v,A=o/2,w=a/2,_=s/2;a=u+1;for(var C=v+1,M=o=0,S=new d,T=0;T<C;T++)for(var E=T*x-w,I=0;I<a;I++)S[e]=(I*b-A)*n,S[t]=E*i,S[r]=_,h.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[r]=0<s?1:-1,f.push(S.x,S.y,S.z),p.push(I/u),p.push(1-T/v),o+=1;for(e=0;e<v;e++)for(t=0;t<u;t++)r=g+t+a*(e+1),n=g+(t+1)+a*(e+1),i=g+(t+1)+a*e,c.push(g+t+a*e,r,i),c.push(r,n,i),M+=6;l.addGroup(m,M,y),m+=M,g+=o}qc(this,t);var u=Zc(this,(t.__proto__||Wc(t)).call(this));u.type="BoxBufferGeometry",u.parameters={width:e,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:a};var l=u;e=e||1,r=r||1,n=n||1,i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var c=[],h=[],f=[],p=[],g=0,m=0;return s("z","y","x",-1,-1,n,r,e,a,o,0),s("z","y","x",1,-1,n,r,-e,a,o,1),s("x","z","y",1,1,e,n,r,i,a,2),s("x","z","y",1,-1,e,n,-r,i,a,3),s("x","y","z",1,-1,e,r,n,i,o,4),s("x","y","z",-1,-1,e,r,-n,i,o,5),u.setIndex(c),u.setAttribute("position",new j(h,3)),u.setAttribute("normal",new j(f,3)),u.setAttribute("uv",new j(p,2)),u}return eh(t,e),t}(W),qf={clone:K,merge:J};Q.prototype=vc(L.prototype),Q.prototype.constructor=Q,Q.prototype.isShaderMaterial=!0,Q.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=K(e.uniforms),this.defines=Cc({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Cc({},e.extensions),this},Q.prototype.toJSON=function(e){var t=L.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r].value;t.uniforms[r]=n&&n.isTexture?{type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?{type:"c",value:n.getHex()}:n&&n.isVector2?{type:"v2",value:n.toArray()}:n&&n.isVector3?{type:"v3",value:n.toArray()}:n&&n.isVector4?{type:"v4",value:n.toArray()}:n&&n.isMatrix3?{type:"m3",value:n.toArray()}:n&&n.isMatrix4?{type:"m4",value:n.toArray()}:{value:n}}for(var i in 0<lc(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,e={},this.extensions)!0===this.extensions[i]&&(e[i]=!0);return 0<lc(e).length&&(t.extensions=e),t},$.prototype=Cc(vc(y.prototype),{constructor:$,isCamera:!0,copy:function(e,t){return y.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new d),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){y.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){y.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),ee.prototype=Cc(vc($.prototype),{constructor:ee,isPerspectiveCamera:!0,copy:function(e,t){return $.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Cc({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*nh.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*nh.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*nh.RAD2DEG*Math.atan(Math.tan(.5*nh.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*nh.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}o=this.filmOffset,0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=y.prototype.toJSON.call(this,e),e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Cc({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),te.prototype=vc(y.prototype),te.prototype.constructor=te,re.prototype=vc(h.prototype),re.prototype.constructor=re,re.prototype.isWebGLCubeRenderTarget=!0,re.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var r=new b,n=new Q({type:"CubemapFromEquirect",uniforms:K({tEquirect:{value:null}}),vertexShader:"varying vec3 vWorldDirection;\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",fragmentShader:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}",side:1,blending:0});return n.uniforms.tEquirect.value=t,t=new X(new Xf(5,5,5),n),r.add(t),new te(1,10,this).update(e,r),t.geometry.dispose(),t.material.dispose(),this},ne.prototype=vc(l.prototype),ne.prototype.constructor=ne,ne.prototype.isDataTexture=!0;var Yf=new w,Zf=new d;Cc(ie.prototype,{set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;6>r;r++)t[r].copy(e.planes[r]);return this},setFromProjectionMatrix:function(e){var t=this.planes,r=e.elements;e=r[0];var n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],l=r[7],c=r[8],h=r[9],f=r[10],p=r[11],d=r[12],g=r[13],m=r[14];return r=r[15],t[0].setComponents(o-e,l-a,p-c,r-d).normalize(),t[1].setComponents(o+e,l+a,p+c,r+d).normalize(),t[2].setComponents(o+n,l+s,p+h,r+g).normalize(),t[3].setComponents(o-n,l-s,p-h,r-g).normalize(),t[4].setComponents(o-i,l-u,p-f,r-m).normalize(),t[5].setComponents(o+i,l+u,p+f,r+m).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Yf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Yf)},intersectsSprite:function(e){return Yf.center.set(0,0,0),Yf.radius=.7071067811865476,Yf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yf)},intersectsSphere:function(e){var t=this.planes,r=e.center;e=-e.radius;for(var n=0;6>n;n++)if(t[n].distanceToPoint(r)<e)return!1;return!0},intersectsBox:function(e){for(var t=this.planes,r=0;6>r;r++){var n=t[r];if(Zf.x=0<n.normal.x?e.max.x:e.min.x,Zf.y=0<n.normal.y?e.max.y:e.min.y,Zf.z=0<n.normal.z?e.max.z:e.min.z,0>n.distanceToPoint(Zf))return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;6>r;r++)if(0>t[r].distanceToPoint(e))return!1;return!0}});var Kf={common:{diffuse:{value:new S(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new u},uv2Transform:{value:new u},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new s(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new S(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new S(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new u}},sprite:{diffuse:{value:new S(15658734)},opacity:{value:1},center:{value:new s(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new u}}};se.prototype=vc(Z.prototype),se.prototype.constructor=se,ue.prototype=vc(W.prototype),ue.prototype.constructor=ue;var Jf={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Qf={basic:{uniforms:J([Kf.common,Kf.specularmap,Kf.envmap,Kf.aomap,Kf.lightmap,Kf.fog]),vertexShader:Jf.meshbasic_vert,fragmentShader:Jf.meshbasic_frag},lambert:{uniforms:J([Kf.common,Kf.specularmap,Kf.envmap,Kf.aomap,Kf.lightmap,Kf.emissivemap,Kf.fog,Kf.lights,{emissive:{value:new S(0)}}]),vertexShader:Jf.meshlambert_vert,fragmentShader:Jf.meshlambert_frag},phong:{uniforms:J([Kf.common,Kf.specularmap,Kf.envmap,Kf.aomap,Kf.lightmap,Kf.emissivemap,Kf.bumpmap,Kf.normalmap,Kf.displacementmap,Kf.fog,Kf.lights,{emissive:{value:new S(0)},specular:{value:new S(1118481)},shininess:{value:30}}]),vertexShader:Jf.meshphong_vert,fragmentShader:Jf.meshphong_frag},standard:{uniforms:J([Kf.common,Kf.envmap,Kf.aomap,Kf.lightmap,Kf.emissivemap,Kf.bumpmap,Kf.normalmap,Kf.displacementmap,Kf.roughnessmap,Kf.metalnessmap,Kf.fog,Kf.lights,{emissive:{value:new S(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Jf.meshphysical_vert,fragmentShader:Jf.meshphysical_frag},toon:{uniforms:J([Kf.common,Kf.specularmap,Kf.aomap,Kf.lightmap,Kf.emissivemap,Kf.bumpmap,Kf.normalmap,Kf.displacementmap,Kf.gradientmap,Kf.fog,Kf.lights,{emissive:{value:new S(0)},specular:{value:new S(1118481)},shininess:{value:30}}]),vertexShader:Jf.meshtoon_vert,fragmentShader:Jf.meshtoon_frag},matcap:{uniforms:J([Kf.common,Kf.bumpmap,Kf.normalmap,Kf.displacementmap,Kf.fog,{matcap:{value:null}}]),vertexShader:Jf.meshmatcap_vert,fragmentShader:Jf.meshmatcap_frag},points:{uniforms:J([Kf.points,Kf.fog]),vertexShader:Jf.points_vert,fragmentShader:Jf.points_frag},dashed:{uniforms:J([Kf.common,Kf.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Jf.linedashed_vert,fragmentShader:Jf.linedashed_frag},depth:{uniforms:J([Kf.common,Kf.displacementmap]),vertexShader:Jf.depth_vert,fragmentShader:Jf.depth_frag},normal:{uniforms:J([Kf.common,Kf.bumpmap,Kf.normalmap,Kf.displacementmap,{opacity:{value:1}}]),vertexShader:Jf.normal_vert,fragmentShader:Jf.normal_frag},sprite:{uniforms:J([Kf.sprite,Kf.fog]),vertexShader:Jf.sprite_vert,fragmentShader:Jf.sprite_frag},background:{uniforms:{uvTransform:{value:new u},t2D:{value:null}},vertexShader:Jf.background_vert,fragmentShader:Jf.background_frag},cube:{uniforms:J([Kf.envmap,{opacity:{value:1}}]),vertexShader:Jf.cube_vert,fragmentShader:Jf.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Jf.equirect_vert,fragmentShader:Jf.equirect_frag},distanceRGBA:{uniforms:J([Kf.common,Kf.displacementmap,{referencePosition:{value:new d},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Jf.distanceRGBA_vert,fragmentShader:Jf.distanceRGBA_frag},shadow:{uniforms:J([Kf.lights,Kf.fog,{color:{value:new S(0)},opacity:{value:1}}]),vertexShader:Jf.shadow_vert,fragmentShader:Jf.shadow_frag}};Qf.physical={uniforms:J([Qf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new s(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new S(0)},transparency:{value:0}}]),vertexShader:Jf.meshphysical_vert,fragmentShader:Jf.meshphysical_frag},xe.prototype=vc(l.prototype),xe.prototype.constructor=xe,xe.prototype.isCubeTexture=!0,Object.defineProperty(xe.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ae.prototype=vc(l.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isDataTexture2DArray=!0,we.prototype=vc(l.prototype),we.prototype.constructor=we,we.prototype.isDataTexture3D=!0;var $f=new l,ep=new Ae,tp=new we,rp=new xe,np=[],ip=[],op=new Float32Array(16),ap=new Float32Array(9),sp=new Float32Array(4);ot.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Me(t,e)},at.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}};var up=/([\w\d_]+)(\])?(\[|\.)?/g;st.prototype.setValue=function(e,t,r,n){t=this.map[t],void 0!==t&&t.setValue(e,r,n)},st.prototype.setOptional=function(e,t,r){t=t[r],void 0!==t&&this.setValue(e,r,t)},st.upload=function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}},st.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r};var lp=0,cp=/^[ \t]*#include +<([\w\d./]+)>/gm,hp=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,fp=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,pp=0;zt.prototype=vc(L.prototype),zt.prototype.constructor=zt,zt.prototype.isMeshDepthMaterial=!0,zt.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ut.prototype=vc(L.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isMeshDistanceMaterial=!0,Ut.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Wt.prototype=Cc(vc(ee.prototype),{constructor:Wt,isArrayCamera:!0}),Xt.prototype=Cc(vc(y.prototype),{constructor:Xt,isGroup:!0}),Cc(qt.prototype,{constructor:qt,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Xt,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Xt,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,r){var n=null,i=null,o=this._targetRay,a=this._grip;return e&&(null!==o&&(n=t.getPose(e.targetRaySpace,r),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),null!==o&&(o.visible=null!==n),null!==a&&(a.visible=null!==i),this}}),Cc(Yt.prototype,a.prototype),Cc(Jt.prototype,{isFogExp2:!0,clone:function(){return new Jt(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Cc(Qt.prototype,{isFog:!0,clone:function(){return new Qt(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty($t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Cc($t.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var dp=new d;Ac(er.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Cc(er.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,r=this.data.count;t<r;t++)dp.x=this.getX(t),dp.y=this.getY(t),dp.z=this.getZ(t),dp.applyMatrix4(e),this.setXYZ(t,dp.x,dp.y,dp.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this},clone:function(){for(var e=[],t=0;t<this.count;t++)for(var r=t*this.data.stride+this.offset,n=0;n<this.itemSize;n++)e.push(this.data.array[r+n]);return new O(new this.array.constructor(e),this.itemSize,this.normalized)},toJSON:function(){for(var e=[],t=0;t<this.count;t++)for(var r=t*this.data.stride+this.offset,n=0;n<this.itemSize;n++)e.push(this.data.array[r+n]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}),tr.prototype=vc(L.prototype),tr.prototype.constructor=tr,tr.prototype.isSpriteMaterial=!0,tr.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var gp,mp=new d,vp=new d,yp=new d,bp=new s,xp=new s,Ap=new g,wp=new d,_p=new d,Cp=new d,Mp=new s,Sp=new s,Tp=new s;rr.prototype=Cc(vc(y.prototype),{constructor:rr,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vp.setFromMatrixScale(this.matrixWorld),Ap.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&vp.multiplyScalar(-yp.z);var r=this.material.rotation;if(0!==r)var n=Math.cos(r),i=Math.sin(r);r=this.center,nr(wp.set(-.5,-.5,0),yp,r,vp,i,n),nr(_p.set(.5,-.5,0),yp,r,vp,i,n),nr(Cp.set(.5,.5,0),yp,r,vp,i,n),Mp.set(0,0),Sp.set(1,0),Tp.set(1,1);var o=e.ray.intersectTriangle(wp,_p,Cp,!1,mp);null===o&&(nr(_p.set(-.5,.5,0),yp,r,vp,i,n),Sp.set(0,1),o=e.ray.intersectTriangle(wp,Cp,_p,!1,mp),null===o)||(i=e.ray.origin.distanceTo(mp),i<e.near||i>e.far||t.push({distance:i,point:mp.clone(),uv:M.getUV(mp,wp,_p,Cp,Mp,Sp,Tp,new s),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return y.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Ep=new d,Ip=new d;ir.prototype=Cc(vc(y.prototype),{constructor:ir,isLOD:!0,copy:function(e){y.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(0<t.length){for(var r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(0<this.levels.length){Ep.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(Ep);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(1<t.length){Ep.setFromMatrixPosition(e.matrixWorld),Ip.setFromMatrixPosition(this.matrixWorld),e=Ep.distanceTo(Ip)/e.zoom,t[0].object.visible=!0;for(var r=1,n=t.length;r<n;r++){if(!(e>=t[r].distance))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<n;r++)t[r].object.visible=!1}},toJSON:function(e){e=y.prototype.toJSON.call(this,e),!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var t=this.levels,r=0,n=t.length;r<n;r++){var i=t[r];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),or.prototype=Cc(vc(X.prototype),{constructor:or,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new c,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();1/0!==i?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){X.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var e=new d,t=new c,r=new c,n=new d,i=new g;return function(o,a){var s=this.skeleton,u=this.geometry;for(t.fromBufferAttribute(u.attributes.skinIndex,o),r.fromBufferAttribute(u.attributes.skinWeight,o),e.fromBufferAttribute(u.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0),o=0;4>o;o++)if(u=r.getComponent(o),0!==u){var l=t.getComponent(o);i.multiplyMatrices(s.bones[l].matrixWorld,s.boneInverses[l]),a.addScaledVector(n.copy(e).applyMatrix4(i),u)}return a.applyMatrix4(this.bindMatrixInverse)}}()});var Rp=new g,Lp=new g;Cc(ar.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var r=new g;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},pose:function(){var e,t,r=0;for(t=this.bones.length;r<t;r++)(e=this.bones[r])&&e.matrixWorld.getInverse(this.boneInverses[r]);for(r=0,t=this.bones.length;r<t;r++)(e=this.bones[r])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=e.length;i<o;i++)Rp.multiplyMatrices(e[i]?e[i].matrixWorld:Lp,t[i]),Rp.toArray(r,16*i);void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new ar(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),sr.prototype=Cc(vc(y.prototype),{constructor:sr,isBone:!0});var Pp=new g,Op=new g,Dp=[],kp=new X;ur.prototype=Cc(vc(X.prototype),{constructor:ur,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if(kp.geometry=this.geometry,kp.material=this.material,void 0!==kp.material)for(var i=0;i<n;i++){this.getMatrixAt(i,Pp),Op.multiplyMatrices(r,Pp),kp.matrixWorld=Op,kp.raycast(e,Dp);for(var o=0,a=Dp.length;o<a;o++){var s=Dp[o];s.instanceId=i,s.object=this,t.push(s)}Dp.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),lr.prototype=vc(L.prototype),lr.prototype.constructor=lr,lr.prototype.isLineBasicMaterial=!0,lr.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Np=new d,Fp=new d,Bp=new g,zp=new _,Up=new w;cr.prototype=Cc(vc(y.prototype),{constructor:cr,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)Np.fromBufferAttribute(t,n-1),Fp.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=Np.distanceTo(Fp);e.setAttribute("lineDistance",new j(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(t=e.vertices,r=e.lineDistances,r[0]=0,n=1,i=t.length;n<i;n++)r[n]=r[n-1],r[n]+=t[n-1].distanceTo(t[n]);return this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Up.copy(r.boundingSphere),Up.applyMatrix4(n),Up.radius+=i,!1!==e.ray.intersectsSphere(Up)){Bp.getInverse(n),zp.copy(e.ray).applyMatrix4(Bp),n=i/((this.scale.x+this.scale.y+this.scale.z)/3),n*=n;var o=new d,a=new d;i=new d;var s=new d,u=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var l=r.index,c=r.attributes.position.array;if(null!==l){l=l.array,r=0;for(var h=l.length-1;r<h;r+=u){var f=l[r+1];o.fromArray(c,3*l[r]),a.fromArray(c,3*f),f=zp.distanceSqToSegment(o,a,s,i),f>n||(s.applyMatrix4(this.matrixWorld),f=e.ray.origin.distanceTo(s),f<e.near||f>e.far||t.push({distance:f,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}}else for(r=0,h=c.length/3-1;r<h;r+=u)o.fromArray(c,3*r),a.fromArray(c,3*r+3),f=zp.distanceSqToSegment(o,a,s,i),f>n||(s.applyMatrix4(this.matrixWorld),f=e.ray.origin.distanceTo(s),f<e.near||f>e.far||t.push({distance:f,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}else if(r.isGeometry)for(o=r.vertices,a=o.length,r=0;r<a-1;r+=u)f=zp.distanceSqToSegment(o[r],o[r+1],s,i),f>n||(s.applyMatrix4(this.matrixWorld),f=e.ray.origin.distanceTo(s),f<e.near||f>e.far||t.push({distance:f,point:i.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jp=new d,Hp=new d;hr.prototype=Cc(vc(cr.prototype),{constructor:hr,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)jp.fromBufferAttribute(t,n),Hp.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+jp.distanceTo(Hp);e.setAttribute("lineDistance",new j(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(t=e.vertices,r=e.lineDistances,n=0,i=t.length;n<i;n+=2)jp.copy(t[n]),Hp.copy(t[n+1]),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+jp.distanceTo(Hp);return this}}),fr.prototype=Cc(vc(cr.prototype),{constructor:fr,isLineLoop:!0}),pr.prototype=vc(L.prototype),pr.prototype.constructor=pr,pr.prototype.isPointsMaterial=!0,pr.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Gp=new g,Vp=new _,Wp=new w,Xp=new d;dr.prototype=Cc(vc(y.prototype),{constructor:dr,isPoints:!0,raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Wp.copy(r.boundingSphere),Wp.applyMatrix4(n),Wp.radius+=i,!1!==e.ray.intersectsSphere(Wp))if(Gp.getInverse(n),Vp.copy(e.ray).applyMatrix4(Gp),i/=(this.scale.x+this.scale.y+this.scale.z)/3,i*=i,r.isBufferGeometry){var o=r.index;if(r=r.attributes.position.array,null!==o){var a=o.array;o=0;for(var s=a.length;o<s;o++){var u=a[o];Xp.fromArray(r,3*u),gr(Xp,u,i,n,e,t,this)}}else for(o=0,a=r.length/3;o<a;o++)Xp.fromArray(r,3*o),gr(Xp,o,i,n,e,t,this)}else for(r=r.vertices,o=0,a=r.length;o<a;o++)gr(r[o],o,i,n,e,t,this)},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var t=lc(e);if(0<t.length){var r=e[t[0]];if(void 0!==r)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}else e=e.morphTargets,void 0!==e&&0<e.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mr.prototype=Cc(vc(l.prototype),{constructor:mr,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),vr.prototype=vc(l.prototype),vr.prototype.constructor=vr,vr.prototype.isCompressedTexture=!0,yr.prototype=vc(l.prototype),yr.prototype.constructor=yr,yr.prototype.isCanvasTexture=!0,br.prototype=vc(l.prototype),br.prototype.constructor=br,br.prototype.isDepthTexture=!0,xr.prototype=vc(W.prototype),xr.prototype.constructor=xr,Ar.prototype=vc(Z.prototype),Ar.prototype.constructor=Ar,wr.prototype=vc(W.prototype),wr.prototype.constructor=wr,_r.prototype=vc(Z.prototype),_r.prototype.constructor=_r,Cr.prototype=vc(W.prototype),Cr.prototype.constructor=Cr,Mr.prototype=vc(Z.prototype),Mr.prototype.constructor=Mr,Sr.prototype=vc(Cr.prototype),Sr.prototype.constructor=Sr,Tr.prototype=vc(Z.prototype),Tr.prototype.constructor=Tr,Er.prototype=vc(Cr.prototype),Er.prototype.constructor=Er,Ir.prototype=vc(Z.prototype),Ir.prototype.constructor=Ir,Rr.prototype=vc(Cr.prototype),Rr.prototype.constructor=Rr,Lr.prototype=vc(Z.prototype),Lr.prototype.constructor=Lr,Pr.prototype=vc(Cr.prototype),Pr.prototype.constructor=Pr,Or.prototype=vc(Z.prototype),Or.prototype.constructor=Or,Dr.prototype=vc(W.prototype),Dr.prototype.constructor=Dr,Dr.prototype.toJSON=function(){var e=W.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},kr.prototype=vc(Z.prototype),kr.prototype.constructor=kr,Nr.prototype=vc(W.prototype),Nr.prototype.constructor=Nr,Fr.prototype=vc(Z.prototype),Fr.prototype.constructor=Fr,Br.prototype=vc(W.prototype),Br.prototype.constructor=Br;var qp={triangulate:function(e,t,r){r=r||2;var n,i=t&&t.length,o=i?t[0]*r:e.length,a=zr(e,0,o,r,!0),s=[];if(!a||a.next===a.prev)return s;if(i){var u,l=r;i=[];var c=0;for(u=t.length;c<u;c++){var h=t[c]*l,f=c<u-1?t[c+1]*l:e.length;h=zr(e,h,f,l,!1),h===h.next&&(h.steiner=!0),i.push(Xr(h))}for(i.sort(Gr),c=0;c<i.length;c++)l=i[c],t=a,(t=Vr(l,t))&&(l=en(t,l),Ur(t,t.next),Ur(l,l.next)),a=Ur(a,a.next)}if(e.length>80*r){var p=n=e[0],d=i=e[1];for(l=r;l<o;l+=r)c=e[l],t=e[l+1],c<p&&(p=c),t<d&&(d=t),c>n&&(n=c),t>i&&(i=t);n=Math.max(n-p,i-d),n=0!==n?1/n:0}return jr(a,s,r,p,d,n),s}},Yp={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return 0>Yp.area(e)},triangulateShape:function(e,t){var r=[],n=[],i=[];on(e),an(r,e);var o=e.length;for(t.forEach(on),e=0;e<t.length;e++)n.push(o),o+=t[e].length,an(r,t[e]);for(t=qp.triangulate(r,n),e=0;e<t.length;e+=3)i.push(t.slice(e,e+3));return i}};sn.prototype=vc(Z.prototype),sn.prototype.constructor=sn,sn.prototype.toJSON=function(){var e=Z.prototype.toJSON.call(this);return ln(this.parameters.shapes,this.parameters.options,e)},un.prototype=vc(W.prototype),un.prototype.constructor=un,un.prototype.toJSON=function(){var e=W.prototype.toJSON.call(this);return ln(this.parameters.shapes,this.parameters.options,e)};var Zp={generateTopUV:function(e,t,r,n,i){e=t[3*n],n=t[3*n+1];var o=t[3*i];return i=t[3*i+1],[new s(t[3*r],t[3*r+1]),new s(e,n),new s(o,i)]},generateSideWallUV:function(e,t,r,n,i,o){e=t[3*r];var a=t[3*r+1];r=t[3*r+2];var u=t[3*n],l=t[3*n+1];n=t[3*n+2];var c=t[3*i],h=t[3*i+1];i=t[3*i+2];var f=t[3*o],p=t[3*o+1];return t=t[3*o+2],.01>Math.abs(a-l)?[new s(e,1-r),new s(u,1-n),new s(c,1-i),new s(f,1-t)]:[new s(a,1-r),new s(l,1-n),new s(h,1-i),new s(p,1-t)]}};cn.prototype=vc(Z.prototype),cn.prototype.constructor=cn,hn.prototype=vc(un.prototype),hn.prototype.constructor=hn,fn.prototype=vc(Z.prototype),fn.prototype.constructor=fn,pn.prototype=vc(W.prototype),pn.prototype.constructor=pn,dn.prototype=vc(Z.prototype),dn.prototype.constructor=dn,gn.prototype=vc(W.prototype),gn.prototype.constructor=gn,mn.prototype=vc(Z.prototype),mn.prototype.constructor=mn,vn.prototype=vc(W.prototype),vn.prototype.constructor=vn,yn.prototype=vc(Z.prototype),yn.prototype.constructor=yn,yn.prototype.toJSON=function(){var e=Z.prototype.toJSON.call(this);return xn(this.parameters.shapes,e)},bn.prototype=vc(W.prototype),bn.prototype.constructor=bn,bn.prototype.toJSON=function(){var e=W.prototype.toJSON.call(this);return xn(this.parameters.shapes,e)},An.prototype=vc(W.prototype),An.prototype.constructor=An,wn.prototype=vc(Z.prototype),wn.prototype.constructor=wn,_n.prototype=vc(W.prototype),_n.prototype.constructor=_n,Cn.prototype=vc(wn.prototype),Cn.prototype.constructor=Cn,Mn.prototype=vc(_n.prototype),Mn.prototype.constructor=Mn,Sn.prototype=vc(Z.prototype),Sn.prototype.constructor=Sn,Tn.prototype=vc(W.prototype),Tn.prototype.constructor=Tn;var Kp=Du({__proto__:null,WireframeGeometry:xr,ParametricGeometry:Ar,ParametricBufferGeometry:wr,TetrahedronGeometry:Mr,TetrahedronBufferGeometry:Sr,OctahedronGeometry:Tr,OctahedronBufferGeometry:Er,IcosahedronGeometry:Ir,IcosahedronBufferGeometry:Rr,DodecahedronGeometry:Lr,DodecahedronBufferGeometry:Pr,PolyhedronGeometry:_r,PolyhedronBufferGeometry:Cr,TubeGeometry:Or,TubeBufferGeometry:Dr,TorusKnotGeometry:kr,TorusKnotBufferGeometry:Nr,TorusGeometry:Fr,TorusBufferGeometry:Br,TextGeometry:cn,TextBufferGeometry:hn,SphereGeometry:fn,SphereBufferGeometry:pn,RingGeometry:dn,RingBufferGeometry:gn,PlaneGeometry:se,PlaneBufferGeometry:ue,LatheGeometry:mn,LatheBufferGeometry:vn,ShapeGeometry:yn,ShapeBufferGeometry:bn,ExtrudeGeometry:sn,ExtrudeBufferGeometry:un,EdgesGeometry:An,ConeGeometry:Cn,ConeBufferGeometry:Mn,CylinderGeometry:wn,CylinderBufferGeometry:_n,CircleGeometry:Sn,CircleBufferGeometry:Tn,BoxGeometry:Wf,BoxBufferGeometry:Xf});En.prototype=vc(L.prototype),En.prototype.constructor=En,En.prototype.isShadowMaterial=!0,En.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this},In.prototype=vc(Q.prototype),In.prototype.constructor=In,In.prototype.isRawShaderMaterial=!0,Rn.prototype=vc(L.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshStandardMaterial=!0,Rn.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Ln.prototype=vc(Rn.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isMeshPhysicalMaterial=!0,Ln.prototype.copy=function(e){return Rn.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new S).copy(e.sheen):null,this.transparency=e.transparency,this},Pn.prototype=vc(L.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isMeshPhongMaterial=!0,Pn.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},On.prototype=vc(L.prototype),On.prototype.constructor=On,On.prototype.isMeshToonMaterial=!0,On.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Dn.prototype=vc(L.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isMeshNormalMaterial=!0,Dn.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kn.prototype=vc(L.prototype),kn.prototype.constructor=kn,kn.prototype.isMeshLambertMaterial=!0,kn.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Nn.prototype=vc(L.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isMeshMatcapMaterial=!0,Nn.prototype.copy=function(e){return L.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Fn.prototype=vc(lr.prototype),Fn.prototype.constructor=Fn,Fn.prototype.isLineDashedMaterial=!0,Fn.prototype.copy=function(e){return lr.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Jp=Du({__proto__:null,ShadowMaterial:En,SpriteMaterial:tr,RawShaderMaterial:In,ShaderMaterial:Q,PointsMaterial:pr,MeshPhysicalMaterial:Ln,MeshStandardMaterial:Rn,MeshPhongMaterial:Pn,MeshToonMaterial:On,MeshNormalMaterial:Dn,MeshLambertMaterial:kn,MeshDepthMaterial:zt,MeshDistanceMaterial:Ut,MeshBasicMaterial:P,MeshMatcapMaterial:Nn,LineDashedMaterial:Fn,LineBasicMaterial:lr,Material:L}),Qp={arraySlice:function(e,t,r){return Qp.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{a=o[n],void 0!==a&&(t.push(o.time),r.push.apply(r,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[n],void 0!==a&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++]}while(void 0!==o);else do{a=o[n],void 0!==a&&(t.push(o.time),r.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,r,n,i){i=i||30,e=e.clone(),e.name=t;var o=[];for(t=0;t<e.tracks.length;++t){for(var a=e.tracks[t],s=a.getValueSize(),u=[],l=[],c=0;c<a.times.length;++c){var h=a.times[c]*i;if(!(h<r||h>=n))for(u.push(a.times[c]),h=0;h<s;++h)l.push(a.values[c*s+h])}0!==u.length&&(a.times=Qp.convertArray(u,a.times.constructor),a.values=Qp.convertArray(l,a.values.constructor),o.push(a))}for(e.tracks=o,r=1/0,t=0;t<e.tracks.length;++t)r>e.tracks[t].times[0]&&(r=e.tracks[t].times[0]);for(t=0;t<e.tracks.length;++t)e.tracks[t].shift(-1*r);return e.resetDuration(),e},makeClipAdditive:function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=e),(void 0===n||0>=n)&&(n=30);var i=e.tracks.length;for(t/=n,n=0;n<i;++n){var o=r.tracks[n],a=o.ValueTypeName;if("bool"!==a&&"string"!==a){var s=e.tracks.find((function(e){return e.name===o.name&&e.ValueTypeName===a}));if(void 0!==s){var u=o.getValueSize(),l=o.times.length-1;t<=o.times[0]?l=Qp.arraySlice(o.values,0,o.valueSize):t>=o.times[l]?l=Qp.arraySlice(o.values,l*u):(l=o.createInterpolant(),l.evaluate(t),l=l.resultBuffer),"quaternion"===a&&new p(l[0],l[1],l[2],l[3]).normalize().conjugate().toArray(l);for(var c=s.times.length,h=0;h<c;++h){var f=h*u;if("quaternion"===a)p.multiplyQuaternionsFlat(s.values,f,l,0,s.values,f);else for(var d=0;d<u;++d)s.values[f+d]-=l[d]}}}}return e.blendMode=2501,e}};Cc(Bn.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{r:{n:if(!(e<n)){for(var o=r+2;;){if(void 0===n){if(e<i)break n;return this._cachedIndex=r=t.length,this.afterEnd_(r-1,e,i)}if(r===o)break;if(i=n,n=t[++r],e<n)break t}n=t.length;break r}if(e>=i)break e;for(o=t[1],e<o&&(r=2,i=o),o=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===o)break;if(n=i,i=t[--r-1],e>=i)break t}n=r,r=0}for(;r<n;)i=r+n>>>1,e<t[i]?n=i:r=i+1;if(n=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return this._cachedIndex=r=t.length,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize;e*=n;for(var i=0;i!==n;++i)t[i]=r[e+i];return t},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Cc(Bn.prototype,{beforeStart_:Bn.prototype.copySampleValue_,afterEnd_:Bn.prototype.copySampleValue_}),zn.prototype=Cc(vc(Bn.prototype),{constructor:zn,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-r;break;case 2402:i=n.length-2,a=t+n[i]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*r-t;break;case 2402:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}e=.5*(r-t),n=this.valueSize,this._weightPrev=e/(t-a),this._weightNext=e/(s-r),this._offsetPrev=i*n,this._offsetNext=o*n},interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;e*=a;var s=e-a,u=this._offsetPrev,l=this._offsetNext,c=this._weightPrev,h=this._weightNext,f=(r-t)/(n-t);for(r=f*f,n=r*f,t=-c*n+2*c*r-c*f,c=(1+c)*n+(-1.5-2*c)*r+(-.5+c)*f+1,f=(-1-h)*n+(1.5+h)*r+.5*f,h=h*n-h*r,r=0;r!==a;++r)i[r]=t*o[u+r]+c*o[s+r]+f*o[e+r]+h*o[l+r];return i}}),Un.prototype=Cc(vc(Bn.prototype),{constructor:Un,interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;e*=a;var s=e-a;for(t=(r-t)/(n-t),r=1-t,n=0;n!==a;++n)i[n]=o[s+n]*r+o[e+n]*t;return i}}),jn.prototype=Cc(vc(Bn.prototype),{constructor:jn,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Cc(Hn,{toJSON:function(e){var t=e.constructor;if(void 0!==t.toJSON)t=t.toJSON(e);else{t={name:e.name,times:Qp.convertArray(e.times,Array),values:Qp.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Cc(Hn.prototype,{constructor:Hn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new jn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Un(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new zn(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;return++o,0===i&&o===n||(i>=o&&(o=Math.max(o,1),i=o-1),e=this.getValueSize(),this.times=Qp.arraySlice(r,i,o),this.values=Qp.arraySlice(this.values,i*e,o*e)),this},validate:function(){var e=!0,t=this.getValueSize();0!==t-Math.floor(t)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times;t=this.values;var n=r.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==n;o++){var a=r[o];if("number"===typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==i&&i>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,i),e=!1;break}i=a}if(void 0!==t&&Qp.isTypedArray(t))for(o=0,r=t.length;o!==r;++o)if(n=t[o],isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,n),e=!1;break}return e},optimize:function(){for(var e=Qp.arraySlice(this.times),t=Qp.arraySlice(this.values),r=this.getValueSize(),n=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(n)s=!0;else{var l=a*r,c=l-r,h=l+r;for(u=0;u!==r;++u){var f=t[l+u];if(f!==t[c+u]||f!==t[h+u]){s=!0;break}}}if(s){if(a!==i)for(e[i]=e[a],s=a*r,l=i*r,u=0;u!==r;++u)t[l+u]=t[s+u];++i}}if(0<o){for(e[i]=e[o],s=o*r,l=i*r,u=0;u!==r;++u)t[l+u]=t[s+u];++i}return i!==e.length?(this.times=Qp.arraySlice(e,0,i),this.values=Qp.arraySlice(t,0,i*r)):(this.times=e,this.values=t),this},clone:function(){var e=Qp.arraySlice(this.times,0),t=Qp.arraySlice(this.values,0);return e=new this.constructor(this.name,e,t),e.createInterpolant=this.createInterpolant,e}}),Gn.prototype=Cc(vc(Hn.prototype),{constructor:Gn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Vn.prototype=Cc(vc(Hn.prototype),{constructor:Vn,ValueTypeName:"color"}),Wn.prototype=Cc(vc(Hn.prototype),{constructor:Wn,ValueTypeName:"number"}),Xn.prototype=Cc(vc(Bn.prototype),{constructor:Xn,interpolate_:function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize;for(e*=a,t=(r-t)/(n-t),r=e+a;e!==r;e+=4)p.slerpFlat(i,0,o,e-a,o,e,t);return i}}),qn.prototype=Cc(vc(Hn.prototype),{constructor:qn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Xn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Yn.prototype=Cc(vc(Hn.prototype),{constructor:Yn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zn.prototype=Cc(vc(Hn.prototype),{constructor:Zn,ValueTypeName:"vector"}),Cc(Kn,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,o=r.length;i!==o;++i)t.push(Qn(r[i]).scale(n));return new Kn(e.name,e.duration,t,e.blendMode)},toJSON:function(e){var t=[],r=e.tracks;e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(var n=0,i=r.length;n!==i;++n)t.push(Hn.toJSON(r[n]));return e},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=Qp.getKeyframeOrder(s);s=Qp.sortedArray(s,1,l),u=Qp.sortedArray(u,1,l),n||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Wn(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/r))}return new Kn(e,-1,o)},findByName:function(e,t){var r=e;for(Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations),e=0;e<r.length;e++)if(r[e].name===t)return r[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&1<u.length){var l=u[1];(u=n[l])||(n[l]=u=[]),u.push(s)}}for(l in e=[],n)e.push(Kn.CreateFromMorphTargetSequence(l,n[l],t,r));return e},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var r=function(e,t,r,n,i){if(0!==r.length){var o=[],a=[];Qp.flattenJSON(r,o,a,n),0!==o.length&&i.push(new e(t,o,a))}},n=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.blendMode;e=e.hierarchy||[];for(var u=0;u<e.length;u++){var l=e[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){o={};for(var c=0;c<l.length;c++)if(l[c].morphTargets)for(var h=0;h<l[c].morphTargets.length;h++)o[l[c].morphTargets[h]]=-1;for(var f in o){var p=[],d=[];for(h=0;h!==l[c].morphTargets.length;++h){var g=l[c];p.push(g.time),d.push(g.morphTarget===f?1:0)}n.push(new Wn(".morphTargetInfluence["+f+"]",p,d))}o=o.length*(a||1)}else c=".bones["+t[u].name+"]",r(Zn,c+".position",l,"pos",n),r(qn,c+".quaternion",l,"rot",n),r(Zn,c+".scale",l,"scl",n)}return 0===n.length?null:new Kn(i,o,n,s)}}),Cc(Kn.prototype,{resetDuration:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Kn(this.name,this.duration,e,this.blendMode)}});var $p={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},ed=new $n;Cc(ei.prototype,{load:function(){},loadAsync:function(e,t){var r=this;return new Eu((function(n,i){r.load(e,n,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var td={};ti.prototype=Cc(vc(ei.prototype),{constructor:ti,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=$p.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===td[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){r=a[1];var s=!!a[2];a=a[3],a=decodeURIComponent(a),s&&(a=atob(a));try{var u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":var l=new Uint8Array(a.length);for(s=0;s<a.length;s++)l[s]=a.charCodeAt(s);var c="blob"===u?new Blob([l.buffer],{type:r}):l.buffer;break;case"document":c=(new DOMParser).parseFromString(a,r);break;case"json":c=JSON.parse(a);break;default:c=a}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(f){setTimeout((function(){n&&n(f),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{td[e]=[],td[e].push({onLoad:t,onProgress:r,onError:n});var h=new XMLHttpRequest;for(s in h.open("GET",e,!0),h.addEventListener("load",(function(t){var r=this.response,n=td[e];if(delete td[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$p.add(e,r);for(var o=0,a=n.length;o<a;o++){var s=n[o];s.onLoad&&s.onLoad(r)}}else{for(o=0,a=n.length;o<a;o++)s=n[o],s.onError&&s.onError(t);i.manager.itemError(e)}i.manager.itemEnd(e)}),!1),h.addEventListener("progress",(function(t){for(var r=td[e],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(t)}}),!1),h.addEventListener("error",(function(t){var r=td[e];delete td[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),h.addEventListener("abort",(function(t){var r=td[e];delete td[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)h.setRequestHeader(s,this.requestHeader[s]);h.send(null)}return i.manager.itemStart(e),h}td[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),ri.prototype=Cc(vc(ei.prototype),{constructor:ri,load:function(e,t,r,n){var i=this,o=new ti(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=Kn.parse(e[r]);t.push(n)}return t}}),ni.prototype=Cc(vc(ei.prototype),{constructor:ni,load:function(e,t,r,n){function i(i){u.load(e[i],(function(e){e=o.parse(e,!0),a[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},l+=1,6===l&&(1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s))}),r,n)}var o=this,a=[],s=new vr;s.image=a;var u=new ti(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,h=e.length;c<h;++c)i(c);else u.load(e,(function(e){if(e=o.parse(e,!0),e.isCubemap)for(var r=e.mipmaps.length/e.mipmapCount,n=0;n<r;n++){a[n]={mipmaps:[]};for(var i=0;i<e.mipmapCount;i++)a[n].mipmaps.push(e.mipmaps[n*e.mipmapCount+i]),a[n].format=e.format,a[n].width=e.width,a[n].height=e.height}else s.image.width=e.width,s.image.height=e.height,s.mipmaps=e.mipmaps;1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s)}),r,n);return s}}),ii.prototype=Cc(vc(ei.prototype),{constructor:ii,load:function(e,t,r,n){var i=this,o=new ne,a=new ti(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){(e=i.parse(e))&&(void 0!==e.image?o.image=e.image:void 0!==e.data&&(o.image.width=e.width,o.image.height=e.height,o.image.data=e.data),o.wrapS=void 0!==e.wrapS?e.wrapS:1001,o.wrapT=void 0!==e.wrapT?e.wrapT:1001,o.magFilter=void 0!==e.magFilter?e.magFilter:1006,o.minFilter=void 0!==e.minFilter?e.minFilter:1006,o.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(o.format=e.format),void 0!==e.type&&(o.type=e.type),void 0!==e.mipmaps&&(o.mipmaps=e.mipmaps,o.minFilter=1008),1===e.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,t&&t(o,e))}),r,n),o}}),oi.prototype=Cc(vc(ei.prototype),{constructor:oi,load:function(e,t,r,n){function i(){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),$p.add(e,this),t&&t(this),a.manager.itemEnd(e)}function o(t){u.removeEventListener("load",i,!1),u.removeEventListener("error",o,!1),n&&n(t),a.manager.itemError(e),a.manager.itemEnd(e)}void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,s=$p.get(e);if(void 0!==s)return a.manager.itemStart(e),setTimeout((function(){t&&t(s),a.manager.itemEnd(e)}),0),s;var u=document.createElementNS("http://www.w3.org/1999/xhtml","img");return u.addEventListener("load",i,!1),u.addEventListener("error",o,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(u.crossOrigin=this.crossOrigin),a.manager.itemStart(e),u.src=e,u}}),ai.prototype=Cc(vc(ei.prototype),{constructor:ai,load:function(e,t,r,n){function i(r){a.load(e[r],(function(e){o.images[r]=e,s++,6===s&&(o.needsUpdate=!0,t&&t(o))}),void 0,n)}var o=new xe,a=new oi(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var s=0;for(r=0;r<e.length;++r)i(r);return o}}),si.prototype=Cc(vc(ei.prototype),{constructor:si,load:function(e,t,r,n){var i=new l,o=new oi(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(r){i.image=r,r=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data:image\/jpeg/),i.format=r?1022:1023,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}),Cc(ui.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r=[],n=this.getPoint(0),i=0;for(r.push(0),t=1;t<=e;t++){var o=this.getPoint(t/e);i+=o.distanceTo(n),r.push(i),n=o}return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r=this.getLengths(),n=r.length;t=t||e*r[n-1];for(var i,o=0,a=n-1;o<=a;)if(e=Math.floor(o+(a-o)/2),i=r[e]-t,0>i)o=e+1;else{if(!(0<i)){a=e;break}a=e-1}return e=a,r[e]===t?e/(n-1):(o=r[e],(e+(t-o)/(r[e+1]-o))/(n-1))},getTangent:function(e,t){var r=e-1e-4;return e+=1e-4,0>r&&(r=0),1<e&&(e=1),r=this.getPoint(r),e=this.getPoint(e),t=t||(r.isVector2?new s:new d),t.copy(e).sub(r).normalize(),t},getTangentAt:function(e,t){return e=this.getUtoTmapping(e),this.getTangent(e,t)},computeFrenetFrames:function(e,t){var r,n=new d,i=[],o=[],a=[],s=new d,u=new g;for(r=0;r<=e;r++){var l=r/e;i[r]=this.getTangentAt(l,new d),i[r].normalize()}o[0]=new d,a[0]=new d,r=Number.MAX_VALUE,l=Math.abs(i[0].x);var c=Math.abs(i[0].y),h=Math.abs(i[0].z);for(l<=r&&(r=l,n.set(1,0,0)),c<=r&&(r=c,n.set(0,1,0)),h<=r&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]),r=1;r<=e;r++)o[r]=o[r-1].clone(),a[r]=a[r-1].clone(),s.crossVectors(i[r-1],i[r]),s.length()>Dc&&(s.normalize(),n=Math.acos(nh.clamp(i[r-1].dot(i[r]),-1,1)),o[r].applyMatrix4(u.makeRotationAxis(s,n))),a[r].crossVectors(i[r],o[r]);if(!0===t)for(n=Math.acos(nh.clamp(o[0].dot(o[e]),-1,1)),n/=e,0<i[0].dot(s.crossVectors(o[0],o[e]))&&(n=-n),r=1;r<=e;r++)o[r].applyMatrix4(u.makeRotationAxis(i[r],n*r)),a[r].crossVectors(i[r],o[r]);return{tangents:i,normals:o,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),li.prototype=vc(ui.prototype),li.prototype.constructor=li,li.prototype.isEllipseCurve=!0,li.prototype.getPoint=function(e,t){t=t||new s;for(var r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,i=Math.abs(n)<Dc;0>n;)n+=r;for(;n>r;)n-=r;n<Dc&&(n=i?0:r),!0!==this.aClockwise||i||(n=n===r?-r:n-r),r=this.aStartAngle+e*n,e=this.aX+this.xRadius*Math.cos(r);var o=this.aY+this.yRadius*Math.sin(r);return 0!==this.aRotation&&(r=Math.cos(this.aRotation),n=Math.sin(this.aRotation),i=e-this.aX,o-=this.aY,e=i*r-o*n+this.aX,o=i*n+o*r+this.aY),t.set(e,o)},li.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},li.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},li.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ci.prototype=vc(li.prototype),ci.prototype.constructor=ci,ci.prototype.isArcCurve=!0;var rd=new d,nd=new hi,id=new hi,od=new hi;fi.prototype=vc(ui.prototype),fi.prototype.constructor=fi,fi.prototype.isCatmullRomCurve3=!0,fi.prototype.getPoint=function(e,t){t=t||new d;var r=this.points,n=r.length;e*=n-(this.closed?0:1);var i=Math.floor(e);if(e-=i,this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/n)+1)*n:0===e&&i===n-1&&(i=n-2,e=1),this.closed||0<i)var o=r[(i-1)%n];else rd.subVectors(r[0],r[1]).add(r[0]),o=rd;var a=r[i%n],s=r[(i+1)%n];if(this.closed||i+2<n?r=r[(i+2)%n]:(rd.subVectors(r[n-1],r[n-2]).add(r[n-1]),r=rd),"centripetal"===this.curveType||"chordal"===this.curveType){var u="chordal"===this.curveType?.5:.25;n=Math.pow(o.distanceToSquared(a),u),i=Math.pow(a.distanceToSquared(s),u),u=Math.pow(s.distanceToSquared(r),u),1e-4>i&&(i=1),1e-4>n&&(n=i),1e-4>u&&(u=i),nd.initNonuniformCatmullRom(o.x,a.x,s.x,r.x,n,i,u),id.initNonuniformCatmullRom(o.y,a.y,s.y,r.y,n,i,u),od.initNonuniformCatmullRom(o.z,a.z,s.z,r.z,n,i,u)}else"catmullrom"===this.curveType&&(nd.initCatmullRom(o.x,a.x,s.x,r.x,this.tension),id.initCatmullRom(o.y,a.y,s.y,r.y,this.tension),od.initCatmullRom(o.z,a.z,s.z,r.z,this.tension));return t.set(nd.calc(e),id.calc(e),od.calc(e)),t},fi.prototype.copy=function(e){ui.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},fi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},fi.prototype.fromJSON=function(e){ui.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new d).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},mi.prototype=vc(ui.prototype),mi.prototype.constructor=mi,mi.prototype.isCubicBezierCurve=!0,mi.prototype.getPoint=function(e,t){t=t||new s;var r=this.v0,n=this.v1,i=this.v2,o=this.v3;return t.set(gi(e,r.x,n.x,i.x,o.x),gi(e,r.y,n.y,i.y,o.y)),t},mi.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},mi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},mi.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},vi.prototype=vc(ui.prototype),vi.prototype.constructor=vi,vi.prototype.isCubicBezierCurve3=!0,vi.prototype.getPoint=function(e,t){t=t||new d;var r=this.v0,n=this.v1,i=this.v2,o=this.v3;return t.set(gi(e,r.x,n.x,i.x,o.x),gi(e,r.y,n.y,i.y,o.y),gi(e,r.z,n.z,i.z,o.z)),t},vi.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},vi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},vi.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},yi.prototype=vc(ui.prototype),yi.prototype.constructor=yi,yi.prototype.isLineCurve=!0,yi.prototype.getPoint=function(e,t){return t=t||new s,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},yi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},yi.prototype.getTangent=function(e,t){return e=t||new s,e.copy(this.v2).sub(this.v1).normalize()},yi.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yi.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},bi.prototype=vc(ui.prototype),bi.prototype.constructor=bi,bi.prototype.isLineCurve3=!0,bi.prototype.getPoint=function(e,t){return t=t||new d,1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},bi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},bi.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},bi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},bi.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},xi.prototype=vc(ui.prototype),xi.prototype.constructor=xi,xi.prototype.isQuadraticBezierCurve=!0,xi.prototype.getPoint=function(e,t){t=t||new s;var r=this.v0,n=this.v1,i=this.v2;return t.set(di(e,r.x,n.x,i.x),di(e,r.y,n.y,i.y)),t},xi.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},xi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},xi.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ai.prototype=vc(ui.prototype),Ai.prototype.constructor=Ai,Ai.prototype.isQuadraticBezierCurve3=!0,Ai.prototype.getPoint=function(e,t){t=t||new d;var r=this.v0,n=this.v1,i=this.v2;return t.set(di(e,r.x,n.x,i.x),di(e,r.y,n.y,i.y),di(e,r.z,n.z,i.z)),t},Ai.prototype.copy=function(e){return ui.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ai.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ai.prototype.fromJSON=function(e){return ui.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},wi.prototype=vc(ui.prototype),wi.prototype.constructor=wi,wi.prototype.isSplineCurve=!0,wi.prototype.getPoint=function(e,t){t=t||new s;var r=this.points,n=(r.length-1)*e;e=Math.floor(n),n-=e;var i=r[0===e?e:e-1],o=r[e],a=r[e>r.length-2?r.length-1:e+1];return r=r[e>r.length-3?r.length-1:e+2],t.set(pi(n,i.x,o.x,a.x,r.x),pi(n,i.y,o.y,a.y,r.y)),t},wi.prototype.copy=function(e){ui.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++)this.points.push(e.points[t].clone());return this},wi.prototype.toJSON=function(){var e=ui.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++)e.points.push(this.points[t].toArray());return e},wi.prototype.fromJSON=function(e){ui.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new s).fromArray(n))}return this};var ad=Du({__proto__:null,ArcCurve:ci,CatmullRomCurve3:fi,CubicBezierCurve:mi,CubicBezierCurve3:vi,EllipseCurve:li,LineCurve:yi,LineCurve3:bi,QuadraticBezierCurve:xi,QuadraticBezierCurve3:Ai,SplineCurve:wi});_i.prototype=Cc(vc(ui.prototype),{constructor:_i,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new yi(t,e))},getPoint:function(e){var t=e*this.getLength(),r=this.getCurveLengths();for(e=0;e<r.length;){if(r[e]>=t)return t=r[e]-t,e=this.curves[e],r=e.getLength(),e.getPointAt(0===r?0:1-t/r);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++){var o=i[n];o=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e);for(var a=0;a<o.length;a++){var s=o[a];t&&t.equals(s)||(r.push(s),t=s)}}return this.autoClose&&1<r.length&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){ui.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=ui.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++)e.curves.push(this.curves[t].toJSON());return e},fromJSON:function(e){ui.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new ad[n.type]).fromJSON(n))}return this}}),Ci.prototype=Cc(vc(_i.prototype),{constructor:Ci,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new yi(this.currentPoint.clone(),new s(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){return e=new xi(this.currentPoint.clone(),new s(e,t),new s(r,n)),this.curves.push(e),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return e=new mi(this.currentPoint.clone(),new s(e,t),new s(r,n),new s(i,o)),this.curves.push(e),this.currentPoint.set(i,o),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);return t=new wi(t),this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,o),this},absarc:function(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this},ellipse:function(e,t,r,n,i,o,a,s){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,r,n,i,o,a,s),this},absellipse:function(e,t,r,n,i,o,a,s){return e=new li(e,t,r,n,i,o,a,s),0<this.curves.length&&(t=e.getPoint(0),t.equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e),this},copy:function(e){return _i.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=_i.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return _i.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Mi.prototype=Cc(vc(Ci.prototype),{constructor:Mi,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ci.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++)this.holes.push(e.holes[t].clone());return this},toJSON:function(){var e=Ci.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++)e.holes.push(this.holes[t].toJSON());return e},fromJSON:function(e){Ci.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new Ci).fromJSON(n))}return this}}),Si.prototype=Cc(vc(y.prototype),{constructor:Si,isLight:!0,copy:function(e){return y.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return e=y.prototype.toJSON.call(this,e),e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ti.prototype=Cc(vc(Si.prototype),{constructor:Ti,isHemisphereLight:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Cc(Ei.prototype,{_projScreenMatrix:new g,_lightPositionWorld:new d,_lookTarget:new d,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ii.prototype=Cc(vc(Ei.prototype),{constructor:Ii,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*nh.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),Ei.prototype.updateMatrices.call(this,e)}}),Ri.prototype=Cc(vc(Si.prototype),{constructor:Ri,isSpotLight:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Li.prototype=Cc(vc(Ei.prototype),{constructor:Li,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var r=this.camera,n=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),o.copy(r.position),o.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(o),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Pi.prototype=Cc(vc(Si.prototype),{constructor:Pi,isPointLight:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Oi.prototype=Cc(vc($.prototype),{constructor:Oi,isOrthographicCamera:!0,copy:function(e,t){return $.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Cc({},e.view),this},setViewOffset:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e;r+=e,e=n+t,t=n-t,null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom,i+=n*this.view.offsetX,r=i+n*this.view.width,e-=t*this.view.offsetY,t=e-t*this.view.height),this.projectionMatrix.makeOrthographic(i,r,e,t,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=y.prototype.toJSON.call(this,e),e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Cc({},this.view)),e}}),Di.prototype=Cc(vc(Ei.prototype),{constructor:Di,isDirectionalLightShadow:!0,updateMatrices:function(e){Ei.prototype.updateMatrices.call(this,e)}}),ki.prototype=Cc(vc(Si.prototype),{constructor:ki,isDirectionalLight:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ni.prototype=Cc(vc(Si.prototype),{constructor:Ni,isAmbientLight:!0}),Fi.prototype=Cc(vc(Si.prototype),{constructor:Fi,isRectAreaLight:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return e=Si.prototype.toJSON.call(this,e),e.object.width=this.width,e.object.height=this.height,e}}),Cc(Bi.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;9>t;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;9>e;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var r=e.x,n=e.y;e=e.z;var i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*n),t.addScaledVector(i[2],.488603*e),t.addScaledVector(i[3],.488603*r),t.addScaledVector(i[4],1.092548*r*n),t.addScaledVector(i[5],1.092548*n*e),t.addScaledVector(i[6],.315392*(3*e*e-1)),t.addScaledVector(i[7],1.092548*r*e),t.addScaledVector(i[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){var r=e.x,n=e.y;e=e.z;var i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*n),t.addScaledVector(i[2],1.023328*e),t.addScaledVector(i[3],1.023328*r),t.addScaledVector(i[4],.858086*r*n),t.addScaledVector(i[5],.858086*n*e),t.addScaledVector(i[6],.743125*e*e-.247708),t.addScaledVector(i[7],.858086*r*e),t.addScaledVector(i[8],.429043*(r*r-n*n)),t},add:function(e){for(var t=0;9>t;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var r=0;9>r;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this},scale:function(e){for(var t=0;9>t;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var r=0;9>r;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(var t=0;9>t;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var r=this.coefficients,n=0;9>n;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=this.coefficients,n=0;9>n;n++)r[n].toArray(e,t+3*n);return e}}),Cc(Bi,{getBasisAt:function(e,t){var r=e.x,n=e.y;e=e.z,t[0]=.282095,t[1]=.488603*n,t[2]=.488603*e,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*e,t[6]=.315392*(3*e*e-1),t[7]=1.092548*r*e,t[8]=.546274*(r*r-n*n)}}),zi.prototype=Cc(vc(Si.prototype),{constructor:zi,isLightProbe:!0,copy:function(e){return Si.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){return e=Si.prototype.toJSON.call(this,e),e.object.sh=this.sh.toArray(),e}}),Ui.prototype=Cc(vc(ei.prototype),{constructor:Ui,load:function(e,t,r,n){var i=this,o=new ti(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){function t(e){return void 0===r[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]}var r=this.textures,n=new Jp[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new S).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.vertexTangents&&(n.vertexTangents=e.vertexTangents),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&(n.vertexColors="number"===typeof e.vertexColors?0<e.vertexColors:e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(n.uniforms[i]={},o.type){case"t":n.uniforms[i].value=t(o.value);break;case"c":n.uniforms[i].value=(new S).setHex(o.value);break;case"v2":n.uniforms[i].value=(new s).fromArray(o.value);break;case"v3":n.uniforms[i].value=(new d).fromArray(o.value);break;case"v4":n.uniforms[i].value=(new c).fromArray(o.value);break;case"m3":n.uniforms[i].value=(new u).fromArray(o.value);case"m4":n.uniforms[i].value=(new g).fromArray(o.value);break;default:n.uniforms[i].value=o.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)n.extensions[a]=e.extensions[a];return void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=t(e.map)),void 0!==e.matcap&&(n.matcap=t(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=t(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=t(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale&&(i=e.normalScale,!1===Array.isArray(i)&&(i=[i,i]),n.normalScale=(new s).fromArray(i)),void 0!==e.displacementMap&&(n.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=t(e.specularMap)),void 0!==e.envMap&&(n.envMap=t(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=t(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=t(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=t(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=t(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new s).fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});var sd={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};ji.prototype=Cc(vc(W.prototype),{constructor:ji,isInstancedBufferGeometry:!0,copy:function(e){return W.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=W.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Hi.prototype=Cc(vc(O.prototype),{constructor:Hi,isInstancedBufferAttribute:!0,copy:function(e){return O.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=O.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Gi.prototype=Cc(vc(ei.prototype),{constructor:Gi,load:function(e,t,r,n){var i=this,o=new ti(i.manager);o.setPath(i.path),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},parse:function(e){var t=e.isInstancedBufferGeometry?new ji:new W,r=e.data.index;if(void 0!==r){var n=new ud[r.type](r.array);t.setIndex(new O(n,1))}for(var i in r=e.data.attributes,r){var o=r[i];n=new ud[o.type](o.array),n=new(o.isInstancedBufferAttribute?Hi:O)(n,o.itemSize,o.normalized),void 0!==o.name&&(n.name=o.name),t.setAttribute(i,n)}var a=e.data.morphAttributes;if(a)for(i in a){var s=a[i],u=[];r=0;for(var l=s.length;r<l;r++)o=s[r],n=new ud[o.type](o.array),n=new O(n,o.itemSize,o.normalized),void 0!==o.name&&(n.name=o.name),u.push(n);t.morphAttributes[i]=u}if(e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0),i=e.data.groups||e.data.drawcalls||e.data.offsets,void 0!==i)for(r=0,o=i.length;r!==o;++r)n=i[r],t.addGroup(n.start,n.count,n.materialIndex);return r=e.data.boundingSphere,void 0!==r&&(i=new d,void 0!==r.center&&i.fromArray(r.center),t.boundingSphere=new w(i,r.radius)),e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var ud={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Vi.prototype=Cc(vc(ei.prototype),{constructor:Vi,load:function(e,t,r,n){var i=this,o=""===this.path?sd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o,o=new ti(i.manager),o.setPath(this.path),o.load(e,(function(r){var o=null;try{o=JSON.parse(r)}catch(a){return void 0!==n&&n(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}r=o.metadata,void 0===r||void 0===r.type||"geometry"===r.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e):i.parse(o,t)}),r,n)},parse:function(e,t){var r=this.parseShape(e.shapes);r=this.parseGeometries(e.geometries,r);var n=this.parseImages(e.images,(function(){void 0!==t&&t(i)}));n=this.parseTextures(e.textures,n),n=this.parseMaterials(e.materials,n);var i=this.parseObject(e.object,r,n);return e.animations&&(i.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0===t||t(i),i},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new Mi).fromJSON(e[r]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var r={};if(void 0!==e)for(var n=new Gi,i=0,o=e.length;i<o;i++){var a=e[i];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":var s=new Kp[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Kp[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Kp[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Kp[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Kp[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Kp[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Kp[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Kp[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Kp[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Kp[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Kp[a.type]((new ad[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Kp[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Kp[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":s=[];for(var u=0,l=a.shapes.length;u<l;u++){var c=t[a.shapes[u]];s.push(c)}s=new Kp[a.type](s,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(s=[],u=0,l=a.shapes.length;u<l;u++)c=t[a.shapes[u]],s.push(c);u=a.options.extrudePath,void 0!==u&&(a.options.extrudePath=(new ad[u.type]).fromJSON(u)),s=new Kp[a.type](s,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=n.parse(a);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),r[a.uuid]=s}return r},parseMaterials:function(e,t){var r={},n={};if(void 0!==e){var i=new Ui;i.setTextures(t),t=0;for(var o=e.length;t<o;t++){var a=e[t];if("MultiMaterial"===a.type){for(var s=[],u=0;u<a.materials.length;u++){var l=a.materials[u];void 0===r[l.uuid]&&(r[l.uuid]=i.parse(l)),s.push(r[l.uuid])}n[a.uuid]=s}else void 0===r[a.uuid]&&(r[a.uuid]=i.parse(a)),n[a.uuid]=r[a.uuid]}}return n},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=Kn.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),t.push(i)}return t},parseImages:function(e,t){function r(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}var n=this,i={};if(void 0!==e&&0<e.length){t=new $n(t);var o=new oi(t);o.setCrossOrigin(this.crossOrigin),t=0;for(var a=e.length;t<a;t++){var s=e[t],u=s.url;if(Array.isArray(u)){i[s.uuid]=[];for(var l=0,c=u.length;l<c;l++){var h=u[l];h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h,i[s.uuid].push(r(h))}}else h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:n.resourcePath+s.url,i[s.uuid]=r(h)}}return i},parseTextures:function(e,t){function r(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=Array.isArray(t[a.image])?new xe(t[a.image]):new l(t[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=r(a.mapping,ld)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=r(a.wrap[0],cd),s.wrapT=r(a.wrap[1],cd)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=r(a.minFilter,hd)),void 0!==a.magFilter&&(s.magFilter=r(a.magFilter,hd)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),n[a.uuid]=s}return n},parseObject:function(e,t,r){function n(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function i(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":var o=new b;void 0!==e.background&&Lc(e.background)&&(o.background=new S(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Qt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Jt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new ee(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Cc({},e.view));break;case"OrthographicCamera":o=new Oi(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Cc({},e.view));break;case"AmbientLight":o=new Ni(e.color,e.intensity);break;case"DirectionalLight":o=new ki(e.color,e.intensity);break;case"PointLight":o=new Pi(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Fi(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Ri(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Ti(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new zi).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=n(e.geometry);var a=i(e.material);o=new X(o,a);break;case"InstancedMesh":o=n(e.geometry),a=i(e.material);var s=e.instanceMatrix;o=new ur(o,a,e.count),o.instanceMatrix=new O(new Float32Array(s.array),16);break;case"LOD":o=new ir;break;case"Line":o=new cr(n(e.geometry),i(e.material),e.mode);break;case"LineLoop":o=new fr(n(e.geometry),i(e.material));break;case"LineSegments":o=new hr(n(e.geometry),i(e.material));break;case"PointCloud":case"Points":o=new dr(n(e.geometry),i(e.material));break;case"Sprite":o=new rr(i(e.material));break;case"Group":o=new Xt;break;default:o=new y}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children)for(s=e.children,a=0;a<s.length;a++)o.add(this.parseObject(s[a],t,r));if("LOD"===e.type)for(void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate),e=e.levels,s=0;s<e.length;s++){a=e[s];var u=o.getObjectByProperty("uuid",a.object);void 0!==u&&o.addLevel(u,a.distance)}return o}});var ld={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},cd={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},hd={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};Wi.prototype=Cc(vc(ei.prototype),{constructor:Wi,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=$p.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(r){$p.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Cc(Xi.prototype,{moveTo:function(e,t){return this.currentPath=new Ci,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return this.currentPath.bezierCurveTo(e,t,r,n,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=new Mi;o.curves=i.curves,t.push(o)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Dc){if(0>l&&(a=t[o],u=-u,s=t[i],l=-l),!(e.y<a.y||e.y>s.y))if(e.y===a.y){if(e.x===a.x)return!0}else{if(i=l*(e.x-a.x)-u*(e.y-a.y),0===i)return!0;0>i||(n=!n)}}else if(e.y===a.y&&(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x))return!0}return n}var i=Yp.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return r(o);if(t=[],1===o.length){var a=o[0],s=new Mi;return s.curves=a.curves,t.push(s),t}var u=!i(o[0].getPoints());u=e?!u:u,s=[];var l=[],c=[],h=0;l[h]=void 0,c[h]=[];for(var f=0,p=o.length;f<p;f++){a=o[f];var d=a.getPoints(),g=i(d);(g=e?!g:g)?(!u&&l[h]&&h++,l[h]={s:new Mi,p:d},l[h].s.curves=a.curves,u&&h++,c[h]=[]):c[h].push({h:a,p:d[0]})}if(!l[0])return r(o);if(1<l.length){for(f=!1,e=[],i=0,o=l.length;i<o;i++)s[i]=[];for(i=0,o=l.length;i<o;i++)for(a=c[i],g=0;g<a.length;g++){for(u=a[g],h=!0,d=0;d<l.length;d++)n(u.p,l[d].p)&&(i!==d&&e.push({froms:i,tos:d,hole:g}),h?(h=!1,s[d].push(u)):f=!0);h&&s[i].push(u)}0<e.length&&(f||(c=s))}for(f=0,i=l.length;f<i;f++)for(s=l[f].s,t.push(s),e=c[f],o=0,a=e.length;o<a;o++)s.holes.push(e[o].h);return t}}),Cc(qi.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);var r=[],n=t;t=this.data;var i=ws?ws(e):String(e).split("");n/=t.resolution;var o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*n;e=[];for(var a=0,s=0,u=0;u<i.length;u++){var l=i[u];if("\n"===l)a=0,s-=o;else{var c=l;l=n;var h=a,f=s,p=t,d=p.glyphs[c]||p.glyphs["?"];if(d){if(c=new Xi,d.o){p=d._cachedOutline||(d._cachedOutline=d.o.split(" "));for(var g=0,m=p.length;g<m;)switch(p[g++]){case"m":var v=p[g++]*l+h,y=p[g++]*l+f;c.moveTo(v,y);break;case"l":v=p[g++]*l+h,y=p[g++]*l+f,c.lineTo(v,y);break;case"q":var b=p[g++]*l+h,x=p[g++]*l+f,A=p[g++]*l+h,w=p[g++]*l+f;c.quadraticCurveTo(A,w,b,x);break;case"b":b=p[g++]*l+h,x=p[g++]*l+f,A=p[g++]*l+h,w=p[g++]*l+f,v=p[g++]*l+h,y=p[g++]*l+f,c.bezierCurveTo(A,w,v,y,b,x)}}l={offsetX:d.ha*l,path:c}}else console.error('THREE.Font: character "'+c+'" does not exists in font family '+p.familyName+"."),l=void 0;a+=l.offsetX,e.push(l.path)}}for(t=0,i=e.length;t<i;t++)Array.prototype.push.apply(r,e[t].toShapes());return r}}),Yi.prototype=Cc(vc(ei.prototype),{constructor:Yi,load:function(e,t,r,n){var i=this,o=new ti(this.manager);o.setPath(this.path),o.load(e,(function(e){try{var r=JSON.parse(e)}catch(n){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}e=i.parse(r),t&&t(e)}),r,n)},parse:function(e){return new qi(e)}});var fd,pd={getContext:function(){return void 0===fd&&(fd=new(window.AudioContext||window.webkitAudioContext)),fd},setContext:function(e){fd=e}};Zi.prototype=Cc(vc(ei.prototype),{constructor:Zi,load:function(e,t,r,n){var i=this,o=new ti(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.load(e,(function(r){try{var o=r.slice(0);pd.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)}}),Ki.prototype=Cc(vc(zi.prototype),{constructor:Ki,isHemisphereLightProbe:!0,copy:function(e){return zi.prototype.copy.call(this,e),this},toJSON:function(e){return zi.prototype.toJSON.call(this,e)}}),Ji.prototype=Cc(vc(zi.prototype),{constructor:Ji,isAmbientLightProbe:!0,copy:function(e){return zi.prototype.copy.call(this,e),this},toJSON:function(e){return zi.prototype.toJSON.call(this,e)}});var dd=new g,gd=new g;Cc(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ee,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ee,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r=e.projectionMatrix.clone(),n=t.eyeSep/2,i=n*t.near/t.focus,o=t.near*Math.tan(nh.DEG2RAD*t.fov*.5)/t.zoom;gd.elements[12]=-n,dd.elements[12]=n,n=-o*t.aspect+i;var a=o*t.aspect+i;r.elements[0]=2*t.near/(a-n),r.elements[8]=(a+n)/(a-n),this.cameraL.projectionMatrix.copy(r),n=-o*t.aspect-i,a=o*t.aspect-i,r.elements[0]=2*t.near/(a-n),r.elements[8]=(a+n)/(a-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(dd)}}),Cc(Qi.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var md=new d,vd=new p,yd=new d,bd=new d;$i.prototype=Cc(vc(y.prototype),{constructor:$i,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){y.prototype.updateMatrixWorld.call(this,e),e=this.context.listener;var t=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(md,vd,yd),bd.set(0,0,-1).applyQuaternion(vd),e.positionX){var r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(md.x,r),e.positionY.linearRampToValueAtTime(md.y,r),e.positionZ.linearRampToValueAtTime(md.z,r),e.forwardX.linearRampToValueAtTime(bd.x,r),e.forwardY.linearRampToValueAtTime(bd.y,r),e.forwardZ.linearRampToValueAtTime(bd.z,r),e.upX.linearRampToValueAtTime(t.x,r),e.upY.linearRampToValueAtTime(t.y,r),e.upZ.linearRampToValueAtTime(t.z,r)}else e.setPosition(md.x,md.y,md.z),e.setOrientation(bd.x,bd.y,bd.z,t.x,t.y,t.z)}}),eo.prototype=Cc(vc(y.prototype),{constructor:eo,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+e,e=this.context.createBufferSource(),e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var xd=new d,Ad=new p,wd=new d,_d=new d;to.prototype=Cc(vc(eo.prototype),{constructor:to,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(y.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(xd,Ad,wd),_d.set(0,0,1).applyQuaternion(Ad),e=this.panner,e.positionX){var t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(xd.x,t),e.positionY.linearRampToValueAtTime(xd.y,t),e.positionZ.linearRampToValueAtTime(xd.z,t),e.orientationX.linearRampToValueAtTime(_d.x,t),e.orientationY.linearRampToValueAtTime(_d.y,t),e.orientationZ.linearRampToValueAtTime(_d.z,t)}else e.setPosition(xd.x,xd.y,xd.z),e.setOrientation(_d.x,_d.y,_d.z)}}),Cc(ro.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Cc(no.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize;e=e*n+n;var i=this.cumulativeWeight;if(0===i){for(i=0;i!==n;++i)r[e+i]=r[i];i=t}else i+=t,this._mixBufferRegion(r,e,0,t/i,n);this.cumulativeWeight=i},accumulateAdditive:function(e){var t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,r=this.buffer;e=e*t+t;var n=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>n&&this._mixBufferRegion(r,e,t*this._origIndex,1-n,t),0<i&&this._mixBufferRegionAdditive(r,e,this._addIndex*t,1,t),n=t,i=t+t;n!==i;++n)if(r[n]!==r[n+t]){o.setValue(r,e);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,r=t*this._origIndex;this.binding.getValue(e,r);for(var n=t;n!==r;++n)e[n]=e[r+n%t];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize;e<t;e++)this.buffer[e]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]},_select:function(e,t,r,n,i){if(.5<=n)for(n=0;n!==i;++n)e[t+n]=e[r+n]},_slerp:function(e,t,r,n){p.slerpFlat(e,t,e,t,e,r,n)},_slerpAdditive:function(e,t,r,n,i){i*=this._workIndex,p.multiplyQuaternionsFlat(e,i,e,t,e,r),p.slerpFlat(e,t,e,t,e,i,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}},_lerpAdditive:function(e,t,r,n,i){for(var o=0;o!==i;++o){var a=t+o;e[a]+=e[r+o]*n}}});var Cd=/[\[\]\.:\/]/g,Md="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Sd=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Td=/(WCOD+)?/.source.replace("WCOD",Md),Ed=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Id=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Rd=new RegExp("^"+Sd+Td+Ed+Id+"$"),Ld=["material","materials","bones"];Cc(io.prototype,{getValue:function(e,t){this.bind();var r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Cc(oo,{Composite:io,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new oo.Composite(e,t,r):new oo(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Cd,"")},parseTrackName:function(e){var t=Rd.exec(e);if(!t)throw Error("PropertyBinding: Cannot parse trackName: "+e);t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]};var r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=t.nodeName.substring(r+1);-1!==Ld.indexOf(n)&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=n)}if(null===t.propertyName||0===t.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}return e.children&&(e=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t||(i=e(i.children)))return i}return null}(e.children))?e:null}}),Cc(oo.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(this.node=e=oo.findNode(this.rootNode,t.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(e=e.skeleton.bones,r=0;r<e.length;r++)if(e[r].name===o){o=r;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}if(o=e[n],void 0===o)console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+n+" but it wasn't found.",e);else{if(t=this.Versioning.None,this.targetObject=e,void 0!==e.needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),r=this.BindingType.Direct,void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}r=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(r=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(r=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[r],this.setValue=this.SetterByBindingTypeAndVersioning[r][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Cc(oo.prototype,{_getValue_unbound:oo.prototype.getValue,_setValue_unbound:oo.prototype.setValue}),Cc(function(){this.uuid=nh.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,p=n[f];if(void 0===p){p=t++,n[f]=p,e.push(h),f=0;for(var d=s;f!==d;++f)a[f].push(new oo(h,i[f],o[f]))}else if(p<r){u=e[p];var g=--r;for(d=e[g],n[d.uuid]=p,e[p]=d,n[f]=g,e[g]=h,f=0,d=s;f!==d;++f){var m=a[f],v=m[p];m[p]=m[g],void 0===v&&(v=new oo(h,i[f],o[f])),m[g]=v}}else e[p]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,l=r[u];if(void 0!==l&&l>=t){var c=t++,h=e[c];for(r[h.uuid]=l,e[l]=h,r[u]=c,e[c]=s,s=0,u=i;s!==u;++s){h=n[s];var f=h[l];h[l]=h[c],h[c]=f}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a].uuid,l=n[u];if(void 0!==l)if(delete n[u],l<r){u=--r;var c=e[u],h=--t,f=e[h];for(n[c.uuid]=l,e[l]=c,n[f.uuid]=u,e[u]=f,e.pop(),c=0,f=o;c!==f;++c){var p=i[c],d=p[h];p[l]=p[u],p[u]=d,p.pop()}}else for(h=--t,f=e[h],n[f.uuid]=l,e[l]=f,e.pop(),c=0,f=o;c!==f;++c)p=i[c],p[l]=p[h],p.pop()}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,u=this.nCachedObjects_,l=Array(s.length);for(n=i.length,r[e]=n,o.push(e),a.push(t),i.push(l),r=u,n=s.length;r!==n;++r)l[r]=new oo(s[r],e,t);return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Cc(ao.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){r=this._clip.duration;var n=e._clip.duration,i=r/n;e.warp(1,n/r,t),this.warp(i,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;return null===o&&(this._timeScaleInterpolant=o=n._lendControlInterpolant()),n=o.parameterPositions,o=o.sampleValues,n[0]=i,n[1]=i+r,o[0]=e/a,o[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){if(t=(e-i)*r,0>t||0===r)return;this._startTime=null,t*=r}if(t*=this._updateTimeScale(e),r=this._updateTime(t),e=this._updateWeight(e),0<e)switch(t=this._interpolants,i=this._propertyBindings,this.blendMode){case 2501:for(var o=0,a=t.length;o!==a;++o)t[o].evaluate(r),i[o].accumulateAdditive(e);break;default:for(o=0,a=t.length;o!==a;++o)t[o].evaluate(r),i[o].accumulate(n,e)}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e,r=this._clip.duration,n=this.loop,i=this._loopCount,o=2202===n;if(0===e)return-1===i?t:o&&1===(1&i)?r-t:t;if(2200===n)e:{if(-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1)),t>=r)t=r;else{if(!(0>t)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=r||0>t){n=Math.floor(t/r),t-=r*n,i+=Math.abs(n);var a=this.repetitions-i;0>=a?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t=0<e?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1===a?(e=0>e,this._setEndings(e,!e,o)):this._setEndings(!1,!1,o),this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n}))}else this.time=t;if(o&&1===(1&i))return r-t}return t},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,n.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;return null===o&&(this._weightInterpolant=o=n._lendControlInterpolant()),n=o.parameterPositions,o=o.sampleValues,n[0]=i,o[0]=t,n[1]=i+e,o[1]=r,this}}),so.prototype=Cc(vc(a.prototype),{constructor:so,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings;e=e._interpolants;var a=r.uuid,s=this._bindingsByRootAndName,u=s[a];for(void 0===u&&(u={},s[a]=u),s=0;s!==i;++s){var l=n[s],c=l.name,h=u[c];if(void 0===h){if(h=o[s],void 0!==h){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,a,c));continue}h=new no(oo.create(r,c,t&&t._propertyBindings[s].binding.parsedPath),l.ValueTypeName,l.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,a,c)}o[s]=h,e[s].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return e=e._cacheIndex,null!==e&&e<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];void 0===o?(o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o):(t=o.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null,t=e._clip.uuid,r=this._actionsByClip,n=r[t];var i=n.knownActions,o=i[i.length-1],a=e._byClipCacheIndex;o._byClipCacheIndex=a,i[a]=o,i.pop(),e._byClipCacheIndex=null,delete n.actionByRoot[(e._localRoot||this._root).uuid],0===i.length&&delete r[t],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var t=0,r=e.length;t!==r;++t){var n=e[t];0===--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=n[t],o=this._bindings;void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid;r=r.path;var i=this._bindingsByRootAndName,o=i[n],a=t[t.length-1];e=e._cacheIndex,a._cacheIndex=e,t[e]=a,t.pop(),delete o[r],0===lc(o).length&&delete i[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&(r=new Un(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,r){var n=t||this._root,i=n.uuid;n="string"===typeof e?Kn.findByName(n,e):e,e=null!==n?n.uuid:e;var o=this._actionsByClip[e],a=null;if(void 0===r&&(r=null!==n?n.blendMode:2500),void 0!==o){if(a=o.actionByRoot[i],void 0!==a&&a.blendMode===r)return a;a=o.knownActions[0],null===n&&(n=a._clip)}return null===n?null:(t=new ao(this,n,t,r),this._bindAction(t,a),this._addInactiveAction(t,e,i),t)},existingAction:function(e,t){var r=t||this._root;return t=r.uuid,r="string"===typeof e?Kn.findByName(r,e):e,e=this._actionsByClip[r?r.uuid:e],void 0!==e&&e.actionByRoot[t]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Tc(e),o=this._accuIndex^=1,a=0;a!==r;++a)t[a]._update(n,e,i,o);for(e=this._bindings,t=this._nActiveBindings,a=0;a!==t;++a)e[a].apply(o);return this},setTime:function(e){for(var t=this.time=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions;e=e.uuid;var r=this._actionsByClip,n=r[e];if(void 0!==n){n=n.knownActions;for(var i=0,o=n.length;i!==o;++i){var a=n[i];this._deactivateAction(a);var s=a._cacheIndex,u=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,u._cacheIndex=s,t[s]=u,t.pop(),this._removeInactiveBindingsForAction(a)}delete r[e]}},uncacheRoot:function(e){e=e.uuid;var t=this._actionsByClip;for(n in t){var r=t[n].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var n=this._bindingsByRootAndName[e];if(void 0!==n)for(var i in n)e=n[i],e.restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,t){e=this.existingAction(e,t),null!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),uo.prototype.clone=function(){return new uo(void 0===this.value.clone?this.value:this.value.clone())},lo.prototype=Cc(vc($t.prototype),{constructor:lo,isInstancedInterleavedBuffer:!0,copy:function(e){return $t.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Cc(co.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){return r=r||[],fo(e,this,r,t),r.sort(ho),r},intersectObjects:function(e,t,r){if(r=r||[],!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var n=0,i=e.length;n<i;n++)fo(e[n],this,r,t);return r.sort(ho),r}}),Cc(function(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e,r),this.phi=Math.acos(nh.clamp(t/this.radius,-1,1))),this}}),Cc(function(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});var Pd=new s;Cc(po.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){return t=Pd.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new s),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new s),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new s),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new s),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Pd.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Od=new d,Dd=new d;Cc(go.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new d),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new d),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new d),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){return Od.subVectors(e,this.start),Dd.subVectors(this.end,this.start),e=Dd.dot(Dd),e=Dd.dot(Od)/e,t&&(e=nh.clamp(e,0,1)),e},closestPointToPoint:function(e,t,r){return e=this.closestPointToPointParameter(e,t),void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new d),this.delta(r).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),mo.prototype=vc(y.prototype),mo.prototype.constructor=mo,mo.prototype.isImmediateRenderObject=!0;var kd=new d;vo.prototype=vc(y.prototype),vo.prototype.constructor=vo,vo.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},vo.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),kd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(kd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Nd=new d,Fd=new g,Bd=new g;bo.prototype=vc(hr.prototype),bo.prototype.constructor=bo,bo.prototype.isSkeletonHelper=!0,bo.prototype.updateMatrixWorld=function(e){var t=this.bones,r=this.geometry,n=r.getAttribute("position");Bd.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Fd.multiplyMatrices(Bd,a.matrixWorld),Nd.setFromMatrixPosition(Fd),n.setXYZ(o,Nd.x,Nd.y,Nd.z),Fd.multiplyMatrices(Bd,a.parent.matrixWorld),Nd.setFromMatrixPosition(Fd),n.setXYZ(o+1,Nd.x,Nd.y,Nd.z),o+=2)}r.getAttribute("position").needsUpdate=!0,y.prototype.updateMatrixWorld.call(this,e)},xo.prototype=vc(X.prototype),xo.prototype.constructor=xo,xo.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},xo.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var zd=new d,Ud=new S,jd=new S;Ao.prototype=vc(y.prototype),Ao.prototype.constructor=Ao,Ao.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Ao.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Ud.copy(this.light.color),jd.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?Ud:jd;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(zd.setFromMatrixPosition(this.light.matrixWorld).negate())},wo.prototype=Cc(vc(hr.prototype),{constructor:wo,copy:function(e){return hr.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),_o.prototype=vc(hr.prototype),_o.prototype.constructor=_o;var Hd=new d,Gd=new d,Vd=new d;Co.prototype=vc(y.prototype),Co.prototype.constructor=Co,Co.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Co.prototype.update=function(){Hd.setFromMatrixPosition(this.light.matrixWorld),Gd.setFromMatrixPosition(this.light.target.matrixWorld),Vd.subVectors(Gd,Hd),this.lightPlane.lookAt(Gd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Gd),this.targetLine.scale.z=Vd.length()};var Wd=new d,Xd=new $;Mo.prototype=vc(hr.prototype),Mo.prototype.constructor=Mo,Mo.prototype.update=function(){var e=this.geometry,t=this.pointMap;Xd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),So("c",t,e,Xd,0,0,-1),So("t",t,e,Xd,0,0,1),So("n1",t,e,Xd,-1,-1,-1),So("n2",t,e,Xd,1,-1,-1),So("n3",t,e,Xd,-1,1,-1),So("n4",t,e,Xd,1,1,-1),So("f1",t,e,Xd,-1,-1,1),So("f2",t,e,Xd,1,-1,1),So("f3",t,e,Xd,-1,1,1),So("f4",t,e,Xd,1,1,1),So("u1",t,e,Xd,.7,1.1,-1),So("u2",t,e,Xd,-.7,1.1,-1),So("u3",t,e,Xd,0,2,-1),So("cf1",t,e,Xd,-1,0,1),So("cf2",t,e,Xd,1,0,1),So("cf3",t,e,Xd,0,-1,1),So("cf4",t,e,Xd,0,1,1),So("cn1",t,e,Xd,-1,0,-1),So("cn2",t,e,Xd,1,0,-1),So("cn3",t,e,Xd,0,-1,-1),So("cn4",t,e,Xd,0,1,-1),e.getAttribute("position").needsUpdate=!0};var qd=new x;To.prototype=vc(hr.prototype),To.prototype.constructor=To,To.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&qd.setFromObject(this.object),!qd.isEmpty()){e=qd.min;var t=qd.max,r=this.geometry.attributes.position,n=r.array;n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=e.x,n[4]=t.y,n[5]=t.z,n[6]=e.x,n[7]=e.y,n[8]=t.z,n[9]=t.x,n[10]=e.y,n[11]=t.z,n[12]=t.x,n[13]=t.y,n[14]=e.z,n[15]=e.x,n[16]=t.y,n[17]=e.z,n[18]=e.x,n[19]=e.y,n[20]=e.z,n[21]=t.x,n[22]=e.y,n[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},To.prototype.setFromObject=function(e){return this.object=e,this.update(),this},To.prototype.copy=function(e){return hr.prototype.copy.call(this,e),this.object=e.object,this},To.prototype.clone=function(){return(new this.constructor).copy(this)},Eo.prototype=vc(hr.prototype),Eo.prototype.constructor=Eo,Eo.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),y.prototype.updateMatrixWorld.call(this,e))},Io.prototype=vc(cr.prototype),Io.prototype.constructor=Io,Io.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?1:0,this.lookAt(this.plane.normal),y.prototype.updateMatrixWorld.call(this,e)};var Yd,Zd,Kd=new d;Ro.prototype=vc(y.prototype),Ro.prototype.constructor=Ro,Ro.prototype.setDirection=function(e){.99999<e.y?this.quaternion.set(0,0,0,1):-.99999>e.y?this.quaternion.set(1,0,0,0):(Kd.set(e.z,0,-e.x).normalize(),this.quaternion.setFromAxisAngle(Kd,Math.acos(e.y)))},Ro.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},Ro.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Ro.prototype.copy=function(e){return y.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Ro.prototype.clone=function(){return(new this.constructor).copy(this)},Lo.prototype=vc(hr.prototype),Lo.prototype.constructor=Lo;var Jd=[.125,.215,.35,.446,.526,.582],Qd=5+Jd.length,$d={};Hc($d,3e3,0),Hc($d,3001,1),Hc($d,3002,2),Hc($d,3004,3),Hc($d,3005,4),Hc($d,3006,5),Hc($d,3007,6),new Oi,function(){for(var e=[],t=[],r=[],n=8,i=0;i<Qd;i++){var o=Math.pow(2,n);t.push(o);var a=1/o;4<i?a=Jd[i-8+4-1]:0==i&&(a=0),r.push(a),a=1/(o-1),o=-a/2,a=1+a/2;var s=[o,o,a,o,a,a,o,o,a,a,o,a];o=new Float32Array(108),a=new Float32Array(72);for(var u=new Float32Array(36),l=0;6>l;l++){var c=l%3*2/3-1,h=2<l?0:-1;o.set([c,h,0,c+2/3,h,0,c+2/3,h+1,0,c,h,0,c+2/3,h+1,0,c,h+1,0],18*l),a.set(s,12*l),u.set([l,l,l,l,l,l],6*l)}s=new W,s.setAttribute("position",new O(o,3)),s.setAttribute("uv",new O(a,2)),s.setAttribute("faceIndex",new O(u,1)),e.push(s),4<n&&n--}}(),ui.create=function(e,t){return e.prototype=vc(ui.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Cc(_i.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Z,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new d(i.x,i.y,i.z||0))}return t}}),Cc(Ci.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),vc(fi.prototype),vc(fi.prototype),Po.prototype=vc(fi.prototype),Cc(Po.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),wo.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},bo.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Cc(ei.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),sd.extractUrlBase(e)}}),ei.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Cc(Vi.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Cc(po.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Cc(x.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Cc(w.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ie.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},go.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Cc(nh,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),nh.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),nh.ceilPowerOfTwo(e)}}),Cc(u.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Cc(g.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new d).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,o)}}),C.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},p.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Cc(_.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Cc(M.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Cc(M,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),M.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),M.getNormal(e,t,r,n)}}),Cc(Mi.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new sn(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new yn(this,e)}}),Cc(s.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(d.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(c.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Cc(Z.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Cc(y.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ac(y.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Cc(X.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Ac(X.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ac(ir.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ar.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),or.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ui.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),ee.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Ac(Si.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Ac(O.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Cc(O.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Cc(W.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t,r){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new O(t,r)))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ac(W.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ac(ji.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Ac(co.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Ac($t.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Cc($t.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Cc(un.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Ac(uo.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Ac(L.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new S}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Ac(Pn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Ac(Q.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Cc(Kt.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Ac(Kt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}}}),Ac(jt.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Ac(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ac(eo.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Zi).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),ro.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},te.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},oh.crossOrigin=void 0,oh.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new si;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,r,void 0,n),t&&(e.mapping=t),e},oh.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new ai;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,r,void 0,n),t&&(e.mapping=t),e},oh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},oh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}}));var eg=function(e){ei.call(this,e)};eg.prototype=Cc(vc(ei.prototype),{constructor:eg,load:function(e,t,r,n){var i=this,o=""===this.path?sd.extractUrlBase(e):this.path,a=new ti(this.manager);a.setPath(this.path),a.load(e,(function(r){try{t(i.parse(r,o))}catch(a){n?n(a):console.error(a),i.manager.itemError(e)}}),r,n)},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(e,t){var r=e.split("\n"),n={},i=/\s+/;e={};for(var o=0;o<r.length;o++){var a=r[o];if(a=a.trim(),0!==a.length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),u=0<=s?a.substring(0,s):a;u=u.toLowerCase(),a=0<=s?a.substring(s+1):"",a=a.trim(),"newmtl"===u?(n={name:a},e[a]=n):"ka"===u||"kd"===u||"ks"===u||"ke"===u?(a=a.split(i,3),n[u]=[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])]):n[u]=a}}return t=new eg.MaterialCreator(this.resourcePath||t,this.materialOptions),t.setCrossOrigin(this.crossOrigin),t.setManager(this.manager),t.setMaterials(e),t}}),eg.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:0,this.wrap=this.options&&this.options.wrap?this.options.wrap:1e3},eg.MaterialCreator.prototype={constructor:eg.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(e){return this.crossOrigin=e,this},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t,r={};for(t in e){var n=e[t],i={};for(var o in r[t]=i,n){var a=!0,s=n[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return r},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e,t=0;for(e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){return"string"!==typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function r(e,r){if(!a[e]){r=i.getTextureParams(r,a);var n=i.loadTexture(t(i.baseUrl,r.url));n.repeat.copy(r.scale),n.offset.copy(r.offset),n.wrapS=i.wrap,n.wrapT=i.wrap,a[e]=n}}var n,i=this,o=this.materialsInfo[e],a={name:e,side:this.side};for(n in o){var s=o[n];if(""!==s)switch(n.toLowerCase()){case"kd":a.color=(new S).fromArray(s);break;case"ks":a.specular=(new S).fromArray(s);break;case"ke":a.emissive=(new S).fromArray(s);break;case"map_kd":r("map",s);break;case"map_ks":r("specularMap",s);break;case"map_ke":r("emissiveMap",s);break;case"norm":r("normalMap",s);break;case"map_bump":case"bump":r("bumpMap",s);break;case"map_d":r("alphaMap",s),a.transparent=!0;break;case"ns":a.shininess=parseFloat(s);break;case"d":s=parseFloat(s),1>s&&(a.opacity=s,a.transparent=!0);break;case"tr":s=parseFloat(s),this.options&&this.options.invertTrProperty&&(s=1-s),0<s&&(a.opacity=1-s,a.transparent=!0)}}return this.materials[e]=new Pn(a),this.materials[e]},getTextureParams:function(e,t){var r={scale:new s(1,1),offset:new s(0,0)};e=e.split(/\s+/);var n=e.indexOf("-bm");return 0<=n&&(t.bumpScale=parseFloat(e[n+1]),e.splice(n,2)),n=e.indexOf("-s"),0<=n&&(r.scale.set(parseFloat(e[n+1]),parseFloat(e[n+2])),e.splice(n,4)),n=e.indexOf("-o"),0<=n&&(r.offset.set(parseFloat(e[n+1]),parseFloat(e[n+2])),e.splice(n,4)),r.url=e.join(" ").trim(),r},loadTexture:function(e,t,r,n,i){var o=void 0!==this.manager?this.manager:ed,a=o.getHandler(e);return null===a&&(a=new si(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),e=a.load(e,r,n,i),void 0!==t&&(e.mapping=t),e}};var tg=function(){function e(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)this.object.name=e,this.object.fromDeclaration=!1!==t;else{var r=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasNormalIndices:!1,hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);return r&&(r.inherited||0>=r.groupCount)&&this.materials.splice(r.index,1),e={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&0<t.length?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){return e={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1},e.clone=this.clone.bind(e),e}},this.materials.push(e),e},currentMaterial:function(){if(0<this.materials.length)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&1<this.materials.length)for(var r=this.materials.length-1;0<=r;r--)0>=this.materials[r].groupCount&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"===typeof r.clone&&(e=r.clone(0),e.inherited=!0,this.object.materials.push(e)),this.objects.push(this.object)}},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){return e=parseInt(e,10),3*(0<=e?e-1:e+t/3)},parseNormalIndex:function(e,t){return e=parseInt(e,10),3*(0<=e?e-1:e+t/3)},parseUVIndex:function(e,t){return e=parseInt(e,10),2*(0<=e?e-1:e+t/2)},addVertex:function(e,t,r){var n=this.vertices,i=this.object.geometry.vertices;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){var n=this.normals,i=this.object.geometry.normals;i.push(n[e+0],n[e+1],n[e+2]),i.push(n[t+0],n[t+1],n[t+2]),i.push(n[r+0],n[r+1],n[r+2])},addFaceNormal:function(e,t,r){var n=this.vertices,i=this.object.geometry.normals;a.fromArray(n,e),s.fromArray(n,t),u.fromArray(n,r),c.subVectors(u,s),l.subVectors(a,s),c.cross(l),c.normalize(),i.push(c.x,c.y,c.z),i.push(c.x,c.y,c.z),i.push(c.x,c.y,c.z)},addColor:function(e,t,r){var n=this.colors,i=this.object.geometry.colors;void 0!==n[e]&&i.push(n[e+0],n[e+1],n[e+2]),void 0!==n[t]&&i.push(n[t+0],n[t+1],n[t+2]),void 0!==n[r]&&i.push(n[r+0],n[r+1],n[r+2])},addUV:function(e,t,r){var n=this.uvs,i=this.object.geometry.uvs;i.push(n[e+0],n[e+1]),i.push(n[t+0],n[t+1]),i.push(n[r+0],n[r+1])},addDefaultUV:function(){var e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,n,i,o,a,s,u){var l=this.vertices.length;e=this.parseVertexIndex(e,l),t=this.parseVertexIndex(t,l),r=this.parseVertexIndex(r,l),this.addVertex(e,t,r),this.addColor(e,t,r),void 0!==a&&""!==a?(r=this.normals.length,e=this.parseNormalIndex(a,r),t=this.parseNormalIndex(s,r),r=this.parseNormalIndex(u,r),this.addNormal(e,t,r),this.object.geometry.hasNormalIndices=!0):this.addFaceNormal(e,t,r),void 0!==n&&""!==n?(a=this.uvs.length,e=this.parseUVIndex(n,a),t=this.parseUVIndex(i,a),r=this.parseUVIndex(o,a),this.addUV(e,t,r),this.object.geometry.hasUVIndices=!0):this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,r=0,n=e.length;r<n;r++)this.addVertexPoint(this.parseVertexIndex(e[r],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,n=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],r));for(e=0,o=t.length;e<o;e++)this.addUVLine(this.parseUVIndex(t[e],n))}};return e.startObject("",!1),e}function t(e){ei.call(this,e),this.materials=null}var r=/^[og]\s*(.+)?/,n=/^mtllib /,i=/^usemtl /,o=/^usemap /,a=new d,s=new d,u=new d,l=new d,c=new d;return t.prototype=Cc(vc(ei.prototype),{constructor:t,load:function(e,t,r,n){var i=this,o=new ti(i.manager);o.setPath(this.path),o.load(e,(function(r){try{t(i.parse(r))}catch(o){n?n(o):console.error(o),i.manager.itemError(e)}}),r,n)},setMaterials:function(e){return this.materials=e,this},parse:function(t){var a=new e;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));var s,u=t.split("\n"),l="function"===typeof"".trimLeft;t=0;for(var c=u.length;t<c;t++){var h=u[t];h=l?h.trimLeft():h.trim();var f=h.length;if(0!==f&&(f=h.charAt(0),"#"!==f))if("v"===f)switch(h=h.split(/\s+/),h[0]){case"v":a.vertices.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])),7<=h.length?a.colors.push(parseFloat(h[4]),parseFloat(h[5]),parseFloat(h[6])):a.colors.push(void 0,void 0,void 0);break;case"vn":a.normals.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));break;case"vt":a.uvs.push(parseFloat(h[1]),parseFloat(h[2]))}else if("f"===f){h=h.substr(1).trim();var p=h.split(/\s+/);for(h=[],f=0,s=p.length;f<s;f++){var d=p[f];0<d.length&&(d=d.split("/"),h.push(d))}for(p=h[0],f=1,s=h.length-1;f<s;f++){d=h[f];var g=h[f+1];a.addFace(p[0],d[0],g[0],p[1],d[1],g[1],p[2],d[2],g[2])}}else if("l"===f){if(f=h.substring(1).trim().split(" "),s=[],p=[],-1===h.indexOf("/"))s=f;else for(h=0,d=f.length;h<d;h++)g=f[h].split("/"),""!==g[0]&&s.push(g[0]),""!==g[1]&&p.push(g[1]);a.addLineGeometry(s,p)}else"p"===f?(h=h.substr(1).trim(),h=h.split(" "),a.addPointGeometry(h)):null!==(s=r.exec(h))?(h=(" "+s[0].substr(1).trim()).substr(1),a.startObject(h)):i.test(h)?a.object.startMaterial(h.substring(7).trim(),a.materialLibraries):n.test(h)?a.materialLibraries.push(h.substring(7).trim()):o.test(h)?console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.'):"s"===f?(s=h.split(" "),1<s.length?(h=s[1].trim().toLowerCase(),a.object.smooth="0"!==h&&"off"!==h):a.object.smooth=!0,(h=a.object.currentMaterial())&&(h.smooth=a.object.smooth)):"\0"!==h&&console.warn('THREE.OBJLoader: Unexpected line: "'+h+'"')}for(a.finalize(),u=new Xt,u.materialLibraries=[].concat(a.materialLibraries),t=0,c=a.objects.length;t<c;t++)if(l=a.objects[t],h=l.geometry,f=l.materials,s="Line"===h.type,p="Points"===h.type,d=!1,0!==h.vertices.length){g=new W,g.setAttribute("position",new j(h.vertices,3)),!0===h.hasNormalIndices&&g.setAttribute("normal",new j(h.normals,3)),0<h.colors.length&&(d=!0,g.setAttribute("color",new j(h.colors,3))),!0===h.hasUVIndices&&g.setAttribute("uv",new j(h.uvs,2));for(var m=[],v=0,y=f.length;v<y;v++){var b=f[v],x=b.name+"_"+b.smooth+"_"+d;if(h=a.materials[x],null!==this.materials)if(h=this.materials.create(b.name),!s||!h||h instanceof lr)!p||!h||h instanceof pr||(A=new pr({size:10,sizeAttenuation:!1}),L.prototype.copy.call(A,h),A.color.copy(h.color),A.map=h.map,h=A);else{var A=new lr;L.prototype.copy.call(A,h),A.color.copy(h.color),h=A}void 0===h&&(h=s?new lr:p?new pr({size:1,sizeAttenuation:!1}):new Pn,h.name=b.name,h.flatShading=!b.smooth,h.vertexColors=d,a.materials[x]=h),m.push(h)}if(1<m.length){for(v=0,y=f.length;v<y;v++)b=f[v],g.addGroup(b.groupStart,b.groupCount,v);h=s?new hr(g,m):p?new dr(g,m):new X(g,m)}else h=s?new hr(g,m[0]):p?new dr(g,m[0]):new X(g,m[0]);h.name=l.name,u.add(h)}return u}}),t}(),rg=function(){function e(e){ei.call(this,e),this.ddsLoader=this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}function r(e){if(!e)throw Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=D.MSFT_TEXTURE_DDS,this.ddsLoader=e}function n(e){this.name=D.KHR_LIGHTS_PUNCTUAL,this.lightDefs=(e.extensions&&e.extensions[D.KHR_LIGHTS_PUNCTUAL]||{}).lights||[]}function i(){this.name=D.KHR_MATERIALS_UNLIT}function o(){this.name=D.KHR_MATERIALS_CLEARCOAT}function a(e){this.name=D.KHR_BINARY_GLTF,this.body=this.content=null;var t=new DataView(e,0,N);if(this.header={magic:sd.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==k)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(2>this.header.version)throw Error("THREE.GLTFLoader: Legacy binary file detected.");t=new DataView(e,N);for(var r=0;r<t.byteLength;){var n=t.getUint32(r,!0);r+=4;var i=t.getUint32(r,!0);r+=4,i===F.JSON?(i=new Uint8Array(e,N+r,n),this.content=sd.decodeText(i)):i===F.BIN&&(i=N+r,this.body=e.slice(i,i+n)),r+=n}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}function u(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=D.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function l(){this.name=D.KHR_TEXTURE_TRANSFORM}function c(e){Rn.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t={specular:{value:(new S).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=t,this.onBeforeCompile=function(e){for(var r in t)e.uniforms[r]=t[r];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif"),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\ttexelSpecular = sRGBToLinear( texelSpecular );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif"),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif"),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\nmaterial.specularColor = specularFactor.rgb;")},Ac(this,{specular:{get:function(){return t.specular.value},set:function(e){t.specular.value=e}},specularMap:{get:function(){return t.specularMap.value},set:function(e){t.specularMap.value=e}},glossiness:{get:function(){return t.glossiness.value},set:function(e){t.glossiness.value=e}},glossinessMap:{get:function(){return t.glossinessMap.value},set:function(e){(t.glossinessMap.value=e)?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function h(){return{name:D.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:"color map lightMap lightMapIntensity aoMap aoMapIntensity emissive emissiveIntensity emissiveMap bumpMap bumpScale normalMap normalMapType displacementMap displacementScale displacementBias specularMap specular glossinessMap glossiness alphaMap envMap envMapIntensity refractionRatio".split(" "),getMaterialType:function(){return c},extendParams:function(e,t,r){var n=t.extensions[this.name];if(e.color=new S(1,1,1),e.opacity=1,t=[],Array.isArray(n.diffuseFactor)){var i=n.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}return void 0!==n.diffuseTexture&&t.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new S(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new S(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture&&(n=n.specularGlossinessTexture,t.push(r.assignTexture(e,"glossinessMap",n)),t.push(r.assignTexture(e,"specularMap",n))),Eu.all(t)},createMaterial:function(e){var t=new c(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function f(){this.name=D.KHR_MESH_QUANTIZATION}function p(e,t,r,n){Bn.call(this,e,t,r,n)}function m(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function v(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new Rn({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial}function b(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function A(e,t){void 0!==t.extras&&("object"===Rl(t.extras)?Cc(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function _(e,t,r){for(var n=!1,i=!1,o=0,a=t.length;o<a;o++){var s=t[o];if(void 0!==s.POSITION&&(n=!0),void 0!==s.NORMAL&&(i=!0),n&&i)break}if(!n&&!i)return Eu.resolve(e);var u=[],l=[];for(o=0,a=t.length;o<a;o++){if(s=t[o],n){var c=void 0!==s.POSITION?r.getDependency("accessor",s.POSITION):e.attributes.position;u.push(c)}i&&(c=void 0!==s.NORMAL?r.getDependency("accessor",s.NORMAL):e.attributes.normal,l.push(c))}return Eu.all([Eu.all(u),Eu.all(l)]).then((function(t){var r=t[0];return t=t[1],n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=t),e.morphTargetsRelative=!0,e}))}function C(e){var t=e.extensions&&e.extensions[D.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+M(t.attributes):e.indices+":"+M(e.attributes)+":"+e.mode}function M(e){for(var t="",r=lc(e).sort(),n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function T(e,r,n){this.json=e||{},this.extensions=r||{},this.options=n||{},this.cache=new t,this.associations=new ql,this.primitiveCache={},this.textureLoader=new si(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new ti(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function E(e,t,r){var n=t.attributes,i=new x;if(void 0!==n.POSITION){var o=r.json.accessors[n.POSITION];if(n=o.min,o=o.max,void 0!==n&&void 0!==o){if(i.set(new d(n[0],n[1],n[2]),new d(o[0],o[1],o[2])),t=t.targets,void 0!==t){for(var a=new d,s=new d,u=0,l=t.length;u<l;u++)n=t[u],void 0!==n.POSITION&&(o=r.json.accessors[n.POSITION],n=o.min,o=o.max,void 0!==n&&void 0!==o?(s.setX(Math.max(Math.abs(n[0]),Math.abs(o[0]))),s.setY(Math.max(Math.abs(n[1]),Math.abs(o[1]))),s.setZ(Math.max(Math.abs(n[2]),Math.abs(o[2]))),a.max(s)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."));i.expandByVector(a)}e.boundingBox=i,r=new w,i.getCenter(r.center),r.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=r}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}function I(e,t,r){function n(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}var i,o=t.attributes,a=[];for(i in o){var s=H[i]||i.toLowerCase();s in e.attributes||a.push(n(o[i],s))}return void 0===t.indices||e.index||(o=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)})),a.push(o)),A(e,t),E(e,t,r),Eu.all(a).then((function(){return void 0!==t.targets?_(e,t.targets,r):e}))}function R(e,t){var r=e.getIndex();if(null===r){var n=[];if(r=e.getAttribute("position"),void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<r.count;i++)n.push(i);e.setIndex(n),r=e.getIndex()}var o=r.count-2;if(n=[],2===t)for(i=1;i<=o;i++)n.push(r.getX(0)),n.push(r.getX(i)),n.push(r.getX(i+1));else for(i=0;i<o;i++)0===i%2?(n.push(r.getX(i)),n.push(r.getX(i+1)),n.push(r.getX(i+2))):(n.push(r.getX(i+2)),n.push(r.getX(i+1)),n.push(r.getX(i)));return n.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles."),e=e.clone(),e.setIndex(n),e}e.prototype=Cc(vc(ei.prototype),{constructor:e,load:function(e,t,r,n){var i=this,o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:sd.extractUrlBase(e);i.manager.itemStart(e);var a=function(t){n?n(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new ti(i.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),"use-credentials"===i.crossOrigin&&s.setWithCredentials(!0),s.load(e,(function(r){try{i.parse(r,o,(function(r){t(r),i.manager.itemEnd(e)}),a)}catch(n){a(n)}}),r,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,s,c){var p={};if("string"!==typeof e)if(sd.decodeText(new Uint8Array(e,0,4))===k){try{p[D.KHR_BINARY_GLTF]=new a(e)}catch(v){return void(c&&c(v))}e=p[D.KHR_BINARY_GLTF].content}else e=sd.decodeText(new Uint8Array(e));if(e=JSON.parse(e),void 0===e.asset||2>e.asset.version[0])c&&c(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(e.extensionsUsed)for(var d=0;d<e.extensionsUsed.length;++d){var g=e.extensionsUsed[d],m=e.extensionsRequired||[];switch(g){case D.KHR_LIGHTS_PUNCTUAL:p[g]=new n(e);break;case D.KHR_MATERIALS_CLEARCOAT:p[g]=new o;break;case D.KHR_MATERIALS_UNLIT:p[g]=new i;break;case D.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:p[g]=new h;break;case D.KHR_DRACO_MESH_COMPRESSION:p[g]=new u(e,this.dracoLoader);break;case D.MSFT_TEXTURE_DDS:p[g]=new r(this.ddsLoader);break;case D.KHR_TEXTURE_TRANSFORM:p[g]=new l;break;case D.KHR_MESH_QUANTIZATION:p[g]=new f;break;default:0<=m.indexOf(g)&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}t=new T(e,p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}),t.fileLoader.setRequestHeader(this.requestHeader),t.parse(s,c)}}});var D={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};n.prototype.loadLight=function(e){var t=this.lightDefs[e],r=new S(16777215);void 0!==t.color&&r.fromArray(t.color);var n=void 0!==t.range?t.range:0;switch(t.type){case"directional":r=new ki(r),r.target.position.set(0,0,-1),r.add(r.target);break;case"point":r=new Pi(r),r.distance=n;break;case"spot":r=new Ri(r),r.distance=n,t.spot=t.spot||{},t.spot.innerConeAngle=void 0!==t.spot.innerConeAngle?t.spot.innerConeAngle:0,t.spot.outerConeAngle=void 0!==t.spot.outerConeAngle?t.spot.outerConeAngle:Math.PI/4,r.angle=t.spot.outerConeAngle,r.penumbra=1-t.spot.innerConeAngle/t.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw Error('THREE.GLTFLoader: Unexpected light type, "'+t.type+'".')}return r.position.set(0,0,0),r.decay=2,void 0!==t.intensity&&(r.intensity=t.intensity),r.name=t.name||"light_"+e,Eu.resolve(r)},i.prototype.getMaterialType=function(){return P},i.prototype.extendParams=function(e,t,r){var n=[];if(e.color=new S(1,1,1),e.opacity=1,t=t.pbrMetallicRoughness){if(Array.isArray(t.baseColorFactor)){var i=t.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==t.baseColorTexture&&n.push(r.assignTexture(e,"map",t.baseColorTexture))}return Eu.all(n)},o.prototype.getMaterialType=function(){return Ln},o.prototype.extendParams=function(e,t,r){var n=[];return t=t.extensions[this.name],void 0!==t.clearcoatFactor&&(e.clearcoat=t.clearcoatFactor),void 0!==t.clearcoatTexture&&n.push(r.assignTexture(e,"clearcoatMap",t.clearcoatTexture)),void 0!==t.clearcoatRoughnessFactor&&(e.clearcoatRoughness=t.clearcoatRoughnessFactor),void 0!==t.clearcoatRoughnessTexture&&n.push(r.assignTexture(e,"clearcoatRoughnessMap",t.clearcoatRoughnessTexture)),void 0!==t.clearcoatNormalTexture&&(n.push(r.assignTexture(e,"clearcoatNormalMap",t.clearcoatNormalTexture)),void 0!==t.clearcoatNormalTexture.scale&&(r=t.clearcoatNormalTexture.scale,e.clearcoatNormalScale=new s(r,r))),Eu.all(n)};var k="glTF",N=12,F={JSON:1313821514,BIN:5130562};u.prototype.decodePrimitive=function(e,t){var r,n=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},u={},l={};for(r in a){var c=H[r]||r.toLowerCase();s[c]=a[r]}for(r in e.attributes)if(c=H[r]||r.toLowerCase(),void 0!==a[r]){var h=n.accessors[e.attributes[r]];l[c]=B[h.componentType],u[c]=!0===h.normalized}return t.getDependency("bufferView",o).then((function(e){return new Eu((function(t){i.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],i=u[r];void 0!==i&&(n.normalized=i)}t(e)}),s,l)}))}))},l.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},c.prototype=vc(Rn.prototype),c.prototype.constructor=c,c.prototype.copy=function(e){return Rn.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},p.prototype=vc(Bn.prototype),p.prototype.constructor=p,p.prototype.copySampleValue_=function(e){var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize;e=e*n*3+n;for(var i=0;i!==n;i++)t[i]=r[e+i];return t},p.prototype.beforeStart_=p.prototype.copySampleValue_,p.prototype.afterEnd_=p.prototype.copySampleValue_,p.prototype.interpolate_=function(e,t,r,n){var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,u=3*a;n-=t,t=(r-t)/n,r=t*t;var l=r*t;e*=u,u=e-u;var c=-2*l+3*r;l-=r;var h=1-c;for(t=l-r+t,r=0;r!==a;r++)i[r]=h*o[u+r+a]+t*o[u+r+s]*n+c*o[e+r+a]+l*o[e+r]*n;return i};var B={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},z={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},U={33071:1001,33648:1002,10497:1e3},j={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},H={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},G={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},q={"image/png":1023,"image/jpeg":1022};return T.prototype.parse=function(e,t){var r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Eu.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){t={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}},b(i,t,n),A(t,n),e(t)})).catch(t)},T.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},i={},o=0,a=t.length;o<a;o++)for(var s=t[o].joints,u=0,l=s.length;u<l;u++)e[s[u]].isBone=!0;for(t=0,o=e.length;t<o;t++)a=e[t],void 0!==a.mesh&&(void 0===n[a.mesh]&&(n[a.mesh]=i[a.mesh]=0),n[a.mesh]++,void 0!==a.skin&&(r[a.mesh].isSkinnedMesh=!0));this.json.meshReferences=n,this.json.meshUses=i},T.prototype.getDependency=function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this.loadMesh(t);break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this.loadBufferView(t);break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this.loadMaterial(t);break;case"texture":n=this.loadTexture(t);break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;case"light":n=this.extensions[D.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw Error("Unknown type: "+e)}this.cache.add(r,n)}return n},T.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this;t=Eu.all((this.json[e+("mesh"===e?"es":"s")]||[]).map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},T.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Eu.resolve(this.extensions[D.KHR_BINARY_GLTF].body);var n=this.options;return new Eu((function(e,i){r.load(m(t.uri,n.path),e,void 0,(function(){i(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},T.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteOffset||0;return e.slice(r,r+(t.byteLength||0))}))},T.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];return void 0===n.bufferView&&void 0===n.sparse?Eu.resolve(null):(e=[],void 0!==n.bufferView?e.push(this.getDependency("bufferView",n.bufferView)):e.push(null),void 0!==n.sparse&&(e.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),e.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Eu.all(e).then((function(e){var i=e[0],o=j[n.type],a=B[n.componentType],s=a.BYTES_PER_ELEMENT,u=n.byteOffset||0,l=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,c=!0===n.normalized;if(l&&l!==s*o){var h=Math.floor(u/l),f="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+h+":"+n.count,p=t.cache.get(f);p||(h=new a(i,h*l,n.count*l/s),p=new $t(h,l/s),t.cache.add(f,p)),s=new er(p,o,u%l/s,c)}else h=null===i?new a(n.count*o):new a(i,u,n.count*o),s=new O(h,o,c);if(void 0!==n.sparse)for(l=n.sparse.values.byteOffset||0,u=new B[n.sparse.indices.componentType](e[1],n.sparse.indices.byteOffset||0,n.sparse.count*j.SCALAR),e=new a(e[2],l,n.sparse.count*o),null!==i&&(s=new O(s.array.slice(),s.itemSize,s.normalized)),i=0,a=u.length;i<a;i++)if(l=u[i],s.setX(l,e[i*o]),2<=o&&s.setY(l,e[i*o+1]),3<=o&&s.setZ(l,e[i*o+2]),4<=o&&s.setW(l,e[i*o+3]),5<=o)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.");return s})))},T.prototype.loadTexture=function(e){var t=this,r=this.json,n=this.options,i=this.textureLoader,o=self.URL||self.webkitURL,a=r.textures[e],s=a.extensions||{},u=s[D.MSFT_TEXTURE_DDS]?r.images[s[D.MSFT_TEXTURE_DDS].source]:r.images[a.source],l=u.uri,c=!1;return void 0!==u.bufferView&&(l=t.getDependency("bufferView",u.bufferView).then((function(e){return c=!0,e=new Blob([e],{type:u.mimeType}),l=o.createObjectURL(e)}))),Eu.resolve(l).then((function(e){var r=n.manager.getHandler(e);return r||(r=s[D.MSFT_TEXTURE_DDS]?t.extensions[D.MSFT_TEXTURE_DDS].ddsLoader:i),new Eu((function(t,i){r.load(m(e,n.path),t,void 0,i)}))})).then((function(n){!0===c&&o.revokeObjectURL(l),n.flipY=!1,a.name&&(n.name=a.name),u.mimeType in q&&(n.format=q[u.mimeType]);var i=(r.samplers||{})[a.sampler]||{};return n.magFilter=z[i.magFilter]||1006,n.minFilter=z[i.minFilter]||1008,n.wrapS=U[i.wrapS]||1e3,n.wrapT=U[i.wrapT]||1e3,t.associations.set(n,{type:"textures",index:e}),n}))},T.prototype.assignTexture=function(e,t,r){var n=this;return this.getDependency("texture",r.index).then((function(i){if(!i.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":i.format=1022}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),n.extensions[D.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[D.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var a=n.associations.get(i);i=n.extensions[D.KHR_TEXTURE_TRANSFORM].extendTexture(i,o),n.associations.set(i,a)}}e[t]=i}))},T.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,n=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal,a=!0===e.isSkinnedMesh,s=0<lc(t.morphAttributes).length,u=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+r.uuid,c=this.cache.get(l);c||(c=new pr,L.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(l,c)),r=c}else e.isLine&&(l="LineBasicMaterial:"+r.uuid,c=this.cache.get(l),c||(c=new lr,L.prototype.copy.call(c,r),c.color.copy(r.color),this.cache.add(l,c)),r=c);(n||i||o||a||s)&&(l="ClonedMaterial:"+r.uuid+":",r.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),a&&(l+="skinning:"),n&&(l+="vertex-tangents:"),i&&(l+="vertex-colors:"),o&&(l+="flat-shading:"),s&&(l+="morph-targets:"),u&&(l+="morph-normals:"),c=this.cache.get(l),c||(c=r.clone(),a&&(c.skinning=!0),n&&(c.vertexTangents=!0),i&&(c.vertexColors=!0),o&&(c.flatShading=!0),s&&(c.morphTargets=!0),u&&(c.morphNormals=!0),this.cache.add(l,c),this.associations.set(c,this.associations.get(r))),r=c),r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),r.normalScale&&!n&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!n&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},T.prototype.loadMaterial=function(e){var t=this,r=this.extensions,n=this.json.materials[e],i={},o=n.extensions||{},a=[];if(o[D.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=r[D.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS],l=u.getMaterialType();a.push(u.extendParams(i,n,t))}else if(o[D.KHR_MATERIALS_UNLIT])u=r[D.KHR_MATERIALS_UNLIT],l=u.getMaterialType(),a.push(u.extendParams(i,n,t));else{if(l=Rn,u=n.pbrMetallicRoughness||{},i.color=new S(1,1,1),i.opacity=1,Array.isArray(u.baseColorFactor)){var h=u.baseColorFactor;i.color.fromArray(h),i.opacity=h[3]}void 0!==u.baseColorTexture&&a.push(t.assignTexture(i,"map",u.baseColorTexture)),i.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,i.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(a.push(t.assignTexture(i,"metalnessMap",u.metallicRoughnessTexture)),a.push(t.assignTexture(i,"roughnessMap",u.metallicRoughnessTexture)))}return!0===n.doubleSided&&(i.side=2),u=n.alphaMode||"OPAQUE","BLEND"===u?(i.transparent=!0,i.depthWrite=!1):(i.transparent=!1,"MASK"===u&&(i.alphaTest=void 0!==n.alphaCutoff?n.alphaCutoff:.5)),void 0!==n.normalTexture&&l!==P&&(a.push(t.assignTexture(i,"normalMap",n.normalTexture)),i.normalScale=new s(1,1),void 0!==n.normalTexture.scale&&i.normalScale.set(n.normalTexture.scale,n.normalTexture.scale)),void 0!==n.occlusionTexture&&l!==P&&(a.push(t.assignTexture(i,"aoMap",n.occlusionTexture)),void 0!==n.occlusionTexture.strength&&(i.aoMapIntensity=n.occlusionTexture.strength)),void 0!==n.emissiveFactor&&l!==P&&(i.emissive=(new S).fromArray(n.emissiveFactor)),void 0!==n.emissiveTexture&&l!==P&&a.push(t.assignTexture(i,"emissiveMap",n.emissiveTexture)),o[D.KHR_MATERIALS_CLEARCOAT]&&(u=r[D.KHR_MATERIALS_CLEARCOAT],l=u.getMaterialType(),a.push(u.extendParams(i,{extensions:o},t))),Eu.all(a).then((function(){var o=l===c?r[D.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(i):new l(i);return n.name&&(o.name=n.name),o.map&&(o.map.encoding=3001),o.emissiveMap&&(o.emissiveMap.encoding=3001),A(o,n),t.associations.set(o,{type:"materials",index:e}),n.extensions&&b(r,o,n),o}))},T.prototype.loadGeometries=function(e){function t(e){return n[D.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,r).then((function(t){return I(t,e,r)}))}for(var r=this,n=this.extensions,i=this.primitiveCache,o=[],a=0,s=e.length;a<s;a++){var u=e[a],l=C(u),c=i[l];c?o.push(c.promise):(c=u.extensions&&u.extensions[D.KHR_DRACO_MESH_COMPRESSION]?t(u):I(new W,u,r),i[l]={primitive:u,promise:c},o.push(c))}return Eu.all(o)},T.prototype.loadMesh=function(e){for(var t=this,r=this.json.meshes[e],n=r.primitives,i=[],o=0,a=n.length;o<a;o++){var s=void 0===n[o].material?v(this.cache):this.getDependency("material",n[o].material);i.push(s)}return i.push(t.loadGeometries(n)),Eu.all(i).then((function(i){var o=i.slice(0,i.length-1),a=i[i.length-1];i=[];for(var s=0,u=a.length;s<u;s++){var l=a[s],c=n[s],h=o[s];if(4===c.mode||5===c.mode||6===c.mode||void 0===c.mode)l=!0===r.isSkinnedMesh?new or(l,h):new X(l,h),!0!==l.isSkinnedMesh||l.geometry.attributes.skinWeight.normalized||l.normalizeSkinWeights(),5===c.mode?l.geometry=R(l.geometry,1):6===c.mode&&(l.geometry=R(l.geometry,2));else if(1===c.mode)l=new hr(l,h);else if(3===c.mode)l=new cr(l,h);else if(2===c.mode)l=new fr(l,h);else{if(0!==c.mode)throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);l=new dr(l,h)}if(0<lc(l.geometry.morphAttributes).length){c=l;var f=r;if(c.updateMorphTargets(),void 0!==f.weights){h=0;for(var p=f.weights.length;h<p;h++)c.morphTargetInfluences[h]=f.weights[h]}if(f.extras&&Array.isArray(f.extras.targetNames))if(f=f.extras.targetNames,c.morphTargetInfluences.length===f.length)for(c.morphTargetDictionary={},h=0,p=f.length;h<p;h++)c.morphTargetDictionary[f[h]]=h;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}l.name=r.name||"mesh_"+e,1<a.length&&(l.name+="_"+s),A(l,r),t.assignFinalMaterial(l),i.push(l)}if(1===i.length)return i[0];for(o=new Xt,s=0,u=i.length;s<u;s++)o.add(i[s]);return o}))},T.prototype.loadCamera=function(e){var t;e=this.json.cameras[e];var r=e[e.type];if(r)return"perspective"===e.type?t=new ee(nh.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===e.type&&(t=new Oi(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),e.name&&(t.name=e.name),A(t,e),Eu.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},T.prototype.loadSkin=function(e){e=this.json.skins[e];var t={joints:e.joints};return void 0===e.inverseBindMatrices?Eu.resolve(t):this.getDependency("accessor",e.inverseBindMatrices).then((function(e){return t.inverseBindMatrices=e,t}))},T.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],n=[],i=[],o=[],a=[],s=0,u=t.channels.length;s<u;s++){var l=t.channels[s],c=t.samplers[l.sampler];l=l.target;var h=void 0!==t.parameters?t.parameters[c.input]:c.input,f=void 0!==t.parameters?t.parameters[c.output]:c.output;r.push(this.getDependency("node",void 0!==l.node?l.node:l.id)),n.push(this.getDependency("accessor",h)),i.push(this.getDependency("accessor",f)),o.push(c),a.push(l)}return Eu.all([Eu.all(r),Eu.all(n),Eu.all(i),Eu.all(o),Eu.all(a)]).then((function(r){var n=r[0],i=r[1],o=r[2],a=r[3];r=r[4];for(var s=[],u=0,l=n.length;u<l;u++){var c=n[u],h=i[u],f=o[u],d=a[u],g=r[u];if(void 0!==c){switch(c.updateMatrix(),c.matrixAutoUpdate=!0,G[g.path]){case G.weights:var m=Wn;break;case G.rotation:m=qn;break;default:m=Zn}var v=c.name?c.name:c.uuid,y=void 0!==d.interpolation?V[d.interpolation]:2301,b=[];if(G[g.path]===G.weights?c.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&b.push(e.name?e.name:e.uuid)})):b.push(v),c=f.array,f.normalized){if(c.constructor===Int8Array)var x=1/127;else if(c.constructor===Uint8Array)x=1/255;else if(c.constructor==Int16Array)x=1/32767;else{if(c.constructor!==Uint16Array)throw Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}var A=new Float32Array(c.length);for(f=0,v=c.length;f<v;f++)A[f]=c[f]*x;c=A}for(f=0,v=b.length;f<v;f++)x=new m(b[f]+"."+G[g.path],h.array,c,y),"CUBICSPLINE"===d.interpolation&&(x.createInterpolant=function(e){return new p(this.times,this.values,this.getValueSize()/3,e)},x.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),s.push(x)}}return new Kn(t.name?t.name:"animation_"+e,void 0,s)}))},T.prototype.loadNode=function(e){var t=this.json,r=this.extensions,n=this,i=t.meshReferences,o=t.meshUses,a=t.nodes[e];return function(){var e=[];return void 0!==a.mesh&&e.push(n.getDependency("mesh",a.mesh).then((function(e){if(1<i[a.mesh]){var t=o[a.mesh]++;e=e.clone(),e.name+="_instance_"+t}return void 0!==a.weights&&e.traverse((function(e){if(e.isMesh)for(var t=0,r=a.weights.length;t<r;t++)e.morphTargetInfluences[t]=a.weights[t]})),e}))),void 0!==a.camera&&e.push(n.getDependency("camera",a.camera)),a.extensions&&a.extensions[D.KHR_LIGHTS_PUNCTUAL]&&void 0!==a.extensions[D.KHR_LIGHTS_PUNCTUAL].light&&e.push(n.getDependency("light",a.extensions[D.KHR_LIGHTS_PUNCTUAL].light)),Eu.all(e)}().then((function(t){var i=!0===a.isBone?new sr:1<t.length?new Xt:1===t.length?t[0]:new y;if(i!==t[0])for(var o=0,s=t.length;o<s;o++)i.add(t[o]);return a.name&&(i.userData.name=a.name,i.name=oo.sanitizeNodeName(a.name)),A(i,a),a.extensions&&b(r,i,a),void 0!==a.matrix?(t=new g,t.fromArray(a.matrix),i.applyMatrix4(t)):(void 0!==a.translation&&i.position.fromArray(a.translation),void 0!==a.rotation&&i.quaternion.fromArray(a.rotation),void 0!==a.scale&&i.scale.fromArray(a.scale)),n.associations.set(i,{type:"nodes",index:e}),i}))},T.prototype.loadScene=function(){function e(t,r,n,i){var o=n.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then((function(e){t=e,e=[];for(var r=0,n=t.joints.length;r<n;r++)e.push(i.getDependency("node",t.joints[r]));return Eu.all(e)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],i=[],o=0,a=r.length;o<a;o++){var s=r[o];s?(n.push(s),s=new g,void 0!==t.inverseBindMatrices&&s.fromArray(t.inverseBindMatrices.array,16*o),i.push(s)):console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new ar(n,i),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var a=[];if(o.children)for(var s=o.children,u=0,l=s.length;u<l;u++)a.push(e(s[u],t,n,i));return Eu.all(a)}))}return function(t){var r=this.json,n=this.extensions;t=this.json.scenes[t];var i=new Xt;t.name&&(i.name=t.name),A(i,t),t.extensions&&b(n,i,t),n=t.nodes||[],t=[];for(var o=0,a=n.length;o<a;o++)t.push(e(n[o],i,r,this));return Eu.all(t).then((function(){return i}))}}(),e}(),ng=Nc;ng.MTLLoader=eg,ng.OBJLoader=tg,ng.GLTFLoader=rg,window.THREE&&(ng=window.THREE);var ig=ng,og=i((function(e,t){t.__esModule=!0;var r=zc&&zc.__esModule?zc:{default:zc};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()})),ag=n(og);Do(ko.prototype,{equals:function(e){return this.lat===e.lat&&this.lng===e.lng},clone:function(){return new ko(this.lat,this.lng)},getLngSpan:function(e){return e=Math.abs(e-this.lng),180<e&&(e=360-e),e},sub:function(e){return new ko(this.lat-e.lat,this.lng-e.lng)},toString:function(){return"Point"}}),Do(Oo,{EARTHRADIUS:6370996.81,MCBAND:[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(e,t){if(!e||!t)return 0;if(e=this.convertMC2LL(e),!e)return 0;var r=this.toRadians(e.lng);if(e=this.toRadians(e.lat),t=this.convertMC2LL(t),!t)return 0;var n=this.toRadians(t.lng);return t=this.toRadians(t.lat),this.getDistance(r,n,e,t)},getDistanceByLL:function(e,t){if(!e||!t)return 0;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74);var r=this.toRadians(e.lng),n=this.toRadians(e.lat);return e=this.toRadians(t.lng),t=this.toRadians(t.lat),this.getDistance(r,e,n,t)},convertMC2LL:function(e){if(null===e||void 0===e)return new ko(0,0);if(180>e.lng&&-180<e.lng&&90>e.lat&&-90<e.lat)return e;for(var t=new ko(Math.abs(e.lng),Math.abs(e.lat)),r=0;r<this.MCBAND.length;r++)if(t.lat>=this.MCBAND[r]){var n=this.MC2LL[r];break}return e=this.convertor(e,n),new ko(e.lng.toFixed(6),e.lat.toFixed(6))},convertLL2MC:function(e){if(null===e||void 0===e)return new ko(0,0);if(180<e.lng||-180>e.lng||90<e.lat||-90>e.lat)return e;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);for(var t=new ko(e.lng,e.lat),r=0;r<this.LLBAND.length;r++)if(t.lat>=this.LLBAND[r]){var n=this.LL2MC[r];break}if(!n)for(r=0;r<this.LLBAND.length;r++)if(t.lat<=-this.LLBAND[r]){n=this.LL2MC[r];break}return e=this.convertor(e,n),new ko(Number(e.lng.toFixed(2)),Number(e.lat.toFixed(2)))},convertor:function(e,t){if(e&&t){var r=t[0]+t[1]*Math.abs(e.lng),n=Math.abs(e.lat)/t[9];return t=t[2]+t[3]*n+t[4]*n*n+t[5]*n*n*n+t[6]*n*n*n*n+t[7]*n*n*n*n*n+t[8]*n*n*n*n*n*n,r*=0>e.lng?-1:1,t*=0>e.lat?-1:1,new ko(r,t)}},getDistance:function(e,t,r,n){return this.EARTHRADIUS*Math.acos(Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos(t-e))},toRadians:function(e){return Math.PI*e/180},toDegrees:function(e){return 180*e/Math.PI},getRange:function(e,t,r){return null!=t&&(e=Math.max(e,t)),null!=r&&(e=Math.min(e,r)),e},getLoop:function(e,t,r){for(;e>r;)e-=r-t;for(;e<t;)e+=r-t;return e}}),Do(Oo.prototype,{lngLatToMercator:function(e){return Oo.convertLL2MC(e)},lngLatToPoint:function(e){return e=Oo.convertLL2MC(e),new No(e.lng,e.lat)},mercatorToLngLat:function(e){return Oo.convertMC2LL(e)},pointToLngLat:function(e){return e=new ko(e.x,e.y),Oo.convertMC2LL(e)},pointToPixel:function(e,t,r,n,i){if(e)return e=this.lngLatToMercator(e,i),t=this.getZoomUnits(t),new No(Math.round((e.lng-r.lng)/t+n.width/2),Math.round((r.lat-e.lat)/t+n.height/2))},pixelToPoint:function(e,t,r,n,i){if(e)return t=this.getZoomUnits(t),e=new ko(r.lng+t*(e.x-n.width/2),r.lat-t*(e.y-n.height/2)),this.mercatorToLngLat(e,i)},getZoomUnits:function(e){return Math.pow(2,18-e)}});var sg=i((function(e,t){t.__esModule=!0;var r=As&&As.__esModule?As:{default:As};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}})),ug=n(sg);(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qc(this,e),this.options=t,this._initialize()}ag(e,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(e){return e?(e instanceof Array&&(e={lng:Number(e[0]),lat:Number(e[1])}),Oo.convertLL2MC(e)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(e){for(var t=[],r=this.points,n=0;n<r.length-1;n++){var i=this.getCurveByTwoPoints(this._normalizaCoord(r[n]),this._normalizaCoord(r[n+1]),e);i&&0<i.length&&(t=t.concat(i))}return t}},{key:"getCurveByTwoPoints",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;if(!e||!t)return null;var n=[],i=0;if(void 0!==("undefined"===typeof t?"undefined":Rl(t))){var o=parseFloat(e.lat),a=parseFloat(t.lat),s=parseFloat(e.lng),u=parseFloat(t.lng);u>s&&180<parseFloat(u-s)&&0>s&&(s=parseFloat(360+s),u=parseFloat(360+u));var l=0;if(a===o)var c=0,h=s-u;else u===s?(c=Math.PI/2,h=o-a):(c=Math.atan((a-o)/(u-s)),h=(a-o)/Math.sin(c));for(0===l&&(l=c+Math.PI/5),h/=2,c=h*Math.cos(l)+s,l=h*Math.sin(l)+o,h=0;h<r+1;h++){var f=s*(1-2*i+i*i)+c*(2*i-2*i*i)+u*i*i,p=t.lng;n.push([0>e.lng&&0<p?f-360:f,o*(1-2*i+i*i)+l*(2*i-2*i*i)+a*i*i]),i+=1/r}return n}"undefined"===typeof n||Rl(n)}}])})();var lg=void 0,cg=function(){if(void 0!==lg)return lg;var e=navigator.userAgent,t="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");lg=!1;for(var r=0;r<t.length;r++)if(0<e.indexOf(t[r])){lg=!0;break}return lg}();Fo(Array(576)),Fo(Array(60)),Fo(Array(512)),Fo(Array(256)),Fo(Array(29)),Fo(Array(30)),new Uint32Array(function(){for(var e,t=[],r=0;256>r;r++){e=r;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}());try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Dm){}for(var hg=new Uint8Array(256),fg=0;256>fg;fg++)hg[fg]=252<=fg?6:248<=fg?5:240<=fg?4:224<=fg?3:192<=fg?2:1;hg[254]=hg[254]=1;var pg={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},dg=Ku.f;Ru("getOwnPropertyDescriptor",(function(){return function(e,t){return dg(Sa(e),t)}}));var gg=Ko.Object,mg=function(e,t){return gg.getOwnPropertyDescriptor(e,t)},vg=i((function(e){e.exports={default:mg,__esModule:!0}})),yg=n(vg),bg=i((function(e){var t=Array.prototype.concat,r=Array.prototype.slice,n=e.exports=function(e){for(var n=[],i=0,o=e.length;i<o;i++){var a=e[i],s=!(!(s=a)||"string"===typeof s)&&(s instanceof Array||Array.isArray(s)||0<=s.length&&(s.splice instanceof Function||yg(s,s.length-1)&&"String"!==s.constructor.name));s?n=t.call(n,r.call(a)):n.push(a)}return n};n.wrap=function(e){return function(){return e(n(arguments))}}})),xg=i((function(e){function t(e,t,r){return Math.min(Math.max(t,e),r)}function r(e){return e=e.toString(16).toUpperCase(),2>e.length?"0"+e:e}var n,i={};for(n in pg)pg.hasOwnProperty(n)&&(i[pg[n]]=n);var o=e.exports={to:{},get:{}};o.get=function(e){switch(e.substring(0,3).toLowerCase()){case"hsl":e=o.get.hsl(e);var t="hsl";break;case"hwb":e=o.get.hwb(e),t="hwb";break;default:e=o.get.rgb(e),t="rgb"}return e?{model:t,value:e}:null},o.get.rgb=function(e){if(!e)return null;var r,n=/^#([a-f0-9]{3,4})$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\D+)/,s=[0,0,0,1];if(r=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=r[2],r=r[1],e=0;3>e;e++)i=2*e,s[e]=parseInt(r.slice(i,i+2),16);n&&(s[3]=Math.round(parseInt(n,16)/255*100)/100)}else if(r=e.match(n)){for(r=r[1],n=r[3],e=0;3>e;e++)s[e]=parseInt(r[e]+r[e],16);n&&(s[3]=Math.round(parseInt(n+n,16)/255*100)/100)}else if(r=e.match(i)){for(e=0;3>e;e++)s[e]=parseInt(r[e+1],0);r[4]&&(s[3]=parseFloat(r[4]))}else{if(!(r=e.match(o)))return(r=e.match(a))?"transparent"===r[1]?[0,0,0,0]:(s=pg[r[1]],s?(s[3]=1,s):null):null;for(e=0;3>e;e++)s[e]=Math.round(2.55*parseFloat(r[e+1]));r[4]&&(s[3]=parseFloat(r[4]))}for(e=0;3>e;e++)s[e]=t(s[e],0,255);return s[3]=t(s[3],0,1),s},o.get.hsl=function(e){if(!e)return null;var r=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var n=parseFloat(r[4]);e=(parseFloat(r[1])+360)%360;var i=t(parseFloat(r[2]),0,100);return r=t(parseFloat(r[3]),0,100),n=t(isNaN(n)?1:n,0,1),[e,i,r,n]}return null},o.get.hwb=function(e){if(!e)return null;var r=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var n=parseFloat(r[4]);e=(parseFloat(r[1])%360+360)%360;var i=t(parseFloat(r[2]),0,100);return r=t(parseFloat(r[3]),0,100),n=t(isNaN(n)?1:n,0,1),[e,i,r,n]}return null},o.to.hex=function(){var e=bg(arguments);return"#"+r(e[0])+r(e[1])+r(e[2])+(1>e[3]?r(Math.round(255*e[3])):"")},o.to.rgb=function(){var e=bg(arguments);return 4>e.length||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},o.to.rgb.percent=function(){var e=bg(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return 4>e.length||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},o.to.hsl=function(){var e=bg(arguments);return 4>e.length||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},o.to.hwb=function(){var e=bg(arguments),t="";return 4<=e.length&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},o.to.keyword=function(e){return i[e.slice(0,3)]}})),Ag=i((function(e){var t={};for(i in pg)pg.hasOwnProperty(i)&&(t[pg[i]]=i);var r,n=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(r in n)if(n.hasOwnProperty(r)){if(!("channels"in n[r]))throw Error("missing channels property: "+r);if(!("labels"in n[r]))throw Error("missing channel labels property: "+r);if(n[r].labels.length!==n[r].channels)throw Error("channel and label counts mismatch: "+r);e=n[r].channels;var i=n[r].labels;delete n[r].channels,delete n[r].labels,Object.defineProperty(n[r],"channels",{value:e}),Object.defineProperty(n[r],"labels",{value:i})}n.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;e=Math.min(t,r,n);var i,o=Math.max(t,r,n),a=o-e;return o===e?i=0:t===o?i=(r-n)/a:r===o?i=2+(n-t)/a:n===o&&(i=4+(t-r)/a),i=Math.min(60*i,360),0>i&&(i+=360),t=(e+o)/2,[i,100*(o===e?0:.5>=t?a/(o+e):a/(2-o-e)),100*t]},n.rgb.hsv=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(r,n,i),a=o-Math.min(r,n,i);if(0===a)var s=t=0;else{t=a/o,e=(o-r)/6/a+.5;var u=(o-n)/6/a+.5;a=(o-i)/6/a+.5,r===o?s=a-u:n===o?s=1/3+e-a:i===o&&(s=2/3+u-e),0>s?s+=1:1<s&&--s}return[360*s,100*t,100*o]},n.rgb.hwb=function(e){var t=e[0],r=e[1],i=e[2];e=n.rgb.hsl(e)[0];var o=1/255*Math.min(t,Math.min(r,i));return i=1-1/255*Math.max(t,Math.max(r,i)),[e,100*o,100*i]},n.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255;e=e[2]/255;var n=Math.min(1-t,1-r,1-e);return[100*((1-t-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-e-n)/(1-n)||0),100*n]},n.rgb.keyword=function(e){var r,n=t[e];if(n)return n;for(r in n=1/0,pg)if(pg.hasOwnProperty(r)){var i=pg[r];if(i=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)+Math.pow(e[2]-i[2],2),i<n){n=i;var o=r}}return o},n.keyword.rgb=function(e){return pg[e]},n.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255;return e=e[2]/255,t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92,r=.04045<r?Math.pow((r+.055)/1.055,2.4):r/12.92,e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92,[100*(.4124*t+.3576*r+.1805*e),100*(.2126*t+.7152*r+.0722*e),100*(.0193*t+.1192*r+.9505*e)]},n.rgb.lab=function(e){var t=n.rgb.xyz(e);e=t[0];var r=t[1];return t=t[2],e/=95.047,r/=100,t/=108.883,e=.008856<e?Math.pow(e,1/3):7.787*e+16/116,r=.008856<r?Math.pow(r,1/3):7.787*r+16/116,t=.008856<t?Math.pow(t,1/3):7.787*t+16/116,[116*r-16,500*(e-r),200*(r-t)]},n.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100;if(e=e[2]/100,0===r){var n=255*e;return[n,n,n]}r=.5>e?e*(1+r):e+r-e*r,e=2*e-r;for(var i=[0,0,0],o=0;3>o;o++)n=t+1/3*-(o-1),0>n&&n++,1<n&&n--,n=1>6*n?e+6*(r-e)*n:1>2*n?r:2>3*n?e+(r-e)*(2/3-n)*6:e,i[o]=255*n;return i},n.hsl.hsv=function(e){var t=e[0],r=e[1]/100;e=e[2]/100;var n=r,i=Math.max(e,.01);return e*=2,r*=1>=e?e:2-e,n*=1>=i?i:2-i,[t,100*(0===e?2*n/(i+n):2*r/(e+r)),(e+r)/2*100]},n.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100;e=e[2]/100;var n=Math.floor(t)%6,i=t-Math.floor(t);t=255*e*(1-r);var o=255*e*(1-r*i);switch(r=255*e*(1-r*(1-i)),e*=255,n){case 0:return[e,r,t];case 1:return[o,e,t];case 2:return[t,e,r];case 3:return[t,o,e];case 4:return[r,t,e];case 5:return[e,t,o]}},n.hsv.hsl=function(e){var t=e[0],r=e[1]/100;e=e[2]/100;var n=Math.max(e,.01),i=(2-r)*n;return n=r*n/(1>=i?i:2-i)||0,[t,100*n,(2-r)*e/2*100]},n.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100;e=e[2]/100;var n=r+e;switch(1<n&&(r/=n,e/=n),n=Math.floor(6*t),e=1-e,t=6*t-n,0!==(1&n)&&(t=1-t),t=r+t*(e-r),n){default:case 6:case 0:n=e;var i=t;break;case 1:n=t,i=e;break;case 2:n=r,i=e,r=t;break;case 3:n=r,i=t,r=e;break;case 4:n=t,i=r,r=e;break;case 5:n=e,i=r,r=t}return[255*n,255*i,255*r]},n.cmyk.rgb=function(e){var t=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-t)+t)),255*(1-Math.min(1,e[1]/100*(1-t)+t)),255*(1-Math.min(1,e[2]/100*(1-t)+t))]},n.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100;e=3.2406*t+-1.5372*r+-.4986*n;var i=-.9689*t+1.8758*r+.0415*n;return t=.0557*t+-.204*r+1.057*n,e=.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:12.92*i,t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),t=Math.min(Math.max(0,t),1),[255*e,255*i,255*t]},n.xyz.lab=function(e){var t=e[0],r=e[1];return e=e[2],t/=95.047,r/=100,e/=108.883,t=.008856<t?Math.pow(t,1/3):7.787*t+16/116,r=.008856<r?Math.pow(r,1/3):7.787*r+16/116,e=.008856<e?Math.pow(e,1/3):7.787*e+16/116,[116*r-16,500*(t-r),200*(r-e)]},n.lab.xyz=function(e){var t=e[1],r=e[2];e=(e[0]+16)/116,t=t/500+e,r=e-r/200;var n=Math.pow(e,3),i=Math.pow(t,3),o=Math.pow(r,3);return[95.047*(.008856<i?i:(t-16/116)/7.787),100*(.008856<n?n:(e-16/116)/7.787),108.883*(.008856<o?o:(r-16/116)/7.787)]},n.lab.lch=function(e){var t=e[0],r=e[1];e=e[2];var n=360*Math.atan2(e,r)/2/Math.PI;return 0>n&&(n+=360),[t,Math.sqrt(r*r+e*e),n]},n.lch.lab=function(e){var t=e[0],r=e[1];return e=e[2]/360*2*Math.PI,[t,r*Math.cos(e),r*Math.sin(e)]},n.rgb.ansi16=function(e){var t=e[0],r=e[1],i=e[2],o=1 in arguments?arguments[1]:n.rgb.hsv(e)[2];return o=Math.round(o/50),0===o?30:(t=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255)),2===o&&(t+=60),t)},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){var t=e[0],r=e[1];return e=e[2],t===r&&r===e?8>t?16:248<t?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(e/255*5)},n.ansi16.rgb=function(e){var t=e%10;return 0===t||7===t?(50<e&&(t+=3.5),t=t/10.5*255,[t,t,t]):(e=.5*(1+~~(50<e)),[(1&t)*e*255,(t>>1&1)*e*255,(t>>2&1)*e*255])},n.ansi256.rgb=function(e){if(232<=e){var t=10*(e-232)+8;return[t,t,t]}e-=16,t=Math.floor(e/36)/5*255;var r=Math.floor((e%=36)/6)/5*255;return[t,r,e%6/5*255]},n.rgb.hex=function(e){return e=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase(),"000000".substring(e.length)+e},n.hex.rgb=function(e){if(e=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!e)return[0,0,0];var t=e[0];return 3===e[0].length&&(t=t.split("").map((function(e){return e+e})).join("")),e=parseInt(t,16),[e>>16&255,e>>8&255,255&e]},n.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255;e=e[2]/255;var n=Math.max(Math.max(t,r),e),i=Math.min(Math.min(t,r),e),o=n-i;return[(0>=o?0:n===t?(r-e)/o%6:n===r?2+(e-t)/o:(t-r)/o+8)/6%1*360,100*o,100*(1>o?i/(1-o):0)]},n.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=0;return t=.5>r?2*t*r:2*t*(1-r),1>t&&(n=(r-.5*t)/(1-t)),[e[0],100*t,100*n]},n.hsv.hcg=function(e){var t=e[2]/100,r=e[1]/100*t,n=0;return 1>r&&(n=(t-r)/(1-r)),[e[0],100*r,100*n]},n.hcg.rgb=function(e){var t=e[1]/100,r=e[2]/100;if(0===t)return[255*r,255*r,255*r];var n=[0,0,0];e=e[0]/360%1*6;var i=e%1,o=1-i;switch(Math.floor(e)){case 0:n[0]=1,n[1]=i,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=i;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=i,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return r*=1-t,[255*(t*n[0]+r),255*(t*n[1]+r),255*(t*n[2]+r)]},n.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return 0<r&&(n=t/r),[e[0],100*n,100*r]},n.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return 0<r&&.5>r?n=t/(2*r):.5<=r&&1>r&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},n.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},n.hwb.hcg=function(e){var t=1-e[2]/100,r=t-e[1]/100,n=0;return 1>r&&(n=(t-r)/(1-r)),[e[0],100*r,100*n]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=n.gray.hsv=function(e){return[0,0,e[0]]},n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){return e=255&Math.round(e[0]/100*255),e=((e<<16)+(e<<8)+e).toString(16).toUpperCase(),"000000".substring(e.length)+e},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}})),wg=function(e){for(var t={},r=lc(Ag),n=r.length,i=0;i<n;i++)t[r[i]]={distance:-1,parent:null};for(r=[e],t[e].distance=0;r.length;){e=r.pop(),n=lc(Ag[e]),i=n.length;for(var o=0;o<i;o++){var a=n[o],s=t[a];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,r.unshift(a))}}for(r={},e=lc(t),n=e.length,i=0;i<n;i++){var u=e[i];if(null!==t[u].parent){o=u,a=t,s=[a[u].parent,u];var l=Ag[a[u].parent][u];for(u=a[u].parent;a[u].parent;)s.unshift(a[u].parent),l=Bo(Ag[a[u].parent][u],l),u=a[u].parent;l.conversion=s,r[o]=l}}return r},_g={};lc(Ag).forEach((function(e){_g[e]={},Object.defineProperty(_g[e],"channels",{value:Ag[e].channels}),Object.defineProperty(_g[e],"labels",{value:Ag[e].labels});var t=wg(e);lc(t).forEach((function(r){var n=t[r];_g[e][r]=Uo(n),_g[e][r].raw=zo(n)}))}));var Cg=_g,Mg=[].slice,Sg=["keyword","gray","hex"],Tg={};lc(Cg).forEach((function(e){Tg[Mg.call(Cg[e].labels).sort().join("")]=e}));var Eg={};jo.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in xg.to?this:this.rgb();return t=t.round("number"===typeof e?e:1),e=1===t.valpha?t.color:t.color.concat(this.valpha),xg.to[t.model](e)},percentString:function(e){return e=this.rgb().round("number"===typeof e?e:1),e=1===e.valpha?e.color:e.color.concat(this.valpha),xg.to.rgb.percent(e)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=Cg[this.model].channels,r=Cg[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new jo(this.color.map(Ho(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new jo(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:Go("rgb",0,Vo(255)),green:Go("rgb",1,Vo(255)),blue:Go("rgb",2,Vo(255)),hue:Go(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:Go("hsl",1,Vo(100)),lightness:Go("hsl",2,Vo(100)),saturationv:Go("hsv",1,Vo(100)),value:Go("hsv",2,Vo(100)),chroma:Go("hcg",1,Vo(100)),gray:Go("hcg",2,Vo(100)),white:Go("hwb",1,Vo(100)),wblack:Go("hwb",2,Vo(100)),cyan:Go("cmyk",0,Vo(100)),magenta:Go("cmyk",1,Vo(100)),yellow:Go("cmyk",2,Vo(100)),black:Go("cmyk",3,Vo(100)),x:Go("xyz",0,Vo(100)),y:Go("xyz",1,Vo(100)),z:Go("xyz",2,Vo(100)),l:Go("lab",0,Vo(100)),a:Go("lab",1),b:Go("lab",2),keyword:function(e){return arguments.length?new jo(e):Cg[this.model].keyword(this.color)},hex:function(e){return arguments.length?new jo(e):xg.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity();return e=e.luminosity(),t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level:function(e){return e=this.contrast(e),7.1<=e?"AAA":4.5<=e?"AA":""},isDark:function(){var e=this.rgb().color;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;3>t;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color;return e=.3*e[0]+.59*e[1]+.11*e[2],jo.rgb(e,e,e)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,t.color[0]=0>r?360+r:r,t},mix:function(e,t){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+("undefined"===typeof e?"undefined":Rl(e)));e=e.rgb();var r=this.rgb();t=void 0===t?.5:t;var n=2*t-1,i=e.alpha()-r.alpha();return n=((-1===n*i?n:(n+i)/(1+n*i))+1)/2,i=1-n,jo.rgb(n*e.red()+i*r.red(),n*e.green()+i*r.green(),n*e.blue()+i*r.blue(),e.alpha()*t+r.alpha()*(1-t))}},lc(Cg).forEach((function(e){if(-1===Sg.indexOf(e)){var t=Cg[e].channels;jo.prototype[e]=function(){if(this.model===e)return new jo(this);if(arguments.length)return new jo(arguments,e);var r="number"===typeof arguments[t]?t:this.valpha,n=Cg[this.model][e].raw(this.color);return n=Array.isArray(n)?n:[n],new jo(n.concat(r),e)},jo[e]=function(r){return"number"===typeof r&&(r=Wo(Mg.call(arguments),t)),new jo(r,e)}}}));var Ig=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=function(e){t.ARRAY_TYPE=n=e},t.toRadian=function(e){return e*i},t.equals=function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))},t.RANDOM=t.ARRAY_TYPE=t.EPSILON=void 0;var r=1e-6;t.EPSILON=r;var n="undefined"!==typeof Float32Array?Float32Array:Array;t.ARRAY_TYPE=n,t.RANDOM=Math.random;var i=Math.PI/180}));n(Ig);var Rg=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2];return r=r[3],e[0]=n*a+o*s,e[1]=i*a+t*s,e[2]=n*u+o*r,e[3]=i*u+t*r,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(4);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},t.fromValues=function(e,t,r,n){var o=new i.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.transpose=function(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*t-i*n;return o?(o=1/o,e[0]=t*o,e[1]=-n*o,e[2]=-i*o,e[3]=r*o,e):null},t.adjoint=function(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e},t.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},t.multiply=r,t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+o*a,e[1]=i*r+t*a,e[2]=n*-a+o*r,e[3]=i*-a+t*r,e},t.scale=function(e,t,r){var n=t[1],i=t[2],o=t[3],a=r[0];return r=r[1],e[0]=t[0]*a,e[1]=n*a,e[2]=i*r,e[3]=o*r,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=-r,e[3]=t,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},t.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},t.LDU=function(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2];e=e[3];var a=t[0],s=t[1],u=t[2];return t=t[3],Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.mul=r,t.sub=n}));n(Rg);var Lg=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=r[0],l=r[1],c=r[2],h=r[3],f=r[4];return r=r[5],e[0]=n*u+o*l,e[1]=i*u+a*l,e[2]=n*c+o*h,e[3]=i*c+a*h,e[4]=n*f+o*r+s,e[5]=i*f+a*r+t,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(6);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},t.clone=function(e){var t=new i.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},t.fromValues=function(e,t,r,n,o,a){var s=new i.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=o,s[5]=a,s},t.set=function(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4];t=t[5];var s=r*o-n*i;return s?(s=1/s,e[0]=o*s,e[1]=-n*s,e[2]=-i*s,e[3]=r*s,e[4]=(i*t-o*a)*s,e[5]=(n*a-r*t)*s,e):null},t.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},t.multiply=r,t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=Math.sin(r);return r=Math.cos(r),e[0]=n*r+o*u,e[1]=i*r+a*u,e[2]=n*-u+o*r,e[3]=i*-u+a*r,e[4]=s,e[5]=t,e},t.scale=function(e,t,r){var n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=r[0];return r=r[1],e[0]=t[0]*u,e[1]=n*u,e[2]=i*r,e[3]=o*r,e[4]=a,e[5]=s,e},t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4];t=t[5];var u=r[0];return r=r[1],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=n*u+o*r+s,e[5]=i*u+a*r+t,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=-r,e[3]=t,e[4]=0,e[5]=0,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},t.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},t.subtract=n,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4];e=e[5];var u=t[0],l=t[1],c=t[2],h=t[3],f=t[4];return t=t[5],Math.abs(r-u)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-l)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-h)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-f)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.mul=r,t.sub=n}));n(Lg);var Pg=i((function(e,t){function r(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=r[0],f=r[1],p=r[2],d=r[3],g=r[4],m=r[5],v=r[6],y=r[7];return r=r[8],e[0]=h*n+f*a+p*l,e[1]=h*i+f*s+p*c,e[2]=h*o+f*u+p*t,e[3]=d*n+g*a+m*l,e[4]=d*i+g*s+m*c,e[5]=d*o+g*u+m*t,e[6]=v*n+y*a+r*l,e[7]=v*i+y*s+r*c,e[8]=v*o+y*u+r*t,e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new i.ARRAY_TYPE(9);return i.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},t.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},t.clone=function(e){var t=new i.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromValues=function(e,t,r,n,o,a,s,u,l){var c=new i.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},t.set=function(e,t,r,n,i,o,a,s,u,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7];t=t[8];var c=t*a-s*l,h=-t*o+s*u,f=l*o-a*u,p=r*c+n*h+i*f;return p?(p=1/p,e[0]=c*p,e[1]=(-t*n+i*l)*p,e[2]=(s*n-i*a)*p,e[3]=h*p,e[4]=(t*r-i*u)*p,e[5]=(-s*r+i*o)*p,e[6]=f*p,e[7]=(-l*r+n*u)*p,e[8]=(a*r-n*o)*p,e):null},t.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7];return t=t[8],e[0]=a*t-s*l,e[1]=i*l-n*t,e[2]=n*s-i*a,e[3]=s*u-o*t,e[4]=r*t-i*u,e[5]=i*o-r*s,e[6]=o*l-a*u,e[7]=n*u-r*l,e[8]=r*a-n*o,e},t.determinant=function(e){var t=e[3],r=e[4],n=e[5],i=e[6],o=e[7],a=e[8];return e[0]*(a*r-n*o)+e[1]*(-a*t+n*i)+e[2]*(o*t-r*i)},t.multiply=r,t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=r[0];return r=r[1],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=h*n+r*a+l,e[7]=h*i+r*s+c,e[8]=h*o+r*u+t,e},t.rotate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7];t=t[8];var h=Math.sin(r);return r=Math.cos(r),e[0]=r*n+h*a,e[1]=r*i+h*s,e[2]=r*o+h*u,e[3]=r*a-h*n,e[4]=r*s-h*i,e[5]=r*u-h*o,e[6]=l,e[7]=c,e[8]=t,e},t.scale=function(e,t,r){var n=r[0];return r=r[1],e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},t.fromRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=0,e[3]=-r,e[4]=t,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},t.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r+r,a=n+n,s=i+i;r*=o;var u=n*o;n*=a;var l=i*o,c=i*a;return i*=s,o*=t,a*=t,t*=s,e[0]=1-n-i,e[3]=u-t,e[6]=l+a,e[1]=u+t,e[4]=1-r-i,e[7]=c-o,e[2]=l-a,e[5]=c+o,e[8]=1-r-n,e},t.normalFromMat4=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];t=t[15];var v=r*s-n*a,y=r*u-i*a,b=r*l-o*a,x=n*u-i*s,A=n*l-o*s,w=i*l-o*u,_=c*g-h*d,C=c*m-f*d;c=c*t-p*d;var M=h*m-f*g;return h=h*t-p*g,f=f*t-p*m,p=v*f-y*h+b*M+x*c-A*C+w*_,p?(p=1/p,e[0]=(s*f-u*h+l*M)*p,e[1]=(u*c-a*f-l*C)*p,e[2]=(a*h-s*c+l*_)*p,e[3]=(i*h-n*f-o*M)*p,e[4]=(r*f-i*c+o*C)*p,e[5]=(n*c-r*h-o*_)*p,e[6]=(g*w-m*A+t*x)*p,e[7]=(m*b-d*w-t*y)*p,e[8]=(d*A-g*b+t*v)*p,e):null},t.projection=function(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},t.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},t.subtract=n,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},t.equals=function(e,t){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7];e=e[8];var h=t[0],f=t[1],p=t[2],d=t[3],g=t[4],m=t[5],v=t[6],y=t[7];return t=t[8],Math.abs(r-h)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-p)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-d)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-g)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-v)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(e-t)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.mul=r,t.sub=n}));n(Pg);var Og=i((function(e,t){function r(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function n(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],p=t[10],d=t[11],g=t[12],m=t[13],v=t[14];t=t[15];var y=r[0],b=r[1],x=r[2],A=r[3];return e[0]=y*n+b*s+x*h+A*g,e[1]=y*i+b*u+x*f+A*m,e[2]=y*o+b*l+x*p+A*v,e[3]=y*a+b*c+x*d+A*t,y=r[4],b=r[5],x=r[6],A=r[7],e[4]=y*n+b*s+x*h+A*g,e[5]=y*i+b*u+x*f+A*m,e[6]=y*o+b*l+x*p+A*v,e[7]=y*a+b*c+x*d+A*t,y=r[8],b=r[9],x=r[10],A=r[11],e[8]=y*n+b*s+x*h+A*g,e[9]=y*i+b*u+x*f+A*m,e[10]=y*o+b*l+x*p+A*v,e[11]=y*a+b*c+x*d+A*t,y=r[12],b=r[13],x=r[14],A=r[15],e[12]=y*n+b*s+x*h+A*g,e[13]=y*i+b*u+x*f+A*m,e[14]=y*o+b*l+x*p+A*v,e[15]=y*a+b*c+x*d+A*t,e}function i(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=n+n,u=i+i,l=o+o;t=n*s;var c=n*u;n*=l;var h=i*u;return i*=l,o*=l,s*=a,u*=a,a*=l,e[0]=1-(h+o),e[1]=c+a,e[2]=n-u,e[3]=0,e[4]=c-a,e[5]=1-(t+o),e[6]=i+s,e[7]=0,e[8]=n+u,e[9]=i-s,e[10]=1-(t+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new a.ARRAY_TYPE(16);return a.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},t.clone=function(e){var t=new a.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.fromValues=function(e,t,r,n,i,o,s,u,l,c,h,f,p,d,g,m){var v=new a.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=o,v[6]=s,v[7]=u,v[8]=l,v[9]=c,v[10]=h,v[11]=f,v[12]=p,v[13]=d,v[14]=g,v[15]=m,v},t.set=function(e,t,r,n,i,o,a,s,u,l,c,h,f,p,d,g,m){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=h,e[11]=f,e[12]=p,e[13]=d,e[14]=g,e[15]=m,e},t.identity=r,t.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];t=t[15];var v=r*s-n*a,y=r*u-i*a,b=r*l-o*a,x=n*u-i*s,A=n*l-o*s,w=i*l-o*u,_=c*g-h*d,C=c*m-f*d,M=c*t-p*d,S=h*m-f*g,T=h*t-p*g,E=f*t-p*m,I=v*E-y*T+b*S+x*M-A*C+w*_;return I?(I=1/I,e[0]=(s*E-u*T+l*S)*I,e[1]=(i*T-n*E-o*S)*I,e[2]=(g*w-m*A+t*x)*I,e[3]=(f*A-h*w-p*x)*I,e[4]=(u*M-a*E-l*C)*I,e[5]=(r*E-i*M+o*C)*I,e[6]=(m*b-d*w-t*y)*I,e[7]=(c*w-f*b+p*y)*I,e[8]=(a*T-s*M+l*_)*I,e[9]=(n*M-r*T-o*_)*I,e[10]=(d*A-g*b+t*v)*I,e[11]=(h*b-c*A-p*v)*I,e[12]=(s*C-a*S-u*_)*I,e[13]=(r*S-n*C+i*_)*I,e[14]=(g*y-d*x-m*v)*I,e[15]=(c*x-h*y+f*v)*I,e):null},t.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],p=t[11],d=t[12],g=t[13],m=t[14];return t=t[15],e[0]=s*(f*t-p*m)-h*(u*t-l*m)+g*(u*p-l*f),e[1]=-(n*(f*t-p*m)-h*(i*t-o*m)+g*(i*p-o*f)),e[2]=n*(u*t-l*m)-s*(i*t-o*m)+g*(i*l-o*u),e[3]=-(n*(u*p-l*f)-s*(i*p-o*f)+h*(i*l-o*u)),e[4]=-(a*(f*t-p*m)-c*(u*t-l*m)+d*(u*p-l*f)),e[5]=r*(f*t-p*m)-c*(i*t-o*m)+d*(i*p-o*f),e[6]=-(r*(u*t-l*m)-a*(i*t-o*m)+d*(i*l-o*u)),e[7]=r*(u*p-l*f)-a*(i*p-o*f)+c*(i*l-o*u),e[8]=a*(h*t-p*g)-c*(s*t-l*g)+d*(s*p-l*h),e[9]=-(r*(h*t-p*g)-c*(n*t-o*g)+d*(n*p-o*h)),e[10]=r*(s*t-l*g)-a*(n*t-o*g)+d*(n*l-o*s),e[11]=-(r*(s*p-l*h)-a*(n*p-o*h)+c*(n*l-o*s)),e[12]=-(a*(h*m-f*g)-c*(s*m-u*g)+d*(s*f-u*h)),e[13]=r*(h*m-f*g)-c*(n*m-i*g)+d*(n*f-i*h),e[14]=-(r*(s*m-u*g)-a*(n*m-i*g)+d*(n*u-i*s)),e[15]=r*(s*f-u*h)-a*(n*f-i*h)+c*(n*u-i*s),e},t.determinant=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],p=e[12],d=e[13],g=e[14];return e=e[15],(t*a-r*o)*(h*e-f*g)-(t*s-n*o)*(c*e-f*d)+(t*u-i*o)*(c*g-h*d)+(r*s-n*a)*(l*e-f*p)-(r*u-i*a)*(l*g-h*p)+(n*u-i*s)*(l*d-c*p)},t.multiply=n,t.translate=function(e,t,r){var n=r[0],i=r[1];if(r=r[2],t===e)e[12]=t[0]*n+t[4]*i+t[8]*r+t[12],e[13]=t[1]*n+t[5]*i+t[9]*r+t[13],e[14]=t[2]*n+t[6]*i+t[10]*r+t[14],e[15]=t[3]*n+t[7]*i+t[11]*r+t[15];else{var o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7],p=t[8],d=t[9],g=t[10],m=t[11];e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=p,e[9]=d,e[10]=g,e[11]=m,e[12]=o*n+l*i+p*r+t[12],e[13]=a*n+c*i+d*r+t[13],e[14]=s*n+h*i+g*r+t[14],e[15]=u*n+f*i+m*r+t[15]}return e},t.scale=function(e,t,r){var n=r[0],i=r[1];return r=r[2],e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.rotate=function(e,t,r,n){var i=n[0],o=n[1];n=n[2];var s=Math.sqrt(i*i+o*o+n*n);if(s<a.EPSILON)return null;s=1/s,i*=s,o*=s,n*=s;var u=Math.sin(r),l=Math.cos(r),c=1-l;r=t[0],s=t[1];var h=t[2],f=t[3],p=t[4],d=t[5],g=t[6],m=t[7],v=t[8],y=t[9],b=t[10],x=t[11],A=i*i*c+l,w=o*i*c+n*u,_=n*i*c-o*u,C=i*o*c-n*u,M=o*o*c+l,S=n*o*c+i*u,T=i*n*c+o*u;return i=o*n*c-i*u,o=n*n*c+l,e[0]=r*A+p*w+v*_,e[1]=s*A+d*w+y*_,e[2]=h*A+g*w+b*_,e[3]=f*A+m*w+x*_,e[4]=r*C+p*M+v*S,e[5]=s*C+d*M+y*S,e[6]=h*C+g*M+b*S,e[7]=f*C+m*M+x*S,e[8]=r*T+p*i+v*o,e[9]=s*T+d*i+y*o,e[10]=h*T+g*i+b*o,e[11]=f*T+m*i+x*o,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e},t.rotateX=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[4],o=t[5],a=t[6],s=t[7],u=t[8],l=t[9],c=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*r+u*n,e[5]=o*r+l*n,e[6]=a*r+c*n,e[7]=s*r+h*n,e[8]=u*r-i*n,e[9]=l*r-o*n,e[10]=c*r-a*n,e[11]=h*r-s*n,e},t.rotateY=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[8],l=t[9],c=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r-u*n,e[1]=o*r-l*n,e[2]=a*r-c*n,e[3]=s*r-h*n,e[8]=i*n+u*r,e[9]=o*n+l*r,e[10]=a*n+c*r,e[11]=s*n+h*r,e},t.rotateZ=function(e,t,r){var n=Math.sin(r);r=Math.cos(r);var i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=t[5],c=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*r+u*n,e[1]=o*r+l*n,e[2]=a*r+c*n,e[3]=s*r+h*n,e[4]=u*r-i*n,e[5]=l*r-o*n,e[6]=c*r-a*n,e[7]=h*r-s*n,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=function(e,t,r){var n=r[0],i=r[1];r=r[2];var o=Math.sqrt(n*n+i*i+r*r);if(o<a.EPSILON)return null;o=1/o,n*=o,i*=o,r*=o,o=Math.sin(t),t=Math.cos(t);var s=1-t;return e[0]=n*n*s+t,e[1]=i*n*s+r*o,e[2]=r*n*s-i*o,e[3]=0,e[4]=n*i*s-r*o,e[5]=i*i*s+t,e[6]=r*i*s+n*o,e[7]=0,e[8]=n*r*s+i*o,e[9]=i*r*s-n*o,e[10]=r*r*s+t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromXRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=function(e,t){var r=Math.sin(t);return t=Math.cos(t),e[0]=t,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotationTranslation=i,t.fromQuat2=function(e,t){var r=new a.ARRAY_TYPE(3),n=-t[0],o=-t[1],s=-t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7],p=n*n+o*o+s*s+u*u;return 0<p?(r[0]=2*(l*u+f*n+c*s-h*o)/p,r[1]=2*(c*u+f*o+h*n-l*s)/p,r[2]=2*(h*u+f*s+l*o-c*n)/p):(r[0]=2*(l*u+f*n+c*s-h*o),r[1]=2*(c*u+f*o+h*n-l*s),r[2]=2*(h*u+f*s+l*o-c*n)),i(e,t,r),e},t.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},t.getScaling=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9];return t=t[10],e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(o*o+a*a+s*s),e[2]=Math.sqrt(u*u+l*l+t*t),e},t.getRotation=function(e,t){var r=t[0]+t[5]+t[10];return 0<r?(r=2*Math.sqrt(r+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},t.fromRotationTranslationScale=function(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a;t=i*u;var h=i*l;i*=c;var f=o*l;o*=c,a*=c,u*=s,l*=s,s*=c,c=n[0];var p=n[1];return n=n[2],e[0]=(1-(f+a))*c,e[1]=(h+s)*c,e[2]=(i-l)*c,e[3]=0,e[4]=(h-s)*p,e[5]=(1-(t+a))*p,e[6]=(o+u)*p,e[7]=0,e[8]=(i+l)*n,e[9]=(o-u)*n,e[10]=(1-(t+f))*n,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},t.fromRotationTranslationScaleOrigin=function(e,t,r,n,i){var o=t[0],a=t[1],s=t[2],u=t[3],l=o+o,c=a+a,h=s+s;t=o*l;var f=o*c,p=o*h;o=a*c,a*=h;var d=s*h;s=u*l,c*=u;var g=u*h,m=n[0],v=n[1];h=n[2],n=i[0],u=i[1],i=i[2],l=(1-(o+d))*m;var y=(f+g)*m;return m*=p-c,f=(f-g)*v,d=(1-(t+d))*v,v*=a+s,p=(p+c)*h,a=(a-s)*h,t=(1-(t+o))*h,e[0]=l,e[1]=y,e[2]=m,e[3]=0,e[4]=f,e[5]=d,e[6]=v,e[7]=0,e[8]=p,e[9]=a,e[10]=t,e[11]=0,e[12]=r[0]+n-(l*n+f*u+p*i),e[13]=r[1]+u-(y*n+d*u+a*i),e[14]=r[2]+i-(m*n+v*u+t*i),e[15]=1,e},t.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r+r,a=n+n,s=i+i;r*=o;var u=n*o;n*=a;var l=i*o,c=i*a;return i*=s,o*=t,a*=t,t*=s,e[0]=1-n-i,e[1]=u+t,e[2]=l-a,e[3]=0,e[4]=u-t,e[5]=1-r-i,e[6]=c+o,e[7]=0,e[8]=l+a,e[9]=c-o,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=function(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e},t.perspective=function(e,t,r,n,i){return t=1/Math.tan(t/2),e[0]=t/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&1/0!==i?(r=1/(n-i),e[10]=(i+n)*r,e[14]=2*i*n*r):(e[10]=-1,e[14]=-2*n),e},t.perspectiveFromFieldOfView=function(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180);t=Math.tan(t.rightDegrees*Math.PI/180);var s=2/(a+t),u=2/(i+o);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(a-t)*s*.5,e[9]=(i-o)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},t.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*l,e[15]=1,e},t.lookAt=function(e,t,n,i){var o=t[0],s=t[1];t=t[2];var u=i[0],l=i[1],c=i[2],h=n[0];i=n[1];var f=n[2];if(Math.abs(o-h)<a.EPSILON&&Math.abs(s-i)<a.EPSILON&&Math.abs(t-f)<a.EPSILON)return r(e);n=o-h,i=s-i,h=t-f;var p=1/Math.sqrt(n*n+i*i+h*h);n*=p,i*=p,h*=p,f=l*h-c*i,c=c*n-u*h,u=u*i-l*n,(p=Math.sqrt(f*f+c*c+u*u))?(p=1/p,f*=p,c*=p,u*=p):u=c=f=0,l=i*u-h*c;var d=h*f-n*u,g=n*c-i*f;return(p=Math.sqrt(l*l+d*d+g*g))?(p=1/p,l*=p,d*=p,g*=p):g=d=l=0,e[0]=f,e[1]=l,e[2]=n,e[3]=0,e[4]=c,e[5]=d,e[6]=i,e[7]=0,e[8]=u,e[9]=g,e[10]=h,e[11]=0,e[12]=-(f*o+c*s+u*t),e[13]=-(l*o+d*s+g*t),e[14]=-(n*o+i*s+h*t),e[15]=1,e},t.targetTo=function(e,t,r,n){var i=t[0],o=t[1];t=t[2];var a=n[0],s=n[1],u=n[2];n=i-r[0];var l=o-r[1];r=t-r[2];var c=n*n+l*l+r*r;0<c&&(c=1/Math.sqrt(c),n*=c,l*=c,r*=c);var h=s*r-u*l;return u=u*n-a*r,a=a*l-s*n,c=h*h+u*u+a*a,0<c&&(c=1/Math.sqrt(c),h*=c,u*=c,a*=c),e[0]=h,e[1]=u,e[2]=a,e[3]=0,e[4]=l*a-r*u,e[5]=r*h-n*a,e[6]=n*u-l*h,e[7]=0,e[8]=n,e[9]=l,e[10]=r,e[11]=0,e[12]=i,e[13]=o,e[14]=t,e[15]=1,e},t.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},t.subtract=o,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},t.multiplyScalarAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],g=e[12],m=e[13],v=e[14];e=e[15];var y=t[0],b=t[1],x=t[2],A=t[3],w=t[4],_=t[5],C=t[6],M=t[7],S=t[8],T=t[9],E=t[10],I=t[11],R=t[12],L=t[13],P=t[14];return t=t[15],Math.abs(r-y)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-b)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-A)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-w)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-_)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-C)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(c-M)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-S)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(f-T)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-E)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(d-I)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(g-R)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(m-L)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-P)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sub=t.mul=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.mul=n,t.sub=o}));n(Og);var Dg=i((function(e,t){function r(){var e=new p.ARRAY_TYPE(3);return p.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function n(e){var t=e[0],r=e[1];return e=e[2],Math.sqrt(t*t+r*r+e*e)}function i(e,t,r){var n=new p.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function a(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function s(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function u(e,t){var r=t[0]-e[0],n=t[1]-e[1];return e=t[2]-e[2],Math.sqrt(r*r+n*n+e*e)}function l(e,t){var r=t[0]-e[0],n=t[1]-e[1];return e=t[2]-e[2],r*r+n*n+e*e}function c(e){var t=e[0],r=e[1];return e=e[2],t*t+r*r+e*e}function h(e,t){var r=t[0],n=t[1],i=t[2];return r=r*r+n*n+i*i,0<r&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function f(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new p.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.length=n,t.fromValues=i,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},t.subtract=o,t.multiply=a,t.divide=s,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},t.distance=u,t.squaredDistance=l,t.squaredLength=c,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},t.normalize=h,t.dot=f,t.cross=function(e,t,r){var n=t[0],i=t[1];t=t[2];var o=r[0],a=r[1];return r=r[2],e[0]=i*r-t*a,e[1]=t*o-n*r,e[2]=n*a-i*o,e},t.lerp=function(e,t,r,n){var i=t[0],o=t[1];return t=t[2],e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=t+n*(r[2]-t),e},t.hermite=function(e,t,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1);return o=a*(3-2*o),e[0]=t[0]*s+r[0]*u+n[0]*l+i[0]*o,e[1]=t[1]*s+r[1]*u+n[1]*l+i[1]*o,e[2]=t[2]*s+r[2]*u+n[2]*l+i[2]*o,e},t.bezier=function(e,t,r,n,i,o){var a=1-o,s=a*a,u=o*o,l=s*a;return s*=3*o,a*=3*u,o*=u,e[0]=t[0]*l+r[0]*s+n[0]*a+i[0]*o,e[1]=t[1]*l+r[1]*s+n[1]*a+i[1]*o,e[2]=t[2]*l+r[2]*s+n[2]*a+i[2]*o,e},t.random=function(e,t){t=t||1;var r=2*p.RANDOM()*Math.PI,n=2*p.RANDOM()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1];t=t[2];var o=r[3]*n+r[7]*i+r[11]*t+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*t+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*t+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*t+r[14])/o,e},t.transformMat3=function(e,t,r){var n=t[0],i=t[1];return t=t[2],e[0]=n*r[0]+i*r[3]+t*r[6],e[1]=n*r[1]+i*r[4]+t*r[7],e[2]=n*r[2]+i*r[5]+t*r[8],e},t.transformQuat=function(e,t,r){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1];t=t[2];var u=i*t-o*s,l=o*a-n*t,c=n*s-i*a;return r=2*r[3],e[0]=a+u*r+2*(i*c-o*l),e[1]=s+l*r+2*(o*u-n*c),e[2]=t+c*r+2*(n*l-i*u),e},t.rotateX=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.rotateY=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.rotateZ=function(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e},t.angle=function(e,t){return e=i(e[0],e[1],e[2]),t=i(t[0],t[1],t[2]),h(e,e),h(t,t),t=f(e,t),1<t?0:-1>t?Math.PI:Math.acos(t)},t.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e},t.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.equals=function(e,t){var r=e[0],n=e[1];e=e[2];var i=t[0],o=t[1];return t=t[2],Math.abs(r-i)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-t)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0;var p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.sub=o,t.mul=a,t.div=s,t.dist=u,t.sqrDist=l,t.len=n,t.sqrLen=c,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=3),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],o(e,e,a),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2];return t}}(),t.forEach=e}));n(Dg);var kg=i((function(e,t){function r(){var e=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function o(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function a(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return e=t[3]-e[3],Math.sqrt(r*r+n*n+i*i+e*e)}function s(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return e=t[3]-e[3],r*r+n*n+i*i+e*e}function u(e){var t=e[0],r=e[1],n=e[2];return e=e[3],Math.sqrt(t*t+r*r+n*n+e*e)}function l(e){var t=e[0],r=e[1],n=e[2];return e=e[3],t*t+r*r+n*n+e*e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new c.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.fromValues=function(e,t,r,n){var i=new c.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.multiply=i,t.divide=o,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=a,t.squaredDistance=s,t.length=u,t.squaredLength=l,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*r+n*n+i*i+t*t;return 0<o&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=t*o,e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.cross=function(e,t,r,n){var i=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],a=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1];r=r[2]*n[3]-r[3]*n[2],n=t[0];var l=t[1],c=t[2];return t=t[3],e[0]=l*r-c*u+t*s,e[1]=-n*r+c*a-t*o,e[2]=n*u-l*a+t*i,e[3]=-n*s+l*o-c*i,e},t.lerp=function(e,t,r,n){var i=t[0],o=t[1],a=t[2];return t=t[3],e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=t+n*(r[3]-t),e},t.random=function(e,t){t=t||1;do{var r=2*c.RANDOM()-1,n=2*c.RANDOM()-1,i=r*r+n*n}while(1<=i);do{var o=2*c.RANDOM()-1,a=2*c.RANDOM()-1,s=o*o+a*a}while(1<=s);return i=Math.sqrt((1-i)/s),e[0]=t*r,e[1]=t*n,e[2]=t*o*i,e[3]=t*a*i,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1],o=t[2];return t=t[3],e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*t,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*t,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*t,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*t,e},t.transformQuat=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];r=r[3];var l=r*n+s*o-u*i,c=r*i+u*n-a*o,h=r*o+a*i-s*n;return n=-a*n-s*i-u*o,e[0]=l*r+n*-a+c*-u-h*-s,e[1]=c*r+n*-s+h*-a-l*-u,e[2]=h*r+n*-u+l*-s-c*-a,e[3]=t[3],e},t.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2];e=e[3];var o=t[0],a=t[1],s=t[2];return t=t[3],Math.abs(r-o)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.sub=n,t.mul=i,t.div=o,t.dist=a,t.sqrDist=s,t.len=u,t.sqrLen=l,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=4),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2],e[3]=t[n+3],o(e,e,a),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3];return t}}(),t.forEach=e}));n(kg);var Ng=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}function n(){var e=new u.ARRAY_TYPE(4);return u.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function i(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function o(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2];return r=r[3],e[0]=n*r+t*a+i*u-o*s,e[1]=i*r+t*s+o*a-n*u,e[2]=o*r+t*u+n*s-i*a,e[3]=t*r-n*a-i*s-o*u,e}function a(e,t,r,n){var i=t[0],o=t[1],a=t[2];t=t[3];var s=r[0],l=r[1],c=r[2];r=r[3];var h=i*s+o*l+a*c+t*r;if(0>h&&(h=-h,s=-s,l=-l,c=-c,r=-r),1-h>u.EPSILON){var f=Math.acos(h),p=Math.sin(f);h=Math.sin((1-n)*f)/p,n=Math.sin(n*f)/p}else h=1-n;return e[0]=h*i+n*s,e[1]=h*o+n*l,e[2]=h*a+n*c,e[3]=h*t+n*r,e}function s(e,t){var r=t[0]+t[4]+t[8];if(0<r)r=Math.sqrt(r+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var i=(n+1)%3,o=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*i+i]-t[3*o+o]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*i+o]-t[3*o+i])*r,e[i]=(t[3*i+n]+t[3*n+i])*r,e[o]=(t[3*o+n]+t[3*n+o])*r}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=n,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},t.setAxisAngle=i,t.getAxisAngle=function(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>u.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r},t.multiply=o,t.rotateX=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+t*a,e[1]=i*r+o*a,e[2]=o*r-i*a,e[3]=t*r-n*a,e},t.rotateY=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r-o*a,e[1]=i*r+t*a,e[2]=o*r+n*a,e[3]=t*r-i*a,e},t.rotateZ=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2];t=t[3];var a=Math.sin(r);return r=Math.cos(r),e[0]=n*r+i*a,e[1]=i*r-n*a,e[2]=o*r+t*a,e[3]=t*r-o*a,e},t.calculateW=function(e,t){var r=t[0],n=t[1];return t=t[2],e[0]=r,e[1]=n,e[2]=t,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-t*t)),e},t.slerp=a,t.random=function(e){var t=u.RANDOM(),r=u.RANDOM(),n=u.RANDOM(),i=Math.sqrt(1-t);return t=Math.sqrt(t),e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=t*Math.sin(2*Math.PI*n),e[3]=t*Math.cos(2*Math.PI*n),e},t.invert=function(e,t){var r=t[0],n=t[1],i=t[2];t=t[3];var o=r*r+n*n+i*i+t*t;return o=o?1/o:0,e[0]=-r*o,e[1]=-n*o,e[2]=-i*o,e[3]=t*o,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},t.fromMat3=s,t.fromEuler=function(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i,i=Math.sin(t),t=Math.cos(t);var o=Math.sin(r);r=Math.cos(r);var a=Math.sin(n);return n=Math.cos(n),e[0]=i*r*n-t*o*a,e[1]=t*o*n+i*r*a,e[2]=t*r*a-i*o*n,e[3]=t*r*n+i*o*a,e},t.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.setAxes=t.sqlerp=t.rotationTo=t.equals=t.exactEquals=t.normalize=t.sqrLen=t.squaredLength=t.len=t.length=t.lerp=t.dot=t.scale=t.mul=t.add=t.set=t.copy=t.fromValues=t.clone=void 0;var u=r(Ig),l=r(Pg),c=r(Dg);e=r(kg),t.clone=e.clone,t.fromValues=e.fromValues,t.copy=e.copy,t.set=e.set,t.add=e.add,t.mul=o,t.scale=e.scale,t.dot=e.dot,t.lerp=e.lerp;var h=e.length;t.length=h,t.len=h,h=e.squaredLength,t.squaredLength=h,t.sqrLen=h;var f=e.normalize;t.normalize=f,t.exactEquals=e.exactEquals,t.equals=e.equals,e=function(){var e=c.create(),t=c.fromValues(1,0,0),r=c.fromValues(0,1,0);return function(n,o,a){var s=c.dot(o,a);return-.999999>s?(c.cross(e,t,o),1e-6>c.len(e)&&c.cross(e,r,o),c.normalize(e,e),i(n,e,Math.PI),n):.999999<s?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(c.cross(e,o,a),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,f(n,n))}}(),t.rotationTo=e,e=function(){var e=n(),t=n();return function(r,n,i,o,s,u){return a(e,n,s,u),a(t,i,o,u),a(r,e,t,2*u*(1-u)),r}}(),t.sqlerp=e,e=function(){var e=l.create();return function(t,r,n,i){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],f(t,s(t,e))}}(),t.setAxes=e}));n(Ng);var Fg=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}function n(e,t,r){var n=.5*r[0],i=.5*r[1];r=.5*r[2];var o=t[0],a=t[1],s=t[2];return t=t[3],e[0]=o,e[1]=a,e[2]=s,e[3]=t,e[4]=n*t+i*s-r*a,e[5]=i*t+r*o-n*s,e[6]=r*t+n*a-i*o,e[7]=-n*o-i*a-r*s,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function o(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[4],u=r[5],l=r[6],c=r[7],h=t[4],f=t[5],p=t[6];t=t[7];var d=r[0],g=r[1],m=r[2];return r=r[3],e[0]=n*r+a*d+i*m-o*g,e[1]=i*r+a*g+o*d-n*m,e[2]=o*r+a*m+n*g-i*d,e[3]=a*r-n*d-i*g-o*m,e[4]=n*c+a*s+i*l-o*u+h*r+t*d+f*m-p*g,e[5]=i*c+a*u+o*s-n*l+f*r+t*g+p*d-h*m,e[6]=o*c+a*l+n*u-i*s+p*r+t*m+h*g-f*d,e[7]=a*c-n*s-i*u-o*l+t*r-h*d-f*g-p*m,e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new a.ARRAY_TYPE(8);return a.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},t.clone=function(e){var t=new a.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},t.fromValues=function(e,t,r,n,i,o,s,u){var l=new a.ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=o,l[6]=s,l[7]=u,l},t.fromRotationTranslationValues=function(e,t,r,n,i,o,s){var u=new a.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,i*=.5,o*=.5,s*=.5,u[4]=i*n+o*r-s*t,u[5]=o*n+s*e-i*r,u[6]=s*n+i*t-o*e,u[7]=-i*e-o*t-s*r,u},t.fromRotationTranslation=n,t.fromTranslation=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},t.fromRotation=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.fromMat4=function(e,t){var r=s.create();u.getRotation(r,t);var i=new a.ARRAY_TYPE(3);return u.getTranslation(i,t),n(e,r,i),e},t.copy=i,t.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},t.set=function(e,t,r,n,i,o,a,s,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e},t.getDual=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},t.setDual=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},t.getTranslation=function(e,t){var r=t[4],n=t[5],i=t[6],o=t[7],a=-t[0],s=-t[1],u=-t[2];return t=t[3],e[0]=2*(r*t+o*a+n*u-i*s),e[1]=2*(n*t+o*s+i*a-r*u),e[2]=2*(i*t+o*u+r*s-n*a),e},t.translate=function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=.5*r[0],u=.5*r[1];r=.5*r[2];var l=t[4],c=t[5],h=t[6];return t=t[7],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=a*s+i*r-o*u+l,e[5]=a*u+o*s-n*r+c,e[6]=a*r+n*u-i*s+h,e[7]=-n*s-i*u-o*r+t,e},t.rotateX=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateX(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateY=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateY(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateZ=function(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],l=t[5],c=t[6],h=t[7],f=u*a+h*n+l*o-c*i,p=l*a+h*i+c*n-u*o,d=c*a+h*o+u*i-l*n;return u=h*a-u*n-l*i-c*o,s.rotateZ(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=f*a+u*n+p*o-d*i,e[5]=p*a+u*i+d*n-f*o,e[6]=d*a+u*o+f*i-p*n,e[7]=u*a-f*n-p*i-d*o,e},t.rotateByQuatAppend=function(e,t,r){var n=r[0],i=r[1],o=r[2];r=r[3];var a=t[0],s=t[1],u=t[2],l=t[3];return e[0]=a*r+l*n+s*o-u*i,e[1]=s*r+l*i+u*n-a*o,e[2]=u*r+l*o+a*i-s*n,e[3]=l*r-a*n-s*i-u*o,a=t[4],s=t[5],u=t[6],l=t[7],e[4]=a*r+l*n+s*o-u*i,e[5]=s*r+l*i+u*n-a*o,e[6]=u*r+l*o+a*i-s*n,e[7]=l*r-a*n-s*i-u*o,e},t.rotateByQuatPrepend=function(e,t,r){var n=t[0],i=t[1],o=t[2];t=t[3];var a=r[0],s=r[1],u=r[2],l=r[3];return e[0]=n*l+t*a+i*u-o*s,e[1]=i*l+t*s+o*a-n*u,e[2]=o*l+t*u+n*s-i*a,e[3]=t*l-n*a-i*s-o*u,a=r[4],s=r[5],u=r[6],l=r[7],e[4]=n*l+t*a+i*u-o*s,e[5]=i*l+t*s+o*a-n*u,e[6]=o*l+t*u+n*s-i*a,e[7]=t*l-n*a-i*s-o*u,e},t.rotateAroundAxis=function(e,t,r,n){if(Math.abs(n)<a.EPSILON)return i(e,t);var o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var s=Math.sin(n),u=s*r[0]/o,l=s*r[1]/o;r=s*r[2]/o,n=Math.cos(n),o=t[0],s=t[1];var c=t[2],h=t[3];return e[0]=o*n+h*u+s*r-c*l,e[1]=s*n+h*l+c*u-o*r,e[2]=c*n+h*r+o*l-s*u,e[3]=h*n-o*u-s*l-c*r,o=t[4],s=t[5],c=t[6],t=t[7],e[4]=o*n+t*u+s*r-c*l,e[5]=s*n+t*l+c*u-o*r,e[6]=c*n+t*r+o*l-s*u,e[7]=t*n-o*u-s*l-c*r,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e},t.multiply=o,t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e},t.lerp=function(e,t,r,n){var i=1-n;return 0>l(t,r)&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e},t.invert=function(e,t){var r=c(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e},t.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},t.normalize=function(e,t){var r=c(t);if(0<r){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,o=t[2]/r,a=t[3]/r,s=t[4],u=t[5],l=t[6];t=t[7];var h=n*s+i*u+o*l+a*t;e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=(s-n*h)/r,e[5]=(u-i*h)/r,e[6]=(l-o*h)/r,e[7]=(t-a*h)/r}return e},t.str=function(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},t.equals=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6];e=e[7];var c=t[0],h=t[1],f=t[2],p=t[3],d=t[4],g=t[5],m=t[6];return t=t[7],Math.abs(r-c)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-d)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-g)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-m)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.sqrLen=t.squaredLength=t.len=t.length=t.dot=t.mul=t.setReal=t.getReal=void 0;var a=r(Ig),s=r(Ng),u=r(Og);t.getReal=s.copy,t.setReal=s.copy,t.mul=o;var l=s.dot;t.dot=l,e=s.length,t.length=e,t.len=e;var c=s.squaredLength;t.squaredLength=c,t.sqrLen=c}));n(Fg);var Bg=i((function(e,t){function r(){var e=new c.ARRAY_TYPE(2);return c.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function o(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function a(e,t){var r=t[0]-e[0];return e=t[1]-e[1],Math.sqrt(r*r+e*e)}function s(e,t){var r=t[0]-e[0];return e=t[1]-e[1],r*r+e*e}function u(e){var t=e[0];return e=e[1],Math.sqrt(t*t+e*e)}function l(e){var t=e[0];return e=e[1],t*t+e*e}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new c.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},t.fromValues=function(e,t){var r=new c.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.set=function(e,t,r){return e[0]=t,e[1]=r,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e},t.subtract=n,t.multiply=i,t.divide=o,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e},t.distance=a,t.squaredDistance=s,t.length=u,t.squaredLength=l,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var r=t[0],n=t[1];return r=r*r+n*n,0<r&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,r){return t=t[0]*r[1]-t[1]*r[0],e[0]=e[1]=0,e[2]=t,e},t.lerp=function(e,t,r,n){var i=t[0];return t=t[1],e[0]=i+n*(r[0]-i),e[1]=t+n*(r[1]-t),e},t.random=function(e,t){t=t||1;var r=2*c.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},t.transformMat2=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[2]*t,e[1]=r[1]*n+r[3]*t,e},t.transformMat2d=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[2]*t+r[4],e[1]=r[1]*n+r[3]*t+r[5],e},t.transformMat3=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[3]*t+r[6],e[1]=r[1]*n+r[4]*t+r[7],e},t.transformMat4=function(e,t,r){var n=t[0];return t=t[1],e[0]=r[0]*n+r[4]*t+r[12],e[1]=r[1]*n+r[5]*t+r[13],e},t.rotate=function(e,t,r,n){var i=t[0]-r[0];t=t[1]-r[1];var o=Math.sin(n);return n=Math.cos(n),e[0]=i*n-t*o+r[0],e[1]=i*o+t*n+r[1],e},t.angle=function(e,t){var r=e[0];e=e[1];var n=t[0];t=t[1];var i=r*r+e*e;0<i&&(i=1/Math.sqrt(i));var o=n*n+t*t;return 0<o&&(o=1/Math.sqrt(o)),r=(r*n+e*t)*i*o,1<r?0:-1>r?Math.PI:Math.acos(r)},t.zero=function(e){return e[0]=0,e[1]=0,e},t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(e,t){var r=e[0];e=e[1];var n=t[0];return t=t[1],Math.abs(r-n)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}(Ig);t.len=u,t.sub=n,t.mul=i,t.div=o,t.dist=a,t.sqrDist=s,t.sqrLen=l,e=function(){var e=r();return function(t,r,n,i,o,a){for(r||(r=2),n||(n=0),i=i?Math.min(i*r+n,t.length):t.length;n<i;n+=r)e[0]=t[n],e[1]=t[n+1],o(e,e,a),t[n]=e[0],t[n+1]=e[1];return t}}(),t.forEach=e}));n(Bg);var zg=i((function(e,t){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Uc&&yg?yg(e,r):{};n.get||n.set?Uc(t,r,n):t[r]=e[r]}return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=t.vec3=t.vec2=t.quat2=t.quat=t.mat4=t.mat3=t.mat2d=t.mat2=t.glMatrix=void 0,e=r(Ig),t.glMatrix=e,e=r(Rg),t.mat2=e,e=r(Lg),t.mat2d=e,e=r(Pg),t.mat3=e,e=r(Og),t.mat4=e,e=r(Ng),t.quat=e,e=r(Fg),t.quat2=e,e=r(Bg),t.vec2=e,e=r(Dg),t.vec3=e,e=r(kg),t.vec4=e}));n(zg);var Ug=zg.mat4,jg=function(){function e(t,r,n){qc(this,e),this.options=r,this.gl=t,n&&(this.map=n.map),n=this.getVertexShader(r.vertexShader);var i=this.getFragmentShader(r.fragmentShader);r=t.createShader(t.VERTEX_SHADER),t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?(n=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?(i=t.createProgram(),t.attachShader(i,r),t.attachShader(i,n),t.deleteShader(r),t.deleteShader(n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?r=i:(r="Shader program failed to link.  The error log is:"+t.getProgramInfoLog(i),console.error(r),r=-1)):(r="Fragment shader failed to compile.  The error log is:"+t.getShaderInfoLog(n),console.error(r),r=-1)):(r="Vertex shader failed to compile.  The error log is:"+t.getShaderInfoLog(r),console.error(r),r=-1),r=this.program=r,n={},i=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES);for(var o=0;o<i;o++){var a=t.getActiveAttrib(r,o);n[a.name]=t.getAttribLocation(r,a.name)}o={},a={};for(var s=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),u=0;u<s;u++){var l=t.getActiveUniform(r,u);o[l.name]=t.getUniformLocation(r,l.name),a[l.name]=l.type}this.parameter=t={attributes:n,numAttributes:i,uniformsType:a,uniforms:o},this.attributes=t.attributes,this.uniforms=t.uniforms,this.parameter=t}return ag(e,[{key:"getVertexShader",value:function(e){var t="";return this.map&&"cesium"===this.map.type&&(t="#define LOG_DEPTH\n"),t+="#ifdef LOG_DEPTH\nuniform float currentFrustumX;varying float v_depthFromNearPlusOne;\n#endif\nuniform vec2 MAPV_resolution;\n#if defined(PICK)\nuniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}\n#endif\nvoid afterMain(){\n#if defined(LOG_DEPTH)\nv_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;\n#endif\n#if defined(PICK)\nvPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}\n#endif\n}",e=this.getDefines()+t+e,e=e.replace("void main","void originMain"),e+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(e){var t="";return this.map&&"cesium"===this.map.type&&(t="#define LOG_DEPTH\n"),t+="#if defined(LOG_DEPTH)\n#extension GL_EXT_frag_depth : enable\n#endif\nprecision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;\n#if defined(PICK)\nvarying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}\n#endif\n#if defined(LOG_DEPTH)\nuniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}\n#endif\nvoid afterMain(){\n#if defined(PICK)\nif(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}\n#endif\n#if defined(LOG_DEPTH)\nwriteLogDepth(v_depthFromNearPlusOne);\n#endif\n}",e=this.getDefines()+t+e,e=e.replace("void main","void originMain"),e+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var e="",t=this.options.defines;if(t)for(var r=0;r<t.length;r++)e+="#define "+t[r]+"\n";return e}},{key:"use",value:function(e,t){this.gl=e,e.useProgram(this.program),this.map&&"cesium"===this.map.type&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[e.canvas.width,e.canvas.height]})}},{key:"setUniform",value:function(e,t){var r=this.gl,n=this.uniforms[e];if(n)switch(this.parameter.uniformsType[e]){case r.FLOAT:r.uniform1f(n,t);break;case r.FLOAT_VEC2:r.uniform2f(n,t[0],t[1]);break;case r.FLOAT_VEC3:r.uniform3f(n,t[0],t[1],t[2]);break;case r.FLOAT_VEC4:r.uniform4f(n,t[0],t[1],t[2],t[3]);break;case r.SAMPLER_2D:case r.SAMPLER_CUBE:r.activeTexture(r["TEXTURE"+this.textureIndex]),r.uniform1i(n,this.textureIndex),r.bindTexture(r.TEXTURE_2D,t),this.textureIndex++;break;case r.INT:case r.BOOL:r.uniform1i(n,t);break;case r.INT_VEC2:case r.BOOL_VEC2:r.uniform2i(n,t[0],t[1]);break;case r.INT_VEC3:case r.BOOL_VEC3:r.uniform3i(n,t[0],t[1],t[2]);break;case r.INT_VEC4:case r.BOOL_VEC4:r.uniform4i(n,t[0],t[1],t[2],t[3]);break;case r.FLOAT_MAT2:r.uniformMatrix2fv(n,!1,t);break;case r.FLOAT_MAT3:r.uniformMatrix3fv(n,!1,t);break;case r.FLOAT_MAT4:r.uniformMatrix4fv(n,!1,t);break;default:console.error("Unrecognized uniform type: "+e)}else console.warn("Unrecognized uniform type: "+e)}},{key:"setUniforms",value:function(e){for(var t in this.textureIndex=0,e)this.setUniform(t,e[t])}}]),e}(),Hg=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==("undefined"===typeof e?"undefined":Rl(e))||!e||"object"!==("undefined"===typeof t?"undefined":Rl(t))||!t)return!1;var o=lc(e),a=lc(t);if(o.length!==a.length)return!1;a=Object.prototype.hasOwnProperty.bind(t);for(var s=0;s<o.length;s++){if(i=o[s],!a(i))return!1;var u=e[i],l=t[i];if(i=r?r.call(n,u,l,i):void 0,!1===i||void 0===i&&u!==l)return!1}return!0},Gg=function(){function e(t){qc(this,e),this.options=t,this.gl=t.gl,this.savedState=[],this.currentState=this.getDefaultState()}return ag(e,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){var e=this.gl;return{blend:!1,blendEquation:e.FUNC_ADD,blendFunc:[e.ONE,e.ZERO],depthMask:!0,depthTest:!0,depthFunc:e.LEQUAL,polygonOffset:[0,0],cullFace:!1,stencilTest:!1}}},{key:"getRealState",value:function(){var e=this.gl;return{blend:e.getParameter(e.BLEND),blendEquation:e.getParameter(e.BLEND_EQUATION),depthMask:e.getParameter(e.DEPTH_WRITEMASK),depthTest:e.getParameter(e.DEPTH_TEST),depthFunc:e.getParameter(e.DEPTH_FUNC),polygonOffset:[e.getParameter(e.POLYGON_OFFSET_FACTOR),e.getParameter(e.POLYGON_OFFSET_UNITS)],cullFace:e.getParameter(e.CULL_FACE),stencilTest:e.getParameter(e.STENCIL_TEST)}}},{key:"getCurrentState",value:function(){return this.currentState}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var e=this.savedState.pop();this.setState(e,{force:!0})}},{key:"setState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e=Cc(this.getDefaultState(),e),this.setBlend(e,t),this.setDepth(e,t),this.setCullFace(e,t),this.setPolygonOffset(e,t),this.setStencil(e,t),this.currentState=e}},{key:"setBlend",value:function(e,t){var r=this.gl,n=this.getCurrentState();!(t=t.force)&&Hg(e.blend,n.blend)||(e.blend?r.enable(r.BLEND):r.disable(r.BLEND)),!t&&Hg(e.blendEquation,n.blendEquation)||r.blendEquation(e.blendEquation),!t&&Hg(e.blendFunc,n.blendFunc)||r.blendFunc(e.blendFunc[0],e.blendFunc[1])}},{key:"setDepth",value:function(e,t){var r=this.gl,n=this.getCurrentState();!(t=t.force)&&Hg(e.depthTest,n.depthTest)||(e.depthTest?r.enable(r.DEPTH_TEST):r.disable(r.DEPTH_TEST)),!t&&Hg(e.depthMask,n.depthMask)||(e.depthMask?r.depthMask(!0):r.depthMask(!1)),!t&&Hg(e.depthFunc,n.depthFunc)||r.depthFunc(e.depthFunc)}},{key:"setPolygonOffset",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&Hg(e.polygonOffset,n.polygonOffset)||(0!==e.polygonOffset[0]&&0!==e.polygonOffset[1]?r.enable(r.POLYGON_OFFSET_FILL):r.disable(r.POLYGON_OFFSET_FILL),r.polygonOffset(e.polygonOffset[0],e.polygonOffset[1]))}},{key:"setCullFace",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&Hg(e.cullFace,n.cullFace)||(e.cullFace?(r.enable(r.CULL_FACE),r.cullFace(r.BACK)):r.disable(r.CULL_FACE))}},{key:"setStencil",value:function(e,t){var r=this.gl,n=this.getCurrentState();!t.force&&Hg(e.stencilTest,n.stencilTest)||(e.stencilTest?r.enable(r.STENCIL_TEST):r.disable(r.STENCIL_TEST))}}]),e}(),Vg=function(){function e(t){qc(this,e),this.options=t,this.gl=t.gl,this.buffer=this.gl.createBuffer(),t.data&&this.updateData(t.data)}return ag(e,[{key:"updateData",value:function(e){var t=this.options,r=this.gl;this.bind(),r.bufferData(r[t.target],e,r[t.usage])}},{key:"bind",value:function(e){e=e||this.gl,e.bindBuffer(e[this.options.target],this.buffer)}},{key:"unBind",value:function(e){e=e||this.gl,e.bindBuffer(e[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),e}(),Wg={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},Xg=function(){function e(t){for(qc(this,e),this.options=t,this.attributes=t.attributes,this.gl=t.gl,this.program=t.program,t=this.stride=0;t<this.attributes.length;t++)this.stride+=Wg[this.attributes[t].type]*this.attributes[t].size}return ag(e,[{key:"setVertexAttribPointers",value:function(){for(var e=this.gl,t=this.program,r=0;r<this.attributes.length;r++){var n=this.attributes[r],i=t.attributes[n.name];void 0!==i&&(n.buffer.bind(e),e.vertexAttribPointer(i,n.size,e[n.type],n.normalize||!1,void 0!==n.stride?n.stride:this.stride,n.offset),e.enableVertexAttribArray(i))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),e}(),qg=function e(t,r,n){qc(this,e),r=r||t.canvas.width,n=n||t.canvas.height;var i=t.createFramebuffer(),o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,n,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i.texture=o;var a=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r,n),i.depthBuffer=a,t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,a),r=t.checkFramebufferStatus(t.FRAMEBUFFER),t.FRAMEBUFFER_COMPLETE===r&&(t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),this.framebuffer=i)},Yg=function(){function e(t){qc(this,e),this.options={},Cc(this.options,t),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return ag(e,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(e){}},{key:"render",value:function(e){var t=e.gl;e=e.texture;var r=this.programSample;t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);var i=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,0),t.drawArrays(t.TRIANGLES,0,i.length/3)}}]),e}();(function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture,this.getOptions(),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var r=this.getProgram(t);t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.uniform2fv(r.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}])})(Yg),function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){if(this.program1||(this.program1=new jg(e,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;\n#define SMAA_THRESHOLD 0.1\nuniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}"})),this.program2||(this.program2=new jg(e,{vertexShader:"precision highp float;\n#define SMAA_MAX_SEARCH_STEPS 8\n#define SMAA_AREATEX_MAX_DISTANCE 16\n#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )\nattribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;\n#define SMAA_MAX_SEARCH_STEPS 8\n#define SMAA_AREATEX_MAX_DISTANCE 16\n#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )\n#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )\n#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )\nuniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}"})),this.program3||(this.program3=new jg(e,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new Vg({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Vg({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var t=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new Xg({gl:e,program:this.program1,attributes:t}),this.vertexArray2=new Xg({gl:e,program:this.program2,attributes:t}),this.vertexArray3=new Xg({gl:e,program:this.program3,attributes:t})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new qg(e),this.bloomBuffer=new qg(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new qg(e)),this.bloomBuffer||(this.bloomBuffer=new qg(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo,this.getOptions(),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var n=this.getProgram(t),i=n.program1,o=n.program2;n=n.program3;var a=this.getExtraFbo(t),s=a.collectBrightBuffer;a=a.bloomBuffer;var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(i.attributes.position),t.vertexAttribPointer(i.attributes.position,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.position),t.vertexAttribPointer(o.attributes.position,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.attributes.position),t.vertexAttribPointer(n.attributes.position,3,t.FLOAT,!1,0,0),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(i.attributes.uv),t.vertexAttribPointer(i.attributes.uv,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.uv),t.vertexAttribPointer(o.attributes.uv,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.attributes.uv),t.vertexAttribPointer(n.attributes.uv,2,t.FLOAT,!1,0,0),t.useProgram(i.program),t.bindFramebuffer(t.FRAMEBUFFER,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(i.uniforms.tDiffuse,2),t.uniform2fv(i.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,a),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,s.texture),t.uniform1i(o.uniforms.uSampler,2),t.uniform2fv(o.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(n.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(n.uniforms.tDiffuse,2),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,a.texture),t.uniform1i(n.uniforms.tColor,3),t.uniform2fv(n.uniforms.resolution,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}])}(Yg),function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new Vg({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Vg({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new Xg({gl:e,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture,t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var r=this.getProgram(t);r.use(t),this.vertexArray.bind(),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3)}}])}(Yg),function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){return this.programBright||(this.programBright=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new qg(e),this.bloomBuffer=new qg(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new qg(e)),this.bloomBuffer||(this.bloomBuffer=new qg(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo;var n=this.getOptions();t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var i=this.getProgram(t),o=i.programBright,a=i.programBloom;i=i.programResult;var s=this.getExtraFbo(t),u=s.collectBrightBuffer;s=s.bloomBuffer;var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(o.attributes.aPos),t.vertexAttribPointer(o.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.attributes.aPos),t.vertexAttribPointer(a.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i.attributes.aPos),t.vertexAttribPointer(i.attributes.aPos,3,t.FLOAT,!1,0,0),l=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(o.attributes.aTextureCoord),t.vertexAttribPointer(o.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.attributes.aTextureCoord),t.vertexAttribPointer(a.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i.attributes.aTextureCoord),t.vertexAttribPointer(i.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(o.uniforms.uSampler,1),t.uniform1f(o.uniforms.threshold,n.threshold||0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(a.uniforms.uSampler,1),t.uniform1i(a.uniforms.isVertical,!0),t.uniform1f(a.uniforms.blurSize,n.blurSize||2),t.uniform1f(a.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(a.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,s.texture),t.uniform1i(a.uniforms.uSampler,1),t.uniform1i(a.uniforms.isVertical,!1),t.uniform1f(a.uniforms.blurSize,n.blurSize||2),t.uniform1f(a.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(a.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(i.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(i.uniforms.originalTexture,1),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(i.uniforms.bloomTexture,0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}])}(Yg),function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){return this.programBright||(this.programBright=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(e){this.collectBrightBuffer=new qg(e),this.bloomBuffer=new qg(e)}},{key:"getExtraFbo",value:function(e){return this.collectBrightBuffer||(this.collectBrightBuffer=new qg(e)),this.bloomBuffer||(this.bloomBuffer=new qg(e)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(e){var t=e.gl,r=e.texture;e=e.fbo;var n=this.getOptions(),i="clarity"in n?n.clarity:1;i=Math.max(0,i),i=Math.min(1,i),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var o=this.getProgram(t),a=o.programBright,s=o.programBloom;o=o.programResult;var u=this.getExtraFbo(t),l=u.collectBrightBuffer;u=u.bloomBuffer;var c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(a.attributes.aPos),t.vertexAttribPointer(a.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.attributes.aPos),t.vertexAttribPointer(s.attributes.aPos,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.aPos),t.vertexAttribPointer(o.attributes.aPos,3,t.FLOAT,!1,0,0),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(a.attributes.aTextureCoord),t.vertexAttribPointer(a.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.attributes.aTextureCoord),t.vertexAttribPointer(s.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o.attributes.aTextureCoord),t.vertexAttribPointer(o.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.useProgram(a.program),t.bindFramebuffer(t.FRAMEBUFFER,l),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(a.uniforms.uSampler,1),t.uniform1f(a.uniforms.threshold,n.threshold||0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(s.program),t.bindFramebuffer(t.FRAMEBUFFER,u),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,l.texture),t.uniform1i(s.uniforms.uSampler,1),t.uniform1i(s.uniforms.isVertical,!0),t.uniform1f(s.uniforms.blurSize,n.blurSize||2),t.uniform1f(s.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(s.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(s.program),t.bindFramebuffer(t.FRAMEBUFFER,l),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,u.texture),t.uniform1i(s.uniforms.uSampler,1),t.uniform1i(s.uniforms.isVertical,!1),t.uniform1f(s.uniforms.blurSize,n.blurSize||2),t.uniform1f(s.uniforms.devicePixelRatio,window.devicePixelRatio),t.uniform2fv(s.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.useProgram(o.program),t.bindFramebuffer(t.FRAMEBUFFER,e),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(o.uniforms.originalTexture,1),t.uniform1f(o.uniforms.toneScale,i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,l.texture),t.uniform1i(o.uniforms.bloomTexture,0),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3),t.bindBuffer(t.ARRAY_BUFFER,null),t.useProgram(null)}}])}(Yg),function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}eh(t,e),ag(t,[{key:"getProgram",value:function(e){return this.programSample||(this.programSample=new jg(e,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(e){var t=e.gl;e=e.texture;var r=this.getProgram(t);t.useProgram(r.program);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.vertex),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aPos),t.vertexAttribPointer(r.attributes.aPos,3,t.FLOAT,!1,0,0),n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.sampleCoord),t.STATIC_DRAW),t.enableVertexAttribArray(r.attributes.aTextureCoord),t.vertexAttribPointer(r.attributes.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(r.uniforms.uSampler,1),t.uniform2fv(r.uniforms.canvasSize,[t.canvas.width,t.canvas.height]),t.drawArrays(t.TRIANGLES,0,this.vertex.length/3)}}])}(Yg);var Zg=function(){function e(t){qc(this,e),this.gl=t,this.effects=[],this.initFbo()}return ag(e,[{key:"addEffect",value:function(e){this.effects.push(e)}},{key:"removeEffect",value:function(e){}},{key:"setEffects",value:function(e){this.effects=e}},{key:"onResize",value:function(){this.initFbo();var e=this.gl,t=this.effects;if(t&&1<t.length)for(var r=1;r<t.length;r++){var n=t[r];n.onResize&&n.onResize(e)}}},{key:"initFbo",value:function(){var e=this.gl;e&&(this.fbo=[new qg(e),new qg(e)])}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var e=this.gl,t=this.effects;if(t&&0<t.length)for(var r={},n=0;n<t.length;n++){var i=this.fbo[n%2].framebuffer;n===t.length-1&&(i=null),e.bindFramebuffer(e.FRAMEBUFFER,i);var o=[0,0,0,0];e.clearColor(o[0],o[1],o[2],o[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t[n].render({isPickRender:!1,gl:e,texture:r.texture,fbo:i}),r=i}}}]),e}(),Kg=function(){function e(t,r){qc(this,e),this.map=t,this.options=r||{},this.eventMap={}}return ag(e,[{key:"onResize",value:function(e){}},{key:"onUpdate",value:function(e){throw"\u672a\u5b9e\u73b0onUpdate\u65b9\u6cd5"}},{key:"getContainer",value:function(){throw"\u672a\u5b9e\u73b0getContainer\u65b9\u6cd5"}},{key:"getSize",value:function(){throw"\u672a\u5b9e\u73b0getSize\u65b9\u6cd5"}},{key:"getTilt",value:function(){throw"\u672a\u5b9e\u73b0getTilt\u65b9\u6cd5"}},{key:"getHeading",value:function(){throw"\u672a\u5b9e\u73b0getHeading\u65b9\u6cd5"}},{key:"getZoomUnits",value:function(){throw"\u672a\u5b9e\u73b0getZoomUnits\u65b9\u6cd5"}},{key:"getCenter",value:function(){throw"\u672a\u5b9e\u73b0getCenter\u65b9\u6cd5"}},{key:"getMapType",value:function(){throw"\u672a\u5b9e\u73b0getMapType\u65b9\u6cd5"}},{key:"lnglatToMercator",value:function(e,t){return"gcj02"===this.options.coordinateSystem?(t=t*Math.PI/180,t=3189068.5*Math.log((1+Math.sin(t))/(1-Math.sin(t))),[parseFloat((e*Math.PI/180*6378137).toFixed(2)),parseFloat(t.toFixed(2))]):(e=Oo.convertLL2MC({lng:e,lat:t}),[e.lng,e.lat])}}]),e}(),Jg=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.eventMap={},e}return eh(t,e),ag(t,[{key:"onResize",value:function(e){this.map.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onMousemove",value:function(e){e=this.extendCallback(e),this.map.addEventListener("mousemove",e),this.eventMap.mousemove=e}},{key:"onClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("click",e),this.eventMap.click=e}},{key:"onDblClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("dblclick",e),this.eventMap.dblclick=e}},{key:"onRightClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("rightclick",e),this.eventMap.rightclick=e}},{key:"onUpdate",value:function(e){this.map.addEventListener("update",e),this.map.addEventListener("onearthstatuschange",e),this.eventMap.update=e,this.eventMap.onearthstatuschange=e}},{key:"extendCallback",value:function(e){return function(t){e(Cc(t,{x:t.x,y:t.y}))}}},{key:"unbind",value:function(e){var t=this;this.eventMap[e]?(this.map.removeEventListener(e,this.eventMap[e]),delete this.eventMap[e]):(lc(this.eventMap).forEach((function(e){t.map.removeEventListener(e,t.eventMap[e])})),this.eventMap={})}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return this.map.getTilt()}},{key:"getHeading",value:function(){return this.map.getHeading()}},{key:"getZoomUnits",value:function(){return this.map.getZoomUnits()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getCenter",value:function(){var e=this.map.getCenter();return-180<=e.lng&&180>=e.lng&&(e=this.map.lnglatToMercator(e.lng,e.lat),e={lng:e[0],lat:e[1]}),e}},{key:"getMapType",value:function(){return this.map.getMapType()}},{key:"lnglatToMercator",value:function(e,t){return this.map.lnglatToMercator(e,t)}},{key:"mercatorToLnglat",value:function(e,t){return this.map.mercatorToLnglat(e,t)}}]),t}(Kg),Qg=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.div=document.createElement("div"),e.div.style.position="absolute",e.div.style.userSelect="none",e.map.getPanes().mapPane.appendChild(e.div),e.eventMap={},e}return eh(t,e),ag(t,[{key:"onResize",value:function(e){this.map.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onMousemove",value:function(e){e=this.extendCallback(e),this.map.addEventListener("mousemove",e),this.eventMap.mousemove=e}},{key:"onClick",value:function(e){e=this.extendCallback(e),cg?(this.map.addEventListener("touchend",e),this.eventMap.touchend=e):(this.map.addEventListener("click",e),this.eventMap.click=e)}},{key:"onDblClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("dblclick",e),this.eventMap.dblclick=e}},{key:"onRightClick",value:function(e){e=this.extendCallback(e),this.map.addEventListener("rightclick",e),this.eventMap.rightclick=e}},{key:"changeCanvas",value:function(){var e=this.map,t=e.getSize(),r=e.getCenter();e=e.pointToOverlayPixel(r),this.div.style.left=e.x-t.width/2+"px",this.div.style.top=e.y-t.height/2+"px"}},{key:"onUpdate",value:function(e){var t=this,r=function(){t.changeCanvas(),e()};this.map.addEventListener("moveend",r),this.map.addEventListener("moving",r),this.map.addEventListener("zoomend",r),this.eventMap.moveend=r,this.eventMap.moving=r,this.eventMap.zoomend=r}},{key:"extendCallback",value:function(e){return function(t){e(Cc(t,{x:t.pixel.x,y:t.pixel.y}))}}},{key:"unbind",value:function(){var e=this;lc(this.eventMap).forEach((function(t){e.map.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.div}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return 0}},{key:"getHeading",value:function(){return 0}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getZoomUnits",value:function(){var e=this.getZoom();return this.map.getMapType().getZoomUnits?this.map.getMapType().getZoomUnits(e):Math.pow(2,18-e)}},{key:"getCenter",value:function(){var e=this.map.getMapType().getProjection().lngLatToPoint(this.map.getCenter());return{lng:e.x,lat:e.y}}},{key:"lnglatToMercator",value:function(e,t){return e=this.map.getMapType().getProjection().lngLatToPoint({lng:e,lat:t}),[e.x,e.y]}},{key:"mercatorToLnglat",value:function(e,t){return e=this.map.getMapType().getProjection().pointToLngLat({lng:e,lat:t}),[e.lng,e.lat]}}]),t}(Kg),$g=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.eventMap={},e}return eh(t,e),ag(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;lc(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container.getElementsByClassName("cesium-widget")[0]}},{key:"getSize",value:function(){var e=this.map;return{width:e.canvas.clientWidth,height:e.canvas.clientHeight}}},{key:"getTilt",value:function(){return 180*this.map.camera.pitch/Math.PI+90}},{key:"getHeading",value:function(){return 360-180*this.map.camera.heading/Math.PI}},{key:"getZoomUnits",value:function(){var e=this.map;return 6.8*e.scene.globe.ellipsoid.cartesianToCartographic(e.camera.position).height/6500}},{key:"getZoom",value:function(){return 10}},{key:"getCenter",value:function(){var e=this.map;return e=e.camera.pickEllipsoid(new Cesium.Cartesian2(e.canvas.clientWidth/2,e.canvas.clientHeight/2)),e=Cesium.Ellipsoid.WGS84.cartesianToCartographic(e),e=this.getMercator([180*e.longitude/Math.PI,180*e.latitude/Math.PI]),{lng:e[0],lat:e[1]}}},{key:"getMercator",value:function(e){var t=[];return t[0]=e[0]*Math.PI/180*6378137,e=e[1]*Math.PI/180,t[1]=3189068.5*Math.log((1+Math.sin(e))/(1-Math.sin(e))),t}}]),t}(Kg),em=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.eventMap={},e}return eh(t,e),ag(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;lc(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getZoom",value:function(){return this.map.zoom}},{key:"getCenter",value:function(){return this.map.center}}]),t}(Kg),tm=function(e){function t(e,r){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e,r)),e.eventMap={},e}return eh(t,e),ag(t,[{key:"onResize",value:function(e){window.addEventListener("resize",e),this.eventMap.resize=e}},{key:"onUpdate",value:function(e){}},{key:"unbind",value:function(){var e=this;lc(this.eventMap).forEach((function(t){window.removeEventListener(t,e.eventMap[t])})),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),t}(Kg),rm=function(){function e(t,r){var n=this;qc(this,e),r=r||{},"bmap"===r.mapType?this.map=new Qg(t,r):"blank"===r.mapType?this.map=new em(t,r):"cesium"===r.mapType?this.map=new $g(t,r):"three"===r.mapType?this.map=new tm(t,r):(r.mapType="bmapgl",this.map=new Jg(t,r)),this.map.type=r.mapType,this._dpr=window.devicePixelRatio,"bmapgl"===r.mapType&&(this._dpr=this.map.map.config.ratio),this.options=r||{},this.renderArr=[],(t=r.canvas)||(t=document.createElement("canvas")),this.canvas=t,this.gl=r.gl?r.gl:Xo(t,r),["OES_texture_float","OES_element_index_uint","WEBGL_color_buffer_float","EXT_float_blend"].forEach((function(e){n.gl.getExtension(e)})),this.changeSize(),this.projectionMatrix=Ug.create(Float64Array),this.orthoMatrix=Ug.create(Float64Array),this.matrix=Ug.create(Float64Array),this.viewMatrix=Ug.create(Float64Array),this.pointToPixelMatrix=Ug.create(Float64Array),this.pixelToViewMatrix=Ug.create(Float64Array),this.fovy=35,this.fps=Math.min(r.fps,60)||60,this.renderTime=(new Date).valueOf(),this._animation=this.animation.bind(this),this._update=this.update.bind(this),this.onInitialize(this.options.onInitialize),this.options.onRender&&this.renderArr.push(this.options.onRender),this.stateManager=new Gg({gl:this.gl}),this.pickFBO=new qg(this.gl),this.transferOptions={},this.bind()}return ag(e,[{key:"bind",value:function(){var e=this,t=this.map;t.onResize((function(){e.changeSize(),e.render()})),t.onUpdate(this._update),t.onClick&&t.onClick((function(t){e.onClick&&e.onClick(t)})),t.onDblClick&&t.onDblClick((function(t){e.onDblClick&&e.onDblClick(t)})),t.onRightClick&&t.onRightClick((function(t){e.onRightClick&&e.onRightClick(t)})),t.onMousemove&&t.onMousemove((function(t){e.onMousemove&&e.onMousemove(t)})),this.options.canvas||t.getContainer().appendChild(this.canvas)}},{key:"unbind",value:function(){var e=this.map;e.unbind&&e.unbind()}},{key:"setOptions",value:function(e){this.options=e}},{key:"onInitialize",value:function(e){e&&(this.transferOptions=e.bind(this)(this.gl)||{})}},{key:"bindFramebuffer",value:function(e){var t=this.gl;e?t.bindFramebuffer(t.FRAMEBUFFER,e.framebuffer):t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"saveFramebuffer",value:function(){var e=this.gl;this.preFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING)}},{key:"restoreFramebuffer",value:function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.preFramebuffer)}},{key:"onRender",value:function(e){this.renderArr.push(e)}},{key:"changeSize",value:function(){var e=this.canvas,t=this.options;if(e){var r=e.style,n=this.map.getSize(),i=this._dpr;e.width=n.width*i,e.height=n.height*i,r.cssText="position: absolute;left:0;top:0;width:"+n.width+"px;height:"+n.height+"px;z-index:2;","cesium"!==t.mapType||t.canvas||(r.pointerEvents="none"),this.gl.viewport(0,0,e.width,e.height)}}},{key:"update",value:function(){!1===this.options.autoUpdate||this.isAnimation&&60<=this.fps||this.render()}},{key:"render",value:function(){if(this.map&&this.gl){var e=this.options,t=this.projectionMatrix,r=this.viewMatrix;if("three"===e.mapType)r=this.map.map.camera,t=r.projectionMatrix.elements,r=r.matrixWorldInverse.elements;else if("cesium"===e.mapType){r=this.map.map;var n=r.camera.frustum.projectionMatrix;t=new Float32Array([n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]),n=r.camera.viewMatrix,r=new Float32Array([n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]])}else"B_EARTH_MAP"===this.map.map.mapType?(t=this.map.map.getEarth().scene._camera.getProjectionMatrix(),r=this.map.map.getEarth().scene._camera.getModelViewMatrix()):(this.updateProjectionMatrix(),this.updateModelViewMatrix());for(n=Ug.multiply(this.matrix,t,r),Cc(this.transferOptions,{gl:this.gl,matrix:n,pointToPixelMatrix:this.pointToPixelMatrix,pixelToViewMatrix:this.pixelToViewMatrix,projectionMatrix:t,orthoMatrix:this.orthoMatrix,viewMatrix:r,stateManager:this.stateManager}),"three"!==e.mapType&&"cesium"!==e.mapType&&!1!==e.autoUpdate&&this.clear(),e=0;e<this.renderArr.length;e++)this.renderArr[e]&&this.renderArr[e].bind(this)(this.transferOptions)}}},{key:"clear",value:function(e){var t=this.gl,r=this.options.clearColor||[0,0,0,0];t.clearColor(r[0],r[1],r[2],r[3]),e&&(e instanceof Array||(e=jo(e).unitArray()),t.clearColor(e[0],e[1],e[2],e[3])),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}},{key:"updateProjectionMatrix",value:function(){var e=this.options.cameraNear||1,t=this.options.cameraFar||4e3;Ug.perspective(this.projectionMatrix,this.fovy*Math.PI/180,this.gl.canvas.width/this.gl.canvas.height,e,t);var r=this.map.getSize();Ug.ortho(this.orthoMatrix,-r.width/2,r.width/2,-r.height/2,r.height/2,e,t)}},{key:"updateModelViewMatrix",value:function(){var e=this.map,t=this.viewMatrix,r=this.pointToPixelMatrix,n=this.pixelToViewMatrix;Ug.identity(t),Ug.identity(r),Ug.identity(n);var i=e.getSize();Ug.translate(n,n,[0,0,Math.round(-i.height/(2*Math.tan(this.fovy*Math.PI/180/2)))]),Ug.rotate(n,n,e.getTilt()*Math.PI/180,[-1,0,0]),Ug.rotate(n,n,e.getHeading()*Math.PI/180,[0,0,-1]),i=e.getCenter();var o=this.options.pointOffset||[0,0];e=e.getZoomUnits(),Ug.translate(r,r,[(o[0]-i.lng)/e,(o[1]-i.lat)/e,0]),e=1/e,Ug.scale(r,r,[e,e,e]),Ug.multiply(t,n,r)}},{key:"destroy",value:function(){this.stopAnimation(),this.unbind();var e=this.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),this.map.getContainer().removeChild(this.canvas),this.gl=this.canvas=null}},{key:"animation",value:function(){if(this.isAnimation){if(60<=this.fps)this.render();else{var e=(new Date).valueOf(),t=Math.floor(1e3/this.fps),r=e-this.renderTime;r>t&&(this.render(),this.renderTime=e-r%t)}window.requestAnimationFrame(this._animation)}}},{key:"startAnimation",value:function(){this.isAnimation||(this.isAnimation=!0,window.requestAnimationFrame(this._animation))}},{key:"stopAnimation",value:function(){this.isAnimation=!1}}]),e}(),nm=function(){function e(t){qc(this,e),this.layers=[],this.options=t,this.webglLayer=t.webglLayer}return ag(e,[{key:"addLayer",value:function(e){for(var t=!1,r=0;r<this.layers.length;r++)if(this.layers[r]===e){t=!0;break}t||(e.map=this.webglLayer.map,"threeLayer"===e.layerType?(e.setWebglLayer(this.webglLayer),t=e.getThreeLayer(),this.addLayer(t),e.initialize&&e.initialize(t)):(e.setWebglLayer(this.webglLayer),e.commonInitialize&&e.commonInitialize(this.webglLayer.gl),e.initialize&&e.initialize(this.webglLayer.gl),e.onOptionsChanged(e.getOptions(),{}),e.onDataChanged(e.getData()),e.onChanged(e.getOptions(),e.getData())),this.putInLayer(e)),this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"putInLayer",value:function(e){void 0===e.options.renderOrder&&(e.options.renderOrder=this.layers.length),this.layers.push(e),this.layers=this.layers.sort((function(e,t){return e.options.renderOrder-t.options.renderOrder}))}},{key:"removeLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&this.layers.splice(t,1);this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"showLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&e.show();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"hideLayer",value:function(e){for(var t=0;t<this.layers.length;t++)this.layers[t]===e&&e.hide();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeAllLayers",value:function(){this.layers=[],this.webglLayer.stopAnimation(),this.webglLayer.render()}},{key:"destroyAllLayers",value:function(){for(var e=0;e<this.layers.length;e++){var t=this.layers[e];t.destroy&&t.destroy()}}},{key:"getAllLayers",value:function(){return this.layers}},{key:"getAllThreeLayers",value:function(){for(var e=[],t=0;t<this.layers.length;t++){var r=this.layers[t];"ThreeLayer"===r.layerType&&e.push(r)}return e}},{key:"isRequestAnimation",value:function(){for(var e=!1,t=0;t<this.layers.length;t++)if(this.layers[t].isRequestAnimation()){e=!0;break}return e}},{key:"beforeRender",value:function(e){e.gl&&this.webglLayer.stateManager.setDefaultState()}},{key:"afterRender",value:function(e){(e=e.gl)&&(e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.useProgram(null))}},{key:"renderGLLayers",value:function(e){this.webglLayer.stateManager.save();for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||(this.beforeRender(e),r.render(e),this.afterRender(e))}}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayer",value:function(e){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setState({blendFunc:[e.gl.SRC_ALPHA,e.gl.ONE],depthMask:!1,depthTest:!0,depthFunc:e.gl.LESS,cullFace:!1});for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"ThreeLayer"===r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||r.render(e)}}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayers",value:function(e){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setState({blendFunc:[e.gl.SRC_ALPHA,e.gl.ONE],depthMask:!1,depthTest:!0,depthFunc:e.gl.LESS,cullFace:!1});for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"===r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<i[0]||n>=i[1])||r.render(e)}}this.webglLayer.stateManager.restore()}},{key:"onClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onDblClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onDblClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onDblClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onRightClick",value:function(e){for(var t=0;t<this.layers.length;t++){var r=this.layers[t];if(!0===r._visible&&"threeLayer"!==r.layerType&&"ThreeLayer"!==r.layerType){var n=r.map.getZoom(),i=r.getOptions().zoomThreshold;i&&(n<=i[0]||n>=i[1])||!r.options.enablePicked||!r.options.onRightClick||!r.pick||(n=r.pick(e.x,e.y),r.options.onRightClick(n,e),r.options.autoSelect&&this.webglLayer.render())}}}},{key:"onMousemove",value:function(e){for(var t=!1,r=0;r<this.layers.length;r++){var n=this.layers[r];if(!0===n._visible&&"threeLayer"!==n.layerType&&"ThreeLayer"!==n.layerType){var i=n.map.getZoom(),o=n.getOptions().zoomThreshold;o&&(i<=o[0]||i>=o[1])||!n.options.enablePicked||!n.pick||(i=n.pick(e.x,e.y),this.webglLayer.map.map.platform.style.cursor=-1===i.dataIndex?"default":"pointer",n.options.onMousemove&&n.options.onMousemove(i,e),n.options.autoSelect&&(t=!0))}}t&&(this.webglLayer.isAnimation||this.webglLayer.render())}},{key:"destroy",value:function(){this.destroyAllLayers(),this.removeAllLayers()}}]),e}();(function(){function e(t){var r=this;qc(this,e),this.options={autoUpdate:!0},this._visible=!0,Cc(this.options,t);var n=t.pointOffset;this.webglLayer=t.webglLayer||new rm(t.map,this.options),this.layerManager=new nm({autoUpdate:this.options.autoUpdate,webglLayer:this.webglLayer}),this.effectManager=new Zg(this.webglLayer.gl),this.webglRender={render:function(){}},this.options.effects&&this.effectManager.setEffects([this.webglRender].concat(this.options.effects)),this.webglLayer.onRender((function(e){r._render(e)})),this.webglLayer.onClick=function(e){r._visible&&r.layerManager.onClick(e)},this.webglLayer.onDblClick=function(e){r._visible&&r.layerManager.onDblClick(e)},this.webglLayer.onRightClick=function(e){r._visible&&r.layerManager.onRightClick(e)},this.webglLayer.onMousemove=function(e){r._visible&&r.layerManager.onMousemove(e)},n||"cesium"===this.webglLayer.options.mapType||(n=this.webglLayer.map.getCenter(),this.webglLayer.options.pointOffset=[n.lng,n.lat]),this.webglLayer.map.onResize((function(){r.effectManager.onResize()})),(this.postProcessing=t.postProcessing)&&(this.postProcessing.setWebglLayer(this.webglLayer),t=this.postProcessing.getThreeLayer(),this.addLayer(t),this.postProcessing.initialize(t),t.postProcessing=this.postProcessing)}ag(e,[{key:"renderCanvas",value:function(e){var t=this;this.postProcessing?this.postProcessing.addRender((function(){t.layerManager.renderGLLayers(e)})):this.layerManager.renderGLLayers(e),this.layerManager.renderThreeLayers(e),this.layerManager.renderThreeLayer(e)}},{key:"render",value:function(){this.webglLayer&&this.webglLayer.render()}},{key:"_render",value:function(e){var t=this;if(this._visible){var r=this.options.effects;r&&0<r.length?(this.webglRender.render=function(){t.renderCanvas(e)},this.effectManager.render()):(this.webglLayer.saveFramebuffer(),this.renderCanvas(e),this.webglLayer.restoreFramebuffer())}}},{key:"onRender",value:function(e){this.webglLayer.onRender(e)}},{key:"destroy",value:function(){this.stopAnimation(),this.layerManager.destroy(),this.effectManager.destroy(),this.webglLayer.destroy()}},{key:"isRequestAnimation",value:function(){return this.layerManager.isRequestAnimation()}},{key:"startAnimation",value:function(){this.webglLayer.startAnimation()}},{key:"stopAnimation",value:function(){this.webglLayer.stopAnimation()}},{key:"show",value:function(){!0!==this._visible&&(this._visible=!0,this.webglLayer.render(),this.isRequestAnimation()&&this.startAnimation())}},{key:"hide",value:function(){!1!==this._visible&&(this._visible=!1,this.stopAnimation(),this.webglLayer.clear())}},{key:"showLayer",value:function(e){this.layerManager.showLayer(e)}},{key:"hideLayer",value:function(e){this.layerManager.hideLayer(e)}},{key:"add",value:function(e){this.addLayer(e)}},{key:"remove",value:function(e){this.removeLayer(e)}},{key:"addLayer",value:function(e){this.layerManager.addLayer(e)}},{key:"removeLayer",value:function(e){this.layerManager.removeLayer(e)}},{key:"removeAllLayers",value:function(){this.layerManager.removeAllLayers()}},{key:"getAllLayers",value:function(){return this.layerManager.getAllLayers()}},{key:"getAllThreeLayers",value:function(){return this.layerManager.getAllThreeLayers()}}])})();var im=function(){function e(t){qc(this,e),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=Cc(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=Cc(this.options,t),this.options.data&&(this.data=this.options.data,delete this.options.data)}return ag(e,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(e){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"clear",value:function(){this.setData([])}},{key:"setData",value:function(e,t){t=t||{},this.data=e,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),t),!1!==t.autoRender&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(e,t){e=e||{},t=t||{};var r=Cc({},this.getOptions());Cc(this.options,e),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),r),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),t),e.data?(this.setData(e.data,t),delete e.data):!1!==t.autoRender&&this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(e,t){}},{key:"onDataChanged",value:function(e){}},{key:"onChanged",value:function(e,t){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(e,t){}},{key:"setWebglLayer",value:function(e){this.webglLayer=e}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),e}(),om=Za("iterator"),am=Ko.isIterable=function(e){return e=Object(e),void 0!==e[om]||"@@iterator"in e||wa.hasOwnProperty(ds(e))},sm=i((function(e){e.exports={default:am,__esModule:!0}}));n(sm);var um=Ko.getIterator=function(e){var t=ms(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return ea(t.call(e))},lm=i((function(e){e.exports={default:um,__esModule:!0}}));n(lm);var cm=i((function(e,t){t.__esModule=!0;var r=sm&&sm.__esModule?sm:{default:sm},n=lm&&lm.__esModule?lm:{default:lm};t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e))){var i=[],o=!0,a=!1,s=void 0;try{for(var u,l=(0,n.default)(e);!(o=(u=l.next()).done)&&(i.push(u.value),!t||i.length!==t);o=!0);}catch(c){a=!0,s=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw s}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()})),hm=n(cm),fm=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.layerType="ThreeLayer",e}return eh(t,e),ag(t,[{key:"initialize",value:function(e){this.getOptions();var t=this.webglLayer.map.map;"three"===this.webglLayer.map.type?(this.camera=t.camera,this.scene=t.scene):(this.camera=new ig.PerspectiveCamera,this.scene=new ig.Scene),this.world=new ig.Group,this.scene.add(this.world),"three"!==this.webglLayer.map.type&&(this.camera.matrixAutoUpdate=!1,this.world.matrixAutoUpdate=!1,this.renderer=new ig.WebGLRenderer({alpha:!0,antialias:!0,canvas:e.canvas,context:e}),this.renderer.autoClear=!1,this.renderer.outputEncoding=ig.sRGBEncoding)}},{key:"_add",value:function(e,t){var r=this.getOptions();this.scene.add(e);var n=[0,0];!0===r.enabledPointOffset&&(n=this.getPointOffset()),t?(r=new ig.Group,r.isGeoGroup=!0,r.object=e,r.point=t,r.add(e),r.position.x=t.lng-n[0],r.position.y=t.lat-n[1],r.position.z=e.position.z,this.world.add(r)):this.world.add(e)}},{key:"add",value:function(e,t){this._add(e,t),this.update()}},{key:"update",value:function(){this.webglLayer.render()}},{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getWorld",value:function(){return this.world}},{key:"updatePoint",value:function(e,t){for(var r=this.world.children,n=0;n<r.length;n++)if(r[n].isGeoGroup&&r[n].object===e){var i=r[n];i.position.x=t.lng,i.position.y=t.lat,i.position.z=e.position.z}}},{key:"remove",value:function(e){this.world.remove(e);for(var t=this.world.children,r=0;r<t.length;r++)t[r].children&&0<t[r].children.length&&t[r].children[0]===e&&this.world.remove(t[r]);this.update()}},{key:"updateCamera",value:function(){var e=this.world,t=this.map.getZoomUnits();e=e.children;for(var r=0;r<e.length;r++)e[r].point&&e[r].scale.set(t,t,t)}},{key:"render",value:function(e){var t=this.getOptions();if(e){if(!this.webglLayer.map.map.camera){this.updateCamera();var r=this.getPointOffset(),n=(new ig.Matrix4).fromArray(e.viewMatrix);this.camera.projectionMatrix=(new ig.Matrix4).fromArray(e.projectionMatrix),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix),!0===t.enabledPointOffset?this.world.matrix=n:(e=(new ig.Matrix4).makeTranslation(-r[0],-r[1],0),this.world.matrix=n.multiply(e)),this.renderer.state.reset(),this.postProcessing?this.postProcessing.render():this.renderer.render(this.scene,this.camera)}}else this.update()}}]),t}(function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.pickedColor=[-1,-1,-1],e}return eh(t,e),ag(t,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,zoomThreshold:[0,30],repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(e){var t=this.getOptions();this.gl=e,t.enablePicked&&(this.pickBuffer=new Vg({gl:e,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var e=[];return this.getOptions().enablePicked&&e.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),e}},{key:"getProperty",value:function(e,t,r){return"[object Function]"===Object.prototype.toString.call(t)?t(r):(t=r[e]||t,"properties"in r&&e in r.properties&&(t=r.properties[e]),t)}},{key:"normizedColor",value:function(e){var t=e;return e instanceof Array||(t=jo(e).unitArray()),void 0===t[3]&&(t[3]=1),t}},{key:"normizedPoint",value:function(e){var t=this.getPointOffset();if(!e||!e[0]||!e[1])return[t[0],t[1],0];var r=Number(e[0]),n=Number(e[1]);-180<=r&&180>=r&&-90<=n&&90>=n&&(n=this.webglLayer.map.lnglatToMercator(r,n),r=n[0],n=n[1]);var i=Number(e[2])||0;return this.webglLayer&&"cesium"===this.webglLayer.options.mapType&&window.Cesium?(r=this.convertLngLat([r,n]),i=window.Cesium.Cartesian3.fromDegrees(r[0],r[1],i),r=i.x,n=i.y,i=i.z):this.webglLayer&&"bmapgl"===this.webglLayer.options.mapType&&"B_EARTH_MAP"===this.webglLayer.map.map.mapType&&(r=this.convertLngLat([r,n]),i=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:r[0],lat:r[1]}),r=i.x,n=i.y,i=i.z),3<e.length?[r-t[0],n-t[1],i].concat(ug(e.slice(3))):[r-t[0],n-t[1],i]}},{key:"convertLngLat",value:function(e){return[e[0]/20037508.34*180,180/Math.PI*(2*Math.atan(Math.exp(e[1]/20037508.34*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var e=[0,0],t=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?e=this.webglLayer.options.pointOffset:t.pointOffset&&(e=t.pointOffset),e}},{key:"indexToRgb",value:function(e){e++;var t=Math.floor(e/65536);e-=65536*t;var r=Math.floor(e/256);return[e-256*r,r,t]}},{key:"rgbToIndex",value:function(e){return e[0]+256*e[1]+65536*e[2]-1}},{key:"getCommonUniforms",value:function(e){e=e.isPickRender;var t=this.getOptions(),r={};if(t.enablePicked){var n=0<=t.selectedIndex?t.selectedIndex:-1;n=t.autoSelect?this.pickedColor:this.indexToRgb(n),r=Cc(r,{uSelectedColor:this.normizedColor(t.selectedColor),uEnablePicked:t.enablePicked,uPickedColor:n.map((function(e){return e/255})),uIsPickRender:!!e})}return r}},{key:"pick",value:function(e,t){var r=this.gl,n=this.webglLayer._dpr;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:r,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var i=new Uint8Array(4);return r.readPixels(e*n,r.canvas.height-t*n,1,1,r.RGBA,r.UNSIGNED_BYTE,i),e=this.rgbToIndex(i),t=this.getData(),this.pickedColor=[i[0],i[1],i[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:e,dataItem:t[e]}}},{key:"setGLState",value:function(e){this.webglLayer.stateManager.setState(e)}},{key:"addMultipleCoords",value:function(e,t,r){if(!this.options.repeat||!this.webglLayer||"bmapgl"!==this.webglLayer.options.mapType||"B_EARTH_MAP"===this.webglLayer.map.map.mapType)return[e];var n=this.webglLayer.map.map;t=t||n.getZoom();var i=r?n.worldSize(t):40075452.74461451;if(t=function(e){return[[e[0]-i,e[1],e[2]||0],[e[0]+i,e[1],e[2]||0]]},e instanceof Array&&!(e[0]instanceof Array))return t=t(e),t=hm(t,2),[e,t[0],t[1]];if(e instanceof Array&&e[0]instanceof Array&&!(e[0][0]instanceof Array)){r=[],n=[];for(var o=0;o<e.length;o++){var a=t(e[o]);a=hm(a,2);var s=a[1];r.push(a[0]),n.push(s)}return[e,r,n]}for(r=[],n=[],o=0;o<e.length;o++){a=[],s=[];for(var u=0;u<e[o].length;u++){var l=t(e[o][u]);l=hm(l,2);var c=l[1];a.push(l[0]),s.push(c)}r.push(a),n.push(s)}return[e,r,n]}}]),t}(im)),pm=function(e){function t(e){qc(this,t);var r=Zc(this,(t.__proto__||Wc(t)).call(this,e));return r.layerType="threeLayer",r.setOptions(e),r}return eh(t,e),ag(t,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,zoomThreshold:[0,30]}}},{key:"setWebglLayer",value:function(e){e.threeLayer||(e.threeLayer=new fm({enabledPointOffset:!0,webglLayer:e})),this.threeLayer=e.threeLayer}},{key:"getPointOffset",value:function(){return this.threeLayer.getPointOffset()}},{key:"getThreeLayer",value:function(){return this.threeLayer}}]),t}(im),dm={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texel = texture2D( tDiffuse, vUv );\n\tgl_FragColor = opacity * texel;\n}"};Cc(qo.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),qo.FullScreenQuad=function(){var e=new Oi(-1,1,1,-1,0,1),t=new ue(2,2),r=function(e){this._mesh=new X(t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Cc(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var gm=function(e,t){qo.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Q?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=qf.clone(e.uniforms),this.material=new Q({defines:Cc({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new qo.FullScreenQuad(this.material)};gm.prototype=Cc(vc(qo.prototype),{constructor:gm,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}});var mm=function(e,t){qo.call(this),this.scene=e,this.camera=t,this.clear=!0,this.inverse=this.needsSwap=!1};mm.prototype=Cc(vc(qo.prototype),{constructor:mm,render:function(e,t,r){var n=e.getContext(),i=e.state;if(i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse)var o=0,a=1;else o=1,a=0;i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),i.buffers.stencil.setFunc(n.ALWAYS,o,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(n.EQUAL,1,4294967295),i.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),i.buffers.stencil.setLocked(!0)}});var vm=function(){qo.call(this),this.needsSwap=!1};vm.prototype=vc(qo.prototype),Cc(vm.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var ym=function(e,t){this.renderer=e,void 0===t?(t=e.getSize(new s),this._pixelRatio=e.getPixelRatio(),this._width=t.width,this._height=t.height,t=new h(this._width*this._pixelRatio,this._height*this._pixelRatio,{minFilter:1006,magFilter:1006,format:1023,stencilBuffer:!1}),t.texture.name="EffectComposer.rt1"):(this._pixelRatio=1,this._width=t.width,this._height=t.height),this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===dm&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===gm&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new gm(dm),this.clock=new Qi};Cc(ym.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(e+=1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,r=this.renderer.getRenderTarget(),n=!1,i=this.passes.length;for(t=0;t<i;t++){var o=this.passes[t];if(!1!==o.enabled){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),o.needsSwap){if(n){var a=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==mm&&(o instanceof mm?n=!0:o instanceof vm&&(n=!1))}}this.renderer.setRenderTarget(r)},reset:function(e){void 0===e&&(e=this.renderer.getSize(new s),this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)),this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t,e=this._width*this._pixelRatio,t=this._height*this._pixelRatio,this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(e,t)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var bm=function(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1};Cc(bm.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),bm.FullScreenQuad=function(){var e=new Oi(-1,1,1,-1,0,1),t=new ue(2,2),r=function(e){this._mesh=new X(t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Cc(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var xm=function(e,t,r,n,i){qo.call(this),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=n,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.needsSwap=this.clearDepth=!1};xm.prototype=Cc(vc(qo.prototype),{constructor:xm,render:function(e,t,r){if(t=e.autoClear,e.autoClear=!1,void 0!==this.overrideMaterial){var n=this.scene.overrideMaterial;this.scene.overrideMaterial=this.overrideMaterial}if(this.clearColor){var i=e.getClearColor().getHex(),o=e.getClearAlpha();e.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(i,o),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=n),e.autoClear=t}});var Am={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new s(1/1024,1/512)}},vertexShader:"uniform vec2 resolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvoid SMAAEdgeDetectionVS( vec2 texcoord ) {\n\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );\n\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );\n\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );\n}\nvoid main() {\n\tvUv = uv;\n\tSMAAEdgeDetectionVS( vUv );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {\n\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );\n\tvec4 delta;\n\tvec3 C = texture2D( colorTex, texcoord ).rgb;\n\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;\n\tvec3 t = abs( C - Cleft );\n\tdelta.x = max( max( t.r, t.g ), t.b );\n\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;\n\tt = abs( C - Ctop );\n\tdelta.y = max( max( t.r, t.g ), t.b );\n\tvec2 edges = step( threshold, delta.xy );\n\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )\n\t\tdiscard;\n\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;\n\tt = abs( C - Cright );\n\tdelta.z = max( max( t.r, t.g ), t.b );\n\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;\n\tt = abs( C - Cbottom );\n\tdelta.w = max( max( t.r, t.g ), t.b );\n\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );\n\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;\n\tt = abs( C - Cleftleft );\n\tdelta.z = max( max( t.r, t.g ), t.b );\n\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;\n\tt = abs( C - Ctoptop );\n\tdelta.w = max( max( t.r, t.g ), t.b );\n\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );\n\tedges.xy *= step( 0.5 * maxDelta, delta.xy );\n\treturn vec4( edges, 0.0, 0.0 );\n}\nvoid main() {\n\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );\n}"},wm={SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},_m={tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new s(1/1024,1/512)}},Cm={tDiffuse:{value:null},tColor:{value:null},resolution:{value:new s(1/1024,1/512)}},Mm=function(e,t){qo.call(this),this.edgesRT=new h(e,t,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1022}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new h(e,t,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1023}),this.weightsRT.texture.name="SMAAPass.weights";var r=this,n=new Image;n.src=this.getAreaTexture(),n.onload=function(){r.areaTexture.needsUpdate=!0},this.areaTexture=new l,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=n,this.areaTexture.format=1022,this.areaTexture.minFilter=1006,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,n=new Image,n.src=this.getSearchTexture(),n.onload=function(){r.searchTexture.needsUpdate=!0},this.searchTexture=new l,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=n,this.searchTexture.magFilter=1003,this.searchTexture.minFilter=1003,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,void 0===Am&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=qf.clone(Am.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new Q({defines:Cc({},Am.defines),uniforms:this.uniformsEdges,vertexShader:Am.vertexShader,fragmentShader:Am.fragmentShader}),this.uniformsWeights=qf.clone(_m),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Q({defines:Cc({},wm),uniforms:this.uniformsWeights,vertexShader:"uniform vec2 resolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 3 ];\nvarying vec2 vPixcoord;\nvoid SMAABlendingWeightCalculationVS( vec2 texcoord ) {\n\tvPixcoord = texcoord / resolution;\n\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );\n\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );\n\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );\n}\nvoid main() {\n\tvUv = uv;\n\tSMAABlendingWeightCalculationVS( vUv );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )\nuniform sampler2D tDiffuse;\nuniform sampler2D tArea;\nuniform sampler2D tSearch;\nuniform vec2 resolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[3];\nvarying vec2 vPixcoord;\n#if __VERSION__ == 100\nvec2 round( vec2 x ) {\n\treturn sign( x ) * floor( abs( x ) + 0.5 );\n}\n#endif\nfloat SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {\n\te.r = bias + e.r * scale;\n\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;\n}\nfloat SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 0.0, 1.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;\n\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;\n\t}\n\ttexcoord.x += 0.25 * resolution.x;\n\ttexcoord.x += resolution.x;\n\ttexcoord.x += 2.0 * resolution.x;\n\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);\n\treturn texcoord.x;\n}\nfloat SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 0.0, 1.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;\n\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;\n\t}\n\ttexcoord.x -= 0.25 * resolution.x;\n\ttexcoord.x -= resolution.x;\n\ttexcoord.x -= 2.0 * resolution.x;\n\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );\n\treturn texcoord.x;\n}\nfloat SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 1.0, 0.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;\n\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;\n\t}\n\ttexcoord.y -= 0.25 * resolution.y;\n\ttexcoord.y -= resolution.y;\n\ttexcoord.y -= 2.0 * resolution.y;\n\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );\n\treturn texcoord.y;\n}\nfloat SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {\n\tvec2 e = vec2( 1.0, 0.0 );\n\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {\n\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;\n\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;\n\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;\n\t}\n\ttexcoord.y += 0.25 * resolution.y;\n\ttexcoord.y += resolution.y;\n\ttexcoord.y += 2.0 * resolution.y;\n\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );\n\treturn texcoord.y;\n}\nvec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {\n\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;\n\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );\n\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;\n\treturn texture2D( areaTex, texcoord, 0.0 ).rg;\n}\nvec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {\n\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );\n\tvec2 e = texture2D( edgesTex, texcoord ).rg;\n\tif ( e.g > 0.0 ) {\n\t\tvec2 d;\n\t\tvec2 coords;\n\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );\n\t\tcoords.y = offset[ 1 ].y;\n\t\td.x = coords.x;\n\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;\n\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );\n\t\td.y = coords.x;\n\t\td = d / resolution.x - pixcoord.x;\n\t\tvec2 sqrt_d = sqrt( abs( d ) );\n\t\tcoords.y -= 1.0 * resolution.y;\n\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;\n\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );\n\t}\n\tif ( e.r > 0.0 ) {\n\t\tvec2 d;\n\t\tvec2 coords;\n\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );\n\t\tcoords.x = offset[ 0 ].x;\n\t\td.x = coords.y;\n\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;\n\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );\n\t\td.y = coords.y;\n\t\td = d / resolution.y - pixcoord.y;\n\t\tvec2 sqrt_d = sqrt( abs( d ) );\n\t\tcoords.y -= 1.0 * resolution.y;\n\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;\n\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );\n\t}\n\treturn weights;\n}\nvoid main() {\n\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );\n}"}),this.uniformsBlend=qf.clone(Cm),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Q({uniforms:this.uniformsBlend,vertexShader:"uniform vec2 resolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 2 ];\nvoid SMAANeighborhoodBlendingVS( vec2 texcoord ) {\n\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );\n\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );\n}\nvoid main() {\n\tvUv = uv;\n\tSMAANeighborhoodBlendingVS( vUv );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform sampler2D tColor;\nuniform vec2 resolution;\nvarying vec2 vUv;\nvarying vec4 vOffset[ 2 ];\nvec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {\n\tvec4 a;\n\ta.xz = texture2D( blendTex, texcoord ).xz;\n\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;\n\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;\n\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {\n\t\treturn texture2D( colorTex, texcoord, 0.0 );\n\t} else {\n\t\tvec2 offset;\n\t\toffset.x = a.a > a.b ? a.a : -a.b;\n\t\toffset.y = a.g > a.r ? -a.g : a.r;\n\t\tif ( abs( offset.x ) > abs( offset.y )) {\n\t\t\toffset.y = 0.0;\n\t\t} else {\n\t\t\toffset.x = 0.0;\n\t\t}\n\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );\n\t\ttexcoord += sign( offset ) * resolution;\n\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );\n\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );\n\t\tC.xyz = pow(C.xyz, vec3(2.2));\n\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));\n\t\tvec4 mixed = mix(C, Cop, s);\n\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));\n\t\treturn mixed;\n\t}\n}\nvoid main() {\n\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );\n}"}),this.needsSwap=!1,this.fsQuad=new qo.FullScreenQuad(null)};Mm.prototype=Cc(vc(qo.prototype),{constructor:Mm,render:function(e,t,r){this.uniformsEdges.tDiffuse.value=r.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=r.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear()),this.fsQuad.render(e)},setSize:function(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var Sm={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new S(0)},defaultOpacity:{value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec3 defaultColor;\nuniform float defaultOpacity;\nuniform float luminosityThreshold;\nuniform float smoothWidth;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texel = texture2D( tDiffuse, vUv );\n\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\tfloat v = dot( texel.xyz, luma );\n\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\tgl_FragColor = mix( outputColor, texel, alpha );\n}"},Tm=function(e,t,r,n){qo.call(this),this.strength=void 0!==t?t:1,this.radius=r,this.threshold=n,this.resolution=void 0!==e?new s(e.x,e.y):new s(256,256),this.clearColor=new S(0,0,0);var i={minFilter:1006,magFilter:1006,format:1023};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5,e=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2),this.renderTargetBright=new h(e,r,i),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var o=0;o<this.nMips;o++){var a=new h(e,r,i);a.texture.name="UnrealBloomPass.h"+o,a.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(a),a=new h(e,r,i),a.texture.name="UnrealBloomPass.v"+o,a.texture.generateMipmaps=!1,this.renderTargetsVertical.push(a),e=Math.round(e/2),r=Math.round(r/2)}for(void 0===Sm&&console.error("UnrealBloomPass relies on LuminosityHighPassShader"),this.highPassUniforms=qf.clone(Sm.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Q({uniforms:this.highPassUniforms,vertexShader:Sm.vertexShader,fragmentShader:Sm.fragmentShader,defines:{}}),this.separableBlurMaterials=[],n=[3,5,7,9,11],e=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2),o=0;o<this.nMips;o++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(n[o])),this.separableBlurMaterials[o].uniforms.texSize.value=new s(e,r),e=Math.round(e/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new d(1,1,1),new d(1,1,1),new d(1,1,1),new d(1,1,1),new d(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===dm&&console.error("UnrealBloomPass relies on CopyShader"),this.copyUniforms=qf.clone(dm.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Q({uniforms:this.copyUniforms,vertexShader:dm.vertexShader,fragmentShader:dm.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new S,this.oldClearAlpha=1,this.basic=new P,this.fsQuad=new qo.FullScreenQuad(null)};Tm.prototype=Cc(vc(qo.prototype),{constructor:Tm,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){e=Math.round(e/2),t=Math.round(t/2),this.renderTargetBright.setSize(e,t);for(var r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(e,t),this.renderTargetsVertical[r].setSize(e,t),this.separableBlurMaterials[r].uniforms.texSize.value=new s(e,t),e=Math.round(e/2),t=Math.round(t/2)},render:function(e,t,r,n,i){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),t=e.autoClear,e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e),n=this.renderTargetBright;for(var o=0;o<this.nMips;o++)this.fsQuad.material=this.separableBlurMaterials[o],this.separableBlurMaterials[o].uniforms.colorTexture.value=n.texture,this.separableBlurMaterials[o].uniforms.direction.value=Tm.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[o]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[o].uniforms.colorTexture.value=this.renderTargetsHorizontal[o].texture,this.separableBlurMaterials[o].uniforms.direction.value=Tm.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[o]),e.clear(),this.fsQuad.render(e),n=this.renderTargetsVertical[o];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?e.setRenderTarget(null):e.setRenderTarget(r),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=t},getSeperableBlurMaterial:function(e){return new Q({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new s(.5,.5)},direction:{value:new s(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new Q({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),Tm.BlurDirectionX=new s(1,0),Tm.BlurDirectionY=new s(0,1);var Em=function(e){function t(e){return qc(this,t),Zc(this,(t.__proto__||Wc(t)).call(this,e))}return eh(t,e),ag(t,[{key:"initialize",value:function(e){var t=e.camera,r=e.renderer;if(!this._initialize){if(this.scene=e.scene,this.camera=t,this.renderer=r,e=this.options.passes,this._initialize=!0,this.renderScene=new xm(this.scene,this.camera),t=new ym(this.renderer),t.addPass(this.renderScene),this.passes=[],e)for(var n=0;n<e.length;n++){var i=e[n],o=void 0;switch(i.name){case"unrealBloom":o=i.strength||1;var a=i.radius||0,s=i.threshold||.5;o=new Tm(new ig.Vector2(window.innerWidth*r.getPixelRatio(),window.innerHeight*r.getPixelRatio()),o,a,s);break;case"SMAA":o=new Mm(window.innerWidth*r.getPixelRatio(),window.innerHeight*r.getPixelRatio())}if(o){for(var u in i)o[u]=i[u];t.addPass(o)}}this.composer=t}}},{key:"addRender",value:function(e){this.renderScene&&this.renderScene.addRender(e)}},{key:"render",value:function(){this.composer.render(this.scene,this.camera)}}]),t}(pm);Tm.prototype.getSeperableBlurMaterial=function(e){return new ig.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new ig.Vector2(.5,.5)},direction:{value:new ig.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }",fragmentShader:"#include <common>            varying vec2 vUv;\n            uniform sampler2D colorTexture;\n            uniform vec2 texSize;            uniform vec2 direction;                        float gaussianPdf(in float x, in float sigma) {                return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;            }            void main() {\n                vec2 invSize = 1.0 / texSize;                float fSigma = float(SIGMA);                float weightSum = gaussianPdf(0.0, fSigma);                vec4 diffuseSum = texture2D( colorTexture, vUv).rgba * weightSum;                for( int i = 1; i < KERNEL_RADIUS; i ++ ) {                    float x = float(i);                    float w = gaussianPdf(x, fSigma);                    vec2 uvOffset = direction * invSize * x;                    vec4 sample1 = texture2D( colorTexture, vUv + uvOffset).rgba;                    vec4 sample2 = texture2D( colorTexture, vUv - uvOffset).rgba;                    diffuseSum += (sample1 + sample2) * w;                    weightSum += 2.0 * w;                }                gl_FragColor = vec4(diffuseSum/weightSum);\n            }"})},xm.prototype.addRender=function(e){this.renderCbk=e},xm.prototype.render=function(e,t,r){if(t=e.autoClear,e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor){var n=e.getClearColor().getHex(),i=e.getClearAlpha();e.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.renderCbk&&this.renderCbk(),this.clearColor&&e.setClearColor(n,i),this.scene.overrideMaterial=null,e.autoClear=t};var Im=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.time=0,e.autoUpdate=!0,e}return eh(t,e),ag(t,[{key:"getDefaultOptions",value:function(){return{totalRadian:Math.PI,color:16711680,radius:50,step:.1}}},{key:"initialize",value:function(e){this.threeLayer=e,this.addOverlay()}},{key:"onChanged",value:function(e,t){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){this.time+=this.options.step/10,1<this.time&&(this.time=0);for(var e=this.shapeMarker.children,t=0;t<e.length;t++)e[t].material.uniforms.periodRatio.value=this.time}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.shapeMarker)}},{key:"addOverlay",value:function(){this.shapeMarker=new ig.Group;for(var e=this.threeLayer,t=this.getData(),r=0;r<t.length;r++){var n=e.normizedPoint(t[r].geometry.coordinates);n=this.create3dCanvasRipple({originalData:t[r],normizedData:n}),this.shapeMarker.add(n)}e.add(this.shapeMarker)}},{key:"create3dCanvasRipple",value:function(e){var t=this.options,r=t.totalRadian,n=t.color;t=t.size;var i=e.originalData;e=e.normizedData,"[object Function]"===Object.prototype.toString.call(n)&&(n=n(i)),t="[object Function]"===Object.prototype.toString.call(t)?t(i):Number(t),i={totalRadian:{type:"f",value:r},glowColor:{type:"c",value:new ig.Color(n)},radius:{type:"f",value:t},periodRatio:{type:"f",value:0}},n=new ig.Geometry;for(var o=r/(t/2),a=o;a<=r;a+=o){var s=t*Math.sin(a),u=t*Math.cos(a);n.vertices.push(new ig.Vector3(0,0,a/r)),n.vertices.push(new ig.Vector3(u,s,a/r))}for(r=0,t=n.vertices.length;r<t-2;++r)n.faces.push(new ig.Face3(r,r+1,r+3));return r=new ig.ShaderMaterial({uniforms:i,vertexShader:"varying vec4 vFragColor;varying vec4 vPosition;uniform float radius;uniform float totalRadian;uniform float periodRatio;uniform vec3 glowColor;void main(){float radian=radians(360.0*periodRatio);float s=sin(radian);float c=cos(radian);vec2 rotatedPostion=vec2(position.x*s+position.y*c,position.y*s-position.x*c);gl_Position=projectionMatrix*modelViewMatrix*vec4(rotatedPostion,0,1.0);vFragColor=vec4(glowColor,pow(position.z,1.3));}",fragmentShader:"varying vec4 vFragColor;void main(){gl_FragColor=vFragColor;}",blending:ig.NormalBlending,transparent:!0,depthWrite:!1}),r=new ig.Mesh(n,r),r.position.set(e[0],e[1],e[2]||0),r}}]),t}(pm),Rm=i((function(e,t){(function(){function n(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new a.BufferGeometry,this.widthCallback=null,this.matrixWorld=new a.Matrix4}function i(e,t,r,n,i){if(e=e.subarray||e.slice?e:e.buffer,r=r.subarray||r.slice?r:r.buffer,e=t?e.subarray?e.subarray(t,i&&t+i):e.slice(t,i&&t+i):e,r.set)r.set(e,n);else for(t=0;t<e.length;t++)r[t+n]=e[t];return r}function o(e){a.ShaderMaterial.call(this,{uniforms:Cc({},a.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new a.Color(16777215)},opacity:{value:1},resolution:{value:new a.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new a.Vector2(1,1)}}),vertexShader:a.ShaderChunk.meshline_vert,fragmentShader:a.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Ac(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(e){this.uniforms.sizeAttenuation.value=e}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(e){this.uniforms.near.value=e}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(e){this.uniforms.far.value=e}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}var a="undefined"!==typeof r&&kc||this.THREE;if(!a)throw Error("MeshLine requires three.js");n.prototype.setMatrixWorld=function(e){this.matrixWorld=e},n.prototype.setGeometry=function(e,t){if(this.widthCallback=t,this.positions=[],this.counters=[],e instanceof a.Geometry)for(var r=0;r<e.vertices.length;r++){var n=e.vertices[r];t=r/e.vertices.length,this.positions.push(n.x,n.y,n.z),this.positions.push(n.x,n.y,n.z),this.counters.push(t),this.counters.push(t)}if(e instanceof Float32Array||e instanceof Array)for(r=0;r<e.length;r+=3)t=r/e.length,this.positions.push(e[r],e[r+1],e[r+2]),this.positions.push(e[r],e[r+1],e[r+2]),this.counters.push(t),this.counters.push(t);this.process()},n.prototype.raycast=function(){var e=new a.Matrix4,t=new a.Ray,r=new a.Sphere;return function(n,i){var o=n.linePrecision;o*=o;var s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(this.matrixWorld),!1!==n.ray.intersectSphere(r)){e.getInverse(this.matrixWorld),t.copy(n.ray).applyMatrix4(e);var u=new a.Vector3,l=new a.Vector3,c=new a.Vector3,h=new a.Vector3,f=this instanceof a.LineSegments?2:1;if(s instanceof a.BufferGeometry){var p=s.index,d=s.attributes;if(null!==p){s=p.array,d=d.position.array,p=0;for(var g=s.length-1;p<g;p+=f){var m=s[p+1];u.fromArray(d,3*s[p]),l.fromArray(d,3*m),m=t.distanceSqToSegment(u,l,h,c),m>o||(h.applyMatrix4(this.matrixWorld),m=n.ray.origin.distanceTo(h),m<n.near||m>n.far||i.push({distance:m,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}else for(d=d.position.array,p=0,g=d.length/3-1;p<g;p+=f)u.fromArray(d,3*p),l.fromArray(d,3*p+3),m=t.distanceSqToSegment(u,l,h,c),m>o||(h.applyMatrix4(this.matrixWorld),m=n.ray.origin.distanceTo(h),m<n.near||m>n.far||i.push({distance:m,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}else if(s instanceof a.Geometry)for(u=s.vertices,l=u.length,p=0;p<l-1;p+=f)m=t.distanceSqToSegment(u[p],u[p+1],h,c),m>o||(h.applyMatrix4(this.matrixWorld),m=n.ray.origin.distanceTo(h),m<n.near||m>n.far||i.push({distance:m,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}}(),n.prototype.compareV3=function(e,t){return e*=6,t*=6,this.positions[e]===this.positions[t]&&this.positions[e+1]===this.positions[t+1]&&this.positions[e+2]===this.positions[t+2]},n.prototype.copyV3=function(e){return e*=6,[this.positions[e],this.positions[e+1],this.positions[e+2]]},n.prototype.process=function(){var e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var t=0;t<e;t++)this.side.push(1),this.side.push(-1);for(t=0;t<e;t++){var r=this.widthCallback?this.widthCallback(t/(e-1)):1;this.width.push(r),this.width.push(r)}for(t=0;t<e;t++)this.uvs.push(t/(e-1),0),this.uvs.push(t/(e-1),1);for(r=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]),t=0;t<e-1;t++)r=this.copyV3(t),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(t=1;t<e;t++)r=this.copyV3(t),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]);for(r=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),t=0;t<e-1;t++)r=2*t,this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3);this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new a.BufferAttribute(new Float32Array(this.positions),3),previous:new a.BufferAttribute(new Float32Array(this.previous),3),next:new a.BufferAttribute(new Float32Array(this.next),3),side:new a.BufferAttribute(new Float32Array(this.side),1),width:new a.BufferAttribute(new Float32Array(this.width),1),uv:new a.BufferAttribute(new Float32Array(this.uvs),2),index:new a.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new a.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},n.prototype.advance=function(e){var t=this.attributes.position.array,r=this.attributes.next.array,n=t.length;i(t,0,this.attributes.previous.array,0,n),i(t,6,t,0,n-6),t[n-6]=e.x,t[n-5]=e.y,t[n-4]=e.z,t[n-3]=e.x,t[n-2]=e.y,t[n-1]=e.z,i(t,6,r,0,n-6),r[n-6]=e.x,r[n-5]=e.y,r[n-4]=e.z,r[n-3]=e.x,r[n-2]=e.y,r[n-1]=e.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},a.ShaderChunk.meshline_vert=["",a.ShaderChunk.logdepthbuf_pars_vertex,a.ShaderChunk.fog_pars_vertex,"\r\nattribute vec3 previous;\r\nattribute vec3 next;\r\nattribute float side;\r\nattribute float width;\r\nattribute float counters;\r\n\r\nuniform vec2 resolution;\r\nuniform float lineWidth;\r\nuniform vec3 color;\r\nuniform float opacity;\r\nuniform float near;\r\nuniform float far;\r\nuniform float sizeAttenuation;\r\n\r\nvarying vec2 vUV;\r\nvarying vec4 vColor;\r\nvarying float vCounters;\r\n\r\nvec2 fix( vec4 i, float aspect ) {\r\n\r\n    vec2 res = i.xy / i.w;\r\n    res.x *= aspect;\r\n\t vCounters = counters;\r\n    return res;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n    float aspect = resolution.x / resolution.y;\r\n    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);\r\n\r\n    vColor = vec4( color, opacity );\r\n    vUV = uv;\r\n\r\n    mat4 m = projectionMatrix * modelViewMatrix;\r\n    vec4 finalPosition = m * vec4( position, 1.0 );\r\n    vec4 prevPos = m * vec4( previous, 1.0 );\r\n    vec4 nextPos = m * vec4( next, 1.0 );\r\n\r\n    vec2 currentP = fix( finalPosition, aspect );\r\n    vec2 prevP = fix( prevPos, aspect );\r\n    vec2 nextP = fix( nextPos, aspect );\r\n\r\n    float pixelWidth = finalPosition.w * pixelWidthRatio;\r\n    float w = 1.8 * pixelWidth * lineWidth * width;\r\n\r\n    if( sizeAttenuation == 1. ) {\r\n        w = 1.8 * lineWidth * width;\r\n    }\r\n\r\n    vec2 dir;\r\n    if( nextP == currentP ) dir = normalize( currentP - prevP );\r\n    else if( prevP == currentP ) dir = normalize( nextP - currentP );\r\n    else {\r\n        vec2 dir1 = normalize( currentP - prevP );\r\n        vec2 dir2 = normalize( nextP - currentP );\r\n        dir = normalize( dir1 + dir2 );\r\n\r\n        vec2 perp = vec2( -dir1.y, dir1.x );\r\n        vec2 miter = vec2( -dir.y, dir.x );\r\n        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );\r\n\r\n    }\r\n\r\n    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;\r\n    vec2 normal = vec2( -dir.y, dir.x );\r\n    normal.x /= aspect;\r\n    normal *= .5 * w;\r\n\r\n    vec4 offset = vec4( normal * side, 0.0, 1.0 );\r\n    finalPosition.xy += offset.xy;\r\n\r\n    gl_Position = finalPosition;\r\n",a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",a.ShaderChunk.fog_vertex,"}"].join("\r\n"),a.ShaderChunk.meshline_frag=["",a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"\r\nuniform sampler2D map;\r\nuniform sampler2D alphaMap;\r\nuniform float useMap;\r\nuniform float useAlphaMap;\r\nuniform float useDash;\r\nuniform float dashArray;\r\nuniform float dashOffset;\r\nuniform float dashRatio;\r\nuniform float visibility;\r\nuniform float alphaTest;\r\nuniform vec2 repeat;\r\n\r\nvarying vec2 vUV;\r\nvarying vec4 vColor;\r\nvarying float vCounters;\r\n\r\nvoid main() {\r\n",a.ShaderChunk.logdepthbuf_fragment,"\r\n    vec4 c = vColor;\r\n    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );\r\n    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;\r\n    if( c.a < alphaTest ) discard;\r\n    if( useDash == 1. ){\r\n        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));\r\n    }\r\n    gl_FragColor = c;\r\n    gl_FragColor.a *= step(vCounters, visibility);\r\n",a.ShaderChunk.fog_fragment,"}"].join("\r\n"),o.prototype=vc(a.ShaderMaterial.prototype),o.prototype.constructor=o,o.prototype.isMeshLineMaterial=!0,o.prototype.copy=function(e){return a.ShaderMaterial.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.near=e.near,this.far=e.far,this.dashArray.copy(e.dashArray),this.dashOffset.copy(e.dashOffset),this.dashRatio.copy(e.dashRatio),this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this},e.exports&&(t=e.exports={MeshLine:n,MeshLineMaterial:o}),t.MeshLine=n,t.MeshLineMaterial=o}).call(Yo)})),Lm=Rm.MeshLine,Pm=Rm.MeshLineMaterial,Om=function(e){function t(e){return qc(this,t),e=Zc(this,(t.__proto__||Wc(t)).call(this,e)),e.staticDashArray=2,e.time=0,e.autoUpdate=!0,e}return eh(t,e),ag(t,[{key:"getDefaultOptions",value:function(){return{color:16777215,textureColor:16777215,textureWidth:10,textureLength:30,step:.1}}},{key:"initialize",value:function(e){this.threeLayer=e,this.addOverlay()}},{key:"onChanged",value:function(e,t){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){var e=this.getOptions(),t=e.textureWidth,r=e.style;e=e.step/10,this.time+=e,2<this.time&&(this.time=0);for(var n=this.flyLine.children,i=0;i<n.length;i++){var o=n[i],a=o.hash;o.children[0].material.uniforms.lineWidth.value=t*(1+.2*Math.sin(5*this.time)),o.children[0].material.uniforms.dashOffset.value="chaos"===r?o.children[0].material.uniforms.dashOffset.value-e:(this.staticDashArray+a)*(1-this.time/2)}}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.flyLine)}},{key:"addOverlay",value:function(){var e=this;this.flyLine=new ig.Group;var t=this.threeLayer,r=new ig.TextureLoader,n=this.getData();r.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAQAAAD/AkAkAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBA3y7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BUNTVQYqg4jIKAX08EGIIUByaVEZhMXIwMDAIMCgxeDHUMmwiuEBozRjFOM8xqdMhkwNTJeYNZgbme+y2LDMY2VmzWa9yubEtoldhX0mhwBHJycrZzMXM1cbNzf3RB4pnqW8xryH+IL5nvFXCwgJrBZ0E3wk1CisKHxYJF2UV3SrWJw4p/hWiRRJYcmjUhXSutJPZObIhsoJyp2V71HwUeRVvKA0RTlKRUnltepWtUZ1Pw1Zjbea+7QmaqfqWOsK6b7SO6I/36DGMMrI0ljS+LfJPdPDZivM+y0qLBOtfKwtbFRtRexY7L7aP3e47XjB6ZjzXpetruvdVrov9VjkudBrgfdCn8W+y/xW+a8P2Bq4N+hY8PmQW6HPwr5EMEUKRilFG8e4xUbF5cW3JMxO3Jx0Nvl5KlOaXLpNRlRmVdas7D059/KY8tULfAqLi2YXHy55WyZR7lJRWDmv6mz131q9uvj6SQ3HGn83G7Skt85ru94h2Ond1d59uJehz76/bsK+if8nO05pnXpiOu+M4JmzZj2aozW3ZN6+BVwLwxYtXvxxqcOyCcsfrjRe1br65lrddU3rb2402NSx+cFWq21Tt3/Y6btr1R6Oven7jh9QP9h56PURv6Obj4ufqD355LT3mS3nZM+3X/h0Ke7yqasW15bdEL3ZeuvrnfS7N+/7PDjwyPTx6qeKz2a+EHzZ9Zr5Td3bn+9LP3z6VPD53de8b+9+5P/88Lv4z7d/Vf//AwAqvx2K829RWwAAOGtpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTktMDYtMjdUMTk6MzE6MTUrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0wOC0xOVQxNjo1Nzo1MCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTktMDgtMTlUMTY6NTc6NTArMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjE8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5Eb3QgR2FpbiAxNSU8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjQ5MmI1NTQ1LWIwNmQtNGI0Yi1iMWExLTZiN2NiNzExNzA5MjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NDkyYjU1NDUtYjA2ZC00YjRiLWIxYTEtNmI3Y2I3MTE3MDkyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTA2LTI3VDE5OjMxOjE1KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0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",(function(r){for(var i=0;i<n.length;i++){var o=n[i].geometry.coordinates.map((function(e){return new(Function.prototype.bind.apply(ig.Vector3,[null].concat(ug(t.normizedPoint(e)))))}));o=e.createFlyLine({originalData:n[i],curveData:o,texture:r}),e.flyLine.add(o)}t.add(e.flyLine)}))}},{key:"createFlyLine",value:function(e){var t=this.options,r=t.color,n=t.textureColor,i=t.textureWidth,o=e.originalData,a=e.curveData;e=e.texture;var s=Math.random();t=Math.min(1,1-t.textureLength/100),t=Math.max(0,t),"[object Function]"===Object.prototype.toString.call(r)&&(r=r(o)),"[object Function]"===Object.prototype.toString.call(n)&&(n=n(o)),o=new ig.Geometry,o.vertices=a,o.verticesNeedUpdate=!0,r=new ig.LineBasicMaterial({linewidth:1,color:new ig.Color(r),blending:ig.AdditiveBlending,depthTest:!0,depthWrite:!1,transparent:!0,opacity:.3,linecap:"round",linejoin:"round"}),r=new ig.Line(o,r),r.renderDepth=!1,r.hash=s,o=new Lm;for(var u=new ig.Geometry,l=0;l<a.length;l++){var c=a[l];u.vertices.push(new ig.Vector3(c.x,c.y,c.z))}return o.setGeometry(u,(function(e){return 1-e})),n=new Pm({map:e,useMap:!0,color:new ig.Color(n),opacity:1,dashArray:this.staticDashArray+s,dashOffset:0,dashRatio:t,sizeAttenuation:!0,lineWidth:i,depthWrite:!1,depthTest:!0,alphaTest:!1,transparent:!0,blending:ig.AdditiveBlending,side:ig.DoubleSide}),n=new ig.Mesh(o.geometry,n),r.add(n),r}}]),t}(pm);t.THREE=ig,t.PostProcessing=Em,t.FanLayer=Im,t.FlyLineLayer=Om,t.ThreeLayer=fm,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,r("IyRk"))},ODXe:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("DSFK");function i(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}var o=r("BsWD"),a=r("PYwp");function s(e,t){return Object(n["a"])(e)||i(e,t)||Object(o["a"])(e,t)||Object(a["a"])()}},"Of+w":function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"WeakMap");e.exports=o},P4y1:function(e,t){e.exports={}},P940:function(e,t,r){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},PKPk:function(e,t,r){"use strict";var n=r("ZUd8").charAt,i=r("afO8"),o=r("fdAy"),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},PKrl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("4K7L"),o=n.__importDefault(r("Gytx")),a=r("W1EI"),s="rgba(60, 50, 200, 0.9)",u=function(e){function t(t){var r=e.call(this,t)||this;return r._createLayer=!1,r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){o.default(this.props,e)||this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this._createLayer=!1,this.view.destroy(),this.view=void 0,this.linelayer=void 0,this.arrowlayer=void 0,this.flowlayer=void 0,this.pointlayer=void 0,this.textlayer=void 0},t.prototype.initialize=function(){var e=this,t=this.map=this.getMap();if(t){this._createLayer||this.createLayers();var r=[],o=[],a=new Map;if(this.props.data){var s=[],u=new i.OdCurve;this.props.data.forEach((function(n){var l=n.from.point||i.utilCity.getCenterByCityName(n.from.city),c=n.to.point||i.utilCity.getCenterByCityName(n.to.city);l=new BMapGL.Point(l.lng,l.lat),c=new BMapGL.Point(c.lng,c.lat),u.setOptions({points:[l,c]});var h=u.getPoints();"bd09mc"===e.props.coordType?(s.push(BMapGL.Projection.convertMC2LL(l)),s.push(BMapGL.Projection.convertMC2LL(c))):(s.push(l),s.push(c)),r.push({geometry:{type:"LineString",coordinates:h},color:n.color});var f=a.get(n.color)||[];f.push({geometry:{type:"LineString",coordinates:h}}),a.set(n.color,f),!1!==e.props.showEndPoint&&o.push({geometry:{type:"Point",coordinates:[c.lng,c.lat]},color:n.color,properties:{text:n.to.name||n.to.city}}),!1!==e.props.showStartPoint&&o.push({geometry:{type:"Point",coordinates:[l.lng,l.lat]},color:n.color,properties:{text:n.from.name||n.from.city}}),s.length>0&&!0===e.props.autoViewport&&t.setViewport(s,e.props.viewportOptions||{})}))}this.linelayer.setData(r),this.props.lineOptions&&this.linelayer.setOptions(this.props.lineOptions),this.pointlayer.setData(o),this.props.pointOptions&&this.pointlayer.setOptions(this.props.pointOptions),this.textlayer.setData(o),this.props.textOptions&&this.textlayer.setOptions(this.props.textOptions),Array.from(a.keys()).forEach((function(t){if(void 0===t)e.arrowlayer.setData(a.get(void 0)),e.props.arrowOptions&&e.arrowlayer.setOptions(e.props.arrowOptions);else{var r=new i.LineLayer(n.__assign(n.__assign({width:10},e.props.arrowOptions),{style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:t}}));e.view.addLayer(r),r.setData(a.get(t))}})),this.props.enableAnimation&&(this.flowlayer.setData(r),this.props.animationOptions&&this.flowlayer.setOptions(this.props.animationOptions))}},t.prototype.createLayers=function(){this._createLayer=!0;var e=this.map,t=this.view=new i.View({map:e}),r=this.linelayer=new i.LineLayer({blend:"ligher",color:s,width:4});t.addLayer(r);var n=this.arrowlayer=new i.LineLayer({width:10,style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:s}});t.addLayer(n);var o=this.pointlayer=new i.PointLayer({blend:"ligher",depthTest:!1,color:s,size:10});t.addLayer(o);var a=this.textlayer=new i.TextLayer({offset:[0,15],depthTest:!1,color:"#333"});t.addLayer(a);var u=this.flowlayer=new i.LineFlowLayer({color:function(){return"rgb(240, 200, 200)"},polygonOffset:[-2,-2],interval:.4,duration:1,trailLength:.8});t.addLayer(u)},t.prototype.render=function(){return null},t.defaultProps={enableAnimation:!0,showStartPoint:!0,showEndPoint:!0},t}(a.Component);t.default=u},PYwp:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},PrET:function(e,t,r){"use strict";var n=r("D3zA"),i=r("AM7I"),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(f){l=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&l){var r=u(t,"length");r.configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var h=function(){return s(n,o,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},Pw59:function(e,t,r){"use strict";var n=r("q1tI"),i=Object(n["createContext"])({});t["a"]=i},Q2Ig:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("33yf")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},Q7Pz:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("Sssf"),s=r("i4U9"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(a(o(this)),(function(t,r){if(s(r,e))return u.stop()}),void 0,!0,!0).stopped}})},Q9SF:function(e,t){function r(e){if(Array.isArray(e))return e}e.exports=r},QCnb:function(e,t,r){"use strict";e.exports=r("+wdc")},QFcT:function(e,t,r){var n=r("I+eb"),i=Math.hypot,o=Math.abs,a=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;n({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var r,n,i=0,s=0,u=arguments.length,l=0;while(s<u)r=o(arguments[s++]),l<r?(n=l/r,i=i*n*n+1,l=r):r>0?(n=r/l,i+=n*n):i+=r;return l===1/0?1/0:l*a(i)}})},QGkA:function(e,t,r){var n=r("RNIs");n("flat")},QIpd:function(e,t,r){var n=r("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},QSc6:function(e,t,r){"use strict";var n=r("VAJa"),i=r("0jNN"),o=r("sxOR"),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,l=String.prototype.split,c=Array.prototype.push,h=function(e,t){c.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=o["default"],d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},g=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},m={},v=function e(t,r,o,a,s,c,f,p,v,y,b,x,A,w,_){var C=t,M=_,S=0,T=!1;while(void 0!==(M=M.get(m))&&!T){var E=M.get(t);if(S+=1,"undefined"!==typeof E){if(E===S)throw new RangeError("Cyclic object value");T=!0}"undefined"===typeof M.get(m)&&(S=0)}if("function"===typeof f?C=f(r,C):C instanceof Date?C=y(C):"comma"===o&&u(C)&&(C=i.maybeMap(C,(function(e){return e instanceof Date?y(e):e}))),null===C){if(a)return c&&!A?c(r,d.encoder,w,"key",b):r;C=""}if(g(C)||i.isBuffer(C)){if(c){var I=A?r:c(r,d.encoder,w,"key",b);if("comma"===o&&A){for(var R=l.call(String(C),","),L="",P=0;P<R.length;++P)L+=(0===P?"":",")+x(c(R[P],d.encoder,w,"value",b));return[x(I)+"="+L]}return[x(I)+"="+x(c(C,d.encoder,w,"value",b))]}return[x(r)+"="+x(String(C))]}var O,D=[];if("undefined"===typeof C)return D;if("comma"===o&&u(C))O=[{value:C.length>0?C.join(",")||null:void 0}];else if(u(f))O=f;else{var k=Object.keys(C);O=p?k.sort(p):k}for(var N=0;N<O.length;++N){var F=O[N],B="object"===typeof F&&"undefined"!==typeof F.value?F.value:C[F];if(!s||null!==B){var z=u(C)?"function"===typeof o?o(r,F):r:r+(v?"."+F:"["+F+"]");_.set(t,S);var U=n();U.set(m,_),h(D,e(B,z,o,a,s,c,f,p,v,y,b,x,A,w,U))}}return D},y=function(e){if(!e)return d;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o["default"];if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=d.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var r,i,o=e,a=y(t);"function"===typeof a.filter?(i=a.filter,o=i("",o)):u(a.filter)&&(i=a.filter,r=i);var l,c=[];if("object"!==typeof o||null===o)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=s[l];r||(r=Object.keys(o)),a.sort&&r.sort(a.sort);for(var p=n(),d=0;d<r.length;++d){var g=r[d];a.skipNulls&&null===o[g]||h(c,v(o[g],g,f,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,p))}var m=c.join(a.delimiter),b=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""}},QeBL:function(e,t,r){"use strict";r.r(t);r("EFp3"),r("bKJz"),r("pwpV");var n=r("rePB"),i=r("wx14"),o=r("q1tI"),a=r.n(o),s=r("VTBJ");function u(e,t){var r=Object(s["a"])({},e);return Array.isArray(t)&&t.forEach((function(e){delete r[e]})),r}var l=r("TSYQ"),c=r.n(l),h=r("KQm4"),f=r("ODXe"),p=r("Ff2n"),d=r("U8pU"),g=r("Kwbf");function m(e,t){var r=t||{},n=r.defaultValue,i=r.value,a=r.onChange,s=r.postState,u=o["useState"]((function(){return void 0!==i?i:void 0!==n?"function"===typeof n?n():n:"function"===typeof e?e():e})),l=Object(f["a"])(u,2),c=l[0],h=l[1],p=void 0!==i?i:c;s&&(p=s(p));var d=o["useRef"](a);d.current=a;var g=o["useCallback"]((function(e){h(e),p!==e&&d.current&&d.current(e,p)}),[p,d]),m=o["useRef"](!0);return o["useEffect"]((function(){m.current?m.current=!1:void 0===i&&h(i)}),[i]),[p,g]}var v={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=v.F1&&t<=v.F12)return!1;switch(t){case v.ALT:case v.CAPS_LOCK:case v.CONTEXT_MENU:case v.CTRL:case v.DOWN:case v.END:case v.ESC:case v.HOME:case v.INSERT:case v.LEFT:case v.MAC_FF_META:case v.META:case v.NUMLOCK:case v.NUM_CENTER:case v.PAGE_DOWN:case v.PAGE_UP:case v.PAUSE:case v.PRINT_SCREEN:case v.RIGHT:case v.SHIFT:case v.UP:case v.WIN_KEY:case v.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=v.ZERO&&e<=v.NINE)return!0;if(e>=v.NUM_ZERO&&e<=v.NUM_MULTIPLY)return!0;if(e>=v.A&&e<=v.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case v.SPACE:case v.QUESTION_MARK:case v.NUM_PLUS:case v.NUM_MINUS:case v.NUM_PERIOD:case v.NUM_DIVISION:case v.SEMICOLON:case v.DASH:case v.EQUALS:case v.COMMA:case v.PERIOD:case v.SLASH:case v.APOSTROPHE:case v.SINGLE_QUOTE:case v.OPEN_SQUARE_BRACKET:case v.BACKSLASH:case v.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},y=v,b=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))},x=r("c+Xe"),A=r("MNnm"),w=Object(A["a"])()?o["useLayoutEffect"]:o["useEffect"],_=w,C=r("T5bk");function M(e,t){var r,n=e.key;return"value"in e&&(r=e.value),null!==n&&void 0!==n?n:void 0!==r?r:"rc-index-key-".concat(t)}function S(e,t){var r=e||{},n=r.label,i=r.value,o=r.options;return{label:n||(t?"children":"label"),value:i||"value",options:o||"options"}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fieldNames,n=t.childrenAsData,i=[],o=S(r,!1),a=o.label,s=o.value,u=o.options;function l(e,t){e.forEach((function(e){var r=e[a];if(t||!(u in e)){var o=e[s];i.push({key:M(e,i.length),groupOption:t,data:e,label:r,value:o})}else{var c=r;void 0===c&&n&&(c=e.label),i.push({key:M(e,i.length),group:!0,data:e,label:c}),l(e[u],!0)}}))}return l(e,!1),i}function E(e){var t=Object(s["a"])({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(g["a"])(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function I(e,t){if(!t||!t.length)return null;var r=!1;function n(e,t){var i=Object(C["a"])(t),o=i[0],a=i.slice(1);if(!o)return[e];var s=e.split(o);return r=r||s.length>1,s.reduce((function(e,t){return[].concat(Object(h["a"])(e),Object(h["a"])(n(t,a)))}),[]).filter((function(e){return e}))}var i=n(e,t);return r?i:null}var R=r("1OyB"),L=r("vuIU"),P=r("JX7q"),O=r("Ji7U"),D=r("LK+K"),k=r("i8i4"),N=r.n(k),F=r("wgJM");function B(e,t){return!!e&&e.contains(t)}var z=r("m+aA");function U(e,t,r,n){var i=N.a.unstable_batchedUpdates?function(e){N.a.unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,i,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}var j=Object(o["forwardRef"])((function(e,t){var r=e.didUpdate,n=e.getContainer,i=e.children,a=Object(o["useRef"])();Object(o["useImperativeHandle"])(t,(function(){return{}}));var s=Object(o["useRef"])(!1);return!s.current&&Object(A["a"])()&&(a.current=n(),s.current=!0),Object(o["useEffect"])((function(){null===r||void 0===r||r(e)})),Object(o["useEffect"])((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?N.a.createPortal(i,a.current):null})),H=j;function G(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function V(e,t,r){var n=e[t]||{};return Object(s["a"])(Object(s["a"])({},n),r)}function W(e,t,r,n){for(var i=r.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(G(e[s].points,i,n))return"".concat(t,"-placement-").concat(s)}return""}var X=r("8XRh");function q(e){var t=e.prefixCls,r=e.motion,n=e.animation,i=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function Y(e){var t=e.prefixCls,r=e.visible,n=e.zIndex,a=e.mask,u=e.maskMotion,l=e.maskAnimation,h=e.maskTransitionName;if(!a)return null;var f={};return(u||h||l)&&(f=Object(s["a"])({motionAppear:!0},q({motion:u,prefixCls:t,transitionName:h,animation:l}))),o["createElement"](X["b"],Object(i["a"])({},f,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return o["createElement"]("div",{style:{zIndex:n},className:c()("".concat(t,"-mask"),r)})}))}var Z,K=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();if(r.width||r.height)return!0}return!1};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function re(){if(void 0!==Z)return Z;Z="";var e=document.createElement("p").style,t="Transform";for(var r in te)r+t in e&&(Z=r);return Z}function ne(){return re()?"".concat(re(),"TransitionProperty"):"transitionProperty"}function ie(){return re()?"".concat(re(),"Transform"):"transform"}function oe(e,t){var r=ne();r&&(e.style[r]=t,"transitionProperty"!==r&&(e.style.transitionProperty=t))}function ae(e,t){var r=ie();r&&(e.style[r]=t,"transform"!==r&&(e.style.transform=t))}function se(e){return e.style.transitionProperty||e.style[ne()]}function ue(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(ie());if(r&&"none"!==r){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var le=/matrix\((.*)\)/,ce=/matrix3d\((.*)\)/;function he(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(ie());if(n&&"none"!==n){var i,o=n.match(le);if(o)o=o[1],i=o.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,ae(e,"matrix(".concat(i.join(","),")"));else{var a=n.match(ce)[1];i=a.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,ae(e,"matrix3d(".concat(i.join(","),")"))}}else ae(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var fe,pe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function de(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ge(e,t,r){var n=r;if("object"!==$(t))return"undefined"!==typeof n?("number"===typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):fe(e,t);for(var i in t)t.hasOwnProperty(i)&&ge(e,i,t[i])}function me(e){var t,r,n,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),r=t.left,n=t.top,r-=a.clientLeft||o.clientLeft||0,n-=a.clientTop||o.clientTop||0,{left:r,top:n}}function ve(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!==typeof r){var i=e.document;r=i.documentElement[n],"number"!==typeof r&&(r=i.body[n])}return r}function ye(e){return ve(e)}function be(e){return ve(e,!0)}function xe(e){var t=me(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=ye(n),t.top+=be(n),t}function Ae(e){return null!==e&&void 0!==e&&e==e.window}function we(e){return Ae(e)?e.document:9===e.nodeType?e:e.ownerDocument}function _e(e,t,r){var n=r,i="",o=we(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var Ce=new RegExp("^(".concat(pe,")(?!px)[a-z%]+$"),"i"),Me=/^(top|right|bottom|left)$/,Se="currentStyle",Te="runtimeStyle",Ee="left",Ie="px";function Re(e,t){var r=e[Se]&&e[Se][t];if(Ce.test(r)&&!Me.test(t)){var n=e.style,i=n[Ee],o=e[Te][Ee];e[Te][Ee]=e[Se][Ee],n[Ee]="fontSize"===t?"1em":r||0,r=n.pixelLeft+Ie,n[Ee]=i,e[Te][Ee]=o}return""===r?"auto":r}function Le(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Pe(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Oe(e,t,r){"static"===ge(e,"position")&&(e.style.position="relative");var n=-999,i=-999,o=Le("left",r),a=Le("top",r),s=Pe(o),u=Pe(a);"left"!==o&&(n=999),"top"!==a&&(i=999);var l="",c=xe(e);("left"in t||"top"in t)&&(l=se(e)||"",oe(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),de(e);var h=xe(e),f={};for(var p in t)if(t.hasOwnProperty(p)){var d=Le(p,r),g="left"===p?n:i,m=c[p]-h[p];f[d]=d===p?g+m:g-m}ge(e,f),de(e),("left"in t||"top"in t)&&oe(e,l);var v={};for(var y in t)if(t.hasOwnProperty(y)){var b=Le(y,r),x=t[y]-c[y];v[b]=y===b?f[b]+x:f[b]-x}ge(e,v)}function De(e,t){var r=xe(e),n=ue(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),he(e,i)}function ke(e,t,r){if(r.ignoreShake){var n=xe(e),i=n.left.toFixed(0),o=n.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}r.useCssRight||r.useCssBottom?Oe(e,t,r):r.useCssTransform&&ie()in document.body.style?De(e,t):Oe(e,t,r)}function Ne(e,t){for(var r=0;r<e.length;r++)t(e[r])}function Fe(e){return"border-box"===fe(e,"boxSizing")}"undefined"!==typeof window&&(fe=window.getComputedStyle?_e:Re);var Be=["margin","border","padding"],ze=-1,Ue=2,je=1,He=0;function Ge(e,t,r){var n,i={},o=e.style;for(n in t)t.hasOwnProperty(n)&&(i[n]=o[n],o[n]=t[n]);for(n in r.call(e),t)t.hasOwnProperty(n)&&(o[n]=i[n])}function Ve(e,t,r){var n,i,o,a=0;for(i=0;i<t.length;i++)if(n=t[i],n)for(o=0;o<r.length;o++){var s=void 0;s="border"===n?"".concat(n).concat(r[o],"Width"):n+r[o],a+=parseFloat(fe(e,s))||0}return a}var We={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Xe(e,t,r){var n=r;if(Ae(e))return"width"===t?We.viewportWidth(e):We.viewportHeight(e);if(9===e.nodeType)return"width"===t?We.docWidth(e):We.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=Fe(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,s=fe(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=a?je:ze);var u=void 0!==o||a,l=o||s;return n===ze?u?l-Ve(e,["border","padding"],i):s:u?n===je?l:l+(n===Ue?-Ve(e,["border"],i):Ve(e,["margin"],i)):s+Ve(e,Be.slice(n),i)}Ne(["Width","Height"],(function(e){We["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],We["viewport".concat(e)](r))},We["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,a=o[r];return"CSS1Compat"===n.compatMode&&a||i&&i[r]||a}}));var qe={position:"absolute",visibility:"hidden",display:"block"};function Ye(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return 0!==i.offsetWidth?n=Xe.apply(void 0,t):Ge(i,qe,(function(){n=Xe.apply(void 0,t)})),n}function Ze(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}Ne(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);We["outer".concat(t)]=function(t,r){return t&&Ye(t,e,r?He:je)};var r="width"===e?["Left","Right"]:["Top","Bottom"];We[e]=function(t,n){var i=n;if(void 0===i)return t&&Ye(t,e,ze);if(t){var o=Fe(t);return o&&(i+=Ve(t,["padding","border"],r)),ge(t,e,i)}}}));var Ke={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:we,offset:function(e,t,r){if("undefined"===typeof t)return xe(e);ke(e,t,r||{})},isWindow:Ae,each:Ne,css:ge,clone:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);var n=e.overflow;if(n)for(t in e)e.hasOwnProperty(t)&&(r.overflow[t]=e.overflow[t]);return r},mix:Ze,getWindowScrollLeft:function(e){return ye(e)},getWindowScrollTop:function(e){return be(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ke.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ze(Ke,We);var Je=Ke.getParent;function Qe(e){if(Ke.isWindow(e)||9===e.nodeType)return null;var t,r=Ke.getDocument(e),n=r.body,i=Ke.css(e,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===e.nodeName.toLowerCase()?null:Je(e);for(t=Je(e);t&&t!==n&&9!==t.nodeType;t=Je(t))if(i=Ke.css(t,"position"),"static"!==i)return t;return null}var $e=Ke.getParent;function et(e){if(Ke.isWindow(e)||9===e.nodeType)return!1;var t=Ke.getDocument(e),r=t.body,n=null;for(n=$e(e);n&&n!==r&&n!==t;n=$e(n)){var i=Ke.css(n,"position");if("fixed"===i)return!0}return!1}function tt(e,t){var r={left:0,right:1/0,top:0,bottom:1/0},n=Qe(e),i=Ke.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;while(n){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===a||n===s||"visible"===Ke.css(n,"overflow")){if(n===a||n===s)break}else{var u=Ke.offset(n);u.left+=n.clientLeft,u.top+=n.clientTop,r.top=Math.max(r.top,u.top),r.right=Math.min(r.right,u.left+n.clientWidth),r.bottom=Math.min(r.bottom,u.top+n.clientHeight),r.left=Math.max(r.left,u.left)}n=Qe(n)}var l=null;if(!Ke.isWindow(e)&&9!==e.nodeType){l=e.style.position;var c=Ke.css(e,"position");"absolute"===c&&(e.style.position="fixed")}var h=Ke.getWindowScrollLeft(o),f=Ke.getWindowScrollTop(o),p=Ke.viewportWidth(o),d=Ke.viewportHeight(o),g=s.scrollWidth,m=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(g=o.innerWidth),"hidden"===v.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=l),t||et(e))r.left=Math.max(r.left,h),r.top=Math.max(r.top,f),r.right=Math.min(r.right,h+p),r.bottom=Math.min(r.bottom,f+d);else{var y=Math.max(g,h+p);r.right=Math.min(r.right,y);var b=Math.max(m,f+d);r.bottom=Math.min(r.bottom,b)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function rt(e,t,r,n){var i=Ke.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Ke.mix(i,o)}function nt(e){var t,r,n;if(Ke.isWindow(e)||9===e.nodeType){var i=Ke.getWindow(e);t={left:Ke.getWindowScrollLeft(i),top:Ke.getWindowScrollTop(i)},r=Ke.viewportWidth(i),n=Ke.viewportHeight(i)}else t=Ke.offset(e),r=Ke.outerWidth(e),n=Ke.outerHeight(e);return t.width=r,t.height=n,t}function it(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===r?s+=o/2:"b"===r&&(s+=o),"c"===n?a+=i/2:"r"===n&&(a+=i),{left:a,top:s}}function ot(e,t,r,n,i){var o=it(t,r[1]),a=it(e,r[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+n[0]-i[0]),top:Math.round(e.top-s[1]+n[1]-i[1])}}function at(e,t,r){return e.left<r.left||e.left+t.width>r.right}function st(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function ut(e,t,r){return e.left>r.right||e.left+t.width<r.left}function lt(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function ct(e,t,r){var n=[];return Ke.each(e,(function(e){n.push(e.replace(t,(function(e){return r[e]})))})),n}function ht(e,t){return e[t]=-e[t],e}function ft(e,t){var r;return r=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),r||0}function pt(e,t){e[0]=ft(e[0],t.width),e[1]=ft(e[1],t.height)}function dt(e,t,r,n){var i=r.points,o=r.offset||[0,0],a=r.targetOffset||[0,0],s=r.overflow,u=r.source||e;o=[].concat(o),a=[].concat(a),s=s||{};var l={},c=0,h=!(!s||!s.alwaysByViewport),f=tt(u,h),p=nt(u);pt(o,p),pt(a,t);var d=ot(p,t,i,o,a),g=Ke.merge(p,d);if(f&&(s.adjustX||s.adjustY)&&n){if(s.adjustX&&at(d,p,f)){var m=ct(i,/[lr]/gi,{l:"r",r:"l"}),v=ht(o,0),y=ht(a,0),b=ot(p,t,m,v,y);ut(b,p,f)||(c=1,i=m,o=v,a=y)}if(s.adjustY&&st(d,p,f)){var x=ct(i,/[tb]/gi,{t:"b",b:"t"}),A=ht(o,1),w=ht(a,1),_=ot(p,t,x,A,w);lt(_,p,f)||(c=1,i=x,o=A,a=w)}c&&(d=ot(p,t,i,o,a),Ke.mix(g,d));var C=at(d,p,f),M=st(d,p,f);if(C||M){var S=i;C&&(S=ct(i,/[lr]/gi,{l:"r",r:"l"})),M&&(S=ct(i,/[tb]/gi,{t:"b",b:"t"})),i=S,o=r.offset||[0,0],a=r.targetOffset||[0,0]}l.adjustX=s.adjustX&&C,l.adjustY=s.adjustY&&M,(l.adjustX||l.adjustY)&&(g=rt(d,p,f,l))}return g.width!==p.width&&Ke.css(u,"width",Ke.width(u)+g.width-p.width),g.height!==p.height&&Ke.css(u,"height",Ke.height(u)+g.height-p.height),Ke.offset(u,{left:g.left,top:g.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function gt(e,t){var r=tt(e,t),n=nt(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function mt(e,t,r){var n=r.target||t,i=nt(n),o=!gt(n,r.overflow&&r.overflow.alwaysByViewport);return dt(e,i,r,o)}function vt(e,t,r){var n,i,o=Ke.getDocument(e),a=o.defaultView||o.parentWindow,s=Ke.getWindowScrollLeft(a),u=Ke.getWindowScrollTop(a),l=Ke.viewportWidth(a),c=Ke.viewportHeight(a);n="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:u+t.clientY;var h={left:n,top:i,width:0,height:0},f=n>=0&&n<=s+l&&i>=0&&i<=u+c,p=[r.points[0],"cc"];return dt(e,h,Q(Q({},r),{},{points:p}),f)}mt.__getOffsetParent=Qe,mt.__getVisibleRectForElement=tt;var yt=r("Y+p1"),bt=r.n(yt),xt=r("bdgK");function At(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function wt(e,t){e!==document.activeElement&&B(t,e)&&"function"===typeof e.focus&&e.focus()}function _t(e,t){var r=null,n=null;function i(e){var i=Object(f["a"])(e,1),o=i[0].target;if(document.documentElement.contains(o)){var a=o.getBoundingClientRect(),s=a.width,u=a.height,l=Math.floor(s),c=Math.floor(u);r===l&&n===c||Promise.resolve().then((function(){t({width:l,height:c})})),r=l,n=c}}var o=new xt["a"](i);return e&&o.observe(e),function(){o.disconnect()}}var Ct=function(e,t){var r=a.a.useRef(!1),n=a.a.useRef(null);function i(){window.clearTimeout(n.current)}function o(a){if(r.current&&!0!==a)i(),n.current=window.setTimeout((function(){r.current=!1,o()}),t);else{if(!1===e())return;r.current=!0,i(),n.current=window.setTimeout((function(){r.current=!1}),t)}}return[o,function(){r.current=!1,i()}]};function Mt(e){return"function"!==typeof e?null:e()}function St(e){return"object"===Object(d["a"])(e)&&e?e:null}var Tt=function(e,t){var r=e.children,n=e.disabled,i=e.target,o=e.align,s=e.onAlign,u=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,h=a.a.useRef({}),p=a.a.useRef(),d=a.a.Children.only(r),g=a.a.useRef({});g.current.disabled=n,g.current.target=i,g.current.align=o,g.current.onAlign=s;var m=Ct((function(){var e=g.current,t=e.disabled,r=e.target,n=e.align,i=e.onAlign;if(!t&&r){var o,a=p.current,s=Mt(r),u=St(r);h.current.element=s,h.current.point=u,h.current.align=n;var l=document,c=l.activeElement;return s&&K(s)?o=mt(a,s,n):u&&(o=vt(a,u,n)),wt(c,a),i&&o&&i(a,o),!0}return!1}),c),v=Object(f["a"])(m,2),y=v[0],b=v[1],A=a.a.useRef({cancel:function(){}}),w=a.a.useRef({cancel:function(){}});a.a.useEffect((function(){var e=Mt(i),t=St(i);p.current!==w.current.element&&(w.current.cancel(),w.current.element=p.current,w.current.cancel=_t(p.current,y)),h.current.element===e&&At(h.current.point,t)&&bt()(h.current.align,o)||(y(),A.current.element!==e&&(A.current.cancel(),A.current.element=e,A.current.cancel=_t(e,y)))})),a.a.useEffect((function(){n?b():y()}),[n]);var _=a.a.useRef(null);return a.a.useEffect((function(){u?_.current||(_.current=U(window,"resize",y)):_.current&&(_.current.remove(),_.current=null)}),[u]),a.a.useEffect((function(){return function(){A.current.cancel(),w.current.cancel(),_.current&&_.current.remove(),b()}}),[]),a.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return y(!0)}}})),a.a.isValidElement(d)&&(d=a.a.cloneElement(d,{ref:Object(x["a"])(d.ref,p)})),d},Et=a.a.forwardRef(Tt);Et.displayName="Align";var It=Et,Rt=It,Lt=r("o0o1"),Pt=r.n(Lt),Ot=r("HaE+"),Dt=["measure","align",null,"motion"],kt=function(e,t){var r=Object(o["useState"])(null),n=Object(f["a"])(r,2),i=n[0],a=n[1],s=Object(o["useRef"])(),u=Object(o["useRef"])(!1);function l(e){u.current||a(e)}function c(){F["a"].cancel(s.current)}function h(e){c(),s.current=Object(F["a"])((function(){l((function(e){switch(i){case"align":return"motion";case"motion":return"stable";default:}return e})),null===e||void 0===e||e()}))}return Object(o["useEffect"])((function(){l("measure")}),[e]),Object(o["useEffect"])((function(){switch(i){case"measure":t();break;default:}i&&(s.current=Object(F["a"])(Object(Ot["a"])(Pt.a.mark((function e(){var t,r;return Pt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Dt.indexOf(i),r=Dt[t+1],r&&-1!==t&&l(r);case 3:case"end":return e.stop()}}),e)})))))}),[i]),Object(o["useEffect"])((function(){return function(){u.current=!0,c()}}),[]),[i,h]},Nt=function(e){var t=o["useState"]({width:0,height:0}),r=Object(f["a"])(t,2),n=r[0],i=r[1];function a(e){i({width:e.offsetWidth,height:e.offsetHeight})}var s=o["useMemo"]((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]);return[s,a]},Ft=o["forwardRef"]((function(e,t){var r=e.visible,n=e.prefixCls,a=e.className,u=e.style,l=e.children,h=e.zIndex,p=e.stretch,d=e.destroyPopupOnHide,g=e.forceRender,m=e.align,v=e.point,y=e.getRootDomNode,b=e.getClassNameFromAlign,x=e.onAlign,A=e.onMouseEnter,w=e.onMouseLeave,_=e.onMouseDown,C=e.onTouchStart,M=Object(o["useRef"])(),S=Object(o["useRef"])(),T=Object(o["useState"])(),E=Object(f["a"])(T,2),I=E[0],R=E[1],L=Nt(p),P=Object(f["a"])(L,2),O=P[0],D=P[1];function k(){p&&D(y())}var N=kt(r,k),F=Object(f["a"])(N,2),B=F[0],z=F[1],U=Object(o["useRef"])();function j(){return v||y}function H(){var e;null===(e=M.current)||void 0===e||e.forceAlign()}function G(e,t){var r=b(t);I!==r&&R(r),"align"===B&&(I!==r?Promise.resolve().then((function(){H()})):z((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})),null===x||void 0===x||x(e,t))}var V=Object(s["a"])({},q(e));function W(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=V[e];V[e]=function(e,r){return z(),null===t||void 0===t?void 0:t(e,r)}})),o["useEffect"]((function(){V.motionName||"motion"!==B||z()}),[V.motionName,B]),o["useImperativeHandle"](t,(function(){return{forceAlign:H,getElement:function(){return S.current}}}));var Y=Object(s["a"])(Object(s["a"])({},O),{},{zIndex:h,opacity:"motion"!==B&&"stable"!==B&&r?0:void 0,pointerEvents:"stable"===B?void 0:"none"},u),Z=!0;!(null===m||void 0===m?void 0:m.points)||"align"!==B&&"stable"!==B||(Z=!1);var K=l;return o["Children"].count(l)>1&&(K=o["createElement"]("div",{className:"".concat(n,"-content")},l)),o["createElement"](X["b"],Object(i["a"])({visible:r,ref:S,leavedClassName:"".concat(n,"-hidden")},V,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:d,forceRender:g}),(function(e,t){var r=e.className,i=e.style,u=c()(n,a,I,r);return o["createElement"](Rt,{target:j(),key:"popup",ref:M,monitorWindowResize:!0,disabled:Z,align:m,onAlign:G},o["createElement"]("div",{ref:t,className:u,onMouseEnter:A,onMouseLeave:w,onMouseDownCapture:_,onTouchStartCapture:C,style:Object(s["a"])(Object(s["a"])({},i),Y)},K))}))}));Ft.displayName="PopupInner";var Bt=Ft,zt=o["forwardRef"]((function(e,t){var r=e.prefixCls,n=e.visible,a=e.zIndex,u=e.children,l=e.mobile;l=void 0===l?{}:l;var h=l.popupClassName,f=l.popupStyle,p=l.popupMotion,d=void 0===p?{}:p,g=l.popupRender,m=o["useRef"]();o["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var v=Object(s["a"])({zIndex:a},f),y=u;return o["Children"].count(u)>1&&(y=o["createElement"]("div",{className:"".concat(r,"-content")},u)),g&&(y=g(y)),o["createElement"](X["b"],Object(i["a"])({visible:n,ref:m,removeOnLeave:!0},d),(function(e,t){var n=e.className,i=e.style,a=c()(r,h,n);return o["createElement"]("div",{ref:t,className:a,style:Object(s["a"])(Object(s["a"])({},i),v)},y)}))}));zt.displayName="MobilePopupInner";var Ut=zt,jt=["visible","mobile"],Ht=o["forwardRef"]((function(e,t){var r=e.visible,n=e.mobile,a=Object(p["a"])(e,jt),u=Object(o["useState"])(r),l=Object(f["a"])(u,2),c=l[0],h=l[1],d=Object(o["useState"])(!1),g=Object(f["a"])(d,2),m=g[0],v=g[1],y=Object(s["a"])(Object(s["a"])({},a),{},{visible:c});Object(o["useEffect"])((function(){h(r),r&&n&&v(b())}),[r,n]);var x=m?o["createElement"](Ut,Object(i["a"])({},y,{mobile:n,ref:t})):o["createElement"](Bt,Object(i["a"])({},y,{ref:t}));return o["createElement"]("div",null,o["createElement"](Y,y),x)}));Ht.displayName="Popup";var Gt=Ht,Vt=o["createContext"](null),Wt=Vt;function Xt(){}function qt(){return""}function Yt(e){return e?e.ownerDocument:window.document}var Zt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Kt(e){var t=function(t){Object(O["a"])(n,t);var r=Object(D["a"])(n);function n(e){var t,a;return Object(R["a"])(this,n),t=r.call(this,e),t.popupRef=o["createRef"](),t.triggerRef=o["createRef"](),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var r=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,r,r?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var r;e.relatedTarget&&!e.relatedTarget.setTimeout&&B(null===(r=t.popupRef.current)||void 0===r?void 0:r.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var r;if(t.preClickTime&&t.preTouchTime?r=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?r=t.preClickTime:t.preTouchTime&&(r=t.preTouchTime),Math.abs(r-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!t.state.popupVisible;(t.isClickToHide()&&!n||n&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var r=e.target,n=t.getRootDomNode(),i=t.getPopupDomNode();B(n,r)&&!t.isContextMenuOnly()||B(i,r)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var r=Object(z["a"])(t.triggerRef.current);if(r)return r}catch(n){}return N.a.findDOMNode(Object(P["a"])(t))},t.getPopupClassNameFromAlign=function(e){var r=[],n=t.props,i=n.popupPlacement,o=n.builtinPlacements,a=n.prefixCls,s=n.alignPoint,u=n.getPopupClassNameFromAlign;return i&&o&&r.push(W(o,a,e,s)),u&&r.push(u(e)),r.join(" ")},t.getComponent=function(){var e=t.props,r=e.prefixCls,n=e.destroyPopupOnHide,a=e.popupClassName,s=e.onPopupAlign,u=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,h=e.popupStyle,f=e.mask,p=e.maskAnimation,d=e.maskTransitionName,g=e.maskMotion,m=e.zIndex,v=e.popup,y=e.stretch,b=e.alignPoint,x=e.mobile,A=e.forceRender,w=t.state,_=w.popupVisible,C=w.point,M=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,o["createElement"](Gt,Object(i["a"])({prefixCls:r,destroyPopupOnHide:n,visible:_,point:b&&C,className:a,align:M,onAlign:s,animation:l,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:y,getRootDomNode:t.getRootDomNode,style:h,mask:f,zIndex:m,transitionName:c,maskAnimation:p,maskTransitionName:d,maskMotion:g,ref:t.popupRef,motion:u,mobile:x,forceRender:A}),"function"===typeof v?v():v)},t.attachParent=function(e){F["a"].cancel(t.attachId);var r,n=t.props,i=n.getPopupContainer,o=n.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(r=i(a)):r=o(t.getRootDomNode()).body,r?r.appendChild(e):t.attachId=Object(F["a"])((function(){t.attachParent(e)}))},t.getContainer=function(){var e=t.props.getDocument,r=e(t.getRootDomNode()).createElement("div");return r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",t.attachParent(r),r},t.setPoint=function(e){var r=t.props.alignPoint;r&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},Zt.forEach((function(e){t["fire".concat(e)]=function(r){t.fireEvents(e,r)}})),t}return Object(L["a"])(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,r=this.state;if(r.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=U(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=U(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=U(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=U(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),F["a"].cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,r=e.popupAlign,n=e.builtinPlacements;return t&&n?V(n,t,r):r}},{key:"setPopupVisible",value:function(e,t){var r=this.props.alignPoint,n=this.state.popupVisible;this.clearDelayTimer(),n!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:n}),this.props.onPopupVisibleChange(e)),r&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,r){var n=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=window.setTimeout((function(){n.setPopupVisible(e,o),n.clearDelayTimer()}),i)}else this.setPopupVisible(e,r)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,r=this.props;return t[e]&&r[e]?this["fire".concat(e)]:t[e]||r[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==r.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var r=this.props.children.props[e];r&&r(t);var n=this.props[e];n&&n(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,r=this.props,n=r.children,i=r.forceRender,a=r.alignPoint,u=r.className,l=r.autoDestroy,h=o["Children"].only(n),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,a&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=c()(h&&h.props&&h.props.className,u);p&&(f.className=p);var d=Object(s["a"])({},f);Object(x["c"])(h)&&(d.ref=Object(x["a"])(this.triggerRef,h.ref));var g,m=o["cloneElement"](h,d);return(t||this.popupRef.current||i)&&(g=o["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&l&&(g=null),o["createElement"](Wt.Provider,{value:this.triggerContextValue},m,g)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.popupVisible,n={};return void 0!==r&&t.popupVisible!==r&&(n.popupVisible=r,n.prevPopupVisible=t.popupVisible),n}}]),n}(o["Component"]);return t.contextType=Wt,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:qt,getDocument:Yt,onPopupVisibleChange:Xt,afterPopupVisibleChange:Xt,onPopupAlign:Xt,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}var Jt=Kt(H),Qt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],$t=function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},er=function(e,t){var r=e.prefixCls,a=(e.disabled,e.visible),u=e.children,l=e.popupElement,h=e.containerWidth,f=e.animation,d=e.transitionName,g=e.dropdownStyle,m=e.dropdownClassName,v=e.direction,y=void 0===v?"ltr":v,b=e.placement,x=e.dropdownMatchSelectWidth,A=e.dropdownRender,w=e.dropdownAlign,_=e.getPopupContainer,C=e.empty,M=e.getTriggerDOMNode,S=e.onPopupVisibleChange,T=e.onPopupMouseEnter,E=Object(p["a"])(e,Qt),I="".concat(r,"-dropdown"),R=l;A&&(R=A(l));var L=o["useMemo"]((function(){return $t(x)}),[x]),P=f?"".concat(I,"-").concat(f):d,O=o["useRef"](null);o["useImperativeHandle"](t,(function(){return{getPopupElement:function(){return O.current}}}));var D=Object(s["a"])({minWidth:h},g);return"number"===typeof x?D.width=x:x&&(D.width=h),o["createElement"](Jt,Object(i["a"])({},E,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:b||("rtl"===y?"bottomRight":"bottomLeft"),builtinPlacements:L,prefixCls:I,popupTransitionName:P,popup:o["createElement"]("div",{ref:O,onMouseEnter:T},R),popupAlign:w,popupVisible:a,getPopupContainer:_,popupClassName:c()(m,Object(n["a"])({},"".concat(I,"-empty"),C)),popupStyle:D,getTriggerDOMNode:M,onPopupVisibleChange:S}),u)},tr=o["forwardRef"](er);tr.displayName="SelectTrigger";var rr=tr,nr="accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap",ir="onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError",or="".concat(nr," ").concat(ir).split(/[\s\n]+/),ar="aria-",sr="data-";function ur(e,t){return 0===e.indexOf(t)}function lr(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===r?{aria:!0,data:!0,attr:!0}:!0===r?{aria:!0}:Object(s["a"])({},r);var n={};return Object.keys(e).forEach((function(r){(t.aria&&("role"===r||ur(r,ar))||t.data&&ur(r,sr)||t.attr&&or.includes(r))&&(n[r]=e[r])})),n}var cr=r("Zm9Q"),hr=new Map;function fr(e){e.forEach((function(e){var t,r=e.target;null===(t=hr.get(r))||void 0===t||t.forEach((function(e){return e(r)}))}))}var pr=new xt["a"](fr);function dr(e,t){hr.has(e)||(hr.set(e,new Set),pr.observe(e)),hr.get(e).add(t)}function gr(e,t){hr.has(e)&&(hr.get(e).delete(t),hr.get(e).size||(pr.unobserve(e),hr.delete(e)))}var mr=function(e){Object(O["a"])(r,e);var t=Object(D["a"])(r);function r(){return Object(R["a"])(this,r),t.apply(this,arguments)}return Object(L["a"])(r,[{key:"render",value:function(){return this.props.children}}]),r}(o["Component"]),vr=o["createContext"](null);function yr(e){var t=e.children,r=e.onBatchResize,n=o["useRef"](0),i=o["useRef"]([]),a=o["useContext"](vr),s=o["useCallback"]((function(e,t,o){n.current+=1;var s=n.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){s===n.current&&(null===r||void 0===r||r(i.current),i.current=[])})),null===a||void 0===a||a(e,t,o)}),[r,a]);return o["createElement"](vr.Provider,{value:s},t)}function br(e){var t=e.children,r=e.disabled,n=o["useRef"](null),i=o["useRef"](null),a=o["useContext"](vr),u="function"===typeof t,l=u?t(n):t,c=o["useRef"]({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!u&&o["isValidElement"](l)&&Object(x["c"])(l),f=h?l.ref:null,p=o["useMemo"]((function(){return Object(x["a"])(f,n)}),[f,n]),d=o["useRef"](e);d.current=e;var g=o["useCallback"]((function(e){var t=d.current,r=t.onResize,n=t.data,i=e.getBoundingClientRect(),o=i.width,u=i.height,l=e.offsetWidth,h=e.offsetHeight,f=Math.floor(o),p=Math.floor(u);if(c.current.width!==f||c.current.height!==p||c.current.offsetWidth!==l||c.current.offsetHeight!==h){var g={width:f,height:p,offsetWidth:l,offsetHeight:h};c.current=g;var m=l===Math.round(o)?o:l,v=h===Math.round(u)?u:h,y=Object(s["a"])(Object(s["a"])({},g),{},{offsetWidth:m,offsetHeight:v});null===a||void 0===a||a(y,e,n),r&&Promise.resolve().then((function(){r(y,e)}))}}),[]);return o["useEffect"]((function(){var e=Object(z["a"])(n.current)||Object(z["a"])(i.current);return e&&!r&&dr(e,g),function(){return gr(e,g)}}),[n.current,r]),o["createElement"](mr,{ref:i},h?o["cloneElement"](l,{ref:p}):l)}var xr="rc-observer-key";function Ar(e){var t=e.children,r="function"===typeof t?[t]:Object(cr["a"])(t);return r.map((function(t,r){var n=(null===t||void 0===t?void 0:t.key)||"".concat(xr,"-").concat(r);return o["createElement"](br,Object(i["a"])({},e,{key:n}),t)}))}Ar.Collection=yr;var wr=Ar,_r=void 0;function Cr(e,t){var r=e.prefixCls,n=e.invalidate,a=e.item,u=e.renderItem,l=e.responsive,h=e.registerSize,f=e.itemKey,d=e.className,g=e.style,m=e.children,v=e.display,y=e.order,b=e.component,x=void 0===b?"div":b,A=Object(p["a"])(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"]),w=l&&!v;function _(e){h(f,e)}o["useEffect"]((function(){return function(){_(null)}}),[]);var C,M=u&&a!==_r?u(a):m;n||(C={opacity:w?0:1,height:w?0:_r,overflowY:w?"hidden":_r,order:l?y:_r,pointerEvents:w?"none":_r,position:w?"absolute":_r});var S={};w&&(S["aria-hidden"]=!0);var T=o["createElement"](x,Object(i["a"])({className:c()(!n&&r,d),style:Object(s["a"])(Object(s["a"])({},C),g)},S,A,{ref:t}),M);return l&&(T=o["createElement"](wr,{onResize:function(e){var t=e.offsetWidth;_(t)}},T)),T}var Mr=o["forwardRef"](Cr);Mr.displayName="Item";var Sr=Mr;function Tr(){var e=Object(o["useState"])({}),t=Object(f["a"])(e,2),r=t[1],n=Object(o["useRef"])([]),i=Object(o["useRef"])(!1),a=0,s=0;function u(e){var t=a;a+=1,n.current.length<t+1&&(n.current[t]=e);var o=n.current[t];function u(e){n.current[t]="function"===typeof e?e(n.current[t]):e,F["a"].cancel(s),s=Object(F["a"])((function(){i.current||r({})}))}return[o,u]}return Object(o["useEffect"])((function(){return function(){i.current=!0}}),[]),u}var Er=function(e,t){var r=o["useContext"](Lr);if(!r){var n=e.component,a=void 0===n?"div":n,s=Object(p["a"])(e,["component"]);return o["createElement"](a,Object(i["a"])({},s,{ref:t}))}var u=r.className,l=Object(p["a"])(r,["className"]),h=e.className,f=Object(p["a"])(e,["className"]);return o["createElement"](Lr.Provider,{value:null},o["createElement"](Sr,Object(i["a"])({ref:t,className:c()(u,h)},l,f)))},Ir=o["forwardRef"](Er);Ir.displayName="RawItem";var Rr=Ir,Lr=o["createContext"](null),Pr="responsive",Or="invalidate";function Dr(e){return"+ ".concat(e.length," ...")}function kr(e,t){var r=e.prefixCls,n=void 0===r?"rc-overflow":r,a=e.data,u=void 0===a?[]:a,l=e.renderItem,h=e.renderRawItem,d=e.itemKey,g=e.itemWidth,m=void 0===g?10:g,v=e.ssr,y=e.style,b=e.className,x=e.maxCount,A=e.renderRest,w=e.renderRawRest,_=e.suffix,C=e.component,M=void 0===C?"div":C,S=e.itemComponent,T=e.onVisibleChange,E=Object(p["a"])(e,["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"]),I=Tr(),R="full"===v,L=I(null),P=Object(f["a"])(L,2),O=P[0],D=P[1],k=O||0,N=I(new Map),F=Object(f["a"])(N,2),B=F[0],z=F[1],U=I(0),j=Object(f["a"])(U,2),H=j[0],G=j[1],V=I(0),W=Object(f["a"])(V,2),X=W[0],q=W[1],Y=I(0),Z=Object(f["a"])(Y,2),K=Z[0],J=Z[1],Q=Object(o["useState"])(null),$=Object(f["a"])(Q,2),ee=$[0],te=$[1],re=Object(o["useState"])(null),ne=Object(f["a"])(re,2),ie=ne[0],oe=ne[1],ae=o["useMemo"]((function(){return null===ie&&R?Number.MAX_SAFE_INTEGER:ie||0}),[ie,O]),se=Object(o["useState"])(!1),ue=Object(f["a"])(se,2),le=ue[0],ce=ue[1],he="".concat(n,"-item"),fe=Math.max(H,X),pe=u.length&&x===Pr,de=x===Or,ge=pe||"number"===typeof x&&u.length>x,me=Object(o["useMemo"])((function(){var e=u;return pe?e=null===O&&R?u:u.slice(0,Math.min(u.length,k/m)):"number"===typeof x&&(e=u.slice(0,x)),e}),[u,m,O,x,pe]),ve=Object(o["useMemo"])((function(){return pe?u.slice(ae+1):u.slice(me.length)}),[u,me,pe,ae]),ye=Object(o["useCallback"])((function(e,t){var r;return"function"===typeof d?d(e):null!==(r=d&&(null===e||void 0===e?void 0:e[d]))&&void 0!==r?r:t}),[d]),be=Object(o["useCallback"])(l||function(e){return e},[l]);function xe(e,t){oe(e),t||(ce(e<u.length-1),null===T||void 0===T||T(e))}function Ae(e,t){D(t.clientWidth)}function we(e,t){z((function(r){var n=new Map(r);return null===t?n.delete(e):n.set(e,t),n}))}function _e(e,t){q(t),G(X)}function Ce(e,t){J(t)}function Me(e){return B.get(ye(me[e],e))}o["useLayoutEffect"]((function(){if(k&&fe&&me){var e=K,t=me.length,r=t-1;if(!t)return xe(0),void te(null);for(var n=0;n<t;n+=1){var i=Me(n);if(void 0===i){xe(n-1,!0);break}if(e+=i,0===r&&e<=k||n===r-1&&e+Me(r)<=k){xe(r),te(null);break}if(e+fe>k){xe(n-1),te(e-i-K+X);break}}_&&Me(0)+K>k&&te(null)}}),[k,B,X,K,ye,me]);var Se=le&&!!ve.length,Te={};null!==ee&&pe&&(Te={position:"absolute",left:ee,top:0});var Ee,Ie={prefixCls:he,responsive:pe,component:S,invalidate:de},Re=h?function(e,t){var r=ye(e,t);return o["createElement"](Lr.Provider,{key:r,value:Object(s["a"])(Object(s["a"])({},Ie),{},{order:t,item:e,itemKey:r,registerSize:we,display:t<=ae})},h(e,t))}:function(e,t){var r=ye(e,t);return o["createElement"](Sr,Object(i["a"])({},Ie,{order:t,key:r,item:e,renderItem:be,itemKey:r,registerSize:we,display:t<=ae}))},Le={order:Se?ae:Number.MAX_SAFE_INTEGER,className:"".concat(he,"-rest"),registerSize:_e,display:Se};if(w)w&&(Ee=o["createElement"](Lr.Provider,{value:Object(s["a"])(Object(s["a"])({},Ie),Le)},w(ve)));else{var Pe=A||Dr;Ee=o["createElement"](Sr,Object(i["a"])({},Ie,Le),"function"===typeof Pe?Pe(ve):Pe)}var Oe=o["createElement"](M,Object(i["a"])({className:c()(!de&&n,b),style:y,ref:t},E),me.map(Re),ge?Ee:null,_&&o["createElement"](Sr,Object(i["a"])({},Ie,{order:ae,className:"".concat(he,"-suffix"),registerSize:Ce,display:!0,style:Te}),_));return pe&&(Oe=o["createElement"](wr,{onResize:Ae},Oe)),Oe}var Nr=o["forwardRef"](kr);Nr.displayName="Overflow",Nr.Item=Rr,Nr.RESPONSIVE=Pr,Nr.INVALIDATE=Or;var Fr=Nr,Br=Fr,zr=function(e){var t,r=e.className,n=e.customizeIcon,i=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,u=e.children;return t="function"===typeof n?n(i):n,o["createElement"]("span",{className:r,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==t?t:o["createElement"]("span",{className:c()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},Ur=zr,jr=function(e,t){var r,n,i=e.prefixCls,a=e.id,u=e.inputElement,l=e.disabled,h=e.tabIndex,f=e.autoFocus,p=e.autoComplete,d=e.editable,g=e.activeDescendantId,m=e.value,v=e.maxLength,y=e.onKeyDown,b=e.onMouseDown,A=e.onChange,w=e.onPaste,_=e.onCompositionStart,C=e.onCompositionEnd,M=e.open,S=e.attrs,T=u||o["createElement"]("input",null),E=T,I=E.ref,R=E.props,L=R.onKeyDown,P=R.onChange,O=R.onMouseDown,D=R.onCompositionStart,k=R.onCompositionEnd,N=R.style;return T=o["cloneElement"](T,Object(s["a"])(Object(s["a"])({id:a,ref:Object(x["a"])(t,I),disabled:l,tabIndex:h,autoComplete:p||"off",type:"search",autoFocus:f,className:c()("".concat(i,"-selection-search-input"),null===(r=T)||void 0===r||null===(n=r.props)||void 0===n?void 0:n.className),style:Object(s["a"])(Object(s["a"])({},N),{},{opacity:d?null:0}),role:"combobox","aria-expanded":M,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":g},S),{},{value:d?m:"",maxLength:v,readOnly:!d,unselectable:d?null:"on",onKeyDown:function(e){y(e),L&&L(e)},onMouseDown:function(e){b(e),O&&O(e)},onChange:function(e){A(e),P&&P(e)},onCompositionStart:function(e){_(e),D&&D(e)},onCompositionEnd:function(e){C(e),k&&k(e)},onPaste:w})),T},Hr=o["forwardRef"](jr);Hr.displayName="Input";var Gr=Hr;function Vr(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Wr="undefined"!==typeof window&&window.document&&window.document.documentElement,Xr=Wr;function qr(e,t){Xr?o["useLayoutEffect"](e,t):o["useEffect"](e,t)}var Yr=function(e){e.preventDefault(),e.stopPropagation()},Zr=function(e){var t=e.id,r=e.prefixCls,i=e.values,a=e.open,s=e.searchValue,u=e.inputRef,l=e.placeholder,h=e.disabled,p=e.mode,d=e.showSearch,g=e.autoFocus,m=e.autoComplete,v=e.activeDescendantId,y=e.tabIndex,b=e.removeIcon,x=e.maxTagCount,A=e.maxTagTextLength,w=e.maxTagPlaceholder,_=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,C=e.tagRender,M=e.onToggleOpen,S=e.onRemove,T=e.onInputChange,E=e.onInputPaste,I=e.onInputKeyDown,R=e.onInputMouseDown,L=e.onInputCompositionStart,P=e.onInputCompositionEnd,O=o["useRef"](null),D=Object(o["useState"])(0),k=Object(f["a"])(D,2),N=k[0],F=k[1],B=Object(o["useState"])(!1),z=Object(f["a"])(B,2),U=z[0],j=z[1],H="".concat(r,"-selection"),G=a||"tags"===p?s:"",V="tags"===p||d&&(a||U);function W(e,t,r,i,a){return o["createElement"]("span",{className:c()("".concat(H,"-item"),Object(n["a"])({},"".concat(H,"-item-disabled"),r)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},o["createElement"]("span",{className:"".concat(H,"-item-content")},t),i&&o["createElement"](Ur,{className:"".concat(H,"-item-remove"),onMouseDown:Yr,onClick:a,customizeIcon:b},"\xd7"))}function X(e,t,r,n,i){var s=function(e){Yr(e),M(!a)};return o["createElement"]("span",{onMouseDown:s},C({label:t,value:e,disabled:r,closable:n,onClose:i}))}function q(e){var t=e.disabled,r=e.label,n=e.value,i=!h&&!t,o=r;if("number"===typeof A&&("string"===typeof r||"number"===typeof r)){var a=String(o);a.length>A&&(o="".concat(a.slice(0,A),"..."))}var s=function(t){t&&t.stopPropagation(),S(e)};return"function"===typeof C?X(n,o,t,i,s):W(r,o,t,i,s)}function Y(e){var t="function"===typeof _?_(e):_;return W(t,t,!1)}qr((function(){F(O.current.scrollWidth)}),[G]);var Z=o["createElement"]("div",{className:"".concat(H,"-search"),style:{width:N},onFocus:function(){j(!0)},onBlur:function(){j(!1)}},o["createElement"](Gr,{ref:u,open:a,prefixCls:r,id:t,inputElement:null,disabled:h,autoFocus:g,autoComplete:m,editable:V,activeDescendantId:v,value:G,onKeyDown:I,onMouseDown:R,onChange:T,onPaste:E,onCompositionStart:L,onCompositionEnd:P,tabIndex:y,attrs:lr(e,!0)}),o["createElement"]("span",{ref:O,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},G,"\xa0")),K=o["createElement"](Br,{prefixCls:"".concat(H,"-overflow"),data:i,renderItem:q,renderRest:Y,suffix:Z,itemKey:"key",maxCount:x});return o["createElement"](o["Fragment"],null,K,!i.length&&!G&&o["createElement"]("span",{className:"".concat(H,"-placeholder")},l))},Kr=Zr,Jr=function(e){var t=e.inputElement,r=e.prefixCls,n=e.id,i=e.inputRef,a=e.disabled,s=e.autoFocus,u=e.autoComplete,l=e.activeDescendantId,c=e.mode,h=e.open,p=e.values,d=e.placeholder,g=e.tabIndex,m=e.showSearch,v=e.searchValue,y=e.activeValue,b=e.maxLength,x=e.onInputKeyDown,A=e.onInputMouseDown,w=e.onInputChange,_=e.onInputPaste,C=e.onInputCompositionStart,M=e.onInputCompositionEnd,S=o["useState"](!1),T=Object(f["a"])(S,2),E=T[0],I=T[1],R="combobox"===c,L=R||m,P=p[0],O=v||"";R&&y&&!E&&(O=y),o["useEffect"]((function(){R&&I(!1)}),[R,y]);var D=!("combobox"!==c&&!h&&!m)&&!!O,k=!P||"string"!==typeof P.label&&"number"!==typeof P.label?void 0:P.label.toString(),N=function(){if(P)return null;var e=D?{visibility:"hidden"}:void 0;return o["createElement"]("span",{className:"".concat(r,"-selection-placeholder"),style:e},d)};return o["createElement"](o["Fragment"],null,o["createElement"]("span",{className:"".concat(r,"-selection-search")},o["createElement"](Gr,{ref:i,prefixCls:r,id:n,open:h,inputElement:t,disabled:a,autoFocus:s,autoComplete:u,editable:L,activeDescendantId:l,value:O,onKeyDown:x,onMouseDown:A,onChange:function(e){I(!0),w(e)},onPaste:_,onCompositionStart:C,onCompositionEnd:M,tabIndex:g,attrs:lr(e,!0),maxLength:R?b:void 0})),!R&&P&&!D&&o["createElement"]("span",{className:"".concat(r,"-selection-item"),title:k},P.label),N())},Qr=Jr;function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=o["useRef"](null),r=o["useRef"](null);function n(n){(n||null===t.current)&&(t.current=n),window.clearTimeout(r.current),r.current=window.setTimeout((function(){t.current=null}),e)}return o["useEffect"]((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return t.current},n]}function en(e){return![y.ESC,y.SHIFT,y.BACKSPACE,y.TAB,y.WIN_KEY,y.ALT,y.META,y.WIN_KEY_RIGHT,y.CTRL,y.SEMICOLON,y.EQUALS,y.CAPS_LOCK,y.CONTEXT_MENU,y.F1,y.F2,y.F3,y.F4,y.F5,y.F6,y.F7,y.F8,y.F9,y.F10,y.F11,y.F12].includes(e)}var tn=function(e,t){var r=Object(o["useRef"])(null),n=Object(o["useRef"])(!1),a=e.prefixCls,s=e.open,u=e.mode,l=e.showSearch,c=e.tokenWithEnter,h=e.onSearch,p=e.onSearchSubmit,d=e.onToggleOpen,g=e.onInputKeyDown,m=e.domRef;o["useImperativeHandle"](t,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var v=$r(0),b=Object(f["a"])(v,2),x=b[0],A=b[1],w=function(e){var t=e.which;t!==y.UP&&t!==y.DOWN||e.preventDefault(),g&&g(e),t!==y.ENTER||"tags"!==u||n.current||s||null===p||void 0===p||p(e.target.value),en(t)&&d(!0)},_=function(){A(!0)},C=Object(o["useRef"])(null),M=function(e){!1!==h(e,!0,n.current)&&d(!0)},S=function(){n.current=!0},T=function(e){n.current=!1,"combobox"!==u&&M(e.target.value)},E=function(e){var t=e.target.value;if(c&&C.current&&/[\r\n]/.test(C.current)){var r=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(r,C.current)}C.current=null,M(t)},I=function(e){var t=e.clipboardData,r=t.getData("text");C.current=r},R=function(e){var t=e.target;if(t!==r.current){var n=void 0!==document.body.style.msTouchAction;n?setTimeout((function(){r.current.focus()})):r.current.focus()}},L=function(e){var t=x();e.target===r.current||t||e.preventDefault(),("combobox"===u||l&&t)&&s||(s&&h("",!0,!1),d())},P={inputRef:r,onInputKeyDown:w,onInputMouseDown:_,onInputChange:E,onInputPaste:I,onInputCompositionStart:S,onInputCompositionEnd:T},O="multiple"===u||"tags"===u?o["createElement"](Kr,Object(i["a"])({},e,P)):o["createElement"](Qr,Object(i["a"])({},e,P));return o["createElement"]("div",{ref:m,className:"".concat(a,"-selector"),onClick:R,onMouseDown:L},O)},rn=o["forwardRef"](tn);rn.displayName="Selector";var nn=rn;function on(e,t,r){var n=o["useRef"](null);n.current={open:t,triggerOpen:r},o["useEffect"]((function(){function t(t){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),n.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&n.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}function an(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=o["useState"](!1),r=Object(f["a"])(t,2),n=r[0],i=r[1],a=o["useRef"](null),s=function(){window.clearTimeout(a.current)};o["useEffect"]((function(){return s}),[]);var u=function(t,r){s(),a.current=window.setTimeout((function(){i(t),r&&r()}),e)};return[n,u,s]}var sn=o["createContext"](null);function un(){return o["useContext"](sn)}var ln=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","suffix"],cn=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function hn(e){return"tags"===e||"multiple"===e}var fn=o["forwardRef"]((function(e,t){var r,a,u=e.id,l=e.prefixCls,g=e.className,v=e.showSearch,A=e.tagRender,w=e.direction,C=e.omitDomProps,M=e.displayValues,S=e.onDisplayValuesChange,T=e.emptyOptions,E=e.notFoundContent,R=void 0===E?"Not Found":E,L=e.onClear,P=e.mode,O=e.disabled,D=e.loading,k=e.getInputElement,N=e.getRawInputElement,F=e.open,B=e.defaultOpen,z=e.onDropdownVisibleChange,U=e.activeValue,j=e.onActiveValueChange,H=e.activeDescendantId,G=e.searchValue,V=e.onSearch,W=e.onSearchSplit,X=e.tokenSeparators,q=e.allowClear,Y=e.showArrow,Z=e.inputIcon,K=e.clearIcon,J=e.OptionList,Q=e.animation,$=e.transitionName,ee=e.dropdownStyle,te=e.dropdownClassName,re=e.dropdownMatchSelectWidth,ne=e.dropdownRender,ie=e.dropdownAlign,oe=e.placement,ae=e.getPopupContainer,se=e.showAction,ue=void 0===se?[]:se,le=e.onFocus,ce=e.onBlur,he=e.onKeyUp,fe=e.onKeyDown,pe=e.onMouseDown,de=e.suffix,ge=Object(p["a"])(e,ln),me=hn(P),ve=(void 0!==v?v:me)||"combobox"===P,ye=Object(s["a"])({},ge);cn.forEach((function(e){delete ye[e]})),null===C||void 0===C||C.forEach((function(e){delete ye[e]}));var be=o["useState"](!1),xe=Object(f["a"])(be,2),Ae=xe[0],we=xe[1];o["useEffect"]((function(){we(b())}),[]);var _e=o["useRef"](null),Ce=o["useRef"](null),Me=o["useRef"](null),Se=o["useRef"](null),Te=o["useRef"](null),Ee=an(),Ie=Object(f["a"])(Ee,3),Re=Ie[0],Le=Ie[1],Pe=Ie[2];o["useImperativeHandle"](t,(function(){var e,t;return{focus:null===(e=Se.current)||void 0===e?void 0:e.focus,blur:null===(t=Se.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Te.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Oe=o["useMemo"]((function(){var e;if("combobox"!==P)return G;var t=null===(e=M[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[G,P,M]),De="combobox"===P&&"function"===typeof k&&k()||null,ke="function"===typeof N&&N(),Ne=Object(x["d"])(Ce,null===ke||void 0===ke||null===(r=ke.props)||void 0===r?void 0:r.ref),Fe=m(void 0,{defaultValue:B,value:F}),Be=Object(f["a"])(Fe,2),ze=Be[0],Ue=Be[1],je=ze,He=!R&&T;(O||He&&je&&"combobox"===P)&&(je=!1);var Ge=!He&&je,Ve=o["useCallback"]((function(e){var t=void 0!==e?e:!je;je===t||O||(Ue(t),null===z||void 0===z||z(t))}),[O,je,Ue,z]),We=o["useMemo"]((function(){return(X||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[X]),Xe=function(e,t,r){var n=!0,i=e;null===j||void 0===j||j(null);var o=r?null:I(e,X);return"combobox"!==P&&o&&(i="",null===W||void 0===W||W(o),Ve(!1),n=!1),V&&Oe!==i&&V(i,{source:t?"typing":"effect"}),n},qe=function(e){e&&e.trim()&&V(e,{source:"submit"})};o["useEffect"]((function(){je||me||"combobox"===P||Xe("",!1,!1)}),[je]),o["useEffect"]((function(){ze&&O&&Ue(!1),O&&Le(!1)}),[O]);var Ye=$r(),Ze=Object(f["a"])(Ye,2),Ke=Ze[0],Je=Ze[1],Qe=function(e){var t,r=Ke(),n=e.which;if(n===y.ENTER&&("combobox"!==P&&e.preventDefault(),je||Ve(!0)),Je(!!Oe),n===y.BACKSPACE&&!r&&me&&!Oe&&M.length){for(var i=Object(h["a"])(M),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&S(i,{type:"remove",values:[o]})}for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];je&&Te.current&&(t=Te.current).onKeyDown.apply(t,[e].concat(l));null===fe||void 0===fe||fe.apply(void 0,[e].concat(l))},$e=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;je&&Te.current&&(i=Te.current).onKeyUp.apply(i,[e].concat(r));null===he||void 0===he||he.apply(void 0,[e].concat(r))},et=function(e){var t=M.filter((function(t){return t!==e}));S(t,{type:"remove",values:[e]})},tt=o["useRef"](!1),rt=function(){Le(!0),O||(le&&!tt.current&&le.apply(void 0,arguments),ue.includes("focus")&&Ve(!0)),tt.current=!0},nt=function(){Le(!1,(function(){tt.current=!1,Ve(!1)})),O||(Oe&&("tags"===P?V(Oe,{source:"submit"}):"multiple"===P&&V("",{source:"blur"})),ce&&ce.apply(void 0,arguments))},it=[];o["useEffect"]((function(){return function(){it.forEach((function(e){return clearTimeout(e)})),it.splice(0,it.length)}}),[]);var ot,at=function(e){var t,r=e.target,n=null===(t=Me.current)||void 0===t?void 0:t.getPopupElement();if(n&&n.contains(r)){var i=setTimeout((function(){var e,t=it.indexOf(i);(-1!==t&&it.splice(t,1),Pe(),Ae||n.contains(document.activeElement))||(null===(e=Se.current)||void 0===e||e.focus())}));it.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===pe||void 0===pe||pe.apply(void 0,[e].concat(a))},st=o["useState"](null),ut=Object(f["a"])(st,2),lt=ut[0],ct=ut[1],ht=o["useState"]({}),ft=Object(f["a"])(ht,2),pt=ft[1];function dt(){pt({})}_((function(){if(Ge){var e,t=Math.ceil(null===(e=_e.current)||void 0===e?void 0:e.offsetWidth);lt===t||Number.isNaN(t)||ct(t)}}),[Ge]),ke&&(ot=function(e){Ve(e)}),on((function(){var e;return[_e.current,null===(e=Me.current)||void 0===e?void 0:e.getPopupElement()]}),Ge,Ve);var gt,mt,vt=o["useMemo"]((function(){return Object(s["a"])(Object(s["a"])({},e),{},{notFoundContent:R,open:je,triggerOpen:Ge,id:u,showSearch:ve,multiple:me,toggleOpen:Ve})}),[e,R,Ge,je,u,ve,me,Ve]),yt=void 0!==Y?Y:D||!me&&"combobox"!==P;yt&&(gt=o["createElement"](Ur,{className:c()("".concat(l,"-arrow"),Object(n["a"])({},"".concat(l,"-arrow-loading"),D)),customizeIcon:Z,customizeIconProps:{loading:D,searchValue:Oe,open:je,focused:Re,showSearch:ve}}));var bt=function(){null===L||void 0===L||L(),S([],{type:"clear",values:M}),Xe("",!1,!1)};!O&&q&&(M.length||Oe)&&(mt=o["createElement"](Ur,{className:"".concat(l,"-clear"),onMouseDown:bt,customizeIcon:K},"\xd7"));var xt,At=o["createElement"](J,{ref:Te}),wt=c()(l,g,(a={},Object(n["a"])(a,"".concat(l,"-focused"),Re),Object(n["a"])(a,"".concat(l,"-multiple"),me),Object(n["a"])(a,"".concat(l,"-single"),!me),Object(n["a"])(a,"".concat(l,"-allow-clear"),q),Object(n["a"])(a,"".concat(l,"-show-arrow"),yt),Object(n["a"])(a,"".concat(l,"-disabled"),O),Object(n["a"])(a,"".concat(l,"-loading"),D),Object(n["a"])(a,"".concat(l,"-open"),je),Object(n["a"])(a,"".concat(l,"-customize-input"),De),Object(n["a"])(a,"".concat(l,"-show-search"),ve),Object(n["a"])(a,"".concat(l,"-has-suffix"),de),a)),_t=o["createElement"](rr,{ref:Me,disabled:O,prefixCls:l,visible:Ge,popupElement:At,containerWidth:lt,animation:Q,transitionName:$,dropdownStyle:ee,dropdownClassName:te,direction:w,dropdownMatchSelectWidth:re,dropdownRender:ne,dropdownAlign:ie,placement:oe,getPopupContainer:ae,empty:T,getTriggerDOMNode:function(){return Ce.current},onPopupVisibleChange:ot,onPopupMouseEnter:dt},ke?o["cloneElement"](ke,{ref:Ne}):o["createElement"](nn,Object(i["a"])({},e,{domRef:Ce,prefixCls:l,inputElement:De,ref:Se,id:u,showSearch:ve,mode:P,activeDescendantId:H,tagRender:A,values:M,open:je,onToggleOpen:Ve,activeValue:U,searchValue:Oe,onSearch:Xe,onSearchSubmit:qe,onRemove:et,tokenWithEnter:We})));return xt=ke?_t:o["createElement"]("div",Object(i["a"])({className:wt},ye,{ref:_e,onMouseDown:at,onKeyDown:Qe,onKeyUp:$e,onFocus:rt,onBlur:nt}),Re&&!je&&o["createElement"]("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(M.map((function(e){var t=e.label,r=e.value;return["number","string"].includes(Object(d["a"])(t))?t:r})).join(", "))),_t,gt,mt,de&&o["createElement"]("span",{className:"".concat(l,"-suffix")},de)),o["createElement"](sn.Provider,{value:vt},xt)}));var pn=fn,dn=r("YrtM");function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yn=o["forwardRef"]((function(e,t){var r=e.height,n=e.offset,i=e.children,a=e.prefixCls,s=e.onInnerResize,u={},l={display:"flex",flexDirection:"column"};return void 0!==n&&(u={height:r,position:"relative",overflow:"hidden"},l=mn(mn({},l),{},{transform:"translateY(".concat(n,"px)"),position:"absolute",left:0,right:0,top:0})),o["createElement"]("div",{style:u},o["createElement"](wr,{onResize:function(e){var t=e.offsetHeight;t&&s&&s()}},o["createElement"]("div",{style:l,className:c()(vn({},"".concat(a,"-holder-inner"),a)),ref:t},i)))}));yn.displayName="Filler";var bn=yn;function xn(e){return xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function An(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cn(e,t,r){return t&&_n(e.prototype,t),r&&_n(e,r),e}function Mn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}function Sn(e,t){return Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sn(e,t)}function Tn(e){var t=Rn();return function(){var r,n=Ln(e);if(t){var i=Ln(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return En(this,r)}}function En(e,t){if(t&&("object"===xn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}var Pn=20;function On(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Dn=function(e){Mn(r,e);var t=Tn(r);function r(){var e;wn(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),e.moveRaf=null,e.scrollbarRef=o["createRef"](),e.thumbRef=o["createRef"](),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),F["a"].cancel(e.moveRaf)},e.onMouseDown=function(t){var r=e.props.onStartMove;e.setState({dragging:!0,pageY:On(t),startTop:e.getTop()}),r(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var r=e.state,n=r.dragging,i=r.pageY,o=r.startTop,a=e.props.onScroll;if(F["a"].cancel(e.moveRaf),n){var s=On(t)-i,u=o+s,l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),h=c?u/c:0,f=Math.ceil(h*l);e.moveRaf=Object(F["a"])((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,r=t.height,n=t.count,i=r/n*10;return i=Math.max(i,Pn),i=Math.min(i,r/2),Math.floor(i)},e.getEnableScrollRange=function(){var t=e.props,r=t.scrollHeight,n=t.height;return r-n||0},e.getEnableHeightRange=function(){var t=e.props.height,r=e.getSpinHeight();return t-r||0},e.getTop=function(){var t=e.props.scrollTop,r=e.getEnableScrollRange(),n=e.getEnableHeightRange();if(0===t||0===r)return 0;var i=t/r;return i*n},e.showScroll=function(){var t=e.props,r=t.height,n=t.scrollHeight;return n>r},e}return Cn(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,r=e.visible,n=this.props.prefixCls,i=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),u=s&&r;return o["createElement"]("div",{ref:this.scrollbarRef,className:c()("".concat(n,"-scrollbar"),An({},"".concat(n,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},o["createElement"]("div",{ref:this.thumbRef,className:c()("".concat(n,"-scrollbar-thumb"),An({},"".concat(n,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(o["Component"]);function kn(e){var t=e.children,r=e.setRef,n=o["useCallback"]((function(e){r(e)}),[]);return o["cloneElement"](t,{ref:n})}function Nn(e,t,r,n,i,a){var s=a.getKey;return e.slice(t,r+1).map((function(e,r){var a=t+r,u=i(e,a,{}),l=s(e);return o["createElement"](kn,{key:l,setRef:function(t){return n(e,t)}},u)}))}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zn(e,t,r){return t&&Bn(e.prototype,t),r&&Bn(e,r),e}var Un=function(){function e(){Fn(this,e),this.maps=void 0,this.maps=Object.create(null)}return zn(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}(),jn=Un;function Hn(e,t){return qn(e)||Xn(e,t)||Vn(e,t)||Gn()}function Gn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vn(e,t){if(e){if("string"===typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wn(e,t):void 0}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xn(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function qn(e){if(Array.isArray(e))return e}function Yn(e,t,r){var n=o["useState"](0),i=Hn(n,2),a=i[0],s=i[1],u=Object(o["useRef"])(new Map),l=Object(o["useRef"])(new jn),c=Object(o["useRef"])(0);function h(){c.current+=1;var e=c.current;Promise.resolve().then((function(){e===c.current&&(u.current.forEach((function(e,t){if(e&&e.offsetParent){var r=Object(z["a"])(e),n=r.offsetHeight;l.current.get(t)!==n&&l.current.set(t,r.offsetHeight)}})),s((function(e){return e+1})))}))}function f(n,i){var o=e(n),a=u.current.get(o);i?(u.current.set(o,i),h()):u.current.delete(o),!a!==!i&&(i?null===t||void 0===t||t(n):null===r||void 0===r||r(n))}return[f,h,l.current,a]}function Zn(e){return Zn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Kn(e,t,r,n,i,a,s,u){var l=o["useRef"]();return function(o){if(null!==o&&void 0!==o){if(F["a"].cancel(l.current),"number"===typeof o)s(o);else if(o&&"object"===Zn(o)){var c,h=o.align;c="index"in o?o.index:t.findIndex((function(e){return i(e)===o.key}));var f=o.offset,p=void 0===f?0:f,d=function o(u,f){if(!(u<0)&&e.current){var d=e.current.clientHeight,g=!1,m=f;if(d){for(var v=f||h,y=0,b=0,x=0,A=Math.min(t.length,c),w=0;w<=A;w+=1){var _=i(t[w]);b=y;var C=r.get(_);x=b+(void 0===C?n:C),y=x,w===c&&void 0===C&&(g=!0)}var M=null;switch(v){case"top":M=b-p;break;case"bottom":M=x-d+p;break;default:var S=e.current.scrollTop,T=S+d;b<S?m="top":x>T&&(m="bottom")}null!==M&&M!==e.current.scrollTop&&s(M)}l.current=Object(F["a"])((function(){g&&a(),o(u-1,m)}))}};d(3)}}else u()}}function Jn(e,t,r){var n,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(n=e,i=t):(n=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?r(e):s}for(var l=null,c=1!==Math.abs(o-a),h=0;h<i.length;h+=1){var f=u(n[h]),p=u(i[h]);if(f!==p){l=h,c=c||f!==u(i[h+1]);break}}return null===l?null:{index:l,multiple:c}}function Qn(e,t){return ni(e)||ri(e,t)||ei(e,t)||$n()}function $n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ei(e,t){if(e){if("string"===typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ti(e,t):void 0}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ri(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function ni(e){if(Array.isArray(e))return e}function ii(e,t,r){var n=o["useState"](e),i=Qn(n,2),a=i[0],s=i[1],u=o["useState"](null),l=Qn(u,2),c=l[0],h=l[1];return o["useEffect"]((function(){var n=Jn(a||[],e||[],t);void 0!==(null===n||void 0===n?void 0:n.index)&&(null===r||void 0===r||r(n.index),h(e[n.index])),s(e)}),[e]),[c]}function oi(e){return oi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}var ai="object"===("undefined"===typeof navigator?"undefined":oi(navigator))&&/Firefox/i.test(navigator.userAgent),si=ai,ui=function(e,t){var r=Object(o["useRef"])(!1),n=Object(o["useRef"])(null);function i(){clearTimeout(n.current),r.current=!0,n.current=setTimeout((function(){r.current=!1}),50)}var a=Object(o["useRef"])({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e<0&&a.current.top||e>0&&a.current.bottom;return t&&o?(clearTimeout(n.current),r.current=!1):o&&!r.current||i(),!r.current&&o}};function li(e,t,r,n){var i=Object(o["useRef"])(0),a=Object(o["useRef"])(null),s=Object(o["useRef"])(null),u=Object(o["useRef"])(!1),l=ui(t,r);function c(t){if(e){F["a"].cancel(a.current);var r=t.deltaY;i.current+=r,s.current=r,l(r)||(si||t.preventDefault(),a.current=Object(F["a"])((function(){var e=u.current?10:1;n(i.current*e),i.current=0})))}}function h(t){e&&(u.current=t.detail===s.current)}return[c,h]}var ci=14/15;function hi(e,t,r){var n,i=Object(o["useRef"])(!1),a=Object(o["useRef"])(0),s=Object(o["useRef"])(null),u=Object(o["useRef"])(null),l=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),n=a.current-t;a.current=t,r(n)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){n*=ci,(!r(n,!0)||Math.abs(n)<=.1)&&clearInterval(u.current)}),16)}},c=function(){i.current=!1,n()},h=function(e){n(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",l),s.current.addEventListener("touchend",c))};n=function(){s.current&&(s.current.removeEventListener("touchmove",l),s.current.removeEventListener("touchend",c))},o["useLayoutEffect"]((function(){return e&&t.current.addEventListener("touchstart",h),function(){t.current.removeEventListener("touchstart",h),n(),clearInterval(u.current)}}),[e])}var fi=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?di(Object(r),!0).forEach((function(t){mi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e,t){return wi(e)||Ai(e,t)||bi(e,t)||yi()}function yi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(e,t){if(e){if("string"===typeof e)return xi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xi(e,t):void 0}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ai(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function wi(e){if(Array.isArray(e))return e}function _i(e,t){if(null==e)return{};var r,n,i=Ci(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ci(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var Mi=[],Si={overflowY:"auto",overflowAnchor:"none"};function Ti(e,t){var r=e.prefixCls,n=void 0===r?"rc-virtual-list":r,i=e.className,a=e.height,s=e.itemHeight,u=e.fullHeight,l=void 0===u||u,h=e.style,f=e.data,p=e.children,d=e.itemKey,g=e.virtual,m=e.component,v=void 0===m?"div":m,y=e.onScroll,b=e.onVisibleChange,x=_i(e,fi),A=!(!1===g||!a||!s),w=A&&f&&s*f.length>a,_=Object(o["useState"])(0),C=vi(_,2),M=C[0],S=C[1],T=Object(o["useState"])(!1),E=vi(T,2),I=E[0],R=E[1],L=c()(n,i),P=f||Mi,O=Object(o["useRef"])(),D=Object(o["useRef"])(),k=Object(o["useRef"])(),N=o["useCallback"]((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),F={getKey:N};function B(e){S((function(t){var r;r="function"===typeof e?e(t):e;var n=ne(r);return O.current.scrollTop=n,n}))}var z=Object(o["useRef"])({start:0,end:P.length}),U=Object(o["useRef"])(),j=ii(P,N),H=vi(j,1),G=H[0];U.current=G;var V=Yn(N,null,null),W=vi(V,4),X=W[0],q=W[1],Y=W[2],Z=W[3],K=o["useMemo"]((function(){if(!A)return{scrollHeight:void 0,start:0,end:P.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=D.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:P.length-1,offset:void 0};for(var t,r,n,i=0,o=P.length,u=0;u<o;u+=1){var l=P[u],c=N(l),h=Y.get(c),f=i+(void 0===h?s:h);f>=M&&void 0===t&&(t=u,r=i),f>M+a&&void 0===n&&(n=u),i=f}return void 0===t&&(t=0,r=0),void 0===n&&(n=P.length-1),n=Math.min(n+1,P.length),{scrollHeight:i,start:t,end:n,offset:r}}),[w,A,M,P,Z,a]),J=K.scrollHeight,Q=K.start,$=K.end,ee=K.offset;z.current.start=Q,z.current.end=$;var te=J-a,re=Object(o["useRef"])(te);function ne(e){var t=e;return Number.isNaN(re.current)||(t=Math.min(t,re.current)),t=Math.max(t,0),t}re.current=te;var ie=M<=0,oe=M>=te,ae=ui(ie,oe);function se(e){var t=e;B(t)}function ue(e){var t=e.currentTarget.scrollTop;t!==M&&B(t),null===y||void 0===y||y(e)}var le=li(A,ie,oe,(function(e){B((function(t){var r=t+e;return r}))})),ce=vi(le,2),he=ce[0],fe=ce[1];hi(A,O,(function(e,t){return!ae(e,t)&&(he({preventDefault:function(){},deltaY:e}),!0)})),Object(o["useLayoutEffect"])((function(){function e(e){A&&e.preventDefault()}return O.current.addEventListener("wheel",he),O.current.addEventListener("DOMMouseScroll",fe),O.current.addEventListener("MozMousePixelScroll",e),function(){O.current.removeEventListener("wheel",he),O.current.removeEventListener("DOMMouseScroll",fe),O.current.removeEventListener("MozMousePixelScroll",e)}}),[A]);var pe=Kn(O,P,Y,s,N,q,B,(function(){var e;null===(e=k.current)||void 0===e||e.delayHidden()}));o["useImperativeHandle"](t,(function(){return{scrollTo:pe}})),Object(o["useLayoutEffect"])((function(){if(b){var e=P.slice(Q,$+1);b(e,P)}}),[Q,$,P]);var de=Nn(P,Q,$,X,p,F),ge=null;return a&&(ge=gi(mi({},l?"height":"maxHeight",a),Si),A&&(ge.overflowY="hidden",I&&(ge.pointerEvents="none"))),o["createElement"]("div",pi({style:gi(gi({},h),{},{position:"relative"}),className:L},x),o["createElement"](v,{className:"".concat(n,"-holder"),style:ge,ref:O,onScroll:ue},o["createElement"](bn,{prefixCls:n,height:J,offset:ee,onInnerResize:q,ref:D},de)),A&&o["createElement"](Dn,{ref:k,prefixCls:n,scrollTop:M,height:a,scrollHeight:J,count:P.length,onScroll:se,onStartMove:function(){R(!0)},onStopMove:function(){R(!1)}}))}var Ei=o["forwardRef"](Ti);Ei.displayName="List";var Ii=Ei,Ri=Ii;function Li(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Pi=o["createContext"](null),Oi=Pi,Di=["disabled","title","children","style","className"],ki=function(e,t){var r=un(),a=r.prefixCls,s=r.id,l=r.open,h=r.multiple,d=r.searchValue,g=r.toggleOpen,m=r.notFoundContent,v=r.onPopupScroll,b=o["useContext"](Oi),x=b.flattenOptions,A=b.onActiveValue,w=b.defaultActiveFirstOption,_=b.onSelect,C=b.menuItemSelectedIcon,M=b.rawValues,S=b.fieldNames,T=b.virtual,E=b.listHeight,I=b.listItemHeight,R="".concat(a,"-item"),L=Object(dn["a"])((function(){return x}),[l,x],(function(e,t){return t[0]&&e[1]!==t[1]})),P=o["useRef"](null),O=function(e){e.preventDefault()},D=function(e){P.current&&P.current.scrollTo({index:e})},k=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=L.length,n=0;n<r;n+=1){var i=(e+n*t+r)%r,o=L[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},N=o["useState"]((function(){return k(0)})),F=Object(f["a"])(N,2),B=F[0],z=F[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e);var r={source:t?"keyboard":"mouse"},n=L[e];n?A(n.data.value,e,r):A(null,-1,r)};Object(o["useEffect"])((function(){U(!1!==w?k(0):-1)}),[L.length,d]),Object(o["useEffect"])((function(){var e,t=setTimeout((function(){if(!h&&l&&1===M.size){var e=Array.from(M)[0],t=L.findIndex((function(t){var r=t.data;return r.value===e}));-1!==t&&(U(t),D(t))}}));l&&(null===(e=P.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[l,d]);var j=function(e){void 0!==e&&_(e,{selected:!M.has(e)}),h||g(!1)};if(o["useImperativeHandle"](t,(function(){return{onKeyDown:function(e){var t=e.which,r=e.ctrlKey;switch(t){case y.N:case y.P:case y.UP:case y.DOWN:var n=0;if(t===y.UP?n=-1:t===y.DOWN?n=1:Li()&&r&&(t===y.N?n=1:t===y.P&&(n=-1)),0!==n){var i=k(B+n,n);D(i),U(i,!0)}break;case y.ENTER:var o=L[B];o&&!o.data.disabled?j(o.data.value):j(void 0),l&&e.preventDefault();break;case y.ESC:g(!1),l&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){D(e)}}})),0===L.length)return o["createElement"]("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(R,"-empty"),onMouseDown:O},m);var H=Object.keys(S).map((function(e){return S[e]})),G=function(e){return e.label},V=function(e){var t=L[e];if(!t)return null;var r=t.data||{},n=r.value,a=t.group,u=lr(r,!0),l=G(t);return t?o["createElement"]("div",Object(i["a"])({"aria-label":"string"!==typeof l||a?null:l},u,{key:e,role:a?"presentation":"option",id:"".concat(s,"_list_").concat(e),"aria-selected":M.has(n)}),n):null};return o["createElement"](o["Fragment"],null,o["createElement"]("div",{role:"listbox",id:"".concat(s,"_list"),style:{height:0,width:0,overflow:"hidden"}},V(B-1),V(B),V(B+1)),o["createElement"](Ri,{itemKey:"key",ref:P,data:L,height:E,itemHeight:I,fullHeight:!1,onMouseDown:O,onScroll:v,virtual:T},(function(e,t){var r,a=e.group,s=e.groupOption,l=e.data,h=e.label,f=e.value,d=l.key;if(a)return o["createElement"]("div",{className:c()(R,"".concat(R,"-group"))},void 0!==h?h:d);var g=l.disabled,m=l.title,v=(l.children,l.style),y=l.className,b=Object(p["a"])(l,Di),x=u(b,H),A=M.has(f),w="".concat(R,"-option"),_=c()(R,w,y,(r={},Object(n["a"])(r,"".concat(w,"-grouped"),s),Object(n["a"])(r,"".concat(w,"-active"),B===t&&!g),Object(n["a"])(r,"".concat(w,"-disabled"),g),Object(n["a"])(r,"".concat(w,"-selected"),A),r)),S=G(e),T=!C||"function"===typeof C||A,E=S||f,I="string"===typeof E||"number"===typeof E?E.toString():void 0;return void 0!==m&&(I=m),o["createElement"]("div",Object(i["a"])({},x,{"aria-selected":A,className:_,title:I,onMouseMove:function(){B===t||g||U(t)},onClick:function(){g||j(f)},style:v}),o["createElement"]("div",{className:"".concat(w,"-content")},E),o["isValidElement"](C)||A,T&&o["createElement"](Ur,{className:"".concat(R,"-option-state"),customizeIcon:C,customizeIconProps:{isSelected:A}},A?"\u2713":null))})))},Ni=o["forwardRef"](ki);Ni.displayName="OptionList";var Fi=Ni,Bi=function(){return null};Bi.isSelectOption=!0;var zi=Bi,Ui=function(){return null};Ui.isSelectOptGroup=!0;var ji=Ui,Hi=["children","value"],Gi=["children"];function Vi(e){var t=e.key,r=e.props,n=r.children,i=r.value,o=Object(p["a"])(r,Hi);return Object(s["a"])({key:t,value:void 0!==i?i:t,children:n},o)}function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(cr["a"])(e).map((function(e,r){if(!o["isValidElement"](e)||!e.type)return null;var n=e.type.isSelectOptGroup,i=e.key,a=e.props,u=a.children,l=Object(p["a"])(a,Gi);return t||!n?Vi(e):Object(s["a"])(Object(s["a"])({key:"__RC_SELECT_GRP__".concat(null===i?r:i,"__"),label:i},l),{},{options:Wi(u)})})).filter((function(e){return e}))}function Xi(e,t,r){return o["useMemo"]((function(){var n=e,i=!e;i&&(n=Wi(t));var o=new Map,a=new Map;function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;n<e.length;n+=1){var i=e[n];!i[r.options]||t?(o.set(i[r.value],i),a.set(i[r.label],i)):s(i[r.options],!0)}}return s(n),{options:n,valueOptions:o,labelOptions:a}}),[e,t,r])}var qi=0,Yi=Object(A["a"])();function Zi(){var e;return Yi?(e=qi,qi+=1):e="TEST_OR_SSR",e}function Ki(e){var t=o["useState"](),r=Object(f["a"])(t,2),n=r[0],i=r[1];return o["useEffect"]((function(){i("rc_select_".concat(Zi()))}),[]),e||n}function Ji(e){var t=o["useRef"]();t.current=e;var r=o["useCallback"]((function(){return t.current.apply(t,arguments)}),[]);return r}function Qi(e,t){return Vr(e).join("").toUpperCase().includes(t)}var $i=function(e,t,r,i,a){return o["useMemo"]((function(){if(!r||!1===i)return e;var o=t.options,u=t.label,l=t.value,c=[],h="function"===typeof i,f=r.toUpperCase(),p=h?i:function(e,t){return a?Qi(t[a],f):t[o]?Qi(t["children"!==u?u:"label"],f):Qi(t[l],f)},d=h?function(e){return E(e)}:function(e){return e};return e.forEach((function(e){if(e[o]){var t=p(r,d(e));if(t)c.push(e);else{var i=e[o].filter((function(e){return p(r,d(e))}));i.length&&c.push(Object(s["a"])(Object(s["a"])({},e),{},Object(n["a"])({},o,i)))}}else p(r,d(e))&&c.push(e)})),c}),[e,i,a,r,t])},eo=function(e,t){var r=o["useRef"]({values:new Map,options:new Map}),n=o["useMemo"]((function(){var n=r.current,i=n.values,o=n.options,a=e.map((function(e){var t;return void 0===e.label?Object(s["a"])(Object(s["a"])({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),u=new Map,l=new Map;return a.forEach((function(e){u.set(e.value,e),l.set(e.value,t.get(e.value)||o.get(e.value))})),r.current.values=u,r.current.options=l,a}),[e,t]),i=o["useCallback"]((function(e){return t.get(e)||r.current.options.get(e)}),[t]);return[n,i]},to=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ro=["inputValue"];function no(e){return!e||"object"!==Object(d["a"])(e)}var io=o["forwardRef"]((function(e,t){var r=e.id,a=e.mode,u=e.prefixCls,l=void 0===u?"rc-select":u,c=e.backfill,d=e.fieldNames,g=e.inputValue,v=e.searchValue,y=e.onSearch,b=e.autoClearSearchValue,x=void 0===b||b,A=e.onSelect,w=e.onDeselect,_=e.dropdownMatchSelectWidth,C=void 0===_||_,M=e.filterOption,I=e.filterSort,R=e.optionFilterProp,L=e.optionLabelProp,P=e.options,O=e.children,D=e.defaultActiveFirstOption,k=e.menuItemSelectedIcon,N=e.virtual,F=e.listHeight,B=void 0===F?200:F,z=e.listItemHeight,U=void 0===z?20:z,j=e.value,H=e.defaultValue,G=e.labelInValue,V=e.onChange,W=Object(p["a"])(e,to),X=Ki(r),q=hn(a),Y=!(P||!O),Z=o["useMemo"]((function(){return(void 0!==M||"combobox"!==a)&&M}),[M,a]),K=o["useMemo"]((function(){return S(d,Y)}),[JSON.stringify(d),Y]),J=m("",{value:void 0!==v?v:g,postState:function(e){return e||""}}),Q=Object(f["a"])(J,2),$=Q[0],ee=Q[1],te=Xi(P,O,K),re=te.valueOptions,ne=te.labelOptions,ie=te.options,oe=o["useCallback"]((function(e){var t=Vr(e);return t.map((function(e){var t,r,n,i,o;no(e)?t=e:(n=e.key,r=e.label,t=null!==(o=e.value)&&void 0!==o?o:n);var a,s=re.get(t);s&&(void 0===r&&(r=null===s||void 0===s?void 0:s[L||K.label]),void 0===n&&(n=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:r,value:t,key:n,disabled:i}}))}),[K,L,re]),ae=m(H,{value:j}),se=Object(f["a"])(ae,2),ue=se[0],le=se[1],ce=o["useMemo"]((function(){var e,t=oe(ue);return"combobox"!==a||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[ue,oe,a]),he=eo(ce,re),fe=Object(f["a"])(he,2),pe=fe[0],de=fe[1],ge=o["useMemo"]((function(){if(!a&&1===pe.length){var e=pe[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return pe.map((function(e){var t;return Object(s["a"])(Object(s["a"])({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[a,pe]),me=o["useMemo"]((function(){return new Set(pe.map((function(e){return e.value})))}),[pe]);o["useEffect"]((function(){if("combobox"===a){var e,t=null===(e=pe[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&ee(String(t))}}),[pe]);var ve=Ji((function(e,t){var r,i=null!==t&&void 0!==t?t:e;return r={},Object(n["a"])(r,K.value,e),Object(n["a"])(r,K.label,i),r})),ye=o["useMemo"]((function(){if("tags"!==a)return ie;var e=Object(h["a"])(ie),t=function(e){return re.has(e)};return Object(h["a"])(pe).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(r){var n=r.value;t(n)||e.push(ve(n,r.label))})),e}),[ve,ie,re,pe,a]),be=$i(ye,K,$,Z,R),xe=o["useMemo"]((function(){return"tags"!==a||!$||be.some((function(e){return e[R||"value"]===$}))?be:[ve($)].concat(Object(h["a"])(be))}),[ve,R,a,be,$]),Ae=o["useMemo"]((function(){return I?Object(h["a"])(xe).sort((function(e,t){return I(e,t)})):xe}),[xe,I]),we=o["useMemo"]((function(){return T(Ae,{fieldNames:K,childrenAsData:Y})}),[Ae,K,Y]),_e=function(e){var t=oe(e);if(le(t),V&&(t.length!==pe.length||t.some((function(e,t){var r;return(null===(r=pe[t])||void 0===r?void 0:r.value)!==(null===e||void 0===e?void 0:e.value)})))){var r=G?t:t.map((function(e){return e.value})),n=t.map((function(e){return E(de(e.value))}));V(q?r:r[0],q?n:n[0])}},Ce=o["useState"](null),Me=Object(f["a"])(Ce,2),Se=Me[0],Te=Me[1],Ee=o["useState"](0),Ie=Object(f["a"])(Ee,2),Re=Ie[0],Le=Ie[1],Pe=void 0!==D?D:"combobox"!==a,Oe=o["useCallback"]((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.source,i=void 0===n?"keyboard":n;Le(t),c&&"combobox"===a&&null!==e&&"keyboard"===i&&Te(String(e))}),[c,a]),De=function(e,t){var r=function(){var t,r=de(e);return[G?{label:null===r||void 0===r?void 0:r[K.label],value:e,key:null!==(t=r.key)&&void 0!==t?t:e}:e,E(r)]};if(t&&A){var n=r(),i=Object(f["a"])(n,2),o=i[0],a=i[1];A(o,a)}else if(!t&&w){var s=r(),u=Object(f["a"])(s,2),l=u[0],c=u[1];w(l,c)}},ke=Ji((function(e,t){var r,n=!q||t.selected;r=n?q?[].concat(Object(h["a"])(pe),[e]):[e]:pe.filter((function(t){return t.value!==e})),_e(r),De(e,n),"combobox"===a?Te(""):hn&&!x||(ee(""),Te(""))})),Ne=function(e,t){_e(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){De(e.value,!1)}))},Fe=function(e,t){if(ee(e),Te(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===a&&_e(e),null===y||void 0===y||y(e));else{var r=(e||"").trim();if(r){var n=Array.from(new Set([].concat(Object(h["a"])(me),[r])));_e(n),De(r,!0),ee("")}}},Be=function(e){var t=e;"tags"!==a&&(t=e.map((function(e){var t=ne.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var r=Array.from(new Set([].concat(Object(h["a"])(me),Object(h["a"])(t))));_e(r),r.forEach((function(e){De(e,!0)}))},ze=o["useMemo"]((function(){var e=!1!==N&&!1!==C;return Object(s["a"])(Object(s["a"])({},te),{},{flattenOptions:we,onActiveValue:Oe,defaultActiveFirstOption:Pe,onSelect:ke,menuItemSelectedIcon:k,rawValues:me,fieldNames:K,virtual:e,listHeight:B,listItemHeight:U,childrenAsData:Y})}),[te,we,Oe,Pe,ke,k,me,K,N,C,B,U,Y]);return o["createElement"](Oi.Provider,{value:ze},o["createElement"](pn,Object(i["a"])({},W,{id:X,prefixCls:l,ref:t,omitDomProps:ro,mode:a,displayValues:ge,onDisplayValuesChange:Ne,searchValue:$,onSearch:Fe,onSearchSplit:Be,dropdownMatchSelectWidth:C,OptionList:Fi,emptyOptions:!we.length,activeValue:Se,activeDescendantId:"".concat(X,"_list_").concat(Re)})))}));var oo=io;oo.Option=zi,oo.OptGroup=ji;var ao=oo,so=ao,uo=r("H84U"),lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},co=lo,ho=r("6VBw"),fo=function(e,t){return o["createElement"](ho["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:co}))};fo.displayName="DownOutlined";var po=o["forwardRef"](fo),go=r("ye1Q"),mo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},vo=mo,yo=function(e,t){return o["createElement"](ho["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:vo}))};yo.displayName="CheckOutlined";var bo=o["forwardRef"](yo),xo=r("4i/N"),Ao=r("jN4g"),wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},_o=wo,Co=function(e,t){return o["createElement"](ho["a"],Object(s["a"])(Object(s["a"])({},e),{},{ref:t,icon:_o}))};Co.displayName="SearchOutlined";var Mo=o["forwardRef"](Co);function So(e){var t=e.suffixIcon,r=e.clearIcon,n=e.menuItemSelectedIcon,i=e.removeIcon,a=e.loading,s=e.multiple,u=e.prefixCls,l=r;r||(l=o["createElement"](Ao["a"],null));var c=null;if(void 0!==t)c=t;else if(a)c=o["createElement"](go["a"],{spin:!0});else{var h="".concat(u,"-suffix");c=function(e){var t=e.open,r=e.showSearch;return t&&r?o["createElement"](Mo,{className:h}):o["createElement"](po,{className:h})}}var f=null;f=void 0!==n?n:s?o["createElement"](bo,null):null;var p=null;return p=void 0!==i?i:o["createElement"](xo["a"],null),{clearIcon:l,suffixIcon:c,itemIcon:f,removeIcon:p}}var To=r("3Nzz"),Eo=function(e,t,r){return void 0!==r?r:"".concat(e,"-").concat(t)},Io=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},Ro="SECRET_COMBOBOX_MODE_DO_NOT_USE",Lo=function(e,t){var r,a,s=e.prefixCls,l=e.bordered,h=void 0===l||l,f=e.className,p=e.getPopupContainer,d=e.dropdownClassName,g=e.listHeight,m=void 0===g?256:g,v=e.listItemHeight,y=void 0===v?24:v,b=e.size,x=e.notFoundContent,A=Io(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),w=o["useContext"](uo["b"]),_=w.getPopupContainer,C=w.getPrefixCls,M=w.renderEmpty,S=w.direction,T=w.virtual,E=w.dropdownMatchSelectWidth,I=o["useContext"](To["b"]),R=C("select",s),L=C(),P=o["useMemo"]((function(){var e=A.mode;if("combobox"!==e)return e===Ro?"combobox":e}),[A.mode]),O="multiple"===P||"tags"===P;a=void 0!==x?x:"combobox"===P?null:M("Select");var D=So(Object(i["a"])(Object(i["a"])({},A),{multiple:O,prefixCls:R})),k=D.suffixIcon,N=D.itemIcon,F=D.removeIcon,B=D.clearIcon,z=u(A,["suffixIcon","itemIcon"]),U=c()(d,Object(n["a"])({},"".concat(R,"-dropdown-").concat(S),"rtl"===S)),j=b||I,H=c()((r={},Object(n["a"])(r,"".concat(R,"-lg"),"large"===j),Object(n["a"])(r,"".concat(R,"-sm"),"small"===j),Object(n["a"])(r,"".concat(R,"-rtl"),"rtl"===S),Object(n["a"])(r,"".concat(R,"-borderless"),!h),r),f);return o["createElement"](so,Object(i["a"])({ref:t,virtual:T,dropdownMatchSelectWidth:E},z,{transitionName:Eo(L,"slide-up",A.transitionName),listHeight:m,listItemHeight:y,mode:P,prefixCls:R,direction:S,inputIcon:k,menuItemSelectedIcon:N,removeIcon:F,clearIcon:B,notFoundContent:a,className:H,getPopupContainer:p||_,dropdownClassName:U}))},Po=o["forwardRef"](Lo);Po.SECRET_COMBOBOX_MODE_DO_NOT_USE=Ro,Po.Option=zi,Po.OptGroup=ji;var Oo=Po,Do=r("tJVT"),ko=r("RKie"),No=r.n(ko),Fo=r("NHCu"),Bo=[{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e3d\u4ead\u9152\u5e97",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u77e5\u6625\u8def25\u53f7",lng:116.352069,lat:39.98329938,area:250,number:50,careName:"\u5e38\u6d01\u5170"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u51ef\u96f7\u6295\u8d44\u54a8\u8be2\u6709\u9650\u516c\u53f8\u5317\u4eac",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u95e8\u5916\u5927\u88571\u53f7\u56fd\u8d38\u5927\u53a6\u4e09\u671f19\u5c421918\u53f7",lng:116.4671974,lat:39.9182973,area:400,number:90,careName:"\u9648\u53cb\u8c05"},{group:"2021.12",value:"\u987a\u4e49\u533a",attr3:"-",name:"\u5b81\u6ce2\u94f6\u884c\u987a\u4e49\u652f\u884c\uff08\u987a\u4e49\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u987a\u4e49\u533a\u65b0\u987a\u5357\u5927\u885723\u53f7",lng:116.6573143,lat:40.12779992,area:800,number:110,careName:"\u845b\u7476\u7476"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5947\u5b89\u4fe1",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u897f\u76f4\u95e8\u5916\u5357\u8def26\u53f7",lng:116.348493,lat:39.94268707,area:2e4,number:1800,careName:"\u90ed\u7231\u83ca"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5fb7\u80dc\u56fd\u9645A\u5ea76\u5c42\uff0c8\u5c42",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u5fb7\u80dc\u95e8\u5916\u5927\u885783\u53f7",lng:116.384718,lat:39.96045904,area:300,number:50,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u56fd\u8d38\u4e00\u671f\u529e\u516c\u697c\uff08\u56fd\u521b\u4e2d\u9f0e\uff09",location:"\xa0\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u95e8\u5916\u5927\u88571\u53f7",lng:116.467263,lat:39.91738906,area:200,number:30,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u6c64\u6cc9\u826f\u5b50\u5b89\u534e\u6865\u5e97",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9f13\u697c\u5916\u5927\u885719\u53f7\u5f00\u5143\u5927\u9152\u5e97B\u5ea7B1\u5c42",lng:116.4005473,lat:39.97207695,area:2e3,number:275,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u7269\u8d44\u516c\u53f84\u5c42",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u534e\u8fdc\u8857\u7f6e\u5730\u661f\u5ea7",lng:116.376981,lat:39.91550806,area:300,number:50,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u517b\u8001\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u52b2\u677e\u4e2d\u8857\u56db\u533a405\u697c\u7532",lng:116.4622654,lat:39.88988513,area:400,number:70,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4e2d\u9752\u65c5\u5927\u53a6\u4e1c\u76f4\u95e8",location:"\xa0\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u4e1c\u76f4\u95e8\u5357\u5927\u88575\u53f7",lng:116.4384228,lat:39.94413293,area:300,number:35,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4e1c\u65b9\u5e7f\u573aE1\u5ea7505\u5ba4",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u4e1c\u957f\u5b89\u88571\u53f7",lng:116.4179512,lat:39.91641315,area:200,number:45,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u84df\u95e8\u6865\u56fd\u9645\u77e5\u8bc6\u4ea7\u6743\u5c40",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u897f\u571f\u57ce\u8def\u516d\u53f7",lng:116.3620437,lat:39.9752187,area:73841,number:1500,careName:"\u90ed\u5efa\u534e"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u4e2d\u89c4\u8ba4\u8bc1",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u9ad8\u7cb1\u6865\u659c\u885711\u53f7\u4e2d\u56fd\u4e13\u5229\u5927\u53a6",lng:116.3425723,lat:39.95651909,area:100,number:10,careName:"\u90ed\u5efa\u534e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5317\u5206\u667a\u8054\uff08\u5317\u4eac\u5206\u516c\u53f8\uff09",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671d\u9633\u8def\u5341\u91cc\u5821\u4e592\u53f7\u65b0\u57ce\u5e02\u5e7f\u573aF4",lng:116.5119753,lat:39.92140391,area:1500,number:180,careName:"\u97e9\u826f\u83ca"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5317\u4eac\u4eab\u64ad\u6587\u5316\u4f20\u5a92\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u671d\u9633\u533a\u7ade\u56ed15D-6",lng:116.5164757,lat:39.90273568,area:200,number:40,careName:"\u97e9\u826f\u83ca"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5317\u4eac\u77e5\u8bc6\u4ea7\u6743\u6cd5\u9662",location:"\u56db\u60e0\u5927\u53a64\u5c42401",lng:116.5206164,lat:39.91179241,area:400,number:87,careName:"\u97e9\u826f\u83ca"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"-",name:"\u6c49\u5a01\u56fd\u9645\u62dc\u535a\u53e3\u8154",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5357\u56db\u73af\u897f\u8def186\u53f7",lng:116.3024099,lat:39.82848125,area:260,number:50,careName:"\u90dd\u51e4\u5a1f"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u5317\u4eac\u4eba\u6c11\u5e7f\u64ad\u7535\u89c6\u53f0",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u95e8\u5916\u5927\u885714\u53f7",lng:116.4488883,lat:39.91338988,area:1300,number:266,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u8d85\u6781\u9650",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u5916\u5927\u885714\u53f7\u5e7f\u64ad\u5927\u53a6705\u5ba4",lng:116.4496483,lat:39.91338662,area:200,number:40,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u91d1\u9f0e\u5927\u53a6",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u91d1\u878d\u5927\u8857\u75323\u53f7",lng:116.36611,lat:39.92798707,area:2e4,number:1500,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u76db\u798f\u5927\u53a6\uff0c\u5854\u56ed",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9ea6\u5b50\u5e97\u885737\u53f7",lng:116.4715399,lat:39.95262122,area:1e3,number:210,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"-",name:"\u4e13\u5229\u5927\u53a6",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u9ad8\u7cb1\u6865\u659c\u885711\u53f7",lng:116.3429146,lat:39.95616948,area:2500,number:500,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e13\u5229\u5c40",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u897f\u571f\u57ce\u8def\u516d\u53f7",lng:116.3620437,lat:39.9752187,area:1e4,number:2e3,careName:"\u80e1\u534e\u5c71"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5317\u4eac\u9e4f\u76db\u7269\u4e1a\u7ba1\u7406\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u6f58\u5bb6\u56ed\u8857\u9053\u534e\u5a01\u91cc10\u53f7\u9e4f\u9f99\u5927\u53a6",lng:116.4668679,lat:39.87967471,area:3e3,number:621,careName:"\u80e1\u519b"},{group:"2021.12",value:"\u987a\u4e49\u533a",attr3:"-",name:"\u987a\u4e49\u5b89\u9053\u62d3",location:"\u5317\u4eac\u5e02\u987a\u4e49\u533a\u6797\u6cb3\u5de5\u4e1a\u5f00\u53d1\u533a\u6797\u6cb3\u5357\u5927\u88571\u53f7",lng:116.6614094,lat:40.09261344,area:380,number:76,careName:"\u80e1\u519b"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u5357\u4eac\u9e4f\u5fb7\u8f6f\u4ef6\u5f00\u53d1\u6709\u9650\u516c\u53f8\n\u5317\u4eac\u5206\u516c\u53f8",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e0a\u5730\u4e09\u88579\u53f7A\u5ea77(6)\u5c42A703A",lng:116.3136378,lat:40.04258063,area:130,number:25,careName:"\u9ec4\u6d77\u82b9"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u5927\u5510\u8054\u6210",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b66\u9662\u8def40\u53f7",lng:116.3618765,lat:39.98548594,area:100,number:20,careName:"\u9ec4\u5f3a"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u6e05\u534e\u540c\u65b9\u5927\u53a6",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u53cc\u6e05\u8def88\u53f7",lng:116.3407413,lat:40.00184501,area:600,number:120,careName:"\u9ec4\u5f3a"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u5173\u6751\u667a\u9020\u5927\u8857A\u5ea7206",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u6210\u5e9c\u8def45\u53f7",lng:116.3417294,lat:40.00026807,area:200,number:40,careName:"\u9ec4\u5f3a"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u4e2d\u592e\u9a8f\u8c6a\u516c\u56edA2-9\u5c42",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671d\u9633\u516c\u56ed\u5357\u8def10\u53f7\u9662",lng:116.484518,lat:39.93755085,area:100,number:20,careName:"\u9ec4\u79c0\u6625"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"-",name:"\u5965\u7cbe\u96c6\u56e2",location:"\u5927\u5174\u533a\u4e2d\u5173\u6751\u533b\u7597\u5668\u68b0\u56ed\u6c38\u65fa\u897f\u8def26\u53f72\u53f7",lng:116.2803393,lat:39.68699696,area:1e3,number:60,careName:"\u8d3e\u79c0\u7ea2"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"-",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5927\u5174\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u4e3d\u56ed\u8def9\u53f7\u4e00\u5c42115~116\u53f7",lng:116.3383532,lat:39.75593581,area:800,number:120,careName:"\u8d3e\u79c0\u8679"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"-",name:"\u6587\u5316\u4ea7\u4e1a\u56ed",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u65b0\u6751\u8857\u9053\u5357\u4e09\u73af\u897f\u8def67\u53f7",lng:116.3520976,lat:39.8587274,area:400,number:80,careName:"\u59dc\u4fca\u4e49"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u6cdb\u6d77\u4e1c\u5e9c\uff0c\u897f\u5e9c\uff0c\u5bb9\u90e1\uff1b\u89c2\u6e56\u56fd\u9645",location:"\xa0\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u56db\u73af\u5317\u8def88\u53f7",lng:116.4984712,lat:39.94401469,area:1300,number:260,careName:"\u674e\u7231\u534e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u671b\u4eac\u535a\u96c5\u56fd\u9645",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5229\u6cfd\u4e2d\u4e00\u8def1\u53f7\u9662",lng:116.4759607,lat:40.01967891,area:550,number:110,careName:"\u674e\u7231\u534e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u534e\u8d38\u4e2d\u5fc32\u5ea731\u5c42",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u8def77\u53f7",lng:116.4883511,lat:39.91504576,area:500,number:100,careName:"\u674e\u798f\u6885"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u534e\u8d38\u4e2d\u5fc3\u5199\u5b57\u697c1\u5ea71407-1409\uff08\u91d1\u6ea2\u8d44\u672c\uff09",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u8def77\u53f7",lng:116.4883511,lat:39.91504576,area:650,number:130,careName:"\u674e\u798f\u6885"},{group:"2021.12",value:"\u77f3\u666f\u5c71\u533a",attr3:"-",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u77f3\u666f\u5c71\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u77f3\u666f\u5c71\u533a\u516b\u5b9d\u5c71\u8857\u9053\u77f3\u666f\u5c71\u8def2\u53f7\u5317\u4eac\u53f0\u6e7e\u8857B\u533a1\u53f7\u697c",lng:116.2430864,lat:39.91012032,area:900,number:130,careName:"\u674e\u798f\u6885"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u897f\u57ce\u79d1\u6280\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u5317\u4e09\u73af\u4e2d\u8def\u75323\u53f7-2\u5c42",lng:116.397643,lat:39.97558805,area:800,number:143,careName:"\u674e\u798f\u6885"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u5317\u4eac\u4e8c\u5341\u4e2d\u5b66\u9644\u5c5e\u5b9e\u9a8c\u5b66\u6821",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u6e05\u6cb3\u4e8c\u5341\u4e2d\u5b66\u9644\u5c5e\u5b9e\u9a8c\u5b66\u6821",lng:116.3596449,lat:40.04054671,area:600,number:120,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5317\u4eac\u56fd\u670d\u4fe1\u6c7d\u8f66\u8d38\u6613\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u6765\u5e7f\u8425\u897f\u8def108\u53f7",lng:116.4247583,lat:40.02816389,area:220,number:44,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u98ce\u4e91\u8d44\u672c",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b9d\u76db\u5357\u8def1\u53f7\u9662\u5965\u5317\u79d1\u6280\u56ed7\u53f7\u697c",lng:116.3830393,lat:40.0388892,area:500,number:100,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u4e9a\u8fd0\u6751\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u6167\u5fe0\u5317\u91cc214\u53f7\u697c\u4e00\u5c42",lng:116.4100373,lat:40.01190692,area:500,number:98,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u4e2d\u5173\u6751\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u6d77\u6dc0\u5927\u88571\u53f7",lng:116.3224228,lat:39.98858554,area:600,number:89,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e0a\u5730\u91d1\u9685\u5609\u534e\u5927\u53a6",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e0a\u5730\u4e09\u88579\u53f7",lng:116.3136378,lat:40.04258063,area:250,number:47,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u79d1\u8f6f\u79d1\u6280",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u5357\u4e09\u88576\u53f7",lng:116.3344808,lat:39.99046244,area:250,number:47,careName:"\u674e\u7ed8\u82ac"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u767e\u76db\u5927\u53a6",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u91d1\u878d\u5927\u885737\u53f7",lng:116.3655081,lat:39.91456132,area:350,number:70,careName:"\u674e\u7389\u6625"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5317\u4eac\u8bc1\u5238",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u91d1\u878d\u5927\u8857\u4e0126\u53f7",lng:116.3666343,lat:39.91858174,area:300,number:60,careName:"\u674e\u7389\u6625"},{group:"2021.12",value:"\u77f3\u666f\u5c71\u533a",attr3:"\u5176\u4ed6",name:"\u76db\u666f\u56fd\u9645",location:"\u5317\u4eac\u5e02\u77f3\u666f\u5c71\u533a\u77f3\u666f\u5c71\u8def68\u53f7",lng:116.1587869,lat:39.92239351,area:650,number:130,careName:"\u6881\u548c\u5e73"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u805a\u6770\u91d1\u878d\u5927\u53a6",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u4e3d\u6cfd\u8def16\u53f7\u96623\u53f7\u697c",lng:116.341729,lat:39.87215705,area:700,number:140,careName:"\u5218\u6210\u7406"},{group:"2021.12",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u660c\u5e73\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u660c\u5e73\u533a\u9f13\u697c\u5357\u885737\u53f7",lng:116.239943,lat:40.21989207,area:400,number:81,careName:"\u5218\u7ea2\u661f"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u7279\u7acb\u5965\u68ee\u56fd\u9645\u4f53\u80b2\u6587\u5316\u4e2d\u5fc39\u53f7\u697c",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5965\u6797\u5339\u514b\u68ee\u6797\u516c\u56ed\u5357\u56ed",lng:116.39767,lat:40.02244508,area:1300,number:250,careName:"\u5218\u7ea2\u661f"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"SK\u5927\u53a6",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5efa\u56fd\u95e8\u5916\u5927\u8857\u75326\u53f7",lng:116.4640601,lat:39.91306197,area:1500,number:300,careName:"\u5218\u73ca"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5fb7\u5916\u5927\u8857\u5408\u751f\u8d22\u5bcc\u5e7f\u573a14\u5c42",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u5fb7\u80dc\u95e8\u5916\u5927\u885713\u53f7\u96621\u53f7",lng:116.3849801,lat:39.96500956,area:150,number:30,careName:"\u5362\u71d5"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u6148\u94ed\u5927\u53a6\uff08\u5468\u4e8c\uff09",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5317\u82d1\u8def91\u53f7",lng:116.4255503,lat:40.00804187,area:5e4,number:230,careName:"\u88f4\u6069\u4eae"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u4e30\u53f0\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u4e07\u4e30\u8def300\u53f7",lng:116.3003979,lat:39.87605123,area:800,number:110,careName:"\u88f4\u6069\u4eae"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u4f0a\u5229\u96c6\u56e2",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u8bfa\u5fb7\u4e2d\u5fc3",lng:116.3084934,lat:39.83283574,area:75e3,number:15e3,careName:"\u88f4\u6069\u4eae"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u7406\u5de5\u5927\u53a6",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u5357\u5927\u88579\u53f7",lng:116.32833,lat:39.96297504,area:500,number:50,careName:"\u88f4\u6069\u4eae"},{group:"2021.12",value:"\u901a\u5dde\u533a",attr3:"\u901a\u5dde",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u901a\u5dde\u652f\u884c)",location:"\u5317\u4eac\u5e02\u901a\u5dde\u533a\u8f66\u7ad9\u8def40\u53f7",lng:116.6691565,lat:39.91090027,area:900,number:140,careName:"\u7941\u6d77\u751f"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u4e2d\u56fd\u822a\u7a7a\u5236\u9020\u6280\u672f\u7814\u7a76\u9662",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u519b\u5e841\u53f7",lng:116.6273528,lat:39.9232743,area:5e3,number:240,careName:"\u7941\u6d77\u751f"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5de5\u94f6\u79df\u8d41",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u6708\u575b\u5357\u88571\u53f7\u96625\u53f7\u697c18\u5c42",lng:116.3613704,lat:39.92001193,area:35e3,number:1300,careName:"\u77f3\u4e3d\u654f"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5b89\u5f92\u751f\u82b1\u56ed",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u56db\u73af\u5317\u8def6\u53f7",lng:116.488469,lat:39.97217206,area:90,number:3,careName:"\u53f8\u897f\u6625"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u4f17\u5b89\u4fdd\u9669",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u897f\u4ec0\u5e93\u5927\u885731\u53f7\u966220\u53f7\u697c",lng:116.385753,lat:39.93305728,area:1100,number:210,careName:"\u53f8\u897f\u6625"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5bbe\u8fbe\u6c83\u987f",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u4e09\u73af\u4e2d\u8def1\u53f7\u5317\u4eac\u73af\u7403\u91d1\u878d\u4e2d\u5fc3\u897f\u585416\u5c42",lng:116.4578965,lat:39.92461247,area:200,number:34,careName:"\u53f8\u897f\u6625"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u4e2d\u56fd\u6559\u80b2\u7535\u89c6\u53f0",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u590d\u5174\u95e8\u5185\u5927\u8857160\u53f7",lng:116.3642278,lat:39.91154087,area:500,number:77,careName:"\u5b59\u7389\u4fa0"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4ebf\u4e07\u5229\u8fbe\u5927\u53a6",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u5b89\u5fb7\u91cc\u5317\u8857\u4e5920\u53f7",lng:116.4044747,lat:39.96323351,area:950,number:190,careName:"\u5b59\u7389\u4fa0"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u4e1c\u65ed\u56fd\u9645A\u5ea7",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5357\u56db\u73af\u897f\u8def\u8f85\u8def",lng:116.322007,lat:39.83622287,area:400,number:70,careName:"\u7530\u6210\u519b"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u6c49\u5a01\u56fd\u9645\u5e7f\u573a",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5357\u56db\u73af\u897f\u8def186\u53f7",lng:116.3024099,lat:39.82848125,area:350,number:70,careName:"\u7530\u6210\u519b"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u4e3d\u6cfd",name:"\u7ea2\u83b2\u5927\u53a6",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u7ea2\u83b2\u5357\u8def28\u53f7",lng:116.3398233,lat:39.88214671,area:500,number:100,careName:"\u7530\u6210\u519b"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u534e\u590f\u5e78\u798f\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u6c7d\u8f66\u535a\u7269\u9986\u897f\u8def8\u53f7\u9662",lng:116.3018802,lat:39.86884218,area:230,number:43,careName:"\u7530\u6210\u519b"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u8bfa\u5fb7\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u6c7d\u8f66\u535a\u7269\u9986128\u53f7",lng:116.3084691,lat:39.83495907,area:200,number:25,careName:"\u7530\u6210\u519b"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u6765\u5e7f\u8425\u671d\u6765\u79d1\u6280\u56ed\u4e8c\u671f\u521b\u56ed\u8def36\u53f7\u96628\u53f7\u697c",location:"\u6765\u5e7f\u8425\u671d\u6765\u79d1\u6280\u56ed\u4e8c\u671f\u521b\u56ed\u8def36\u53f7\u96628\u53f7\u697c",lng:116.4511116,lat:39.95732145,area:2e3,number:400,careName:"\u738b\u7855"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u4e0a\u836f\u5e1b\u5eb7\u751f\u7269\u533b\u836f",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5149\u534e\u8def15\u53f7\u96622\u53f7\u697c10\u5c42",lng:116.47742,lat:39.92011894,area:200,number:34,careName:"\u738b\u7855"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u56fd\u65c5\u7269\u4e1a",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u4e1c\u5355\u5317\u5927\u88571\u53f7",lng:116.423434,lat:39.92113608,area:800,number:160,careName:"\u738b\u79c0\u8363"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u592a\u534e\u5199\u5b57\u697c",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u5d07\u6587\u95e8\u5916\u5927\u88575-5\u53f7",lng:116.42401,lat:39.90298109,area:230,number:45,careName:"\u738b\u79c0\u8363"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4eac\u5317\u4f1a\u540d\u8f66\u5e73\u53f0\uff08\u91d1\u5b9d\u8857\u5e97\uff09",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u91d1\u5b9d\u8857\u4e349\u53f7",lng:116.4325571,lat:39.92126834,area:2e3,number:30,careName:"\u738b\u79c0\u8363"},{group:"2021.12",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u6731\u8f9b\u5e84\u56fd\u5bb6\u77e5\u8bc6\u4ea7\u6743\u5c40",location:"\u5317\u4eac\u5e02\u660c\u5e73\u533a\u6731\u8f9b\u5e84\u897f\u4e8c\u8def\u4e0e\u6731\u8f9b\u5e84\u4e2d\u8def\u4ea4\u53c9\u8def\u53e3\u5f80\u5317\u7ea660\u7c73",lng:116.3161583,lat:40.10470695,area:13e4,number:4500,careName:"\u738b\u8273\u7ea2"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u793e\u4f1a\u4e3b\u4e49\u5b66\u9662",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e07\u5bff\u5bfa\u75324\u53f7",lng:116.3209077,lat:39.95530482,area:2800,number:550,careName:"\u738b\u71d5\u9752"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u4e3d\u6cfd",name:"\u5e7f\u5b89\u95e8\u90ae\u5c40",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u5e7f\u5b89\u95e8\u5916\u5927\u8857172\u53f7",lng:116.3464639,lat:39.89498945,area:900,number:40,careName:"\u4f4d\u6653\u679d"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u6d77\u6dc0\u79d1\u6280\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u5357\u5927\u8857\u753227\u53f7\u4e2d\u626c\u5927\u53a6\u4e00\u5c42",lng:116.3300944,lat:39.95477047,area:700,number:101,careName:"\u4f4d\u6653\u679d"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u5723\u71998\u53f7\u8d2d\u7269\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b66\u6e05\u8def\u75328\u53f7",lng:116.3618502,lat:40.01411902,area:300,number:25,careName:"\u9b4f\u94a6\u5bbd"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u4e2d\u592e\u4fca\u8c6a\u516c\u56edA2-5\u5c42",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671d\u9633\u516c\u56ed\u5357\u8def10\u53f7\u9662",lng:116.484518,lat:39.93755085,area:300,number:50,careName:"\u5434\u591a\u82b1"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5927\u65cf\u5e7f\u573a16\u5c42",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u4ea6\u5e84\u7ecf\u6d4e\u5f00\u53d1\u533a\u8363\u534e\u5357\u8def2\u53f7\u5927\u65cf\u5e7f\u573a16\u5c42",lng:116.519222,lat:39.79807409,area:600,number:121,careName:"\u9c9c\u8363\u82b3"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u4ea6\u5e84\u56fd\u9645\u6587\u5316\u79d1\u6280\u516c\u53f8",location:"\u5317\u4eac\u5e02\u5317\u4eac\u7ecf\u6d4e\u6280\u672f\u5f00\u53d1\u533a\u8363\u534e\u5357\u8def9\u53f7\u96624\u53f7\u697c19\u5c421902",lng:116.520994,lat:39.79148209,area:300,number:50,careName:"\u9c9c\u8363\u82b3"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u56fd\u519c\u4e1a\u7535\u5f71\u7535\u89c6\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u5357\u5927\u885710\u53f7",lng:116.3311862,lat:39.96906466,area:2e3,number:220,careName:"\u718a\u8fde\u5b9d"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u5efa\u6b23\u82d1\u4e8c\u91cc",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u6625\u6cfd\u8def\u4e0e\u4e34\u6cd3\u8def\u4ea4\u6c47\u5904\u5357\u884c110\u7c73\u8def\u897f",lng:116.4032174,lat:39.85095462,area:100,number:20,careName:"\u5f90\u7fe0\u534e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u6cdb\u5229\u5927\u53a6",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u671d\u9633\u95e8\u5916\u5927\u885722\u53f7",lng:116.446385,lat:39.92867109,area:350,number:70,careName:"\u5f90\u4e1c\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u957f\u65b0\u5927\u53a6",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5b89\u5b9a\u8def39\u53f7",lng:116.4131247,lat:39.9797891,area:1500,number:300,careName:"\u5f90\u4e1c\u6797"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u56fd\u5b89\u5927\u53a6",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5173\u4e1c\u5e97\u5317\u88571\u53f7",lng:116.459677,lat:39.92846208,area:5400,number:240,careName:"\u5f90\u6587\u8273"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u5bcc\u534e\u5927\u53a6",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u671d\u9633\u95e8\u5317\u5927\u88578\u53f7",lng:116.442707,lat:39.93661105,area:2750,number:550,careName:"\u8bb8\u5b9d\u5c71"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u4e3d\u90fd\u5e7f\u573a",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5c06\u53f0\u8def6\u53f7",lng:116.485879,lat:39.98375859,area:2e3,number:400,careName:"\u8bb8\u5b9d\u5c71"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u534e\u798f\u8bc1\u5238\u5317\u4eac\u590d\u5174\u8def\u8bc1\u5238\u8425\u4e1a\u90e8",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u6708\u575b\u5357\u8857\u753212\u53f7\u4e07\u4e30\u6021\u548c\u5546\u52a1\u4f1a\u99863\u5c42",lng:116.3533923,lat:39.91938351,area:550,number:48,careName:"\u859b\u5360\u58eb"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u542c\u4e91\u516c\u53f8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u971e\u5149\u91cc5\u53f7\u6885\u82b1\u521b\u6295\u5927\u53a63\u5c42",lng:116.467196,lat:39.9664461,area:4500,number:410,careName:"\u95eb\u6d77\u519b"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u96c5\u8fb0\u60a6\u5c45\u9152\u5e97",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u9999\u6cb3\u56ed\u88571\u53f7\u966211\u53f7\u697c\u4fe1\u5fb7\u4eac\u6c47\u4e2d\u5fc3",lng:116.4457793,lat:39.95473065,area:550,number:110,careName:"\u95eb\u6d77\u519b"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u5173\u6751\u521b\u65b0\u5927\u53a6",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u4e1c\u8def1\u53f7",lng:116.336623,lat:40.00035008,area:250,number:50,careName:"\u6768\u6625\u83b2"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5efa\u5143\u5929\u534e",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u91d1\u878d\u5927\u885717\u53f7\u4e03\u5c42707\u5ba4",lng:116.3656514,lat:39.92209263,area:200,number:40,careName:"\u6768\u751f\u8d22"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u592a\u53e4\u91cc",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e09\u91cc\u5c6f\u8def19\u53f7",lng:116.4608454,lat:39.94438061,area:200,number:25,careName:"\u8881\u91d1\u9f99"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u56e2\u7ed3\u6e56\u745e\u8fb0\u56fd\u9645\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u519c\u5c55\u9986\u5357\u8def13\u53f7",lng:116.4731066,lat:39.93993507,area:150,number:30,careName:"\u8881\u91d1\u9f99"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5317\u8fb0\u65f6\u4ee3\u5927\u53a6\uff0c\u56fd\u9645\u4f1a\u8bae\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5317\u8fb0\u4e1c\u8def8\u53f7\u9662",lng:116.410152,lat:40.00041233,area:"-",number:280,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5317\u8fb0\u65f6\u4ee3\u5927\u53a626\u5c42\uff0c4\u5c42",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5317\u8fb0\u4e1c\u8def9\u53f7\u9662",lng:116.4127755,lat:39.99722552,area:450,number:80,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u535a\u6cf0\u56fd\u9645\u5546\u4e1a\u5e7f\u573aB\u5ea7",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u6e56\u5149\u5317\u8857122\u53f7",lng:116.4733665,lat:40.0082733,area:150,number:30,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u5b81\u6ce2\u94f6\u884c\uff08\u5317\u4eac\u671b\u4eac\u652f\u884c\uff09",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9152\u4ed9\u6865\u4e2d\u8def\u9e3f\u8fd0\u5927\u53a61\u697c",lng:116.498769,lat:39.98232304,area:700,number:122,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5b81\u6ce2\u94f6\u884c\u5317\u4eac\u7ecf\u6d4e\u6280\u672f\u5f00\u53d1\u533a\u652f\u884c",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u8363\u534e\u5357\u8def16\u53f7",lng:116.523953,lat:39.79095311,area:600,number:110,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u76db\u5f00\u56fd\u9645\u6587\u5316\u53d1\u5c55\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u767e\u5b50\u6e7e\u8def33\u53f7\u96626\u53f7\u697c-2\u81f33\u5c42101\u51853\u5c42309\u5ba4",lng:116.4958044,lat:39.90668229,area:1200,number:150,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4e2d\u4ea4\u6c34\u8fd0\u89c4\u5212\u8bbe\u8ba1\u9662\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u56fd\u5b50\u76d1\u885728\u53f7",lng:116.420155,lat:39.95149406,area:1100,number:210,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5927\u5174\u751f\u6001\u4eba\u5c45",location:"\u5317\u4eac\u7ecf\u6d4e\u6280\u672f\u5f00\u53d1\u533a\u5730\u76db\u4e2d\u8def3\u53f7",lng:116.5084907,lat:39.79318418,area:2750,number:550,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u671b\u4eac\u90ae\u5c40\u652f\u884c",location:"\u671d\u9633\u533a\u671b\u4eac\u897f\u56ed120\u53f7",lng:116.4778811,lat:40.00242317,area:800,number:58,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u667a\u8054\u603b\u90e8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u961c\u8363\u885710\u53f7\u65b0\u4e00\u57ce(\u5317\u4eac\u5e97)5\u5c42",lng:116.4793041,lat:39.99940735,area:12e3,number:400,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u6e24\u6d77\u8bc1\u5238",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5e7f\u987a\u5317\u5927\u885733\u53f7\u9662\u798f\u7801\u5927\u53a6A\u5ea7705-706\u53f7",lng:116.4741392,lat:40.00040562,area:800,number:50,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u745e\u601d\u82f1\u8bed",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u5e7f\u6e20\u5bb6\u56ed3\u53f7\u9996\u4e1c\u56fd\u9645\u5927\u53a6B\u5ea72\u5c42204\u53f7",lng:116.4540521,lat:39.89876263,area:650,number:45,careName:"\u5cb3\u6743\u6797"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u8fdc\u6d0b\u56fd\u9645AB\u5ea723\u5c42\u533b\u8054",location:"\u8fdc\u6d0b\u56fd\u9645AB\u5ea723\u5c42\u533b\u8054",lng:116.46087,lat:39.9215051,area:1250,number:250,careName:"\u7fdf\u745e\u79cb"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u9752\u5e74\u8def\u8fbe\u7f8e\u4e2d\u5fc33\u53f7\u697c802",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9752\u5e74\u8def7\u53f7\u9662",lng:116.522827,lat:39.94345287,area:220,number:45,careName:"\u5f20\u51e4\u79cb"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u5176\u4ed6",name:"\u7231\u4e0a\u4f20\u5a92",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u901a\u60e0\u6cb3\u755421\u53f7\u6e90\u521b\u7a7a\u95f4\u5199\u5b57\u697c",lng:116.5130599,lat:39.90877343,area:1750,number:350,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u5317\u4eac\u5e02\u4fdd\u5b89\u670d\u52a1\u603b\u516c\u53f8(\u5f00\u8fdc\u5206\u516c\u53f8) ",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u8001\u5899\u6839\u885738\u53f7\u96624\u53f7\u697c",lng:116.3739638,lat:39.89863386,area:250,number:50,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u6606\u4ed1\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u798f\u5b9c\u88579\u53f7\u96625\u53f7\u697c",lng:116.3665227,lat:39.86379217,area:800,number:160,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u671b\u4eac",name:"\u94c1\u9053\u535a\u7269\u9986",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9152\u4ed9\u6865\u5317\u8def1\u53f7\u9662\u5317\u4fa7",lng:116.521988,lat:40.0041471,area:725,number:145,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u73ba\u840c\u5927\u53a6",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5317\u7532\u5730\u8def2\u53f7\u96626\u75322",lng:116.3693349,lat:39.85631665,area:68160,number:850,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u65b0\u534e\u4fdd\u9669\u5ba2\u6237\u670d\u52a1\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u671d\u9633\u95e8\u5185\u5927\u8857192\u53f7",lng:116.4287032,lat:39.93026906,area:1500,number:300,careName:"\u90ed\u5b58\u82f1"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u667a\u8054\u5317\u547c",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u897f\u516b\u91cc\u5e8499\u53f7\u4f4f\u90a62000\u5927\u53a6",lng:116.4996069,lat:39.92117268,area:800,number:150,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5efa\u5916SOHO \u897f\u533a16\u53f7\u697c1005\u5ba4",location:"\xa0\u4e1c\u4e09\u73af\u4e2d\u8def39\u53f7",lng:116.465978,lat:39.9116811,area:50,number:6,careName:"\u5f20\u7ea2\u864e"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"3M\u4e2d\u56fd\u6709\u9650\u516c\u53f8\u5317\u4eac\u5206\u516c\u53f8",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9152\u4ed9\u6865\u8def10\u53f7\u6052\u901a\u56fd\u9645\u5546\u52a1\u56edB21\u5ea7\u4e00\u5c42101\u5ba4",lng:116.5017205,lat:39.98454481,area:630,number:126,careName:"\u5f20\u91d1\u8363"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u4eac\u4fe1\u5927\u53a6",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u4e09\u73af\u5317\u8def\u75322\u53f7",lng:116.4678156,lat:39.95923226,area:650,number:130,careName:"\u5f20\u91d1\u8363"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u5176\u4ed6",name:"\u8d62\u521b\u5fb7\u56fa\u8d5b",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9ea6\u5b50\u5e97\u8857",lng:116.4753591,lat:39.95266996,area:650,number:130,careName:"\u5f20\u91d1\u8363"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u5176\u4ed6",name:"\u9f99\u6e56\u7269\u4e1a",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5eb7\u6e90\u8def12\u53f7\u9662",lng:116.5614929,lat:39.97450737,area:7500,number:1500,careName:"\u5f20\u666f\u9b41"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5317\u4eac\u5954\u9a70\u5357\u516d\u73af",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u4ea6\u5e84\u7ecf\u6d4e\u5f00\u53d1\u533a\u535a\u5174\u8def8\u53f7",lng:116.5173123,lat:39.76114696,area:500,number:80,careName:"\u5f20\u8d5b"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5317\u4eac\u5954\u9a70\u701b\u6d77\u5ef6\u5cf0",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u701b\u987a\u8def55\u53f7",lng:116.4550114,lat:39.7520426,area:750,number:150,careName:"\u5f20\u8d5b"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"\u65b0\u5174",name:"\u5317\u4eac\u6c5f\u68ee\u6c7d\u8f66\u5185\u9970\u4ef6\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u80b2\u82f1\u8857\u5317\u4eac\u6c7d\u8f66\u6280\u5e08\u5b66\u9662\u4e1c\u5357\u4fa7\u7ea650\u7c73",lng:116.6708976,lat:39.65273915,area:1300,number:260,careName:"\u5f20\u8d5b"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u96f7\u66fc\u5149\u7535",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u9152\u4ed9\u6865\u8def\u701a\u6d77\u56fd\u9645\u5927\u53a61\u5c421012\u53f7",lng:116.495663,lat:39.98434606,area:300,number:50,careName:"\u5f20\u4fee\u8363"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u65b9\u6052\u56fd\u9645\u60a0\u4e50\u6c47",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u961c\u901a\u4e1c\u5927\u8857\u65b9\u6052\u56fd\u9645\u4e2d\u5fc3\u897f\u4fa7\u7ea6120\u7c73",lng:116.488126,lat:39.99648906,area:225,number:45,careName:"\u5f20\u7389\u6587"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u5143\u56fd\u9645\u5de5\u7a0b\u6709\u9650\u516c\u53f8",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u897f\u4e09\u73af\u5317\u8def5\u53f7\u4e2d\u5143\u56fd\u9645\u5de5\u7a0b\u5927\u53a6",lng:116.3144442,lat:39.96401464,area:390,number:78,careName:"\u5f20\u7389\u6587"},{group:"2021.12",value:"\u6d77\u6dc0\u533a",attr3:"\u4e2d\u5173\u6751",name:"\u4e2d\u56fd\u77f3\u6cb9\u52d8\u63a2\u5f00\u53d1\u7814\u7a76\u9662",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b66\u9662\u8def20\u53f7",lng:116.3640883,lat:40.0008156,area:15440,number:1500,careName:"\u8d75\u4ece\u534e"},{group:"2021.12",value:"\u987a\u4e49\u533a",attr3:"-",name:"\u987a\u4e49\u6cf0\u96f7\u5179",location:"\u5317\u4eac\u5e02\u987a\u4e49\u533a\u7a7a\u6e2f\u7ecf\u6d4e\u5f00\u53d1\u533aa\u533a\u5929\u67f1\u8def20\u53f7\u56ed\u533a1\u53f7\u697c3\u5c42",lng:116.5701558,lat:40.07666775,area:400,number:80,careName:"\u8d75\u5229\u6885"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5929\u8fb0\u4e1c\u8def7\u53f7",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5929\u8fb0\u4e1c\u8def7\u53f7",lng:116.3969879,lat:40.00811558,area:1550,number:310,careName:"\u8d75\u76f8\u6d77"},{group:"2021.12",value:"\u5927\u5174\u533a",attr3:"-",name:"3M\u5317\u4eac\u6280\u672f\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u5927\u5174\u533a\u666f\u56ed\u5317\u88572\u53f76\u53f7",lng:116.5287953,lat:39.7856481,area:350,number:70,careName:"\u8d75\u5fd7\u7ea2"},{group:"2021.12",value:"\u901a\u5dde\u533a",attr3:"-",name:"\u7ecf\u6d77\u58f9\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u4ea6\u5e84\u7ecf\u6d4e\u6280\u672f\u5f00\u53d1\u533a\u7ecf\u6d77\u4e00\u8def\u4e0e\u79d1\u521b\u5341\u4e8c\u8857\u4ea4\u6c47\u5904\u4e1c\u5357\u65b9",lng:116.5586038,lat:39.78514218,area:250,number:50,careName:"\u8d75\u5fd7\u7ea2"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u671d\u5916\u8857\u9053\u529e\u4e8b\u5904",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u82b3\u8349\u5730\u5317\u5df75\u53f7\u9662",lng:116.454676,lat:39.92631207,area:2500,number:500,careName:"\u90d1\u4e9a\u840d"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u8fdc\u5927\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u6167\u5fe0\u8def5\u53f7",lng:116.4168003,lat:40.00220316,area:310,number:62,careName:"\u5468\u5229\u8363"},{group:"2021.12",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5f18\u5a01\u79d1\u6280",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5341\u516b\u91cc\u5e97\u5357\u6865\u89c2\u7b51\u5ead\u56ed801\u53f7\u697cB\u5ea7904\u5ba4",lng:116.4765676,lat:39.8447479,area:500,number:100,careName:"\u5468\u5229\u8363"},{group:"2021.12",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u9f99\u51a0\u5546\u52a1\u4e2d\u5fc3\u94f6\u5ea7D308\u53cb\u90a6\u4fdd\u9669",location:"\u5317\u4eac\u5e02\u660c\u5e73\u533a\u56de\u9f99\u89c2\u897f\u5927\u885716\u53f7\u96621\u53f7",lng:116.3433809,lat:40.08507492,area:200,number:40,careName:"\u5468\u5229\u8363"},{group:"2021.12",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u592a\u5e73\u91d1\u878d\u4e2d\u5fc3",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u9aa1\u9a6c\u5e02\u5927\u885716\u53f7",lng:116.3875163,lat:39.8949817,area:200,number:40,careName:"\u674e\u79c0\u5a1f"},{group:"2022.1",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u516b\u9897\u7259\u6559\u80b2\u5e7f\u573a",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u8349\u6865\u6b23\u56ed\u4e00\u533a6\u53f7\u697c",lng:116.3629098,lat:39.8522731,area:1e3,number:200,careName:"\u5f20\u7ea2\u864e"},{group:"2022.1",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u5317\u4eac\u5bcc\u529b\u5e7f\u573a",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u4e1c\u4e09\u73af\u4e2d\u8def65\u53f7",lng:116.4674492,lat:39.89990796,area:210,number:53,careName:"\u5218\u5148\u8d35"},{group:"2022.1",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u6e05\u6cb3\u7ad9\uff08\u6d77\u6dc0\u533a\u6e05\u6cb3\u9547\u5b89\u5b81\u5e84\u897f\u8def\uff09",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b89\u5b81\u5e84\u897f\u8def",lng:116.3298982,lat:40.04553704,area:2e3,number:400,careName:"\u674e\u7ed8\u82ac"},{group:"2022.2",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u6c49\u5a01\u56fd\u9645\u5e7f\u573a4\u533a2\u53f7\u697c",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5357\u56db\u73af\u897f\u8def186\u53f74\u533a2\u53f7\u697c",lng:116.3024099,lat:39.82848125,area:400,number:60,careName:"\u7530\u6210\u519b"},{group:"2022.2",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u6cf0\u5eb7\u56fd\u9645\u5927\u53a6",location:"\u5317\u4eac\u5e02\u897f\u57ce\u533a\u6b66\u5b9a\u4faf\u88572\u53f7",lng:116.3692019,lat:39.92358949,area:120,number:4,careName:"\u53f8\u897f\u6625"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u5929\u901a\u82d1\u897f\u4e09\u533a\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u660c\u5e73\u533a\u4e1c\u5c0f\u53e3\u9547\u5929\u901a\u897f\u82d1\u4e09\u533a26\u53f7\u697c6\u95e8101",lng:116.4168144,lat:40.08553738,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u5b9d\u76db\u91cc\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a\u5b9d\u76db\u91cc\u82b3\u6e05\u56ed3\u697c1\u5c42\u5546\u4e1a01",lng:116.380179,lat:40.03884307,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u6797\u8403\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u6797\u8403\u8def9\u53f7\u96625\u53f7\u697c1\u5c420112\u53f7",lng:116.3771621,lat:40.02345172,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u5609\u94ed\u56ed\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5317\u82d1\u8def86\u53f7\u9662\u5609\u94ed\u56ed\u4e00\u533a7\u53f7\u697c\u4e00\u5c421\u95e8103",lng:116.43571,lat:40.00648919,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u671d\u9633\u7acb\u6e05\u8def\u7b2c\u4e00\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u7acb\u6e05\u8def5\u53f7\u96626\u53f7\u697c1\u5c42A11-F1-02",lng:116.413529,lat:40.05509094,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u6b27\u9646\u7ecf\u5178\u5317\u533a\u51ef\u65cb\u57ce\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5317\u82d1\u8def170\u53f74\u53f7\u697c1\u5c42105\u53f7",lng:116.425175,lat:40.00375504,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u5efa\u7814\u9662\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u671d\u9633\u533a\u5c0f\u9ec4\u5e84\u8def9\u53f7\u7efc\u5408\u697c\u4e00\u5c42\u4e00\u5ba4",lng:116.4164679,lat:39.98460728,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u91d1\u5b9d\u8857\uff08\u539f\u534e\u5e9c\u666f\u56ed\uff09\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u671d\u9633\u95e8\u5185\u5357\u5c0f\u885712\u53f7\u697c1\u5c428\u53f7",lng:116.4342909,lat:39.92272593,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u5d14\u5404\u5e84\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5d14\u5404\u5e84\u4e61\u4eac\u65fa\u5bb6\u56ed\u5c0f\u533a4\u53f7\u697c\u5e95\u55469\u95e8",lng:116.535209,lat:40.01753704,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u71d5\u838e",name:"\u4e3d\u90fd\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u82b3\u56ed\u5357\u91cc9\u53f7\u9662\u4e0a\u4e1c\u516b\u53f7105\u53f7",lng:116.4915747,lat:39.9764206,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u5149\u73af\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u53cc\u82b1\u56ed\u5357\u91cc\u4e09\u533a22\u53f7\u697c1\u5c42105",lng:116.465266,lat:39.90489405,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u56db\u73af",name:"\u516b\u91cc\u5e84\u5317\u91cc\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u516b\u91cc\u5e84\u5317\u91cc219\u53f7\u697c1\u5c42103",lng:116.5052902,lat:39.93087428,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e94\u73af",name:"\u5b9a\u798f\u5e84\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5b9a\u798f\u5bb6\u56ed\u5357\u91cc3\u53f7\u96621\u53f7\u697c1\u5c421-5",lng:116.5729542,lat:39.92931284,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e9a\u5965",name:"\u4e1c\u6e56\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5229\u6cfd\u897f\u56ed315\u53f7\u697c1\u5c422\u5355\u5143109",lng:116.4702702,lat:40.01458458,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u671b\u4eac",name:"\u679c\u5cad\u91cc\uff08\u671b\u4eac\uff09\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5357\u6e56\u5357\u8def16\u53f7\u96624\u53f7\u697c\u5e95\u5546\uff08\u65b0\uff09",lng:116.4699275,lat:39.99771884,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u4e1c\u4e09\u73af",name:"\u5341\u91cc\u6cb3\u5c0f\u5fae\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5341\u516b\u91cc\u5e97\u4e61\u5341\u91cc\u6cb3\u6751168\u53f7\u6c11\u751f\u94f6\u884c",lng:116.4722155,lat:39.86300068,area:200,number:5,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u65b0\u666f\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u4e1c\u57ce\u533a\u65b0\u666f\u5bb6\u56ed\u4e00\u533a2\u53f7\u697c115",lng:116.4307854,lat:39.9015008,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u65b0\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u4e1c\u57ce\u533a\u5e78\u798f\u5bb6\u56ed19\u53f7\u697c103",lng:116.4366933,lat:39.89715118,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u5915\u7167\u5bfa\uff08\u90fd\u5e02\u99a8\u56ed\uff09\u6c11\u751f\u94f6\u884c",location:"\u4e1c\u57ce\u533a\u5915\u7167\u5bfa\u885716\u53f7\u9662\u5b9d\u8fbe\u5927\u53a6\u4e00\u5c4216-2\uff08\u65b0\uff09",lng:116.447132,lat:39.89376107,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u4e1c\u82b1\u5e02\u5357\u91cc\u6c11\u751f\u94f6\u884c",location:"\u4e1c\u57ce\u533a\u5357\u5c0f\u5e02\u53e3\u885712\u53f7\uff08\u65b0\uff09",lng:116.4375474,lat:39.90217498,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u99a8\u6cf0\u56ed\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u9a6c\u5bb6\u5821\u897f\u8def32\u53f73\u53f7\u697c1\u5c42E\u5355\u514301\u529e\u516c",lng:116.3786162,lat:39.84591513,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u5f69\u8679\u57ce\uff08\u539f\u57ce\u5357\u5609\u56ed\uff09\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u4e30\u53f0\u533a\u5149\u5f69\u8def65\u53f7\u96621\u53f7\u697c101A",lng:116.4211716,lat:39.85067191,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u5927\u5174\u533a",attr3:"\u5176\u4ed6",name:"\u6da6\u9f99\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u5927\u5174\u533a\u65e7\u5bab\u9547\u5ba3\u9890\u8def18\u53f7",lng:116.4528782,lat:39.81804403,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u8349\u6865\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u5317\u7532\u5730\u8def15\u53f7\u96623\u53f7\u697c1\u5c427\u5355\u5143110",lng:116.3680301,lat:39.85262463,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e1c\u57ce\u533a",attr3:"\u4e1c\u4e8c\u73af",name:"\u666f\u6cf0\u6c11\u751f\u94f6\u884c",location:"\u4e1c\u57ce\u533a\u666f\u6cf0\u897f\u91cc\u4e1c\u533a1\u53f7\u697c1\u5c42B12",lng:116.418109,lat:39.87032644,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u9890\u6167\u4f73\u56ed\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u9890\u6167\u4f73\u56ed6\u53f7\u697c1\u5c42106",lng:116.2971477,lat:39.94228981,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u9890\u6e90\u5c45\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u7fe0\u5fae\u8def\u56db\u53f7\u9890\u6e90\u5c454\u53f7\u697cB1-106\u53f7",lng:116.3116793,lat:39.92127332,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u4e50\u5e9c\u6c5f\u5357\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u6c38\u5b9a\u8def2\u53f7\u96625\u53f7\u697c1\u5c425-2",lng:116.2717661,lat:39.93505887,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u5170\u5fb7\u534e\u5ead\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u7545\u831c\u56ed\u5170\u5fb7\u534e\u5ead6\u53f7\u697c\u4e00\u5c42",lng:116.2568896,lat:39.93446503,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u5176\u4ed6",name:"\u5927\u6210\u90e1\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u5927\u6210\u5357\u91cc3\u533a2-103",lng:116.2740418,lat:39.89540871,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u5176\u4ed6",name:"\u4e07\u79d1\u7d2b\u53f0\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u9752\u5854\u897f\u8def52\u53f7\u96628\u53f7\u697c1-2\u5c42\u753222\u53f7",lng:116.2714456,lat:39.88837714,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u7d2b\u91d1\u957f\u5b89\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u897f\u7fe0\u8def17\u53f7\u96621\u53f7\u697c6\u53f7\u5e95\u5546",lng:116.2859185,lat:39.92381062,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u53f3\u5317\u5927\u8857\u6c11\u751f\u94f6\u884c",location:"\u897f\u57ce\u533a\u53f3\u5b89\u95e8\u5185\u5927\u885710\u53f71\u53f7\u697c1\u5c42-102-04\uff08\u65b0\uff09",lng:116.3705933,lat:39.88548861,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u897f\u8c6a\u9038\u666f\u6c11\u751f\u94f6\u884c",location:"\u897f\u57ce\u533a\u5c0f\u9a6c\u5382\u8def1\u53f7\u96621\u53f7\u697c\u5e95\u55461-1\u53f7",lng:116.3478929,lat:39.89881341,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u897f\u57ce\u533a",attr3:"\u91d1\u878d\u8857",name:"\u7ea2\u83b2\u4e2d\u91cc\uff08\u539f\u767e\u4e07\u5e84\uff09\u6c11\u751f\u94f6\u884c",location:"\u897f\u57ce\u533a\u9a6c\u8fde\u9053\u4e1c\u885715\u53f7\u96621\u53f7\u697c1\u5c429",lng:116.338711,lat:39.88971711,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u76db\u4eca\u4f73\u56ed\uff08\u539f\u91d1\u5c1a\u5609\u56ed\uff09\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u5434\u5bb6\u573a\u8def1\u53f7\u9662\u60a6\u90bb\u5e7f\u573a\u4e00\u5c42",lng:116.3161377,lat:39.9001457,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u4fe1\u60a6\u534e\u5ead\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u5317\u8702\u7a9d\u4e2d\u8def\u4e198\u53f7\u96622\u53f7\u697c115\u53f7",lng:116.3332196,lat:39.90450619,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u4ea4\u5927\u5609\u56ed\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u4ea4\u901a\u5927\u5b66\u8def1\u53f7\u9662\u4ea4\u5927\u5609\u56ed3\u53f7\u697c\u5e95\u5546120-1\u53f7",lng:116.3516647,lat:39.95518452,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u8fdc\u6d0b\u98ce\u666f\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u5fb7\u80dc\u95e8\u897f\u5927\u885715\u53f77\u53f7\u697c",lng:116.3680515,lat:39.95228673,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u623f\u5c71\u533a",attr3:"\u5176\u4ed6",name:"\u52a0\u5dde\u6c34\u90e1\u6c11\u751f\u94f6\u884c",location:"\u623f\u5c71\u533a\u957f\u9633\u9547\u660a\u5929\u5317\u5927\u885748\u53f7218-2-W15",lng:116.1727381,lat:39.77464326,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u73e0\u6c5f\u5fa1\u666f\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u957f\u8f9b\u5e97\u957f\u4e91\u8def2\u53f7\u966211\u53f7\u697c1\u5c4210\u53f7",lng:116.183886,lat:39.82769012,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u9526\u7ee3\u5927\u5730\u5c0f\u5fae\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u961c\u77f3\u8def\u753269\u53f7\u966214\u53f7\u697c\u7b492\u5e62",lng:116.2349199,lat:39.93300361,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u77f3\u666f\u5c71\u533a",attr3:"\u5176\u4ed6",name:"\u897f\u5c71\u67ab\u6797\u6c11\u751f\u94f6\u884c",location:"\u77f3\u666f\u5c71\u533a\u9999\u5c71\u5357\u8857166\u53f7\u96621\u5c4236\u53f7",lng:116.1740132,lat:40.52721531,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u5927\u5174\u533a",attr3:"\u5176\u4ed6",name:"\u987a\u9a70\u9886\u6d77\u6c11\u751f\u94f6\u884c",location:"\u5927\u5174\u533a\u9ec4\u6751\u9547\u9999\u6d77\u56ed3\u53f7\u697c1\u5c428\u53f7",lng:116.3280617,lat:39.78171285,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u5927\u5174\u533a",attr3:"\u5176\u4ed6",name:"\u6e05\u57ce\u540d\u82d1\uff08\u539f\u5fb7\u6797\u56ed\uff09\u6c11\u751f\u94f6\u884c",location:"\u5927\u5174\u533a\u9ec4\u6751\u9547\u5bcc\u5f3a\u8def88\u53f7",lng:116.3352888,lat:39.74307877,area:200,number:5,careName:"-"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u5b8f\u798f\u82d1\u6c11\u751f\u94f6\u884c",location:"\u5b8f\u798f\u82d1\u5c0f\u533a\u5317\u533a3A\u53f7\u697c3\u5355\u5143103\u5ba4",lng:116.373356,lat:40.12203609,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u5929\u946b\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u660c\u5e73\u533a\u56de\u9f99\u89c2\u4e1c\u5927\u885723-1\u81f323-27\u53f71\u5c4223-17",lng:116.3746405,lat:40.08751044,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u96c5\u99a8\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u660c\u5e73\u533a\u660c\u5e73\u9547\u96c5\u99a8\u5bb6\u56ed\u5c0f\u533a9\u53f7\u697c",lng:116.2453223,lat:40.22958159,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u53cc\u8425\u897f\u8def\uff08\u539f\u660c\u5e73\u6d41\u661f\u82b1\u56ed\u4e09\u533a\uff09\u6c11\u751f\u94f6\u884c",location:"\u660c\u5e73\u533a\u53cc\u8425\u897f\u8def78\u53f7\u96622\u53f7\u697c\u8def\u52b2\u4e16\u754c\u5e7f\u573a\u9996\u5c42\u5e95\u5546S1-01",lng:116.2977292,lat:40.21322599,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u987a\u4e49\u533a",attr3:"\u5176\u4ed6",name:"\u987a\u4e49\u84dd\u5929\u84dd\u6d77\u82d1\u6c11\u751f\u94f6\u884c",location:"\u987a\u4e49\u533a\u84dd\u6d77\u82d15\u53f7\u697c",lng:116.6036117,lat:40.04564517,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u987a\u4e49\u533a",attr3:"\u5176\u4ed6",name:"\u82b1\u6eaa\u540d\u82d1\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u987a\u4e49\u533a\u9a6c\u5761\u9547\u987a\u5174\u88579\u53f7\u966224\u53f7\u697c1-11",lng:116.664335,lat:40.19126384,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u548c\u98ce\u56db\u5b63\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u7a0b\u5e84\u5317\u91cc19-1-102",lng:116.2703609,lat:39.85883651,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u4f18\u7b51\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u4e30\u6865\u8def2\u53f7\u96622\u53f7\u697c1\u5c42101",lng:116.3189988,lat:39.85760664,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u4e3d\u6cfd",name:"\u6021\u6d77\u82b1\u56ed\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u4e30\u53f0\u533a\u6021\u6d77\u8def3\u53f73\u5e62\u4e00\u5c4214\u53f7\u623f\u5c4b",lng:116.3082,lat:39.83965207,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u9f99\u6e56\u5510\u5b81\u4e07\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u4e1c\u8def16\u53f7\u9662\u9f99\u6e56\u5510\u5b81ONE1\u53f7\u697c109",lng:116.3430046,lat:39.99342818,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u4e2d\u5173\u6751\u4e1c\u5347\u79d1\u6280\u56ed\u5c0f\u5fae\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u897f\u5c0f\u53e3\u8def66\u53f7\u4e2d\u5173\u6751\u4e1c\u5347\u79d1\u6280\u56ed\u5317\u9886\u5730\u5730\u4e2d\u6d77\u5546\u4e1a\u8857\u4e00\u5c42\u5546\u62377",lng:116.363568,lat:40.04934307,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u6a61\u6811\u6e7e\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u6e05\u6cb3\u9547\u6a61\u6811\u6e7e\u5e95\u5546G9\u53f7\u4f4f\u5b85\u697c1\u5c42\u5546\u94fa4",lng:116.3208937,lat:39.95876369,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u660c\u5e73\u533a",attr3:"\u5176\u4ed6",name:"\u5c1a\u5cf0\u5c1a\u6c34\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u663e\u9f99\u5c71\u8def19\u53f71\u5e621\u5c422\u5ea7120\uff08\u65b0\uff09",lng:116.1844811,lat:40.05518027,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u5176\u4ed6",name:"\u8302\u534e\u56fd\u9645\u6751\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u897f\u575d\u6cb3\u4e1c\u91cc2\u53f7\u966215\u53f7\u697c\u4e00\u5c42\u5168\u90e8",lng:116.4569283,lat:39.97354424,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"\u5176\u4ed6",name:"\u80dc\u53e4\u4e2d\u8def\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u80dc\u53e4\u4e2d\u8def\u75321\u53f7\u96624\u697c1\u5c42400811",lng:116.4174327,lat:39.97977099,area:200,number:5,careName:"-"},{group:"2022.3",value:"\u901a\u5dde\u533a",attr3:"\u901a\u5dde",name:"\u4eac\u8d38\u56fd\u9645\u6c11\u751f\u94f6\u884c",location:"\u901a\u5dde\u533a\u516b\u91cc\u6865\u5357\u885768\u53f72.3.5\u53f7\u697c\u4e00\u5c4216-4-112",lng:116.630526,lat:39.91222208,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u901a\u5dde\u533a",attr3:"\u901a\u5dde",name:"\u4e2d\u5c71\u8857\u6c11\u751f\u94f6\u884c",location:"\u901a\u5dde\u533a\u65b0\u4ed3\u8def1\u53f7\u96622\u53f7\u697c-1\u81f31\u5c422-4",lng:116.6550946,lat:39.91264753,area:200,number:5,careName:"-"},{group:"2022.3",value:"\u5927\u5174\u533a",attr3:"\u5176\u4ed6",name:"\u6c47\u9f99\u68ee\u79d1\u6280\u56ed\u5c0f\u5fae\u6c11\u751f\u94f6\u884c",location:"\u5317\u4eac\u5e02\u7ecf\u6d4e\u6280\u672f\u5f00\u53d1\u533a\u79d1\u521b\u5341\u56db\u885799\u53f733\u53f7\u697cD\u680b102\u5ba4",lng:116.563837,lat:39.78291407,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u6d77\u6dc0\u533a",attr3:"\u4e9a\u5965",name:"\u4e16\u7eaa\u57ce\u89c2\u5c71\u56ed\u6c11\u751f\u94f6\u884c",location:"\u6d77\u6dc0\u533a\u84dd\u975b\u5382\u8def\u89c2\u5c71\u56ed5-7-B1G",lng:116.2864973,lat:39.97218872,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u671d\u9633\u767e\u73af\u5bb6\u56ed\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u5e7f\u6e20\u8def66\u53f7\u9662\u767e\u73af\u5bb6\u56ed10\u53f7\u697c1\u5c42102\u5ba4\uff08\u65b0\uff09\u5e7f\u6e20\u8def66\u53f7\u9662\u75323\u53f7\u697c\u5e95\u5546",lng:116.4707071,lat:39.89483314,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u671d\u9633\u533a",attr3:"CBD",name:"\u8c46\u5404\u5e84\u6c11\u751f\u94f6\u884c",location:"\u671d\u9633\u533a\u9ec4\u5382\u5357\u91cc2\u53f7\u96627\u53f7\u697c1-2\u5c42106",lng:116.5688224,lat:39.85301036,area:120,number:3,careName:"-"},{group:"2022.3",value:"\u623f\u5c71\u533a",attr3:"\u5176\u4ed6",name:"\u6d77\u9038\u534a\u5c9b\u6c11\u751f\u94f6\u884c",location:"\u623f\u5c71\u533a\u826f\u4e61\u897f\u6f5e\u5357\u5927\u885710\u53f7",lng:116.1421756,lat:39.7337574,area:120,number:4,careName:"-"},{group:"2022.3",value:"\u4e30\u53f0\u533a",attr3:"\u5176\u4ed6",name:"\u4e9a\u6797\u82d1\u6c11\u751f\u94f6\u884c",location:"\u4e30\u53f0\u533a\u798f\u5b9c\u88575\u53f7\u96621\u53f7\u697c1\u5c42101\u5185118\u53f7",lng:116.3627927,lat:39.86386383,area:200,number:5,careName:"-"},{group:"2022.6",value:"\u4e1c\u57ce\u533a",attr3:"-",name:"\u4e2d\u56fd\u8fdb\u51fa\u53e3\u94f6\u884c\uff08\u5317\u4eac\u5206\u884c\uff09",location:"\u4e1c\u57ce\u533a\u5317\u6cb3\u6cbf\u5927\u885777\u53f7",lng:116.4121502,lat:39.93482132,area:1500,number:300,careName:"\u5218\u4e91\u971e"},{group:"2022.6",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u5bbf\u5dde\u5927\u53a6",location:"\u897f\u57ce\u533a\u95f9\u5e02\u53e3\u5927\u885713\u53f7",lng:116.3695592,lat:39.90645107,area:300,number:54,careName:"\u53f8\u897f\u6625"},{group:"2022.6",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u4e2d\u56fd\u673a\u68b0\u5de5\u4e1a\u5efa\u8bbe\u96c6\u56e2\u6709\u9650\u5de5\u53f8",location:"\u897f\u57ce\u533a\u4e09\u91cc\u6cb3\u5357\u4e94\u5df7",lng:116.3432875,lat:39.91855628,area:350,number:70,careName:"\u674e\u798f\u6885"},{group:"2022.6",value:"\u6d77\u6dc0\u533a",attr3:"-",name:"\u4e1c\u5347\u79d1\u6280\u56ed",location:"\u6d77\u6dc0\u533a\u897f\u5c0f\u53e3\u8def66\u53f7",lng:116.3645822,lat:40.05079404,area:350,number:60,careName:"\u674e\u7ed8\u82ac"},{group:"2022.6",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u5317\u4eac\u6587\u5316\u521b\u65b0\u5de5\u5382",location:"\u897f\u57ce\u533a\u8f66\u516c\u5e84\u5317\u793c\u58eb\u8def60\u53f7\u9662",lng:116.3602411,lat:39.93640802,area:200,number:30,careName:"\u90ed\u7231\u83ca"},{group:"2022.6",value:"\u6d77\u6dc0\u533a",attr3:"-",name:"\u6d77\u6dc0\u533a\u56db\u5b63\u9752\u9547\u5b89\u5168\u751f\u4ea7\u68c0\u67e5\u961f",location:"\u6d77\u6dc0\u533a\u516d\u90ce\u5e84\u5c0f\u5b66\u4e1c\u5357\u4fa7",lng:116.2992755,lat:39.9969258,area:300,number:63,careName:"\u90ed\u7231\u83ca"},{group:"2022.6",value:"\u660c\u5e73\u533a",attr3:"-",name:"\u62db\u5546\u94f6\u884c\uff08\u5317\u4eac\u81ea\u8d38\u8bd5\u9a8c\u533a\u751f\u547d\u79d1\u5b66\u56ed\u652f\u884c\uff09",location:"\u660c\u5e73\u533a\u751f\u547d\u79d1\u5b66\u56ed\u8def4\u53f7\u96624\u53f7\u697c102-B",lng:116.2805971,lat:40.10342821,area:200,number:50,careName:"\u674e\u7ed8\u82ac"},{group:"2022.6",value:"\u623f\u5c71\u533a",attr3:"-",name:"\u62db\u5546\u94f6\u884c\uff08\u623f\u5c71\u652f\u884c\uff09",location:"\u623f\u5c71\u533a\u4e1c\u8857\u4e0e\u957f\u8679\u897f\u8def\u4ea4\u53c9\u53e3\u897f\u531780\u7c73",lng:116.1355081,lat:39.72916137,area:300,number:60,careName:"\u738b\u5b89\u7075"},{group:"2022.6",value:"\u6d77\u6dc0\u533a",attr3:"-",name:"\u97e6\u4f2f\u65f6\u4ee3\u4e2d\u5fc3C\u5ea7",location:"\u6d77\u6dc0\u533a\u4e2d\u5173\u6751\u5357\u5927\u885717\u53f7\u96623",lng:116.3287365,lat:39.95997458,area:200,number:40,careName:"\u88f4\u6069\u4eae"},{group:"2022.6",value:"\u897f\u57ce\u533a",attr3:"-",name:"\u5317\u4eac\u5510\u62c9\u96c5\u79c0\u9152\u5e97",location:"\u897f\u57ce\u533a\u590d\u5174\u95e8\u5916\u5927\u885719\u53f7",lng:116.3494931,lat:39.91312105,area:500,number:110,careName:"\u674e\u798f\u6885"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5408\u751f\u6c47",location:"\u671d\u9633\u533a\u897f\u5927\u671b\u8def21\u53f7",lng:116.484937,lat:39.89965008,area:4e3,number:800,careName:"\u80e5\u6708\u7ea2"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5e73\u5b89\u56fd\u9645\u4e2d\u5fc3",location:"\u671d\u9633\u533a\u65b0\u6e90\u5357\u8def3\u53f7",lng:116.466176,lat:39.95506505,area:1600,number:350,careName:"\u80e5\u6708\u7ea2"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u5353\u660e\u5927\u53a6",location:"\u671d\u9633\u533a\u60e0\u5408\u5357\u88571069\u53f7",lng:116.4495587,lat:39.92637452,area:300,number:65,careName:"\u80e5\u6708\u7ea2"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u9ad8\u6f9c\u5927\u53a6",location:"\u671d\u9633\u533a\u4eae\u9a6c\u6865\u8def32\u53f7",lng:116.4827615,lat:39.95880855,area:200,number:50,careName:"\u80e5\u6708\u7ea2"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u4e1c\u98ce5\u53f7",location:"\u671d\u9633\u533a\u4e1c\u98ce\u5357\u8def5\u53f7",lng:116.5135415,lat:39.96159553,area:200,number:50,careName:"\u80e5\u6708\u7ea2"},{group:"2022.6",value:"\u901a\u5dde\u533a",attr3:"-",name:"\u7eff\u5730\u4e2d\u592e\u5e7f\u573a2\u671f",location:"\u901a\u5dde\u533a\u65b0\u534e\u5317\u8def\u4e1c\u4fa7",lng:116.6628258,lat:39.92137181,area:300,number:66,careName:"\u5218\u7115\u751f"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u4e09\u4e94\u96f6\u4e00\u5927\u53a6",location:"\u671d\u9633\u533a\u5411\u519b\u5317\u91cc28\u53f7\u9662-1",lng:116.4667324,lat:39.93079841,area:200,number:45,careName:"\u5218\u7115\u751f"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u9996\u5f00\u7405\u6a3e",location:"\u4eac\u5bc6\u8def\u4e0e\u4eac\u5e73\u8f85\u8def\u4ea4\u53c9\u53e3\u897f\u884c1500\u7c73",lng:116.8503325,lat:40.05966921,area:150,number:35,careName:"\u674e\u7231\u534e"},{group:"2022.6",value:"\u987a\u4e49\u533a",attr3:"-",name:"\u5ddd\u822a\u5927\u9152\u5e97",location:"\u987a\u4e49\u533a\u5c0f\u5929\u7afa\u8def1\u53f7",lng:116.5955367,lat:40.05264326,area:500,number:144,careName:"\u5f20\u8273\u8389"},{group:"2022.6",value:"\u671d\u9633\u533a",attr3:"-",name:"\u6587\u5316\u4e2d\u56fd\u56fd\u9645\u4ea7\u4e1a\u56ed",location:"\u671d\u9633\u533a\u5efa\u56fd\u8def\u75329\u53f7",lng:116.6012514,lat:39.91546794,area:200,number:39,careName:"\u5f20\u7ea2\u864e"}],zo=r("nKUr"),Uo=()=>{var e=Object(o["useRef"])(null),t=Array.from(new Set(["\u5168\u9009",...Bo.map((e=>String(e.group)))])),r=Object(o["useState"])(t[0]),n=Object(Do["a"])(r,2),i=n[0],a=n[1];return Object(o["useEffect"])((()=>{var t=e.current.map;t.clearOverlays(),Bo.filter((e=>"\u5168\u9009"===i||String(e.group)===i)).map((e=>{var r=new BMapGL.Marker(new BMapGL.Point(e.lng,e.lat));r.addEventListener("click",(()=>{var r={width:200,height:120,title:e.name},n=new BMapGL.InfoWindow("<div>\n<section class='content-section'>\n<div>\n<h5>\u9879\u76ee\u9762\u79ef\uff1a</h5>\n<p>".concat(e.area,"</p>\n</div>\n<div>\n<h5>\u517b\u62a4\u76c6\u6570\u6570\u91cf\uff1a</h5>\n<p>").concat(e.number,"</p>\n</div>\n<div>\n<h5>\u517b\u82b1\u5e08\u59d3\u540d\uff1a</h5>\n<p>").concat(e.careName,"</p>\n</div>\n</section>\n</div>"),r);t.openInfoWindow(n,new BMapGL.Point(e.lng,e.lat))})),t.addOverlay(r)}))}),[i]),Object(zo["jsxs"])("div",{style:{height:"100vh",width:"100vw"},children:[Object(zo["jsx"])("div",{className:No.a.SelectorContainer,children:Object(zo["jsx"])(Oo,{size:"large",value:i,onChange:a,className:No.a.Selector,options:t.map((e=>({label:e,value:e}))),placeholder:"\u6309\u6708\u4efd\u7b5b\u9009"})}),Object(zo["jsxs"])(Fo["Map"],{tilt:40,ref:e,style:{height:"100vh"},center:{lng:116.402544,lat:39.928216},zoom:14,children:[Object(zo["jsx"])(Fo["NavigationControl"],{}),Object(zo["jsx"])(Fo["ScaleControl"],{}),Object(zo["jsx"])(Fo["ZoomControl"],{})]})]})};t["default"]=Object(Fo["MapApiLoaderHOC"])({ak:"MSknRCvZKQgcuYx0Ait4nYkgo75yuEa9"})(Uo)},QkVE:function(e,t,r){var n=r("EpBk");function i(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=i},Qo9l:function(e,t,r){var n=r("2oRo");e.exports=n},QoRX:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}e.exports=r},QqLw:function(e,t,r){var n=r("tadb"),i=r("ebwN"),o=r("HOxn"),a=r("yGk4"),s=r("Of+w"),u=r("NykK"),l=r("3Fdi"),c="[object Map]",h="[object Object]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",g="[object DataView]",m=l(n),v=l(i),y=l(o),b=l(a),x=l(s),A=u;(n&&A(new n(new ArrayBuffer(1)))!=g||i&&A(new i)!=c||o&&A(o.resolve())!=f||a&&A(new a)!=p||s&&A(new s)!=d)&&(A=function(e){var t=u(e),r=t==h?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case m:return g;case v:return c;case y:return f;case b:return p;case x:return d}return t}),e.exports=A},Qyje:function(e,t,r){"use strict";var n=r("QSc6"),i=r("nmq7"),o=r("sxOR");e.exports={formats:o,parse:i,stringify:n}},"R3/m":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(e,r){if(!n(r,e,t))return u.stop()}),void 0,!0,!0).stopped}})},R5yR:function(e,t,r){var n=r("9xmf"),i=r("rhT+"),o=r("mGKP"),a=r("XWE6");function s(e){return n(e)||i(e)||o(e)||a()}e.exports=s},RK3t:function(e,t,r){var n=r("0Dky"),i=r("xrYK"),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},RKie:function(e,t,r){e.exports={SelectorContainer:"SelectorContainer___O-P-3",Selector:"Selector___3xLx_"}},RN6c:function(e,t,r){var n=r("2oRo");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},RNIs:function(e,t,r){var n=r("tiKp"),i=r("fHMY"),o=r("m/L8"),a=n("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},ROdP:function(e,t,r){var n=r("hh1v"),i=r("xrYK"),o=r("tiKp"),a=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},Rm1S:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("UMSQ"),a=r("HYAF"),s=r("iqWW"),u=r("FMNM");n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=i(e),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;var h,f=[],p=0;while(null!==(h=u(a,l))){var d=String(h[0]);f[p]=d,""===d&&(a.lastIndex=s(l,o(a.lastIndex),c)),p++}return 0===p?null:f}]}))},RwCd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("s+10")),a=n.__importDefault(r("Gytx")),s=r("g8eg");function u(){for(var e="//mapopen.bj.bcebos.com/cms/react-bmap/markers_new2x_fbb9e99.png",t={simple_red:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,189),imageSize:new BMapGL.Size(300,300)}),simple_blue:new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(227,225),imageSize:new BMapGL.Size(300,300)}),loc_red:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,189),imageSize:new BMapGL.Size(300,300)}),loc_blue:new BMapGL.Icon(e,new BMapGL.Size(23,35),{imageOffset:new BMapGL.Size(200,225),imageSize:new BMapGL.Size(300,300)}),start:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(200,139),imageSize:new BMapGL.Size(300,300)}),end:new BMapGL.Icon(e,new BMapGL.Size(25,40),{imageOffset:new BMapGL.Size(225,139),imageSize:new BMapGL.Size(300,300)}),location:new BMapGL.Icon(e,new BMapGL.Size(14,20),{imageOffset:new BMapGL.Size(124,233),imageSize:new BMapGL.Size(300,300)})},r=1;r<=10;r++)t["red"+r]=new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(21*(r-1),0),imageSize:new BMapGL.Size(300,300)});for(r=1;r<=10;r++)t["blue"+r]=new BMapGL.Icon(e,new BMapGL.Size(21,33),{imageOffset:new BMapGL.Size(21*(r-1),66),imageSize:new BMapGL.Size(300,300)});return t}var l=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],c={enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]},h=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","title"],r.defaultIcons=u(),r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){if(this.map){var t=this.props,r=t.position,n=t.icon,i=t.autoViewport,o=t.offset,s=t.isTop,u=e.position,l=e.icon,c=e.autoViewport,h=e.offset,f=e.isTop,p=r&&!a.default(r,u),d=!(!n||a.default(n,l)),g=!a.default(i,c),m=!(!o||a.default(o,h)),v=!a.default(s,f),y=this.parsePosition(r);if(p&&this.marker.setPosition(y),d){var b=this.parseIcon(n);this.marker.setIcon(b)}m&&this.marker.setOffset(o),v&&this.marker.setTop(!!s),i&&(p||g)&&this.map.setCenter(y)}else this.initialize()},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.marker&&this.map&&(this.map.removeOverlay(this.marker),this.instance=this.marker=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){this.destroy();var t=this.parseIcon(this.props.icon),r=this.parsePosition(this.props.position),n=this.getOptions();n.icon=t,this.instance=this.marker=new BMapGL.Marker(r,n),this.props.isTop&&this.marker.setTop(!0),e.addOverlay(this.marker),this.props.autoViewport&&e.setCenter(r)}},t.prototype.parsePosition=function(e){var t,r="bd09mc"===this.props.coordType;return t=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),r&&(t=BMapGL.Projection.convertMC2LL(t)),t},t.prototype.parseIcon=function(e){var t;return t=e&&e instanceof BMapGL.Icon?e:e&&this.defaultIcons[e]?this.defaultIcons[e]:this.defaultIcons.simple_red,t},t.prototype.render=function(){return null},t.contextType=s.MapContext,t}(i.Component);h.defaultProps={icon:"simple_red"},t.default=o.default(h,l,c)},SEBh:function(e,t,r){var n=r("glrk"),i=r("HAuM"),o=r("tiKp"),a=o("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[a])?t:i(r)}},SL6q:function(e,t,r){var n=r("I+eb"),i=r("voyM"),o=r("vo4V");n({target:"Math",stat:!0},{fscale:function(e,t,r,n,a){return o(i(e,t,r,n,a))}})},STAE:function(e,t,r){var n=r("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},SYor:function(e,t,r){"use strict";var n=r("I+eb"),i=r("WKiH").trim,o=r("yNLB");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},SbrR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("0GZW")),o=n.__importDefault(r("Gytx")),a=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","dashArray","enableMassClear","enableEditing"],r}return n.__extends(t,e),t.prototype.onDataUpdate=function(e){var t=this.props,r=t.path,n=t.autoViewport,i=e.path,a=e.autoViewport,s=r&&!o.default(r,i),u=!o.default(n,a);if(s&&this.overlay.setPath(this.parsePath(r)),n&&(s||u)){var l=this.overlay.getPath(),c=this.props.map.getViewport(l,this.props.viewportOptions||{});this.props.map.setViewport(c)}},t.prototype.getOverlay=function(){var e=this.parsePath(this.props.path);return new BMapGL.Polyline(e,this.getOptions())},t.prototype.parsePath=function(e){var t="bd09mc"===this.props.coordType,r=e.map((function(e){var r;return r=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),t&&(r=BMapGL.Projection.convertMC2LL(r)),r}));return r},t.prototype.render=function(){return null},t}(i.default);t.default=a},SfRM:function(e,t,r){var n=r("YESw");function i(){this.__data__=n?n(null):{},this.size=0}e.exports=i},Si40:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),l=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),r=new(u(t,o("Set")))(t),n=s(r["delete"]),i=s(r.add);return l(e,(function(e){n.call(r,e)||i.call(r,e)})),r}})},SpvK:function(e,t,r){var n=r("dOgj");n("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},Sssf:function(e,t,r){var n=r("xDBR"),i=r("mh/w");e.exports=n?i:function(e){return Map.prototype.entries.call(e)}},SuFq:function(e,t,r){var n=r("I+eb"),i=r("0GbY"),o=r("HAuM"),a=r("glrk"),s=r("hh1v"),u=r("fHMY"),l=r("BTho"),c=r("0Dky"),h=i("Reflect","construct"),f=c((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),p=!c((function(){h((function(){}))})),d=f||p;n({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(p&&!f)return h(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var i=r.prototype,c=u(s(i)?i:Object.prototype),d=Function.apply.call(e,c,t);return s(d)?d:c}})},T5bk:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("DSFK"),i=r("25BE"),o=r("BsWD"),a=r("PYwp");function s(e){return Object(n["a"])(e)||Object(i["a"])(e)||Object(o["a"])(e)||Object(a["a"])()}},T63A:function(e,t,r){var n=r("I+eb"),i=r("b1O7").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},TJ79:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"WeakMap",stat:!0},{of:i})},TOwV:function(e,t,r){"use strict";e.exports=r("qT12")},TSYQ:function(e,t,r){var n,i;(function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):(n=[],i=function(){return o}.apply(t,n),void 0===i||(e.exports=i))})()},TWNs:function(e,t,r){var n=r("g6v/"),i=r("2oRo"),o=r("lMq5"),a=r("cVYH"),s=r("m/L8").f,u=r("JBy8").f,l=r("ROdP"),c=r("rW0t"),h=r("n3/R"),f=r("busE"),p=r("0Dky"),d=r("afO8").set,g=r("JiZb"),m=r("tiKp"),v=m("match"),y=i.RegExp,b=y.prototype,x=/a/g,A=/a/g,w=new y(x)!==x,_=h.UNSUPPORTED_Y,C=n&&o("RegExp",!w||_||p((function(){return A[v]=!1,y(x)!=x||y(A)==A||"/a/i"!=y(x,"i")})));if(C){var M=function(e,t){var r,n=this instanceof M,i=l(e),o=void 0===t;if(!n&&i&&e.constructor===M&&o)return e;w?i&&!o&&(e=e.source):e instanceof M&&(o&&(t=c.call(e)),e=e.source),_&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var s=a(w?new y(e,t):y(e,t),n?this:b,M);return _&&r&&d(s,{sticky:r}),s},S=function(e){e in M||s(M,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},T=u(y),E=0;while(T.length>E)S(T[E++]);b.constructor=M,M.prototype=b,f(i,"RegExp",M)}g("RegExp")},TWQb:function(e,t,r){var n=r("/GqU"),i=r("UMSQ"),o=r("I8vh"),a=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},TZCg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("DMt2").start,o=r("mgyK");n({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TeQF:function(e,t,r){"use strict";var n=r("I+eb"),i=r("tycR").filter,o=r("Hd5f"),a=r("rkAj"),s=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TeRw:function(e,t,r){"use strict";r.r(t),r.d(t,"getInstance",(function(){return $}));var n=r("wx14"),i=r("rePB"),o=r("o0o1"),a=r.n(o),s=r("q1tI"),u=r("8tx+"),l=r("4i/N"),c=r("TSYQ"),h=r.n(c),f=r("VTBJ"),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},d=p,g=r("6VBw"),m=function(e,t){return s["createElement"](g["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:d}))};m.displayName="CheckCircleOutlined";var v=s["forwardRef"](m),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},b=y,x=function(e,t){return s["createElement"](g["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:b}))};x.displayName="CloseCircleOutlined";var A=s["forwardRef"](x),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},_=w,C=function(e,t){return s["createElement"](g["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:_}))};C.displayName="ExclamationCircleOutlined";var M=s["forwardRef"](C),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},T=S,E=function(e,t){return s["createElement"](g["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:T}))};E.displayName="InfoCircleOutlined";var I=s["forwardRef"](E),R=r("ODXe"),L=r("8HVG"),P=r("H84U");function O(e,t){var r=function(){var r,i=null,o={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},a=Object(L["a"])(o),u=Object(R["a"])(a,2),l=u[0],c=u[1];function h(o){var a=o.prefixCls,s=r("notification",a);e(Object(n["a"])(Object(n["a"])({},o),{prefixCls:s}),(function(e){var r=e.prefixCls,n=e.instance;i=n,l(t(o,r))}))}var f=s["useRef"]({});return f.current.open=h,["success","info","warning","error"].forEach((function(e){f.current[e]=function(t){return f.current.open(Object(n["a"])(Object(n["a"])({},t),{type:e}))}})),[f.current,s["createElement"](P["a"],{key:"holder"},(function(e){return r=e.getPrefixCls,c}))]};return r}var D,k,N,F=r("wEI+"),B=function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n["throw"](e))}catch(t){o(t)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))},z={},U=4.5,j=24,H=24,G="",V="topRight",W=!1;function X(e){var t=e.duration,r=e.placement,n=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(G=s),void 0!==t&&(U=t),void 0!==r?V=r:e.rtl&&(V="topLeft"),void 0!==n&&(H=n),void 0!==i&&(j=i),void 0!==o&&(D=o),void 0!==a&&(k=a),void 0!==e.rtl&&(W=e.rtl),void 0!==e.maxCount&&(N=e.maxCount)}function q(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;switch(e){case"topLeft":t={left:0,top:r,bottom:"auto"};break;case"topRight":t={right:0,top:r,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:n};break;default:t={right:0,top:"auto",bottom:n};break}return t}function Y(e,t){var r=e.placement,n=void 0===r?V:r,o=e.top,a=e.bottom,s=e.getContainer,l=void 0===s?D:s,c=e.prefixCls,f=Object(F["b"])(),p=f.getPrefixCls,d=f.getIconPrefixCls,g=p("notification",c||G),m=d(),v="".concat(g,"-").concat(n),y=z[v];if(y)Promise.resolve(y).then((function(e){t({prefixCls:"".concat(g,"-notice"),iconPrefixCls:m,instance:e})}));else{var b=h()("".concat(g,"-").concat(n),Object(i["a"])({},"".concat(g,"-rtl"),!0===W));z[v]=new Promise((function(e){u["a"].newInstance({prefixCls:g,className:b,style:q(n,o,a),getContainer:l,maxCount:N},(function(r){e(r),t({prefixCls:"".concat(g,"-notice"),iconPrefixCls:m,instance:r})}))}))}}var Z={success:v,info:I,error:A,warning:M};function K(e,t,r){var n=e.duration,o=e.icon,a=e.type,u=e.description,c=e.message,f=e.btn,p=e.onClose,d=e.onClick,g=e.key,m=e.style,v=e.className,y=e.closeIcon,b=void 0===y?k:y,x=void 0===n?U:n,A=null;o?A=s["createElement"]("span",{className:"".concat(t,"-icon")},e.icon):a&&(A=s["createElement"](Z[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var w=s["createElement"]("span",{className:"".concat(t,"-close-x")},b||s["createElement"](l["a"],{className:"".concat(t,"-close-icon")})),_=!u&&A?s["createElement"]("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:s["createElement"](F["a"],{iconPrefixCls:r},s["createElement"]("div",{className:A?"".concat(t,"-with-icon"):"",role:"alert"},A,s["createElement"]("div",{className:"".concat(t,"-message")},_,c),s["createElement"]("div",{className:"".concat(t,"-description")},u),f?s["createElement"]("span",{className:"".concat(t,"-btn")},f):null)),duration:x,closable:!0,closeIcon:w,onClose:p,onClick:d,key:g,style:m||{},className:h()(v,Object(i["a"])({},"".concat(t,"-").concat(a),!!a))}}function J(e){Y(e,(function(t){var r=t.prefixCls,n=t.iconPrefixCls,i=t.instance;i.notice(K(e,r,n))}))}var Q={open:J,close:function(e){Object.keys(z).forEach((function(t){return Promise.resolve(z[t]).then((function(t){t.removeNotice(e)}))}))},config:X,destroy:function(){Object.keys(z).forEach((function(e){Promise.resolve(z[e]).then((function(e){e.destroy()})),delete z[e]}))}};["success","info","warning","error"].forEach((function(e){Q[e]=function(t){return Q.open(Object(n["a"])(Object(n["a"])({},t),{type:e}))}})),Q.warn=Q.warning,Q.useNotification=O(Y,K);var $=function(e){return B(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))};t["default"]=Q},TfTi:function(e,t,r){"use strict";var n=r("A2ZE"),i=r("ewvW"),o=r("m92n"),a=r("6VoE"),s=r("UMSQ"),u=r("hBjN"),l=r("NaFW");e.exports=function(e){var t,r,c,h,f,p,d=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=l(d),x=0;if(y&&(v=n(v,m>2?arguments[2]:void 0,2)),void 0==b||g==Array&&a(b))for(t=s(d.length),r=new g(t);t>x;x++)p=y?v(d[x],x):d[x],u(r,x,p);else for(h=b.call(d),f=h.next,r=new g;!(c=f.call(h)).done;x++)p=y?o(h,v,[c.value,x],!0):c.value,u(r,x,p);return r.length=x,r}},Thag:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop()}),void 0,!0,!0).stopped}})},ToJy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("ewvW"),a=r("0Dky"),s=r("pkCn"),u=[],l=u.sort,c=a((function(){u.sort(void 0)})),h=a((function(){u.sort(null)})),f=s("sort"),p=c||!h||!f;n({target:"Array",proto:!0,forced:p},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},ToZM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importStar(r("4K7L")),o=n.__importStar(r("O8ob")),a=r("W1EI"),s=r("3Ree"),u=function(e){function t(t){var r=e.call(this,t)||this;r._createLayer=!1;var n=r;return r.props.getMethods&&r.props.getMethods({setViewport:r.setViewport.bind(n)}),r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.type,n=t.data,i=t.options,o=t.autoViewport,a=e.type,s=e.data,u=e.options,l=e.autoViewport;if(this.map&&this.layer){if(r!==a)return this.destroy(),void this.initialize();JSON.stringify(u)!==JSON.stringify(i)&&this.layer.setOptions(i),JSON.stringify(s)!==JSON.stringify(n)&&this.layer.setData(n),!o||JSON.stringify(s)===JSON.stringify(n)&&o===l||this.setViewport()}else this.initialize()},t.prototype.destroy=function(){this.layer&&this.view&&(this._createLayer=!1,this.view.removeLayer(this.layer),this.layer.destroy(),this.layer=null)},t.prototype.initialize=function(){var e=this.map=this.getMap(),t=this.view=this.props.view||this.context.view;e&&t&&(this._createLayer||this.createLayers(),this.layer.setData(this.props.data),this.props.autoViewport&&this.setViewport())},t.prototype.setViewport=function(){var e="bd09mc"===this.props.coordType,t=function(t){var r=new BMapGL.Point(t[0],t[1]);return e?BMapGL.Projection.convertMC2LL(r):r},r=[];this.props.data.forEach((function(e){"Point"===e.geometry.type?r.push(t(e.geometry.coordinates)):"LineString"===e.geometry.type?e.geometry.coordinates.forEach((function(e){r.push(t(e))})):"Polygon"===e.geometry.type?e.geometry.coordinates[0].forEach((function(e){r.push(t(e))})):"MultiPolygon"===e.geometry.type&&e.geometry.coordinates.forEach((function(e){e[0].forEach((function(e){r.push(t(e))}))}))})),r.length>0&&this.map.setViewport(r,this.props.viewportOptions||{})},t.prototype.createLayers=function(){if(i[this.props.type]||o[this.props.type]){this._createLayer=!0;var e=i[this.props.type]?i:o;this.layer=new e[this.props.type](this.props.options),this.view.addLayer(this.layer)}else console.error("mapvgl doesn't have layer "+this.props.type+"!")},t.prototype.render=function(){return null},t.contextType=s.ViewContext,t}(a.Component);t.default=u},Tskq:function(e,t,r){"use strict";var n=r("bWFh"),i=r("ZWaQ");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},U3f4:function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("rW0t"),a=r("n3/R").UNSUPPORTED_Y;n&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},U8pU:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,"a",(function(){return n}))},UMSQ:function(e,t,r){var n=r("ppGB"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},"UNi/":function(e,t){function r(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}e.exports=r},UTVS:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},UVaH:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r("FpZJ");e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},UesL:function(e,t,r){"use strict";var n=r("glrk"),i=r("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!==e)}},UxlC:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("ewvW"),a=r("UMSQ"),s=r("ppGB"),u=r("HYAF"),l=r("iqWW"),c=r("FMNM"),h=Math.max,f=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=n.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(r,n){var i=u(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!v&&y||"string"===typeof n&&-1===n.indexOf(b)){var o=r(t,e,this,n);if(o.done)return o.value}var u=i(e),p=String(this),d="function"===typeof n;d||(n=String(n));var g=u.global;if(g){var A=u.unicode;u.lastIndex=0}var w=[];while(1){var _=c(u,p);if(null===_)break;if(w.push(_),!g)break;var C=String(_[0]);""===C&&(u.lastIndex=l(p,a(u.lastIndex),A))}for(var M="",S=0,T=0;T<w.length;T++){_=w[T];for(var E=String(_[0]),I=h(f(s(_.index),p.length),0),R=[],L=1;L<_.length;L++)R.push(m(_[L]));var P=_.groups;if(d){var O=[E].concat(R,I,p);void 0!==P&&O.push(P);var D=String(n.apply(void 0,O))}else D=x(E,p,I,R,P,n);I>=S&&(M+=p.slice(S,I)+D,S=I+E.length)}return M+p.slice(S)}];function x(e,r,n,i,a,s){var u=n+e.length,l=i.length,c=g;return void 0!==a&&(a=o(a),c=d),t.call(s,c,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>l){var h=p(c/10);return 0===h?t:h<=l?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s}))}}))},Uydy:function(e,t,r){var n=r("I+eb"),i=r("HsHA"),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2,l=!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0;n({target:"Math",stat:!0,forced:l},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+u:i(e-1+s(e-1)*s(e+1))}})},UzNg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("HYAF"),a=r("afO8"),s=r("ZUd8"),u=s.codeAt,l=s.charAt,c="String Iterator",h=a.set,f=a.getterFor(c),p=i((function(e){h(this,{type:c,string:e,index:0})}),"String",(function(){var e,t=f(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=l(r,n),t.index+=e.length,{value:{codePoint:u(e,0),position:n},done:!1})}));n({target:"String",proto:!0},{codePoints:function(){return new p(String(o(this)))}})},V6Ve:function(e,t,r){var n=r("kekF"),i=n(Object.keys,Object);e.exports=i},V93i:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},VAJa:function(e,t,r){"use strict";var n=r("AM7I"),i=r("VF6F"),o=r("JxQ3"),a=n("%TypeError%"),s=n("%WeakMap%",!0),u=n("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},m=function(e,t){var r=g(e,t);return r&&r.value},v=function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},y=function(e,t){return!!g(e,t)};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return l(e,n)}else if(u){if(t)return f(t,n)}else if(r)return m(r,n)},has:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return h(e,n)}else if(u){if(t)return d(t,n)}else if(r)return y(r,n);return!1},set:function(n,i){s&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new s),c(e,n,i)):u?(t||(t=new u),p(t,n,i)):(r||(r={key:{},next:null}),v(r,n,i))}};return n}},VF6F:function(e,t,r){"use strict";var n=r("AM7I"),i=r("PrET"),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i(r):r}},VOz1:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),r=s(t),n=arguments.length<2,i=n?void 0:arguments[1];if(a(e),u(r,(function(r,o){n?(n=!1,i=o):i=e(i,o,r,t)}),void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return i}})},VTBJ:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("rePB");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},VaNO:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},Vnov:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("Sssf"),s=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),(function(t,r){if(r===e)return s.stop(t)}),void 0,!0,!0).result}})},VpIT:function(e,t,r){var n=r("xDBR"),i=r("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(e,t,r){var n=r("0GbY"),i=r("JBy8"),o=r("dBg+"),a=r("glrk");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},"W/eh":function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("wE6v"),u=r("4WOD"),l=r("Bs8V").f;i&&n({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=l(r,n))return t.set}while(r=u(r))}})},W1EI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("s+10");Object.defineProperty(t,"Wrapper",{enumerable:!0,get:function(){return n.default}});var i=r("NRzi");Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return i.default}})},WFqU:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r("IyRk"))},WGBp:function(e,t,r){var n=r("xDBR"),i=r("mh/w");e.exports=n?i:function(e){return Set.prototype.values.call(e)}},WJkJ:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},WKiH:function(e,t,r){var n=r("HYAF"),i=r("WJkJ"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},WPzJ:function(e,t,r){var n=r("I+eb"),i=r("voyM");n({target:"Math",stat:!0},{scale:i})},WbBG:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},WjRb:function(e,t,r){var n=r("ROdP");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},WmNS:function(e,t,r){e.exports=r("97ZR")},WuJL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("hODF")),o=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.getControl=function(){return new BMapGL.ScaleControl(this.getOptions())},t.prototype.render=function(){return null},t}(i.default);t.default=o},WwoR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("s+10")),a=n.__importDefault(r("Gytx")),s=r("g8eg"),u=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove"],l={enableMassClear:["enableMassClear","disableMassClear"]},c=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["position","offset","enableMassClear"],r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.position,n=t.offset,i=t.text,o=t.style,s=e.position,u=e.offset,l=e.text,c=e.style,h=r&&!a.default(r,s),f=!(!n||a.default(n,u)),p=!a.default(i,l),d=!(!o||a.default(o,c)),g=this.parsePosition(r);h&&this.label.setPosition(g),f&&this.label.setOffset(n),p&&this.label.setContent(i),d&&this.label.setStyle(o)},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.label&&(this.map.removeOverlay(this.label),this.instance=this.label=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){this.destroy();var t=this.getOptions(),r=this.parsePosition(this.props.position);t.position=r,this.instance=this.label=new BMapGL.Label(this.props.text||"",t),e.addOverlay(this.label),this.props.style&&this.label.setStyle(this.props.style)}},t.prototype.parsePosition=function(e){var t,r="bd09mc"===this.props.coordType;return t=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),r&&(t=BMapGL.Projection.convertMC2LL(t)),t},t.prototype.render=function(){return null},t.contextType=s.MapContext,t}(i.Component);c.defaultProps={style:{color:"red"}},t.default=o.default(c,u,l)},X7LM:function(e,t,r){"use strict";var n=2147483647,i=36,o=1,a=26,s=38,u=700,l=72,c=128,h="-",f=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",g=i-o,m=Math.floor,v=String.fromCharCode,y=function(e){var t=[],r=0,n=e.length;while(r<n){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},x=function(e,t,r){var n=0;for(e=r?m(e/u):e>>1,e+=m(e/t);e>g*a>>1;n+=i)e=m(e/g);return m(n+(g+1)*e/(e+s))},A=function(e){var t=[];e=y(e);var r,s,u=e.length,f=c,p=0,g=l;for(r=0;r<e.length;r++)s=e[r],s<128&&t.push(v(s));var A=t.length,w=A;A&&t.push(h);while(w<u){var _=n;for(r=0;r<e.length;r++)s=e[r],s>=f&&s<_&&(_=s);var C=w+1;if(_-f>m((n-p)/C))throw RangeError(d);for(p+=(_-f)*C,f=_,r=0;r<e.length;r++){if(s=e[r],s<f&&++p>n)throw RangeError(d);if(s==f){for(var M=p,S=i;;S+=i){var T=S<=g?o:S>=g+a?a:S-g;if(M<T)break;var E=M-T,I=i-T;t.push(v(b(T+E%I))),M=m(E/I)}t.push(v(b(M))),g=x(p,C,w==A),p=0,++w}}++p,++f}return t.join("")};e.exports=function(e){var t,r,n=[],i=e.toLowerCase().replace(p,".").split(".");for(t=0;t<i.length;t++)r=i[t],n.push(f.test(r)?"xn--"+A(r):r);return n.join(".")}},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XMab:function(e,t,r){var n=r("dOgj");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},XWE6:function(e,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r},XbcX:function(e,t,r){"use strict";var n=r("I+eb"),i=r("or9q"),o=r("ewvW"),a=r("UMSQ"),s=r("HAuM"),u=r("ZfDv");n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=a(r.length);return s(e),t=u(r,0),t.length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},Xi7e:function(e,t,r){var n=r("KMkd"),i=r("adU4"),o=r("tMB7"),a=r("+6XX"),s=r("Z8oC");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},"Y+p1":function(e,t,r){var n=r("wF/u");function i(e,t){return n(e,t)}e.exports=i},Y4C7:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.getMap,u=i.store;n({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var r=arguments.length<3?void 0:a(arguments[2]),n=s(o(t),r,!1);if(void 0===n||!n["delete"](e))return!1;if(n.size)return!0;var i=u.get(t);return i["delete"](r),!!i.size||u["delete"](t)}})},YESw:function(e,t,r){var n=r("Cwc5"),i=n(Object,"create");e.exports=i},YGK4:function(e,t,r){"use strict";var n=r("bWFh"),i=r("ZWaQ");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},YJ9l:function(e,t,r){"use strict";var n=r("5wUe"),i=r("bfL6"),o=r("R5yR"),a=r("V93i"),s=r("8jRI"),u=r("8yz6"),l=r("c0go"),c=function(e){return null===e||void 0===e};function h(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(n,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,n){return null===n||void 0===n||0===n.length?r:0===r.length?[[d(t,e),"=",d(n,e)].join("")]:[[r,d(n,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(o(r),null===n?[d(t,e)]:[[d(t,e),"=",d(n,e)].join("")])}}}}function f(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var i="string"===typeof r&&r.includes(e.arrayFormatSeparator),o="string"===typeof r&&!i&&g(r,e).includes(e.arrayFormatSeparator);r=o?g(r,e):r;var a=i||o?r.split(e.arrayFormatSeparator).map((function(t){return g(t,e)})):null===r?r:g(r,e);n[t]=a};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}function p(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function g(e,t){return t.decode?s(e):e}function m(e){return Array.isArray(e)?e.sort():"object"===typeof e?m(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function v(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}function b(e){e=v(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function x(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function A(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),p(t.arrayFormatSeparator);var r=f(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var c=u(t.decode?l.replace(/\+/g," "):l,"="),h=n(c,2),d=h[0],v=h[1];v=void 0===v?null:["comma","separator"].includes(t.arrayFormat)?v:g(v,t),r(g(d,t),v,o)}}}catch(S){s.e(S)}finally{s.f()}for(var y=0,b=Object.keys(o);y<b.length;y++){var A=b[y],w=o[A];if("object"===typeof w&&null!==w)for(var _=0,C=Object.keys(w);_<C.length;_++){var M=C[_];w[M]=x(w[M],t)}else o[A]=x(w,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=m(r):e[t]=r,e}),Object.create(null))}t.extract=b,t.parse=A,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),p(t.arrayFormatSeparator);for(var r=function(r){return t.skipNull&&c(e[r])||t.skipEmptyString&&""===e[r]},n=h(t),i={},o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];r(s)||(i[s]=e[s])}var u=Object.keys(i);return!1!==t.sort&&u.sort(t.sort),u.map((function(r){var i=e[r];return void 0===i?"":null===i?d(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):d(r,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=u(e,"#"),i=n(r,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:A(b(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:g(a,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var n=v(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,r);s&&(s="?".concat(s));var u=y(e.url);return e.fragmentIdentifier&&(u="#".concat(d(e.fragmentIdentifier,r))),"".concat(n).concat(s).concat(u)},t.pick=function(e,r,n){n=Object.assign({parseFragmentIdentifier:!0},n);var i=t.parseUrl(e,n),o=i.url,a=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:o,query:l(a,r),fragmentIdentifier:s},n)},t.exclude=function(e,r,n){var i=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return t.pick(e,i,n)}},YMnH:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("wx14"),i=r("1OyB"),o=r("vuIU"),a=r("Ji7U"),s=r("LK+K"),u=r("q1tI"),l=r("ZvpZ"),c=l["a"],h=r("YlG9"),f=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(o["a"])(r,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,r=e.defaultLocale,i=r||c[null!==t&&void 0!==t?t:"global"],o=this.context,a=t&&o?o[t]:{};return Object(n["a"])(Object(n["a"])({},i instanceof Function?i():i),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?c.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),r}(u["Component"]);f.defaultProps={componentName:"global"},f.contextType=h["a"]},YNrV:function(e,t,r){"use strict";var n=r("g6v/"),i=r("0Dky"),o=r("33Wh"),a=r("dBg+"),s=r("0eef"),u=r("ewvW"),l=r("RK3t"),c=Object.assign,h=Object.defineProperty;e.exports=!c||i((function(){if(n&&1!==c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||o(c({},t)).join("")!=i}))?function(e,t){var r=u(e),i=arguments.length,c=1,h=a.f,f=s.f;while(i>c){var p,d=l(arguments[c++]),g=h?o(d).concat(h(d)):o(d),m=g.length,v=0;while(m>v)p=g[v++],n&&!f.call(d,p)||(r[p]=d[p])}return r}:c},Yhre:function(e,t,r){"use strict";var n=r("2oRo"),i=r("g6v/"),o=r("qYE9"),a=r("kRJp"),s=r("4syw"),u=r("0Dky"),l=r("GarU"),c=r("ppGB"),h=r("UMSQ"),f=r("CyXQ"),p=r("d6cI"),d=r("4WOD"),g=r("0rvr"),m=r("JBy8").f,v=r("m/L8").f,y=r("gdVl"),b=r("1E5z"),x=r("afO8"),A=x.get,w=x.set,_="ArrayBuffer",C="DataView",M="prototype",S="Wrong length",T="Wrong index",E=n[_],I=E,R=n[C],L=R&&R[M],P=Object.prototype,O=n.RangeError,D=p.pack,k=p.unpack,N=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},B=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},U=function(e){return D(e,23,4)},j=function(e){return D(e,52,8)},H=function(e,t){v(e[M],t,{get:function(){return A(this)[t]}})},G=function(e,t,r,n){var i=f(r),o=A(e);if(i+t>o.byteLength)throw O(T);var a=A(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+t);return n?u:u.reverse()},V=function(e,t,r,n,i,o){var a=f(r),s=A(e);if(a+t>s.byteLength)throw O(T);for(var u=A(s.buffer).bytes,l=a+s.byteOffset,c=n(+i),h=0;h<t;h++)u[l+h]=c[o?h:t-h-1]};if(o){if(!u((function(){E(1)}))||!u((function(){new E(-1)}))||u((function(){return new E,new E(1.5),new E(NaN),E.name!=_}))){I=function(e){return l(this,I),new E(f(e))};for(var W,X=I[M]=E[M],q=m(E),Y=0;q.length>Y;)(W=q[Y++])in I||a(I,W,E[W]);X.constructor=I}g&&d(L)!==P&&g(L,P);var Z=new R(new I(2)),K=L.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||s(L,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else I=function(e){l(this,I,_);var t=f(e);w(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},R=function(e,t,r){l(this,R,C),l(e,I,C);var n=A(e).byteLength,o=c(t);if(o<0||o>n)throw O("Wrong offset");if(r=void 0===r?n-o:h(r),o+r>n)throw O(S);w(this,{buffer:e,byteLength:r,byteOffset:o}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},i&&(H(I,"byteLength"),H(R,"buffer"),H(R,"byteLength"),H(R,"byteOffset")),s(R[M],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return k(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return k(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,N,t)},setUint8:function(e,t){V(this,1,e,N,t)},setInt16:function(e,t){V(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,j,t,arguments.length>2?arguments[2]:void 0)}});b(I,_),b(R,C),e.exports={ArrayBuffer:I,DataView:R}},YlG9:function(e,t,r){"use strict";var n=r("q1tI"),i=Object(n["createContext"])(void 0);t["a"]=i},YrtM:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("q1tI");function i(e,t,r){var i=n["useRef"]({});return"value"in i.current&&!r(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},Z0cm:function(e,t){var r=Array.isArray;e.exports=r},Z4nd:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("fXLg");n({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},Z87X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("q1tI")),o=r("W1EI"),a=r("gI1Y"),s=n.__importStar(r("s+10")),u=r("g8eg"),l=["overlaycomplete","overlaycancel"],c={enableCalculate:["enableCalculate","disableCalculate"],enableSorption:["enableSorption","disableSorption"],enableGpc:["enableGpc","disableGpc"]},h={strokeColor:"#5E87DB",fillColor:"#5E87DB",strokeWeight:2,strokeOpacity:1,fillOpacity:.2},f={borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"},p=function(e){function t(t){var r=e.call(this,t)||this;return r.el=i.default.createRef(),r.options=["isOpen","drawingMode","enableDrawingTool","enableCalculate","enableSorption","enableGpc","enableLimit","sorptionDistance","limitOptions","drawingToolOptions","markerOptions","circleOptions","polylineOptions","polygonOptions","rectangleOptions","labelOptions"],r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.drawingmanager&&(this.drawingmanager.close(),this.instance=this.drawingmanager=void 0)},t.prototype.initialize=function(){var e=this,t=this.map=this.getMap();if(t){this.destroy();for(var r=this.getOptions(),n=["circleOptions","polylineOptions","polygonOptions","rectangleOptions"],i=0;i<n.length;i++){var o=n[i];r[o]||(r[o]=h)}if(r.labelOptions||(r.labelOptions=f),r.drawingToolOptions.customContainer=this.el.current,window.BMapGLLib&&BMapGLLib.DrawingManager&&(this.instance=this.drawingmanager=new BMapGLLib.DrawingManager(t,r)),!window.BMapGLLib||!BMapGLLib.DrawingManager){var u=this.props.cssUrl||"//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.css",p=this.props.scriptUrl||"//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.js";a.requireCss(u).then((function(){})),a.requireScript(p).then((function(){e.instance=e.drawingmanager=new BMapGLLib.DrawingManager(t,r),s.registerEvents(e,e.getInstance(e),l),s.toggleMethods(e,e.getInstance(e),c)}))}}},t.prototype.render=function(){return i.default.createElement("div",{className:"react-bmapgl-drawingmanager",ref:this.el,style:this.props.style})},t.contextType=u.MapContext,t}(o.Component);p.defaultProps={isOpen:!1,enableDrawingTool:!0,enableCalculate:!1,enableSorption:!1,enableGpc:!1,enableLimit:!1,sorptionDistance:20,limitOptions:{area:5e7,distance:3e4},drawingToolOptions:{},style:{position:"absolute",left:0,top:0,width:360}},t.default=s.default(p,l,c)},Z8oC:function(e,t,r){var n=r("y1pI");function i(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}e.exports=i},ZUd8:function(e,t,r){var n=r("ppGB"),i=r("HYAF"),o=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},ZWaQ:function(e,t,r){"use strict";var n=r("m/L8").f,i=r("fHMY"),o=r("4syw"),a=r("A2ZE"),s=r("GarU"),u=r("ImZN"),l=r("fdAy"),c=r("JiZb"),h=r("g6v/"),f=r("8YOa").fastKey,p=r("afO8"),d=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,c,t),d(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),void 0!=n&&u(n,e[l],e,r)})),p=g(t),m=function(e,t,r){var n,i,o=p(e),a=v(e,t);return a?a.value=r:(o.last=a={index:i=f(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),h?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},v=function(e,t){var r,n=p(e),i=f(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(c.prototype,{clear:function(){var e=this,t=p(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:e.size=0},delete:function(e){var t=this,r=p(t),n=v(t,e);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),h?r.size--:t.size--}return!!n},forEach:function(e){var t,r=p(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),o(c.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&n(c.prototype,"size",{get:function(){return p(this).size}}),c},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),o=g(n);l(e,t,(function(e,t){d(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(t)}}},ZY7T:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),l=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),r=new(u(t,o("Set"))),n=s(t.has),i=s(r.add);return l(e,(function(e){n.call(t,e)&&i.call(r,e)})),r}})},ZfDv:function(e,t,r){var n=r("hh1v"),i=r("6LWA"),o=r("tiKp"),a=o("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},Zm9Q:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("q1tI"),i=r.n(n),o=r("TOwV");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?r=r.concat(a(e)):Object(o["isFragment"])(e)&&e.props?r=r.concat(a(e.props.children,t)):r.push(e))})),r}},ZqBY:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return ae}));var n=r("Qyje");r("LpSC");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t,r){return g=d()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),o=new i;return r&&p(o,r.prototype),o},g.apply(null,arguments)}function m(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function v(e){var t="function"===typeof Map?new Map:void 0;return v=function(e){if(null===e||!m(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},v(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function x(e){var t=d();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function A(e){return w(e)||_(e)||C(e)||S()}function w(e){if(Array.isArray(e))return M(e)}function _(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e,t){if(e){if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e){if(!Array.isArray(e))throw new TypeError("Middlewares must be an array!");for(var t=e.length,r=0;r<t;r++)if("function"!==typeof e[r])throw new TypeError("Middleware must be componsed of function");return function(t,r){var n=-1;function i(o){if(o<=n)return Promise.reject(new Error("next() should not be called multiple times in one middleware!"));n=o;var a=e[o]||r;if(!a)return Promise.resolve();try{return Promise.resolve(a(t,(function(){return i(o+1)})))}catch(s){return Promise.reject(s)}}return i(0)}}var E=function(){function t(e){if(s(this,t),!Array.isArray(e))throw new TypeError("Default middlewares must be an array!");this.defaultMiddlewares=A(e),this.middlewares=[]}return l(t,[{key:"use",value:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1,defaultInstance:!1},i=!1,o=!1,s=!1;"number"===typeof n?(e&&Object({NODE_ENV:"production"}),i=!0,o=!1):"object"===a(n)&&n&&(o=n.global||!1,i=n.core||!1,s=n.defaultInstance||!1),o?t.globalMiddlewares.splice(t.globalMiddlewares.length-t.defaultGlobalMiddlewaresLength,0,r):i?t.coreMiddlewares.splice(t.coreMiddlewares.length-t.defaultCoreMiddlewaresLength,0,r):s?this.defaultMiddlewares.push(r):this.middlewares.push(r)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=T([].concat(A(this.middlewares),A(this.defaultMiddlewares),A(t.globalMiddlewares),A(t.coreMiddlewares)));return r(e)}}]),t}();E.globalMiddlewares=[],E.defaultGlobalMiddlewaresLength=0,E.coreMiddlewares=[],E.defaultCoreMiddlewaresLength=0;var I=function(){function e(t){s(this,e),this.cache=new Map,this.timer={},this.extendOptions(t)}return l(e,[{key:"extendOptions",value:function(e){this.maxCache=e.maxCache||0}},{key:"get",value:function(e){return this.cache.get(JSON.stringify(e))}},{key:"set",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;if(this.maxCache>0&&this.cache.size>=this.maxCache){var i=A(this.cache.keys())[0];this.cache.delete(i),this.timer[i]&&clearTimeout(this.timer[i])}var o=JSON.stringify(e);this.cache.set(o,t),n>0&&(this.timer[o]=setTimeout((function(){r.cache.delete(o),delete r.timer[o]}),n))}},{key:"delete",value:function(e){var t=JSON.stringify(e);return delete this.timer[t],this.cache.delete(t)}},{key:"clear",value:function(){return this.timer={},this.cache.clear()}}]),e}(),R=function(e){h(r,e);var t=x(r);function r(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RequestError";return s(this,r),i=t.call(this,e),i.name="RequestError",i.request=n,i.type=o,i}return r}(v(Error)),L=function(e){h(r,e);var t=x(r);function r(e,n,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ResponseError";return s(this,r),a=t.call(this,n||e.statusText),a.name="ResponseError",a.data=i,a.response=e,a.request=o,a.type=u,a}return r}(v(Error));function P(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=r,n.readAsText(e,"GBK")}))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return JSON.parse(e)}catch(i){if(t)throw new L(r,"JSON.parse fail",e,n,"ParseError")}return e}function D(e,t,r){return new Promise((function(n,i){setTimeout((function(){i(new R(t||"timeout of ".concat(e,"ms exceeded"),r,"Timeout"))}),e)}))}function k(e){return new Promise((function(t,r){e.cancelToken&&e.cancelToken.promise.then((function(e){r(e)}))}))}var N=Object.prototype.toString;function F(){var t;return"undefined"!==typeof e&&"[object process]"===N.call(e)&&(t="NODE"),"undefined"!==typeof XMLHttpRequest&&(t="BROWSER"),t}function B(e){return"object"===a(e)&&"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function U(e){return"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}function j(e){return null!==e&&"object"===a(e)}function H(e,t){if(e)if("object"!==a(e)&&(e=[e]),B(e))for(var r=0;r<e.length;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}function G(e){return z(e)?Object(n["parse"])(e.toString(),{strictNullHandling:!0}):"string"===typeof e?[e]:e}function V(e){return Object(n["stringify"])(e,{arrayFormat:"repeat",strictNullHandling:!0})}function W(e,t){return o(o(o({},e),t),{},{headers:o(o({},e.headers),t.headers),params:o(o({},G(e.params)),G(t.params)),method:(t.method||e.method||"get").toLowerCase()})}var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.prefix,n=t.suffix;return r&&(e="".concat(r).concat(e)),n&&(e="".concat(e).concat(n)),{url:e,options:t}};function q(e,t){var r=t.method,n=void 0===r?"get":r;return"get"===n.toLowerCase()}function Y(t,r){if(!t)return r();var n=t.req;n=void 0===n?{}:n;var i=n.options,o=void 0===i?{}:i,a=n.url,s=void 0===a?"":a,u=t.cache,l=t.responseInterceptors,c=o.timeout,h=void 0===c?0:c,f=o.timeoutMessage,p=o.__umiRequestCoreType__,d=void 0===p?"normal":p,g=o.useCache,m=void 0!==g&&g,v=o.method,y=void 0===v?"get":v,b=o.params,x=o.ttl,A=o.validateCache,w=void 0===A?q:A;if("normal"!==d)return e&&Object({NODE_ENV:"production"}),r();var _=fetch;if(!_)throw new Error("Global fetch not exist!");var C,M="BROWSER"===F(),S=w(s,o)&&m&&M;if(S){var T=u.get({url:s,params:b,method:y});if(T)return T=T.clone(),T.useCache=!0,t.res=T,r()}return C=h>0?Promise.race([k(o),_(s,o),D(h,f,t.req)]):Promise.race([k(o),_(s,o)]),l.forEach((function(e){C=C.then((function(t){var r="function"===typeof t.clone?t.clone():t;return e(r,o)}))})),C.then((function(e){if(S&&200===e.status){var n=e.clone();n.useCache=!0,u.set({url:s,params:b,method:y},n,x)}return t.res=e,r()}))}function Z(e,t){var r;return t().then((function(){if(e){var t=e.res,n=void 0===t?{}:t,i=e.req,o=void 0===i?{}:i,a=o||{},s=a.options;s=void 0===s?{}:s;var u=s.responseType,l=void 0===u?"json":u,c=s.charset,h=void 0===c?"utf8":c,f=(s.getResponse,s.throwErrIfParseFail),p=void 0!==f&&f,d=s.parseResponse,g=void 0===d||d;if(g&&n&&n.clone){if(r="BROWSER"===F()?n.clone():n,r.useCache=n.useCache||!1,"gbk"===h)try{return n.blob().then(P).then((function(e){return O(e,!1,r,o)}))}catch(m){throw new L(r,m.message,null,o,"ParseError")}else if("json"===l)return n.text().then((function(e){return O(e,p,r,o)}));try{return n[l]()}catch(m){throw new L(r,"responseType not support",null,o,"ParseError")}}}})).then((function(t){if(e){e.res;var n=e.req,i=void 0===n?{}:n,o=i||{},a=o.options;a=void 0===a?{}:a;var s=a.getResponse,u=void 0!==s&&s;if(r){if(r.status>=200&&r.status<300)return u?void(e.res={data:t,response:r}):void(e.res=t);throw new L(r,"http error",t,i,"HttpError")}}})).catch((function(t){if(t instanceof R||t instanceof L)throw t;var r=e.req,n=e.res;throw t.request=t.request||r,t.response=t.response||n,t.type=t.type||t.name,t.data=t.data||void 0,t}))}function K(e,t){if(!e)return t();var r=e.req;r=void 0===r?{}:r;var n=r.options,i=void 0===n?{}:n,a=i.method,s=void 0===a?"get":a;if(-1===["post","put","patch","delete"].indexOf(s.toLowerCase()))return t();var u=i.requestType,l=void 0===u?"json":u,c=i.data;if(c){var h=Object.prototype.toString.call(c);"[object Object]"===h||"[object Array]"===h?"json"===l?(i.headers=o({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},i.headers),i.body=JSON.stringify(c)):"form"===l&&(i.headers=o({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},i.headers),i.body=V(c)):(i.headers=o({Accept:"application/json"},i.headers),i.body=c)}return e.req.options=i,t()}function J(e,t){var r,n;if(e)if(t)r=t(e);else if(z(e))r=e.toString();else if(B(e))n=[],H(e,(function(e){null===e||"undefined"===typeof e?n.push(e):n.push(j(e)?JSON.stringify(e):e)})),r=V(n);else{n={},H(e,(function(e,t){var r=e;null===e||"undefined"===typeof e?n[t]=e:U(e)?r=e.toISOString():B(e)?r=e:j(e)&&(r=JSON.stringify(e)),n[t]=r}));var i=V(n);r=i}return r}function Q(e,t){if(!e)return t();var r=e.req;r=void 0===r?{}:r;var n=r.options,i=void 0===n?{}:n,o=i.paramsSerializer,a=i.params,s=e.req;s=void 0===s?{}:s;var u=s.url,l=void 0===u?"":u;i.method=i.method?i.method.toUpperCase():"GET",i.credentials=i.credentials||"same-origin";var c=J(a,o);if(e.req.originUrl=l,c){var h=-1!==l.indexOf("?")?"&":"?";e.req.url="".concat(l).concat(h).concat(c)}return e.req.options=i,t()}var $=[K,Q,Z],ee=[Y];E.globalMiddlewares=$,E.defaultGlobalMiddlewaresLength=$.length,E.coreMiddlewares=ee,E.defaultCoreMiddlewaresLength=ee.length;var te=function(){function e(t){s(this,e),this.onion=new E([]),this.fetchIndex=0,this.mapCache=new I(t),this.initOptions=t,this.instanceRequestInterceptors=[],this.instanceResponseInterceptors=[]}return l(e,[{key:"use",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1};return this.onion.use(e,t),this}},{key:"extendOptions",value:function(e){this.initOptions=W(this.initOptions,e),this.mapCache.extendOptions(e)}},{key:"dealRequestInterceptors",value:function(t){var r=function(e,r){return e.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,r(t.req.url,t.req.options)}))},n=[].concat(A(e.requestInterceptors),A(this.instanceRequestInterceptors));return n.reduce(r,Promise.resolve()).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,Promise.resolve()}))}},{key:"request",value:function(t,r){var n=this,i=this.onion,a={req:{url:t,options:o(o({},r),{},{url:t})},res:null,cache:this.mapCache,responseInterceptors:[].concat(A(e.responseInterceptors),A(this.instanceResponseInterceptors))};if("string"!==typeof t)throw new Error("url MUST be a string");return new Promise((function(e,t){n.dealRequestInterceptors(a).then((function(){return i.execute(a)})).then((function(){e(a.res)})).catch((function(r){var n=a.req.options.errorHandler;if(n)try{var i=n(r);e(i)}catch(o){t(o)}else t(r)}))}))}}],[{key:"requestUse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");r.global?e.requestInterceptors.push(t):this.instanceRequestInterceptors.push(t)}},{key:"responseUse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");r.global?e.responseInterceptors.push(t):this.instanceResponseInterceptors.push(t)}}]),e}();function re(e){this.message=e}function ne(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new re(e),t(r.reason))}))}function ie(e){return!(!e||!e.__CANCEL__)}te.requestInterceptors=[X],te.responseInterceptors=[],re.prototype.toString=function(){return this.message?"Cancel: ".concat(this.message):"Cancel"},re.prototype.__CANCEL__=!0,ne.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ne.source=function(){var e,t=new ne((function(t){e=t}));return{token:t,cancel:e}};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e),r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=W(t.initOptions,r);return t.request(e,n)};r.use=t.use.bind(t),r.fetchIndex=t.fetchIndex,r.interceptors={request:{use:te.requestUse.bind(t)},response:{use:te.responseUse.bind(t)}};var n=["get","post","delete","put","patch","head","options","rpc"];return n.forEach((function(e){r[e]=function(t,n){return r(t,o(o({},n),{},{method:e}))}})),r.Cancel=re,r.CancelToken=ne,r.isCancel=ie,r.extendOptions=t.extendOptions.bind(t),r.middlewares={instance:t.onion.middlewares,defaultInstance:t.onion.defaultMiddlewares,global:E.globalMiddlewares,core:E.coreMiddlewares},r},ae=function(e){return oe(e)};oe({parseResponse:!1}),oe({})}).call(this,r("Q2Ig"))},ZsH6:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=r("4WOD"),s=i.has,u=i.get,l=i.toKey,c=function(e,t,r){var n=s(e,t,r);if(n)return u(e,t,r);var i=a(t);return null!==i?c(e,i,r):void 0};n({target:"Reflect",stat:!0},{getMetadata:function(e,t){var r=arguments.length<3?void 0:l(arguments[2]);return c(e,o(t),r)}})},ZvpZ:function(e,t,r){"use strict";var n={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},i=r("wx14"),o={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},a=o,s={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},u=s,l={lang:Object(i["a"])({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},a),timePickerLocale:Object(i["a"])({},u)},c=l,h=c,f="${label} is not a valid ${type}",p={locale:"en",Pagination:n,DatePicker:c,TimePicker:u,Calendar:h,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:f,method:f,array:f,object:f,number:f,date:f,boolean:f,integer:f,float:f,regexp:f,email:f,url:f,hex:f},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t["a"]=p},a3WO:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},"a5/B":function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{umulh:function(e,t){var r=65535,n=+e,i=+t,o=n&r,a=i&r,s=n>>>16,u=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&r)>>>16)}})},a57n:function(e,t,r){var n=r("dG/n");n("search")},aI7X:function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||o.call(t)!==a)throw new TypeError(n+t);for(var r,s=i.call(arguments,1),u=function(){if(this instanceof r){var n=t.apply(this,s.concat(i.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(i.call(arguments)))},l=Math.max(0,t.length-s.length),c=[],h=0;h<l;h++)c.push("$"+h);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var f=function(){};f.prototype=t.prototype,r.prototype=new f,f.prototype=null}return r}},aVhU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("0GZW")),o=n.__importDefault(r("Gytx")),a=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],r}return n.__extends(t,e),t.prototype.onDataUpdate=function(e){var t=this.props,r=t.path,n=t.autoViewport,i=e.path,a=e.autoViewport,s=r&&!o.default(r,i),u=!o.default(n,a);if(s&&this.overlay.setPath(this.parsePath(r)),n&&(s||u)){var l=this.overlay.getPath(),c=this.props.map.getViewport(l,this.props.viewportOptions||{});this.props.map.setViewport(c)}},t.prototype.getOverlay=function(){var e=this.parsePath(this.props.path);return new BMapGL.Polygon(e,this.getOptions())},t.prototype.parsePath=function(e){var t="bd09mc"===this.props.coordType,r=e.map((function(e){var r;return r=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),t&&(r=BMapGL.Projection.convertMC2LL(r)),r}));return r},t.prototype.render=function(){return null},t}(i.default);t.default=a},adU4:function(e,t,r){var n=r("y1pI"),i=Array.prototype,o=i.splice;function a(e){var t=this.__data__,r=n(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():o.call(t,r,1),--this.size,!0}e.exports=a},afO8:function(e,t,r){var n,i,o,a=r("f5p1"),s=r("2oRo"),u=r("hh1v"),l=r("kRJp"),c=r("UTVS"),h=r("93I0"),f=r("0BK2"),p=s.WeakMap,d=function(e){return o(e)?i(e):n(e,{})},g=function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(a){var m=new p,v=m.get,y=m.has,b=m.set;n=function(e,t){return b.call(m,e,t),t},i=function(e){return v.call(m,e)||{}},o=function(e){return y.call(m,e)}}else{var x=h("state");f[x]=!0,n=function(e,t){return l(e,x,t),t},i=function(e){return c(e,x)?e[x]:{}},o=function(e){return c(e,x)}}e.exports={set:n,get:i,has:o,enforce:d,getterFor:g}},apDx:function(e,t,r){var n=r("dG/n");n("dispose")},auQ1:function(e,t,r){"use strict";e.exports=r("L8im")},b1O7:function(e,t,r){var n=r("g6v/"),i=r("33Wh"),o=r("/GqU"),a=r("0eef").f,s=function(e){return function(t){var r,s=o(t),u=i(s),l=u.length,c=0,h=[];while(l>c)r=u[c++],n&&!a.call(s,r)||h.push(e?[r,s[r]]:s[r]);return h}};e.exports={entries:s(!0),values:s(!1)}},b3aT:function(e,t,r){"use strict";function n(e,t){o(e)&&(e="100%");var r=a(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function i(e){return Math.min(1,Math.max(0,e))}function o(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function a(e){return"string"===typeof e&&-1!==e.indexOf("%")}function s(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function u(e){return e<=1?100*Number(e)+"%":e}function l(e){return 1===e.length?"0"+e:String(e)}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l}))},b80T:function(e,t,r){var n=r("UNi/"),i=r("03A+"),o=r("Z0cm"),a=r("DSRE"),s=r("wJg7"),u=r("c6wG"),l=Object.prototype,c=l.hasOwnProperty;function h(e,t){var r=o(e),l=!r&&i(e),h=!r&&!l&&a(e),f=!r&&!l&&!h&&u(e),p=r||l||h||f,d=p?n(e.length,String):[],g=d.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||d.push(m);return d}e.exports=h},bFeb:function(e,t,r){var n=r("I+eb"),i=r("2oRo");n({global:!0},{globalThis:i})},bKJz:function(e,t,r){},bWFh:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("lMq5"),a=r("busE"),s=r("8YOa"),u=r("ImZN"),l=r("GarU"),c=r("hh1v"),h=r("0Dky"),f=r("HH4o"),p=r("1E5z"),d=r("cVYH");e.exports=function(e,t,r){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",y=i[e],b=y&&y.prototype,x=y,A={},w=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(o(e,"function"!=typeof y||!(m||b.forEach&&!h((function(){(new y).entries().next()})))))x=r.getConstructor(t,e,g,v),s.REQUIRED=!0;else if(o(e,!0)){var _=new x,C=_[v](m?{}:-0,1)!=_,M=h((function(){_.has(1)})),S=f((function(e){new y(e)})),T=!m&&h((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));S||(x=t((function(t,r){l(t,x,e);var n=d(new y,t,x);return void 0!=r&&u(r,n[v],n,g),n})),x.prototype=b,b.constructor=x),(M||T)&&(w("delete"),w("has"),g&&w("get")),(T||C)&&w(v),m&&b.clear&&delete b.clear}return A[e]=x,n({global:!0,forced:x!=y},A),p(x,e),m||r.setStrong(x,e,g),x}},bXwC:function(e,t,r){},bZMm:function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return h})),r.d(t,"Request",(function(){return A})),r.d(t,"Response",(function(){return C})),r.d(t,"DOMException",(function(){return S})),r.d(t,"fetch",(function(){return T}));var n="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(e){return e&&DataView.prototype.isPrototypeOf(e)}if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function d(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}function m(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&o(e)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(d)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype["delete"]=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),c(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),c(e)},i.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=x(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e){var t=new h,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},y.call(A.prototype),y.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var M=[301,302,303,307,308];C.redirect=function(e,t){if(-1===M.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})};var S=n.DOMException;try{new S}catch(E){S=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},S.prototype=Object.create(Error.prototype),S.prototype.constructor=S}function T(e,t){return new Promise((function(r,o){var a=new A(e,t);if(a.signal&&a.signal.aborted)return o(new S("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}function c(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;setTimeout((function(){r(new C(t,e))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new S("Aborted","AbortError"))}),0)},s.open(a.method,c(a.url),!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof h?a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,l(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}T.polyfill=!0,n.fetch||(n.fetch=T,n.Headers=h,n.Request=A,n.Response=C)},bdeN:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=r("4WOD"),s=i.has,u=i.toKey,l=function(e,t,r){var n=s(e,t,r);if(n)return!0;var i=a(t);return null!==i&&l(e,i,r)};n({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var r=arguments.length<3?void 0:u(arguments[2]);return l(e,o(t),r)}})},bdgK:function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var r=!1,n=!1,i=0;function s(){r&&(r=!1,e()),n&&l()}function u(){o(s)}function l(){var e=Date.now();if(r){if(e-i<a)return;n=!0}else r=!0,n=!1,setTimeout(u,t);i=e}return l}var u=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,h=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t,n=l.some((function(e){return!!~r.indexOf(e)}));n&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),f=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},d=C(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){var n=e["border-"+r+"-width"];return t+g(n)}),0)}function v(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],a=e["padding-"+o];r[o]=g(a)}return r}function y(e){var t=e.getBBox();return C(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=p(e).getComputedStyle(e),i=v(n),o=i.left+i.right,a=i.top+i.bottom,s=g(n.width),u=g(n.height);if("border-box"===n.boxSizing&&(Math.round(s+o)!==t&&(s-=m(n,"left","right")+o),Math.round(u+a)!==r&&(u-=m(n,"top","bottom")+a)),!A(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-r;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return C(i.left,i.top,s,u)}var x=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"===typeof e.getBBox}}();function A(e){return e===p(e).document.documentElement}function w(e){return n?x(e)?y(e):b(e):d}function _(e){var t=e.x,r=e.y,n=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return f(a,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),a}function C(e,t,r,n){return{x:e,y:t,width:r,height:n}}var M=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=w(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(){function e(e,t){var r=_(t);f(this,{target:e,contentRect:r})}return e}(),T=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new M(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new S(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!==typeof WeakMap?new WeakMap:new r,I=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=h.getInstance(),n=new T(t,r,this);E.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach((function(e){I.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var R=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:I}();t["a"]=R}).call(this,r("IyRk"))},bfL6:function(e,t,r){var n=r("mGKP");function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(u)throw a}}}}e.exports=i},bmMU:function(e,t){var r="undefined"!==typeof Element,n="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,u,l,c;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(!a(e[u],t[u]))return!1;return!0}if(n&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;c=e.entries();while(!(u=c.next()).done)if(!t.has(u.value[0]))return!1;c=e.entries();while(!(u=c.next()).done)if(!a(u.value[1],t.get(u.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;c=e.entries();while(!(u=c.next()).done)if(!t.has(u.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(e[u]!==t[u])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(t,l[u]))return!1;if(r&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==l[u]&&"__v"!==l[u]&&"__o"!==l[u]||!e.$$typeof)&&!a(e[l[u]],t[l[u]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return a(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},busE:function(e,t,r){var n=r("2oRo"),i=r("kRJp"),o=r("UTVS"),a=r("zk60"),s=r("iSVu"),u=r("afO8"),l=u.get,c=u.enforce,h=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),c(r).source=h.join("string"==typeof t?t:"")),e!==n?(u?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=r:i(e,t,r)):l?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},bw0O:function(e,t,r){"use strict";e.exports=r("mW11")},"c+Xe":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return l}));var n=r("U8pU"),i=r("TOwV"),o=r("YrtM");function a(e,t){"function"===typeof e?e(t):"object"===Object(n["a"])(e)&&e&&"current"in e&&(e.current=t)}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){a(t,e)}))}}function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object(o["a"])((function(){return s.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}))}function l(e){var t,r,n=Object(i["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof n&&!(null===(t=n.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(r=e.prototype)||void 0===r?void 0:r.render))}},c0go:function(e,t,r){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},c6wG:function(e,t,r){var n=r("dD9F"),i=r("sEf8"),o=r("mdPL"),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},c9m3:function(e,t,r){var n=r("RNIs");n("flatMap")},cOPa:function(e,t,r){var n=r("I+eb"),i=Math.min,o=Math.max;n({target:"Math",stat:!0},{clamp:function(e,t,r){return i(r,o(t,e))}})},cVYH:function(e,t,r){var n=r("hh1v"),i=r("0rvr");e.exports=function(e,t,r){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(e,a),e}},cfiF:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},ctDJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),l=r("SEBh"),c=r("WGBp"),h=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),r=c(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,o("Set"))),f=s(i.add);return h(r,(function(e){f.call(i,n(e,e,t))}),void 0,!1,!0),i}})},cvf0:function(e,t,r){"use strict";var n=r("67WC").exportTypedArrayMethod,i=r("0Dky"),o=r("2oRo"),a=o.Uint8Array,s=a&&a.prototype||{},u=[].toString,l=[].join;i((function(){u.call({})}))&&(u=function(){return l.call(this)});var c=s.toString!=u;n("toString",u,c)},d6cI:function(e,t){var r=1/0,n=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,u=function(e,t,u){var l,c,h,f=new Array(u),p=8*u-t-1,d=(1<<p)-1,g=d>>1,m=23===t?i(2,-24)-i(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for(e=n(e),e!=e||e===r?(c=e!=e?1:0,l=d):(l=o(a(e)/s),e*(h=i(2,-l))<1&&(l--,h*=2),e+=l+g>=1?m/h:m*i(2,1-g),e*h>=2&&(l++,h/=2),l+g>=d?(c=0,l=d):l+g>=1?(c=(e*h-1)*i(2,t),l+=g):(c=e*i(2,g-1)*i(2,t),l=0));t>=8;f[y++]=255&c,c/=256,t-=8);for(l=l<<t|c,p+=t;p>0;f[y++]=255&l,l/=256,p-=8);return f[--y]|=128*v,f},l=function(e,t){var n,o=e.length,a=8*o-t-1,s=(1<<a)-1,u=s>>1,l=a-7,c=o-1,h=e[c--],f=127&h;for(h>>=7;l>0;f=256*f+e[c],c--,l-=8);for(n=f&(1<<-l)-1,f>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===f)f=1-u;else{if(f===s)return n?NaN:h?-r:r;n+=i(2,t),f-=u}return(h?-1:1)*n*i(2,f-t)};e.exports={pack:u,unpack:l}},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},dD9F:function(e,t,r){var n=r("NykK"),i=r("shjB"),o=r("ExA7"),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",A="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",M="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",E="[object Uint16Array]",I="[object Uint32Array]",R={};function L(e){return o(e)&&i(e.length)&&!!R[n(e)]}R[A]=R[w]=R[_]=R[C]=R[M]=R[S]=R[T]=R[E]=R[I]=!0,R[a]=R[s]=R[b]=R[u]=R[x]=R[l]=R[c]=R[h]=R[f]=R[p]=R[d]=R[g]=R[m]=R[v]=R[y]=!1,e.exports=L},"dG/n":function(e,t,r){var n=r("Qo9l"),i=r("UTVS"),o=r("5Tg+"),a=r("m/L8").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},dI71:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(n["a"])(e,t)}},dNT4:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(r,(function(e){if(!n(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},dOgj:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("g6v/"),a=r("iqeF"),s=r("67WC"),u=r("Yhre"),l=r("GarU"),c=r("XGwC"),h=r("kRJp"),f=r("UMSQ"),p=r("CyXQ"),d=r("GC2F"),g=r("wE6v"),m=r("UTVS"),v=r("9d/t"),y=r("hh1v"),b=r("fHMY"),x=r("0rvr"),A=r("JBy8").f,w=r("oHi+"),_=r("tycR").forEach,C=r("JiZb"),M=r("m/L8"),S=r("Bs8V"),T=r("afO8"),E=r("cVYH"),I=T.get,R=T.set,L=M.f,P=S.f,O=Math.round,D=i.RangeError,k=u.ArrayBuffer,N=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,z=s.TypedArray,U=s.TypedArrayPrototype,j=s.aTypedArrayConstructor,H=s.isTypedArray,G="BYTES_PER_ELEMENT",V="Wrong length",W=function(e,t){var r=0,n=t.length,i=new(j(e))(n);while(n>r)i[r]=t[r++];return i},X=function(e,t){L(e,t,{get:function(){return I(this)[t]}})},q=function(e){var t;return e instanceof k||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},Y=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Z=function(e,t){return Y(e,t=g(t,!0))?c(2,e[t]):P(e,t)},K=function(e,t,r){return!(Y(e,t=g(t,!0))&&y(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?L(e,t,r):(e[t]=r.value,e)};o?(F||(S.f=Z,M.f=K,X(U,"buffer"),X(U,"byteOffset"),X(U,"byteLength"),X(U,"length")),n({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Z,defineProperty:K}),e.exports=function(e,t,r){var o=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,c="set"+e,g=i[s],m=g,v=m&&m.prototype,M={},S=function(e,t){var r=I(e);return r.view[u](t*o+r.byteOffset,!0)},T=function(e,t,n){var i=I(e);r&&(n=(n=O(n))<0?0:n>255?255:255&n),i.view[c](t*o+i.byteOffset,n,!0)},P=function(e,t){L(e,t,{get:function(){return S(this,t)},set:function(e){return T(this,t,e)},enumerable:!0})};F?a&&(m=t((function(e,t,r,n){return l(e,m,s),E(function(){return y(t)?q(t)?void 0!==n?new g(t,d(r,o),n):void 0!==r?new g(t,d(r,o)):new g(t):H(t)?W(m,t):w.call(m,t):new g(p(t))}(),e,m)})),x&&x(m,z),_(A(g),(function(e){e in m||h(m,e,g[e])})),m.prototype=v):(m=t((function(e,t,r,n){l(e,m,s);var i,a,u,c=0,h=0;if(y(t)){if(!q(t))return H(t)?W(m,t):w.call(m,t);i=t,h=d(r,o);var g=t.byteLength;if(void 0===n){if(g%o)throw D(V);if(a=g-h,a<0)throw D(V)}else if(a=f(n)*o,a+h>g)throw D(V);u=a/o}else u=p(t),a=u*o,i=new k(a);R(e,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new N(i)});while(c<u)P(e,c++)})),x&&x(m,z),v=m.prototype=b(U)),v.constructor!==m&&h(v,"constructor",m),B&&h(v,B,s),M[s]=m,n({global:!0,forced:m!=g,sham:!F},M),G in m||h(m,G,o),G in v||h(v,G,o),C(s)}):e.exports=function(){}},dj1d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=r("gI1Y"),a=n.__importStar(r("s+10")),s=r("g8eg"),u=["drawend","addpoint","removepolyline"],l={},c=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["tips","followText","unit","lineColor","lineStroke","opacity","lineStyle","cursor","secIcon","closeIcon"],r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.distancetool&&(this.distancetool.close(),this.instance=this.distancetool=void 0)},t.prototype.initialize=function(){var e=this,t=this.map=this.getMap();if(t){this.destroy();var r=this.getOptions();if(window.BMapGLLib&&BMapGLLib.DistanceTool&&(this.instance=this.distancetool=new BMapGLLib.DistanceTool(t,r),this.props.defaultOpen&&this.distancetool.open()),!window.BMapGLLib||!BMapGLLib.DistanceTool){var n=this.props.scriptUrl||"//mapopen.bj.bcebos.com/github/BMapGLLib/DistanceTool/src/DistanceTool.js";o.requireScript(n).then((function(){e.instance=e.distancetool=new BMapGLLib.DistanceTool(t,r),a.registerEvents(e,e.getInstance(e),u),a.toggleMethods(e,e.getInstance(e),l),e.props.defaultOpen&&e.distancetool.open()}))}}},t.prototype.render=function(){return null},t.contextType=s.MapContext,t}(i.Component);c.defaultProps={defaultOpen:!0},t.default=a.default(c,u,l)},e4Nc:function(e,t,r){var n=r("fGT3"),i=r("k+1r"),o=r("JHgL"),a=r("pSRY"),s=r("H8j4");function u(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},e5cp:function(e,t,r){var n=r("fmRc"),i=r("or5M"),o=r("HDyB"),a=r("seXi"),s=r("QqLw"),u=r("Z0cm"),l=r("DSRE"),c=r("c6wG"),h=1,f="[object Arguments]",p="[object Array]",d="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function v(e,t,r,g,v,y){var b=u(e),x=u(t),A=b?p:s(e),w=x?p:s(t);A=A==f?d:A,w=w==f?d:w;var _=A==d,C=w==d,M=A==w;if(M&&l(e)){if(!l(t))return!1;b=!0,_=!1}if(M&&!_)return y||(y=new n),b||c(e)?i(e,t,r,g,v,y):o(e,t,A,r,g,v,y);if(!(r&h)){var S=_&&m.call(e,"__wrapped__"),T=C&&m.call(t,"__wrapped__");if(S||T){var E=S?e.value():e,I=T?t.value():t;return y||(y=new n),v(E,I,r,g,y)}}return!!M&&(y||(y=new n),a(e,t,r,g,v,y))}e.exports=v},e8yt:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importStar(r("q1tI")),o=r("W1EI"),a=n.__importDefault(r("s+10")),s=["confirm","highlight"],u={},l=function(e){function t(t){var r=e.call(this,t)||this;return r.el=i.default.createRef(),r.options=["location","onSearchComplete","input","types"],r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.ac&&(this.ac.dispose(),this.instance=this.ac=void 0)},t.prototype.initialize=function(){this.destroy();var e=this.getOptions();e.input||(e.input=this.el.current),this.ac=this.instance=new BMapGL.Autocomplete(e)},t.prototype.render=function(){return i.default.createElement(i.Fragment,null,!this.props.input&&i.default.createElement("input",{className:"react-bmapgl-autocomplete",ref:this.el,style:this.props.style}))},t}(o.Component);l.defaultProps={},t.default=a.default(l,s,u)},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eDxR:function(e,t,r){var n=r("Tskq"),i=r("ENF9"),o=r("VpIT"),a=o("metadata"),s=a.store||(a.store=new i),u=function(e,t,r){var i=s.get(e);if(!i){if(!r)return;s.set(e,i=new n)}var o=i.get(t);if(!o){if(!r)return;i.set(t,o=new n)}return o},l=function(e,t,r){var n=u(t,r,!1);return void 0!==n&&n.has(e)},c=function(e,t,r){var n=u(t,r,!1);return void 0===n?void 0:n.get(e)},h=function(e,t,r,n){u(r,n,!0).set(e,t)},f=function(e,t){var r=u(e,t,!1),n=[];return r&&r.forEach((function(e,t){n.push(t)})),n},p=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:u,has:l,get:c,set:h,keys:f,toKey:p}},eO0o:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{imulh:function(e,t){var r=65535,n=+e,i=+t,o=n&r,a=i&r,s=n>>16,u=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&r)>>16)}})},ebwN:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Map");e.exports=o},ekgI:function(e,t,r){var n=r("YESw"),i=Object.prototype,o=i.hasOwnProperty;function a(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}e.exports=a},ewvW:function(e,t,r){var n=r("HYAF");e.exports=function(e){return Object(n(e))}},f5p1:function(e,t,r){var n=r("2oRo"),i=r("iSVu"),o=n.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},fGT3:function(e,t,r){var n=r("4kuk"),i=r("Xi7e"),o=r("ebwN");function a(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}e.exports=a},fHMY:function(e,t,r){var n,i=r("glrk"),o=r("N+g0"),a=r("eDl+"),s=r("0BK2"),u=r("G+Rx"),l=r("zBJ4"),c=r("93I0"),h=">",f="<",p="prototype",d="script",g=c("IE_PROTO"),m=function(){},v=function(e){return f+d+h+e+f+"/"+d+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),r="java"+d+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},x=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}x=n?y(n):b();var e=a.length;while(e--)delete x[p][a[e]];return x()};s[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(m[p]=i(e),r=new m,m[p]=null,r[g]=e):r=x(),void 0===t?r:o(r,t)}},fN96:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ZUd8").charAt;n({target:"String",proto:!0},{at:function(e){return i(this,e)}})},"fR/l":function(e,t,r){var n=r("CH3K"),i=r("Z0cm");function o(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}e.exports=o},fXLg:function(e,t,r){"use strict";var n=r("glrk"),i=r("HAuM");e.exports=function(){for(var e=n(this),t=i(e.add),r=0,o=arguments.length;r<o;r++)t.call(e,arguments[r]);return e}},fdAy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("4WOD"),a=r("0rvr"),s=r("1E5z"),u=r("kRJp"),l=r("busE"),c=r("tiKp"),h=r("xDBR"),f=r("P4y1"),p=r("rpNk"),d=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v="keys",y="values",b="entries",x=function(){return this};e.exports=function(e,t,r,c,p,A,w){i(r,t,c);var _,C,M,S=function(e){if(e===p&&L)return L;if(!g&&e in I)return I[e];switch(e){case v:return function(){return new r(this,e)};case y:return function(){return new r(this,e)};case b:return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",E=!1,I=e.prototype,R=I[m]||I["@@iterator"]||p&&I[p],L=!g&&R||S(p),P="Array"==t&&I.entries||R;if(P&&(_=o(P.call(new e)),d!==Object.prototype&&_.next&&(h||o(_)===d||(a?a(_,d):"function"!=typeof _[m]&&u(_,m,x)),s(_,T,!0,!0),h&&(f[T]=x))),p==y&&R&&R.name!==y&&(E=!0,L=function(){return R.call(this)}),h&&!w||I[m]===L||u(I,m,L),f[t]=L,p)if(C={values:S(y),keys:A?L:S(v),entries:S(b)},w)for(M in C)(g||E||!(M in I))&&l(I,M,C[M]);else n({target:t,proto:!0,forced:g||E},C);return C}},fhKU:function(e,t,r){var n=r("2oRo"),i=r("WKiH").trim,o=r("WJkJ"),a=n.parseFloat,s=1/a(o+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),r=a(t);return 0===r&&"-"==t.charAt(0)?-0:r}:a},fmRc:function(e,t,r){var n=r("Xi7e"),i=r("77Zs"),o=r("L8xA"),a=r("gCq4"),s=r("VaNO"),u=r("0Cz8");function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype["delete"]=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},ftKO:function(e,t){var r="__lodash_hash_undefined__";function n(e){return this.__data__.set(e,r),this}e.exports=n},ftMj:function(e,t,r){var n=r("I+eb"),i=r("glrk"),o=r("hh1v"),a=r("UTVS"),s=r("0Dky"),u=r("m/L8"),l=r("Bs8V"),c=r("4WOD"),h=r("XGwC");function f(e,t,r){var n,s,p=arguments.length<4?e:arguments[3],d=l.f(i(e),t);if(!d){if(o(s=c(e)))return f(s,t,r,p);d=h(0)}if(a(d,"value")){if(!1===d.writable||!o(p))return!1;if(n=l.f(p,t)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,u.f(p,t,n)}else u.f(p,t,h(0,r));return!0}return void 0!==d.set&&(d.set.call(p,r),!0)}var p=s((function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)}));n({target:"Reflect",stat:!0,forced:p},{set:f})},"g6v/":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},g8eg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapContext=void 0;var n=r("mrSG"),i=n.__importDefault(r("q1tI")),o=r("W1EI"),a=n.__importDefault(r("s+10")),s=n.__importDefault(r("Gytx")),u=n.__importDefault(r("gOxR")),l=["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],c={enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableRotate:["enableRotate","disableRotate"],enableTilt:["enableTilt","disableTilt"],enableAutoResize:["enableAutoResize","disableAutoResize"]};t.MapContext=i.default.createContext({map:void 0});var h=function(e){function r(t){var r=e.call(this,t)||this;return r.el=i.default.createRef(),r.options=["minZoom","maxZoom","mapType"],r}return n.__extends(r,e),r.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},r.prototype.componentDidUpdate=function(e){var t,r=e.center,n=e.zoom,i=this.props,o=i.center,a=i.zoom,l=!!o&&!s.default(r,o),c=!(!a||s.default(n,a));if(u.default(o))t=o;else{var h=o,f=h.lng,p=h.lat;t=new BMapGL.Point(f,p)}l&&c?this.map.centerAndZoom(t,a):l?this.map.setCenter(t):c&&this.map.setZoom(a)},r.prototype.componentWillUnmount=function(){this.map&&this.map.destroy()},r.prototype.initialize=function(){if(!this.map){var e=Object.assign({},this.props.defaultOptions,this.getOptions());e.mapType&&(e.mapType="normal"===e.mapType?BMAP_NORMAL_MAP:e.mapType,e.mapType="earth"===e.mapType?BMAP_EARTH_MAP:e.mapType),this.props.mapStyleV2&&(e.style=this.props.mapStyleV2);var t=new BMapGL.Map(this.el.current,e);if(this.map=t,this.instance=t,u.default(this.props.center))t.centerAndZoom(this.props.center,this.props.zoom);else{var r=this.props.center,n=r.lng,i=r.lat,o=new BMapGL.Point(n,i);t.centerAndZoom(o,this.props.zoom)}this.props.heading&&t.setHeading(this.props.heading),this.props.tilt&&t.setTilt(this.props.tilt)}},r.prototype.renderChildren=function(e,t){var r=this;if(e&&t)return i.default.Children.map(e,(function(e){return e?"string"!==typeof e.type&&e.props?i.default.cloneElement(e,{map:t},r.renderChildren(e.props.children,t)):e:null}))},r.prototype.render=function(){return i.default.createElement("div",{style:this.props.style},i.default.createElement("div",{ref:this.el,className:this.props.className,style:{height:"100%"}},"\u52a0\u8f7d\u5730\u56fe\u4e2d..."),i.default.createElement(t.MapContext.Provider,{value:{map:this.map}},this.renderChildren(this.props.children,this.map)))},r}(o.Component);h.defaultProps={center:{lng:116.404449,lat:39.914889},zoom:12,defaultOptions:{},style:{position:"relative",height:"350px"}},t.default=a.default(h,l,c);var f=r("q8ti");Object.defineProperty(t,"MapApiLoaderHOC",{enumerable:!0,get:function(){return f.default}})},gCq4:function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},gI1Y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireScript=t.requireCss=void 0;var n=document.head||document.getElementsByTagName("head")[0],i={};function o(e){return new Promise((function(t,r){if(e in i)t();else{var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,o.onerror=function(t){n.removeChild(o),r(new URIError("The css "+e+" is no accessible."))},o.onload=function(){i[e]=!0,t()},n.appendChild(o)}}))}function a(e){return new Promise((function(t,r){if(e in i)t();else{var o=document.createElement("script");o.type="text/javascript",o.src=e,o.onerror=function(t){n.removeChild(o),r(new URIError("The Script "+e+" is no accessible."))},s(o)?o.onload=function(){i[e]=!0,t()}:o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,i[e]=!0,t())},n.appendChild(o)}}))}function s(e){return e=e||document.createElement("script"),"onload"in e||(e.setAttribute("onload",""),"function"===typeof e["onload"])}t.requireCss=o,t.requireScript=a},gOCb:function(e,t,r){var n=r("dG/n");n("replace")},gOxR:function(e,t,r){"use strict";function n(e){return"[object String]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},gXIK:function(e,t,r){var n=r("dG/n");n("toPrimitive")},gYJb:function(e,t,r){var n=r("I+eb"),i=r("p5mE"),o=r("0GbY"),a=r("fHMY"),s=function(){var e=o("Object","freeze");return e?e(a(null)):a(null)};n({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},gdVl:function(e,t,r){"use strict";var n=r("ewvW"),i=r("I8vh"),o=r("UMSQ");e.exports=function(e){var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);while(l>s)t[s++]=e;return t}},gg6r:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HAuM"),o=r("8GlL"),a=r("5mdu"),s=r("ImZN");n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,l=a((function(){var r=i(t.resolve),o=[],a=0,u=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--u||n(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--u||n(o))}))})),--u||n(o)}));return l.error&&u(l.value),r.promise}})},glrk:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},gvgV:function(e,t,r){"use strict";var n=r("67WC"),i=r("TWQb").includes,o=n.aTypedArray,a=n.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},h0XC:function(e,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r},hBjN:function(e,t,r){"use strict";var n=r("wE6v"),i=r("m/L8"),o=r("XGwC");e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},hByQ:function(e,t,r){"use strict";var n=r("14Sl"),i=r("glrk"),o=r("HYAF"),a=r("Ep9I"),s=r("FMNM");n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=i(e),u=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]}))},hDyC:function(e,t,r){"use strict";var n=r("I+eb"),i=r("DMt2").end,o=r("mgyK");n({target:"String",proto:!0,forced:o},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"hKI/":function(e,t,r){(function(t){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,f=c||h||Function("return this")(),p=Object.prototype,d=p.toString,g=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(e,t,n){var i,o,a,s,u,l,c=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function d(t){var r=i,n=o;return i=o=void 0,c=t,s=e.apply(n,r),s}function y(e){return c=e,u=setTimeout(w,t),h?d(e):s}function b(e){var r=e-l,n=e-c,i=t-r;return f?m(i,a-n):i}function A(e){var r=e-l,n=e-c;return void 0===l||r>=t||r<0||f&&n>=a}function w(){var e=v();if(A(e))return C(e);u=setTimeout(w,b(e))}function C(e){return u=void 0,p&&i?d(e):(i=o=void 0,s)}function M(){void 0!==u&&clearTimeout(u),c=0,i=l=o=u=void 0}function S(){return void 0===u?s:C(v())}function T(){var e=v(),r=A(e);if(i=arguments,o=this,l=e,r){if(void 0===u)return y(l);if(f)return u=setTimeout(w,t),d(l)}return void 0===u&&(u=setTimeout(w,t)),s}return t=_(t)||0,x(n)&&(h=!!n.leading,f="maxWait"in n,a=f?g(_(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),T.cancel=M,T.flush=S,T}function b(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return x(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),y(e,t,{leading:i,maxWait:t,trailing:o})}function x(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function A(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||A(e)&&d.call(e)==i}function _(e){if("number"==typeof e)return e;if(w(e))return n;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=b}).call(this,r("IyRk"))},hMMk:function(e,t,r){var n=r("dOgj");n("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},hODF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("Gytx")),a=r("g8eg"),s=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["anchor","offset"],r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){if(this.map){var t=this.props,r=t.anchor,n=t.offset,i=e.anchor,a=e.offset,s=!o.default(r,i),u=!o.default(n,a);r&&s&&this.control.setAnchor(r),n&&u&&this.control.setOffset(n)}else this.initialize()},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.control&&this.map&&(this.map.removeControl(this.control),this.control=null)},t.prototype.initialize=function(){var e=this.map=this.getMap();e&&(this.destroy(),this.control=this.getControl(),e.addControl(this.control))},t.prototype.getControl=function(){throw new Error("Method getControl not implemented.")},t.contextType=a.MapContext,t}(i.Component);t.default=s},"hOG+":function(e,t){(function(t){e.exports=function(){var e={311:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}},o=!0;try{e[t](i,i.exports,n),o=!1}finally{o&&delete r[t]}return i.exports}return n.ab=t+"/",n(311)}()}).call(this,"/")},hcok:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("SEBh"),l=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),r=new(u(t,o("Set")))(t),n=s(r["delete"]);return l(e,(function(e){n.call(r,e)})),r}})},hh1v:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},i4U9:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},i5tv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("s+10")),a=r("i8i4"),s=r("g8eg"),u=["close","open","maximize","restore","clickclose"],l={enableMaximize:["enableMaximize","disableMaximize"],enableAutoPan:["enableAutoPan","disableAutoPan"],enableCloseOnClick:["enableCloseOnClick","disableCloseOnClick"]},c=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["width","height","maxWidth","offset","title","enableMassClear"],r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){this.initialize()},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.content&&a.unmountComponentAtNode(this.content),this.infoWindow&&(this.map.closeInfoWindow(),this.instance=this.infoWindow=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){this.destroy();var t=this.getOptions(),r=this.parsePosition(this.props.position);if(this.instance=this.infoWindow=new BMapGL.InfoWindow(this.props.text||"",t),e.openInfoWindow(this.infoWindow,r),void 0!==this.props.children){var n=this.content=document.createElement("div");a.render(this.props.children,n),this.infoWindow.setContent(n)}}},t.prototype.parsePosition=function(e){var t,r="bd09mc"===this.props.coordType;return t=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),r&&(t=BMapGL.Projection.convertMC2LL(t)),t},t.prototype.render=function(){return null},t.contextType=s.MapContext,t}(i.Component);c.defaultProps={},t.default=o.default(c,u,l)},i8i4:function(e,t,r){"use strict";function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}}n(),e.exports=r("yl30")},iIM6:function(e,t,r){"use strict";var n=r("g6v/"),i=r("RNIs"),o=r("ewvW"),a=r("UMSQ"),s=r("m/L8").f;n&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?0:t-1}}),i("lastIndex"))},iNWh:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},iSVu:function(e,t,r){var n=r("xs3f"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},ihrJ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ImZN"),o=r("HAuM");n({target:"Map",stat:!0},{groupBy:function(e,t){var r=new this;o(t);var n=o(r.has),a=o(r.get),s=o(r.set);return i(e,(function(e){var i=t(e);n.call(r,i)?a.call(r,i).push(e):s.call(r,i,[e])})),r}})},ilnZ:function(e,t,r){var n=r("dOgj");n("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},inlA:function(e,t,r){"use strict";var n=r("I+eb"),i=r("Bs8V").f,o=r("UMSQ"),a=r("WjRb"),s=r("HYAF"),u=r("qxPZ"),l=r("xDBR"),c="".endsWith,h=Math.min,f=u("endsWith"),p=!l&&!f&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!p&&!f},{endsWith:function(e){var t=String(s(this));a(e);var r=arguments.length>1?arguments[1]:void 0,n=o(t.length),i=void 0===r?n:h(o(r),n),u=String(e);return c?c.call(t,u,i):t.slice(i-u.length,i)===u}})},iqWW:function(e,t,r){"use strict";var n=r("ZUd8").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},iqeF:function(e,t,r){var n=r("2oRo"),i=r("0Dky"),o=r("HH4o"),a=r("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},iwkZ:function(e,t,r){var n=r("dOgj");n("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},"j+VE":function(e,t,r){r("bFeb")},j9lq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("W1EI"),o=n.__importDefault(r("Gytx")),a=n.__importDefault(r("5zFI")),s=r("g8eg"),u=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["zIndex","offset","unit"],r}return n.__extends(t,e),t.prototype.componentDidUpdate=function(e){o.default(this.props,e)||this.initialize()},t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.overlay&&this.map&&(this.overlay.destroy(),this.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){this.destroy();var t=this.getOptions();t.html=this.props.children;var r=this.parsePosition(this.props.position);this.instance=this.overlay=new a.default(r,t),e.addOverlay(this.overlay),this.props.autoViewport&&e.setCenter(r)}},t.prototype.parsePosition=function(e){var t,r="bd09mc"===this.props.coordType;return t=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),r&&(t=BMapGL.Projection.convertMC2LL(t)),t},t.prototype.render=function(){return null},t.contextType=s.MapContext,t}(i.Component);t.default=u},jN4g:function(e,t,r){"use strict";var n=r("VTBJ"),i=r("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},a=o,s=r("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(n["a"])(Object(n["a"])({},e),{},{ref:t,icon:a}))};u.displayName="CloseCircleFilled";t["a"]=i["forwardRef"](u)},"k+1r":function(e,t,r){var n=r("QkVE");function i(e){var t=n(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},kCkZ:function(e,t,r){"use strict";var n=r("I+eb"),i=r("8GlL"),o=r("5mdu");n({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),r=o(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})},kOOl:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},kRJp:function(e,t,r){var n=r("g6v/"),i=r("m/L8"),o=r("XGwC");e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},kekF:function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},kmMV:function(e,t,r){"use strict";var n=r("rW0t"),i=r("n3/R"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],h=u||c||l;h&&(s=function(e){var t,r,i,s,h=this,f=l&&h.sticky,p=n.call(h),d=h.source,g=0,m=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(d="(?: "+d+")",m=" "+m,g++),r=new RegExp("^(?:"+d+")",p)),c&&(r=new RegExp("^"+d+"$(?!\\s)",p)),u&&(t=h.lastIndex),i=o.call(f?r:h,m),f?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:u&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),c&&i&&i.length>1&&a.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"l/vG":function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),l=r("SEBh"),c=r("Sssf"),h=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),r=c(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,o("Map"))),f=s(i.set);return h(r,(function(e,r){n(r,e,t)&&f.call(i,e,r)}),void 0,!0,!0),i}})},lEou:function(e,t,r){var n=r("dG/n");n("toStringTag")},lMq5:function(e,t,r){var n=r("0Dky"),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==l||r!=u&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},lSCD:function(e,t,r){var n=r("NykK"),i=r("GoyQ"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function l(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==u}e.exports=l},lehK:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{iaddh:function(e,t,r,n){var i=e>>>0,o=t>>>0,a=r>>>0;return o+(n>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},ljhN:function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},lmH4:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("mh/w"),l=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(e),n=s(r.has)),!l(t,(function(e){if(!1===n.call(r,e))return l.stop()}),void 0,!1,!0).stopped}})},"m+aA":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("i8i4"),i=r.n(n);function o(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},"m/L8":function(e,t,r){var n=r("g6v/"),i=r("DPsx"),o=r("glrk"),a=r("wE6v"),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},m92n:function(e,t,r){var n=r("glrk");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){var o=e["return"];throw void 0!==o&&n(o.call(e)),a}}},mEKJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("g8eg"),o=r("W1EI"),a=function(e){function t(t){var r=e.call(this,t)||this;return r._showLayer=!1,r}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){this.initialize()},t.prototype.componentWillUnmount=function(){this._showLayer&&(this.map.setTrafficOff(),this._showLayer=!1)},t.prototype.initialize=function(){var e=this.map=this.getMap();e&&(this._showLayer||(e.setTrafficOn(),this._showLayer=!0))},t.prototype.render=function(){return null},t.contextType=i.MapContext,t}(o.Component);t.default=a},mGGf:function(e,t,r){"use strict";r("4mDm");var n=r("I+eb"),i=r("0GbY"),o=r("DTth"),a=r("busE"),s=r("4syw"),u=r("1E5z"),l=r("ntOU"),c=r("afO8"),h=r("GarU"),f=r("UTVS"),p=r("A2ZE"),d=r("9d/t"),g=r("glrk"),m=r("hh1v"),v=r("fHMY"),y=r("XGwC"),b=r("mh/w"),x=r("NaFW"),A=r("tiKp"),w=i("fetch"),_=i("Headers"),C=A("iterator"),M="URLSearchParams",S=M+"Iterator",T=c.set,E=c.getterFor(M),I=c.getterFor(S),R=/\+/g,L=Array(4),P=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(R," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(P(r--),O);return t}},k=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return N[e]},B=function(e){return encodeURIComponent(e).replace(k,F)},z=function(e,t){if(t){var r,n,i=t.split("&"),o=0;while(o<i.length)r=i[o++],r.length&&(n=r.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))}},U=function(e){this.entries.length=0,z(this.entries,e)},j=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=l((function(e,t){T(this,{type:S,iterator:b(E(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),G=function(){h(this,G,M);var e,t,r,n,i,o,a,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,p=[];if(T(c,{type:M,entries:p,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(m(l))if(e=x(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(n=r.call(t)).done){if(i=b(g(n.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:s.value+""})}}else for(u in l)f(l,u)&&p.push({key:u,value:l[u]+""});else z(p,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},V=G.prototype;s(V,{append:function(e,t){j(arguments.length,2);var r=E(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){j(arguments.length,1);var t=E(this),r=t.entries,n=e+"",i=0;while(i<r.length)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){j(arguments.length,1);for(var t=E(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){j(arguments.length,1);for(var t=E(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){j(arguments.length,1);var t=E(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){j(arguments.length,1);for(var r,n=E(this),i=n.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)r=i[u],r.key===a&&(o?i.splice(u--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=E(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(e=o[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e){var t,r=E(this).entries,n=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<r.length)t=r[i++],n(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),a(V,C,V.entries),a(V,"toString",(function(){var e,t=E(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(B(e.key)+"="+B(e.value));return r.join("&")}),{enumerable:!0}),u(G,M),n({global:!0,forced:!o},{URLSearchParams:G}),o||"function"!=typeof w||"function"!=typeof _||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(r=t.body,d(r)===M&&(n=t.headers?new _(t.headers):new _,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(r)),headers:y(0,n)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:G,getState:E}},mGKP:function(e,t,r){var n=r("EdiO");function i(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}e.exports=i},mW11:function(e,t,r){"use strict";var n=r("MgzW"),i=r("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,r=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:r,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===r||(o=t(),a({getCurrentValue:t,subscribe:r,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==r||i.value===e?i:n({},i,{value:e})}))}}var i=!1,o=r(e);return e(),function(){i=!0,o()}}),[t,r]),o}},ma9I:function(e,t,r){"use strict";var n=r("I+eb"),i=r("0Dky"),o=r("6LWA"),a=r("hh1v"),s=r("ewvW"),u=r("UMSQ"),l=r("hBjN"),c=r("ZfDv"),h=r("Hd5f"),f=r("tiKp"),p=r("LQDL"),d=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=p>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),y=h("concat"),b=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},x=!v||!y;n({target:"Array",proto:!0,forced:x},{concat:function(e){var t,r,n,i,o,a=s(this),h=c(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=u(o.length),f+i>g)throw TypeError(m);for(r=0;r<i;r++,f++)r in o&&l(h,f,o[r])}else{if(f>=g)throw TypeError(m);l(h,f++,o)}return h.length=f,h}})},mdPL:function(e,t,r){(function(e){var n=r("WFqU"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&n.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u}).call(this,r("hOG+")(e))},mgyK:function(e,t,r){var n=r("NC/Y");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"mh/w":function(e,t,r){var n=r("glrk"),i=r("NaFW");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},miYZ:function(e,t,r){"use strict";r.r(t);r("EFp3"),r("bXwC")},mrSG:function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return i})),r.d(t,"__assign",(function(){return o})),r.d(t,"__rest",(function(){return a})),r.d(t,"__decorate",(function(){return s})),r.d(t,"__param",(function(){return u})),r.d(t,"__metadata",(function(){return l})),r.d(t,"__awaiter",(function(){return c})),r.d(t,"__generator",(function(){return h})),r.d(t,"__createBinding",(function(){return f})),r.d(t,"__exportStar",(function(){return p})),r.d(t,"__values",(function(){return d})),r.d(t,"__read",(function(){return g})),r.d(t,"__spread",(function(){return m})),r.d(t,"__spreadArrays",(function(){return v})),r.d(t,"__spreadArray",(function(){return y})),r.d(t,"__await",(function(){return b})),r.d(t,"__asyncGenerator",(function(){return x})),r.d(t,"__asyncDelegator",(function(){return A})),r.d(t,"__asyncValues",(function(){return w})),r.d(t,"__makeTemplateObject",(function(){return _})),r.d(t,"__importStar",(function(){return M})),r.d(t,"__importDefault",(function(){return S})),r.d(t,"__classPrivateFieldGet",(function(){return T})),r.d(t,"__classPrivateFieldSet",(function(){return E}));var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function u(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n["throw"](e))}catch(t){o(t)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function h(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(i=2&o[0]?n["return"]:o[0]?n["throw"]||((i=n["return"])&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var f=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function p(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||f(t,e,r)}function d(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(n=o.next()).done)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function y(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{u(i[e](t))}catch(r){h(o[0][3],r)}}function u(e){e.value instanceof b?Promise.resolve(e.value.v).then(l,c):h(o[0][2],e)}function l(e){s("next",e)}function c(e){s("throw",e)}function h(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function A(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof d?d(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){t=e[r](t),i(n,o,t.done,t.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t};function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return C(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function E(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},"n3/R":function(e,t,r){"use strict";var n=r("0Dky");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},n5b4:function(e,t,r){var n=r("I+eb"),i=r("2oRo"),o=r("tXUg"),a=r("xrYK"),s=i.process,u="process"==a(s);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;o(t?t.bind(e):e)}})},n5pg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("Sssf"),u=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e,r){if(n(r,e,t))return u.stop(e)}),void 0,!0,!0).result}})},nIe3:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("0GbY"),a=r("glrk"),s=r("HAuM"),u=r("A2ZE"),l=r("SEBh"),c=r("Sssf"),h=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),r=c(t),n=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,o("Map"))),f=s(i.set);return h(r,(function(e,r){f.call(i,n(r,e,t),r)}),void 0,!0,!0),i}})},nKUr:function(e,t,r){"use strict";e.exports=r("0x2o")},nmnc:function(e,t,r){var n=r("Kz5y"),i=n.Symbol;e.exports=i},nmq7:function(e,t,r){"use strict";var n=r("0jNN"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",h=function(e,t){var r,h={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=f.split(t.delimiter,p),g=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&(d[r]===c?m="utf-8":d[r]===l&&(m="iso-8859-1"),g=r,r=d.length);for(r=0;r<d.length;++r)if(r!==g){var v,y,b=d[r],x=b.indexOf("]="),A=-1===x?b.indexOf("="):x+1;-1===A?(v=t.decoder(b,a.decoder,m,"key"),y=t.strictNullHandling?null:""):(v=t.decoder(b.slice(0,A),a.decoder,m,"key"),y=n.maybeMap(u(b.slice(A+1),t),(function(e){return t.decoder(e,a.decoder,m,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===m&&(y=s(y)),b.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(h,v)?h[v]=n.combine(h[v],y):h[v]=y}return h},f=function(e,t,r,n){for(var i=n?t:u(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=i):"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i},p=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=r.depth>0&&a.exec(o),l=u?o.slice(0,u.index):o,c=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}var h=0;while(r.depth>0&&null!==(u=s.exec(o))&&h<r.depth){if(h+=1,!r.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+o.slice(u.index)+"]"),f(c,t,r,n)}},d=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var r=d(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var i="string"===typeof e?h(e,r):e,o=r.plainObjects?Object.create(null):{},a=Object.keys(i),s=0;s<a.length;++s){var u=a[s],l=p(u,i[u],r,"string"===typeof e);o=n.merge(o,l,r)}return!0===r.allowSparse?o:n.compact(o)}},ntOU:function(e,t,r){"use strict";var n=r("rpNk").IteratorPrototype,i=r("fHMY"),o=r("XGwC"),a=r("1E5z"),s=r("P4y1"),u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=i(n,{next:o(1,r)}),a(e,l,!1,!0),s[l]=u,e}},ny8l:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},o0o1:function(e,t,r){e.exports=r("97ZR")},oBiK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=r("g8eg"),o=r("W1EI"),a=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){this.initialize()},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.destroy=function(){this.tilelayer&&(this.map.removeTileLayer(this.tilelayer),this.tilelayer=void 0)},t.prototype.initialize=function(){var e=this.map=this.getMap();if(e){this.destroy();var t="pl",r="20190102",n=this.tilelayer=new BMapGL.TileLayer({transparentPng:!0});n.zIndex=110,n.getTilesUrl=function(e,n){if(!e||n<0)return"";var i=e.x,o=e.y,a="//mapsv0.bdimg.com/tile/?udt="+r+"&qt=tile&styles="+t+"&x="+i+"&y="+o+"&z="+n;return a},e.addTileLayer(this.tilelayer)}},t.prototype.render=function(){return null},t.contextType=i.MapContext,t}(o.Component);t.default=a},"oHi+":function(e,t,r){var n=r("ewvW"),i=r("UMSQ"),o=r("NaFW"),a=r("6VoE"),s=r("A2ZE"),u=r("67WC").aTypedArrayConstructor;e.exports=function(e){var t,r,l,c,h,f,p=n(e),d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,v=o(p);if(void 0!=v&&!a(v)){h=v.call(p),f=h.next,p=[];while(!(c=f.call(h)).done)p.push(c.value)}for(m&&d>2&&(g=s(g,arguments[2],2)),r=i(p.length),l=new(u(this))(r),t=0;r>t;t++)l[t]=m?g(p[t],t):p[t];return l}},oNNP:function(e,t,r){"use strict";var n=r("D3zA");e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},ofBz:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ntOU"),o=r("HYAF"),a=r("UMSQ"),s=r("HAuM"),u=r("glrk"),l=r("xrYK"),c=r("ROdP"),h=r("rW0t"),f=r("kRJp"),p=r("0Dky"),d=r("tiKp"),g=r("SEBh"),m=r("iqWW"),v=r("afO8"),y=r("xDBR"),b=d("matchAll"),x="RegExp String",A=x+" Iterator",w=v.set,_=v.getterFor(A),C=RegExp.prototype,M=C.exec,S="".matchAll,T=!!S&&!p((function(){"a".matchAll(/./)})),E=function(e,t){var r,n=e.exec;if("function"==typeof n){if(r=n.call(e,t),"object"!=typeof r)throw TypeError("Incorrect exec result");return r}return M.call(e,t)},I=i((function(e,t,r,n){w(this,{type:A,regexp:e,string:t,global:r,unicode:n,done:!1})}),x,(function(){var e=_(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=E(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=m(r,a(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),R=function(e){var t,r,n,i,o,s,l=u(this),c=String(e);return t=g(l,RegExp),r=l.flags,void 0===r&&l instanceof RegExp&&!("flags"in C)&&(r=h.call(l)),n=void 0===r?"":String(r),i=new t(t===RegExp?l.source:l,n),o=!!~n.indexOf("g"),s=!!~n.indexOf("u"),i.lastIndex=a(l.lastIndex),new I(i,c,o,s)};n({target:"String",proto:!0,forced:T},{matchAll:function(e){var t,r,n,i,a=o(this);if(null!=e){if(c(e)&&(t=String(o("flags"in C?e.flags:h.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(T)return S.apply(a,arguments);if(n=e[b],void 0===n&&y&&"RegExp"==l(e)&&(n=R),null!=n)return s(n).call(e,a)}else if(T)return S.apply(a,arguments);return r=String(a),i=new RegExp(e,"g"),y?R.call(i,r):i[b](r)}}),y||b in C||f(C,b,R)},or5M:function(e,t,r){var n=r("1hJj"),i=r("QoRX"),o=r("xYSL"),a=1,s=2;function u(e,t,r,u,l,c){var h=r&a,f=e.length,p=t.length;if(f!=p&&!(h&&p>f))return!1;var d=c.get(e),g=c.get(t);if(d&&g)return d==t&&g==e;var m=-1,v=!0,y=r&s?new n:void 0;c.set(e,t),c.set(t,e);while(++m<f){var b=e[m],x=t[m];if(u)var A=h?u(x,b,m,t,e,c):u(b,x,m,e,t,c);if(void 0!==A){if(A)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||l(b,e,r,u,c)))return y.push(t)}))){v=!1;break}}else if(b!==x&&!l(b,x,r,u,c)){v=!1;break}}return c["delete"](e),c["delete"](t),v}e.exports=u},or9q:function(e,t,r){"use strict";var n=r("6LWA"),i=r("UMSQ"),o=r("A2ZE"),a=function(e,t,r,s,u,l,c,h){var f,p=u,d=0,g=!!c&&o(c,h,3);while(d<s){if(d in r){if(f=g?g(r[d],d,t):r[d],l>0&&n(f))p=a(e,t,f,i(f.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}d++}return p};e.exports=a},p532:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("/qmn"),a=r("0Dky"),s=r("0GbY"),u=r("SEBh"),l=r("zfnd"),c=r("busE"),h=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||c(o.prototype,"finally",s("Promise").prototype["finally"])},p5mE:function(e,t,r){var n=r("Tskq"),i=r("ENF9"),o=r("fHMY"),a=r("hh1v"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,r){var o=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new n),a=o.get(t);return a||o.set(t,a=new s),a};var u=new s;e.exports=function(){var e,t,r=u,n=arguments.length;for(e=0;e<n;e++)a(t=arguments[e])&&(r=r.next(e,t,!0));if(this===Object&&r===u)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<n;e++)a(t=arguments[e])||(r=r.next(e,t,!1));return r}},pDQq:function(e,t,r){"use strict";var n=r("I+eb"),i=r("I8vh"),o=r("ppGB"),a=r("UMSQ"),s=r("ewvW"),u=r("ZfDv"),l=r("hBjN"),c=r("Hd5f"),h=r("rkAj"),f=c("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var r,n,c,h,f,p,y=s(this),b=a(y.length),x=i(e,b),A=arguments.length;if(0===A?r=n=0:1===A?(r=0,n=b-x):(r=A-2,n=g(d(o(t),0),b-x)),b+r-n>m)throw TypeError(v);for(c=u(y,n),h=0;h<n;h++)f=x+h,f in y&&l(c,h,y[f]);if(c.length=n,r<n){for(h=x;h<b-n;h++)f=h+n,p=h+r,f in y?y[p]=y[f]:delete y[p];for(h=b;h>b-n+r;h--)delete y[h-1]}else if(r>n)for(h=b-n;h>x;h--)f=h+n-1,p=h+r-1,f in y?y[p]=y[f]:delete y[p];for(h=0;h<r;h++)y[h+x]=arguments[h+2];return y.length=b-n+r,c}})},pNMO:function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("0GbY"),a=r("xDBR"),s=r("g6v/"),u=r("STAE"),l=r("/b8u"),c=r("0Dky"),h=r("UTVS"),f=r("6LWA"),p=r("hh1v"),d=r("glrk"),g=r("ewvW"),m=r("/GqU"),v=r("wE6v"),y=r("XGwC"),b=r("fHMY"),x=r("33Wh"),A=r("JBy8"),w=r("BX/b"),_=r("dBg+"),C=r("Bs8V"),M=r("m/L8"),S=r("0eef"),T=r("kRJp"),E=r("busE"),I=r("VpIT"),R=r("93I0"),L=r("0BK2"),P=r("kOOl"),O=r("tiKp"),D=r("5Tg+"),k=r("dG/n"),N=r("1E5z"),F=r("afO8"),B=r("tycR").forEach,z=R("hidden"),U="Symbol",j="prototype",H=O("toPrimitive"),G=F.set,V=F.getterFor(U),W=Object[j],X=i.Symbol,q=o("JSON","stringify"),Y=C.f,Z=M.f,K=w.f,J=S.f,Q=I("symbols"),$=I("op-symbols"),ee=I("string-to-symbol-registry"),te=I("symbol-to-string-registry"),re=I("wks"),ne=i.QObject,ie=!ne||!ne[j]||!ne[j].findChild,oe=s&&c((function(){return 7!=b(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Y(W,t);n&&delete W[t],Z(e,t,r),n&&e!==W&&Z(W,t,n)}:Z,ae=function(e,t){var r=Q[e]=b(X[j]);return G(r,{type:U,tag:e,description:t}),s||(r.description=t),r},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},ue=function(e,t,r){e===W&&ue($,t,r),d(e);var n=v(t,!0);return d(r),h(Q,n)?(r.enumerable?(h(e,z)&&e[z][n]&&(e[z][n]=!1),r=b(r,{enumerable:y(0,!1)})):(h(e,z)||Z(e,z,y(1,{})),e[z][n]=!0),oe(e,n,r)):Z(e,n,r)},le=function(e,t){d(e);var r=m(t),n=x(r).concat(de(r));return B(n,(function(t){s&&!he.call(r,t)||ue(e,t,r[t])})),e},ce=function(e,t){return void 0===t?b(e):le(b(e),t)},he=function(e){var t=v(e,!0),r=J.call(this,t);return!(this===W&&h(Q,t)&&!h($,t))&&(!(r||!h(this,t)||!h(Q,t)||h(this,z)&&this[z][t])||r)},fe=function(e,t){var r=m(e),n=v(t,!0);if(r!==W||!h(Q,n)||h($,n)){var i=Y(r,n);return!i||!h(Q,n)||h(r,z)&&r[z][n]||(i.enumerable=!0),i}},pe=function(e){var t=K(m(e)),r=[];return B(t,(function(e){h(Q,e)||h(L,e)||r.push(e)})),r},de=function(e){var t=e===W,r=K(t?$:m(e)),n=[];return B(r,(function(e){!h(Q,e)||t&&!h(W,e)||n.push(Q[e])})),n};if(u||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),r=function(e){this===W&&r.call($,e),h(this,z)&&h(this[z],t)&&(this[z][t]=!1),oe(this,t,y(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:r}),ae(t,e)},E(X[j],"toString",(function(){return V(this).tag})),E(X,"withoutSetter",(function(e){return ae(P(e),e)})),S.f=he,M.f=ue,C.f=fe,A.f=w.f=pe,_.f=de,D.f=function(e){return ae(O(e),e)},s&&(Z(X[j],"description",{configurable:!0,get:function(){return V(this).description}}),a||E(W,"propertyIsEnumerable",he,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),B(x(re),(function(e){k(e)})),n({target:U,stat:!0,forced:!u},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var r=X(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:ce,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe,getOwnPropertySymbols:de}),n({target:"Object",stat:!0,forced:c((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(g(e))}}),q){var ge=!u||c((function(){var e=X();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}));n({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var n,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,q.apply(null,i)}})}X[j][H]||T(X[j],H,X[j].valueOf),N(X,U),L[z]=!0},pSRY:function(e,t,r){var n=r("QkVE");function i(e){return n(this,e).has(e)}e.exports=i},pevA:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("JiZb"),a=r("HAuM"),s=r("glrk"),u=r("hh1v"),l=r("GarU"),c=r("m/L8").f,h=r("kRJp"),f=r("4syw"),p=r("mh/w"),d=r("ImZN"),g=r("RN6c"),m=r("tiKp"),v=r("afO8"),y=m("observable"),b=v.get,x=v.set,A=function(e){return null==e?void 0:a(e)},w=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(r){g(r)}}},_=function(e){return void 0===e.observer},C=function(e,t){if(!i){e.closed=!0;var r=t.subscriptionObserver;r&&(r.closed=!0)}t.observer=void 0},M=function(e,t){var r,n=x(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(r=A(e.start))&&r.call(e,this)}catch(c){g(c)}if(!_(n)){var o=n.subscriptionObserver=new S(this);try{var u=t(o),l=u;null!=u&&(n.cleanup="function"===typeof u.unsubscribe?function(){l.unsubscribe()}:a(u))}catch(c){return void o.error(c)}_(n)&&w(n)}};M.prototype=f({},{unsubscribe:function(){var e=b(this);_(e)||(C(this,e),w(e))}}),i&&c(M.prototype,"closed",{configurable:!0,get:function(){return _(b(this))}});var S=function(e){x(this,{subscription:e}),i||(this.closed=!1)};S.prototype=f({},{next:function(e){var t=b(b(this).subscription);if(!_(t)){var r=t.observer;try{var n=A(r.next);n&&n.call(r,e)}catch(i){g(i)}}},error:function(e){var t=b(this).subscription,r=b(t);if(!_(r)){var n=r.observer;C(t,r);try{var i=A(n.error);i?i.call(n,e):g(e)}catch(o){g(o)}w(r)}},complete:function(){var e=b(this).subscription,t=b(e);if(!_(t)){var r=t.observer;C(e,t);try{var n=A(r.complete);n&&n.call(r)}catch(i){g(i)}w(t)}}}),i&&c(S.prototype,"closed",{configurable:!0,get:function(){return _(b(b(this).subscription))}});var T=function(e){l(this,T,"Observable"),x(this,{subscriber:a(e)})};f(T.prototype,{subscribe:function(e){var t=arguments.length;return new M("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:u(e)?e:{},b(this).subscriber)}}),f(T,{from:function(e){var t="function"===typeof this?this:T,r=A(s(e)[y]);if(r){var n=s(r.call(e));return n.constructor===t?n:new t((function(e){return n.subscribe(e)}))}var i=p(e);return new t((function(e){d(i,(function(t){if(e.next(t),e.closed)return d.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:T,t=arguments.length,r=new Array(t),n=0;while(n<t)r[n]=arguments[n++];return new e((function(e){for(var n=0;n<t;n++)if(e.next(r[n]),e.closed)return;e.complete()}))}}),h(T.prototype,y,(function(){return this})),n({global:!0},{Observable:T}),o("Observable")},pjDv:function(e,t,r){var n=r("I+eb"),i=r("TfTi"),o=r("HH4o"),a=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:a},{from:i})},pkCn:function(e,t,r){"use strict";var n=r("0Dky");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ppGB:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},pv2x:function(e,t,r){var n=r("I+eb"),i=r("0GbY"),o=r("HAuM"),a=r("glrk"),s=r("0Dky"),u=i("Reflect","apply"),l=Function.apply,c=!s((function(){u((function(){}))}));n({target:"Reflect",stat:!0,forced:c},{apply:function(e,t,r){return o(e),a(r),u?u(e,t,r):l.call(e,t,r)}})},pwpV:function(e,t,r){},q1tI:function(e,t,r){"use strict";e.exports=r("viRO")},q8ti:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importStar(r("q1tI")),o=n.__importDefault(r("3RkO"));t.default=function(e){return function(t){var r;return r=function(r){function o(e){var t=r.call(this,e)||this;return t.state={loaded:t.isLoadReady()},t.loadJSAPI=t.loadJSAPI.bind(t),t.handleLoaded=t.handleLoaded.bind(t),t}return n.__extends(o,r),o.prototype.isLoadReady=function(){return!(!window.BMapGL||!window.BMapGL.Map)},o.prototype.componentDidMount=function(){if(!this.isLoadReady()){if(!e.ak)throw new TypeError("MapApiLoaderHOC: ak is required");this.loadJSAPI()}},o.prototype.componentWillUnmount=function(){this.apiTimer&&clearTimeout(this.apiTimer),this.loadedTimer&&clearTimeout(this.loadedTimer)},o.prototype.loadJSAPI=function(){var t=this;if(this.isLoadReady())this.handleLoaded();else if(window["loadingMap"])this.apiTimer=window.setTimeout((function(){t.loadJSAPI()}),300);else if(!window["MapApiLoaderCallback"]){window["loadingMap"]=!0,window["MapApiLoaderCallback"]=function(){delete window["loadingMap"],delete window["MapApiLoaderCallback"]};var r=e.ak,n=document.createElement("script");n.type="text/javascript",n.src="//api.map.baidu.com/api?type=webgl&v=1.0&ak="+r+"&callback=MapApiLoaderCallback",document.body.appendChild(n),this.loadedTimer=window.setTimeout((function(){t.handleLoaded()}),300)}},o.prototype.handleLoaded=function(){var e=this;this.isLoadReady()?this.setState({loaded:!0}):this.loadedTimer=window.setTimeout((function(){e.handleLoaded()}),300)},o.prototype.render=function(){var e=this.state.loaded;return e?i.default.createElement(t,n.__assign({},this.props)):i.default.createElement("div",null,"loading...")},o}(i.Component),r.displayName="MapApiLoaderHOC("+o.default(t)+")",r}}},qT12:function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case h:case f:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof,e){case c:case p:case v:case m:case l:return e;default:return t}}case o:return t}}}function _(e){return w(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===h},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===d||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===x||e.$$typeof===A||e.$$typeof===y)},t.typeOf=w},qY7S:function(e,t,r){"use strict";var n=r("HAuM"),i=r("A2ZE"),o=r("ImZN");e.exports=function(e){var t,r,a,s,u=arguments.length,l=u>1?arguments[1]:void 0;return n(this),t=void 0!==l,t&&n(l),void 0==e?new this:(r=[],t?(a=0,s=i(l,u>2?arguments[2]:void 0,2),o(e,(function(e){r.push(s(e,a++))}))):o(e,r.push,r),new this(r))}},qYE9:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},qZTm:function(e,t,r){var n=r("fR/l"),i=r("MvSz"),o=r("7GkX");function a(e){return n(e,o,i)}e.exports=a},qaHo:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e){if(n(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},qc1c:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("HAuM"),s=r("ImZN");n({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=o(this),r=a(t.set),n=0;while(n<arguments.length)s(arguments[n++],r,t,!0);return t}})},qgGA:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.toKey,s=i.set;n({target:"Reflect",stat:!0},{metadata:function(e,t){return function(r,n){s(e,t,o(r),a(n))}}})},qhky:function(e,t,r){"use strict";(function(e){var t=r("17x9"),n=r.n(t),i=r("8+s/"),o=r.n(i),a=r("bmMU"),s=r.n(a),u=r("q1tI"),l=r.n(u),c=r("MgzW"),h=r.n(c),f={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},p={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},d=(Object.keys(p).map((function(e){return p[e]})),{CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"}),g={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},m={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},v=Object.keys(g).reduce((function(e,t){return e[g[t]]=t,e}),{}),y=[p.NOSCRIPT,p.SCRIPT,p.STYLE],b="data-react-helmet",x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},M=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},E=function(e){var t=O(e,p.TITLE),r=O(e,m.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=O(e,m.DEFAULT_TITLE);return t||n||void 0},I=function(e){return O(e,m.ON_CHANGE_CLIENT_STATE)||function(){}},R=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return _({},e,t)}),{})},L=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[p.BASE]})).map((function(e){return e[p.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),i=0;i<n.length;i++){var o=n[i],a=o.toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t}),[])},P=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&z("Helmet: "+e+' should be of type "Array". Instead found type "'+x(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var i={};r.filter((function(e){for(var r=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=s.toLowerCase();-1===t.indexOf(u)||r===d.REL&&"canonical"===e[r].toLowerCase()||u===d.REL&&"stylesheet"===e[u].toLowerCase()||(r=u),-1===t.indexOf(s)||s!==d.INNER_HTML&&s!==d.CSS_TEXT&&s!==d.ITEM_PROP||(r=s)}if(!r||!e[r])return!1;var l=e[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][l]&&(i[r][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=h()({},n[s],i[s]);n[s]=u}return e}),[]).reverse()},O=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},D=function(e){return{baseTag:L([d.HREF,d.TARGET],e),bodyAttributes:R(f.BODY,e),defer:O(e,m.DEFER),encode:O(e,m.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:R(f.HTML,e),linkTags:P(p.LINK,[d.REL,d.HREF],e),metaTags:P(p.META,[d.NAME,d.CHARSET,d.HTTPEQUIV,d.PROPERTY,d.ITEM_PROP],e),noscriptTags:P(p.NOSCRIPT,[d.INNER_HTML],e),onChangeClientState:I(e),scriptTags:P(p.SCRIPT,[d.SRC,d.INNER_HTML],e),styleTags:P(p.STYLE,[d.CSS_TEXT],e),title:E(e),titleAttributes:R(f.TITLE,e)}},k=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout((function(){k(t)}),0)}}(),N=function(e){return clearTimeout(e)},F="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||k:e.requestAnimationFrame||k,B="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||N:e.cancelAnimationFrame||N,z=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},U=null,j=function(e){U&&B(U),e.defer?U=F((function(){H(e,(function(){U=null}))})):(H(e),U=null)},H=function(e,t){var r=e.baseTag,n=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,h=e.title,f=e.titleAttributes;W(p.BODY,n),W(p.HTML,i),V(h,f);var d={baseTag:X(p.BASE,r),linkTags:X(p.LINK,o),metaTags:X(p.META,a),noscriptTags:X(p.NOSCRIPT,s),scriptTags:X(p.SCRIPT,l),styleTags:X(p.STYLE,c)},g={},m={};Object.keys(d).forEach((function(e){var t=d[e],r=t.newTags,n=t.oldTags;r.length&&(g[e]=r),n.length&&(m[e]=d[e].oldTags)})),t&&t(),u(e,g,m)},G=function(e){return Array.isArray(e)?e.join(""):e},V=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=G(e)),W(p.TITLE,t)},W=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(b),i=n?n.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var u=a[s],l=t[u]||"";r.getAttribute(u)!==l&&r.setAttribute(u,l),-1===i.indexOf(u)&&i.push(u);var c=o.indexOf(u);-1!==c&&o.splice(c,1)}for(var h=o.length-1;h>=0;h--)r.removeAttribute(o[h]);i.length===o.length?r.removeAttribute(b):r.getAttribute(b)!==a.join(",")&&r.setAttribute(b,a.join(","))}},X=function(e,t){var r=document.head||document.querySelector(p.HEAD),n=r.querySelectorAll(e+"["+b+"]"),i=Array.prototype.slice.call(n),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===d.INNER_HTML)r.innerHTML=t.innerHTML;else if(n===d.CSS_TEXT)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[n]?"":t[n];r.setAttribute(n,s)}r.setAttribute(b,"true"),i.some((function(e,t){return a=t,r.isEqualNode(e)}))?i.splice(a,1):o.push(r)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return r.appendChild(e)})),{oldTags:i,newTags:o}},q=function(e){return Object.keys(e).reduce((function(t,r){var n="undefined"!==typeof e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},Y=function(e,t,r,n){var i=q(r),o=G(t);return i?"<"+e+" "+b+'="true" '+i+">"+T(o,n)+"</"+e+">":"<"+e+" "+b+'="true">'+T(o,n)+"</"+e+">"},Z=function(e,t,r){return t.reduce((function(t,n){var i=Object.keys(n).filter((function(e){return!(e===d.INNER_HTML||e===d.CSS_TEXT)})).reduce((function(e,t){var i="undefined"===typeof n[t]?t:t+'="'+T(n[t],r)+'"';return e?e+" "+i:i}),""),o=n.innerHTML||n.cssText||"",a=-1===y.indexOf(e);return t+"<"+e+" "+b+'="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[g[r]||r]=e[r],t}),t)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[v[r]||r]=e[r],t}),t)},Q=function(e,t,r){var n,i=(n={key:t},n[b]=!0,n),o=K(r,i);return[l.a.createElement(p.TITLE,o,t)]},$=function(e,t){return t.map((function(t,r){var n,i=(n={key:r},n[b]=!0,n);return Object.keys(t).forEach((function(e){var r=g[e]||e;if(r===d.INNER_HTML||r===d.CSS_TEXT){var n=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:n}}else i[r]=t[e]})),l.a.createElement(e,i)}))},ee=function(e,t,r){switch(e){case p.TITLE:return{toComponent:function(){return Q(e,t.title,t.titleAttributes,r)},toString:function(){return Y(e,t.title,t.titleAttributes,r)}};case f.BODY:case f.HTML:return{toComponent:function(){return K(t)},toString:function(){return q(t)}};default:return{toComponent:function(){return $(e,t)},toString:function(){return Z(e,t,r)}}}},te=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,u=e.scriptTags,l=e.styleTags,c=e.title,h=void 0===c?"":c,d=e.titleAttributes;return{base:ee(p.BASE,t,n),bodyAttributes:ee(f.BODY,r,n),htmlAttributes:ee(f.HTML,i,n),link:ee(p.LINK,o,n),meta:ee(p.META,a,n),noscript:ee(p.NOSCRIPT,s,n),script:ee(p.SCRIPT,u,n),style:ee(p.STYLE,l,n),title:ee(p.TITLE,{title:h,titleAttributes:d},n)}},re=function(e){var t,r;return r=t=function(t){function r(){return A(this,r),S(this,t.apply(this,arguments))}return C(r,t),r.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case p.SCRIPT:case p.NOSCRIPT:return{innerHTML:t};case p.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return _({},n,(t={},t[r.type]=[].concat(n[r.type]||[],[_({},i,this.mapNestedChildrenToProps(r,o))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(n.type){case p.TITLE:return _({},i,(t={},t[n.type]=a,t.titleAttributes=_({},o),t));case p.BODY:return _({},i,{bodyAttributes:_({},o)});case p.HTML:return _({},i,{htmlAttributes:_({},o)})}return _({},i,(r={},r[n.type]=_({},o),r))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=_({},t);return Object.keys(e).forEach((function(t){var n;r=_({},r,(n={},n[t]=e[t],n))})),r},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,t){var r=this,n={};return l.a.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,o=i.children,a=M(i,["children"]),s=J(a);switch(r.warnOnInvalidChildren(e,o),e.type){case p.LINK:case p.META:case p.NOSCRIPT:case p.SCRIPT:case p.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:s,nestedChildren:o});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o});break}}})),t=this.mapArrayTypeChildrenToProps(n,t),t},r.prototype.render=function(){var t=this.props,r=t.children,n=M(t,["children"]),i=_({},n);return r&&(i=this.mapChildrenToProps(r,i)),l.a.createElement(e,i)},w(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(l.a.Component),t.propTypes={base:n.a.object,bodyAttributes:n.a.object,children:n.a.oneOfType([n.a.arrayOf(n.a.node),n.a.node]),defaultTitle:n.a.string,defer:n.a.bool,encodeSpecialCharacters:n.a.bool,htmlAttributes:n.a.object,link:n.a.arrayOf(n.a.object),meta:n.a.arrayOf(n.a.object),noscript:n.a.arrayOf(n.a.object),onChangeClientState:n.a.func,script:n.a.arrayOf(n.a.object),style:n.a.arrayOf(n.a.object),title:n.a.string,titleAttributes:n.a.object,titleTemplate:n.a.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=te({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r},ne=function(){return null},ie=o()(D,j,te)(ne),oe=re(ie);oe.renderStatic=oe.rewind}).call(this,r("IyRk"))},qxPZ:function(e,t,r){var n=r("tiKp"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},rB9j:function(e,t,r){"use strict";var n=r("I+eb"),i=r("kmMV");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},rEGp:function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}e.exports=r},rKzb:function(e,t,r){"use strict";var n=r("4syw"),i=r("8YOa").getWeakData,o=r("glrk"),a=r("hh1v"),s=r("GarU"),u=r("ImZN"),l=r("tycR"),c=r("UTVS"),h=r("afO8"),f=h.set,p=h.getterFor,d=l.find,g=l.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return d(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,l){var h=e((function(e,n){s(e,h,t),f(e,{type:t,id:m++,frozen:void 0}),void 0!=n&&u(n,e[l],e,r)})),d=p(t),g=function(e,t,r){var n=d(e),a=i(o(t),!0);return!0===a?v(n).set(t,r):a[n.id]=r,e};return n(h.prototype,{delete:function(e){var t=d(this);if(!a(e))return!1;var r=i(e);return!0===r?v(t)["delete"](e):r&&c(r,t.id)&&delete r[t.id]},has:function(e){var t=d(this);if(!a(e))return!1;var r=i(e);return!0===r?v(t).has(e):r&&c(r,t.id)}}),n(h.prototype,r?{get:function(e){var t=d(this);if(a(e)){var r=i(e);return!0===r?v(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},rOQg:function(e,t,r){"use strict";var n=r("I+eb"),i=r("0Dky"),o=r("Yhre"),a=r("glrk"),s=r("I8vh"),u=r("UMSQ"),l=r("SEBh"),c=o.ArrayBuffer,h=o.DataView,f=c.prototype.slice,p=i((function(){return!new c(2).slice(1,void 0).byteLength}));n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:p},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(a(this),e);var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(l(this,c))(u(i-n)),p=new h(this),d=new h(o),g=0;while(n<i)d.setUint8(g++,p.getUint8(n++));return o}})},rSSe:function(e,t,r){},rW0t:function(e,t,r){"use strict";var n=r("glrk");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rZ3M:function(e,t,r){"use strict";var n=r("I+eb"),i=r("HYAF"),o=r("ROdP"),a=r("rW0t"),s=r("tiKp"),u=r("xDBR"),l=s("replace"),c=RegExp.prototype;n({target:"String",proto:!0},{replaceAll:function e(t,r){var n,s,h,f,p,d,g,m,v,y=i(this);if(null!=t){if(n=o(t),n&&(s=String(i("flags"in c?t.flags:a.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(h=t[l],void 0!==h)return h.call(t,y,r);if(u&&n)return String(y).replace(t,r)}if(f=String(y),p=String(t),""===p)return e.call(f,/(?:)/g,r);if(d=f.split(p),"function"!==typeof r)return d.join(String(r));for(g=d[0],m=g.length,v=1;v<d.length;v++)g+=String(r(p,m,f)),m+=p.length+d[v].length,g+=d[v];return g}})},rb3L:function(e,t,r){var n=r("I+eb"),i=r("P940");n({target:"WeakSet",stat:!0},{of:i})},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},"rhT+":function(e,t){function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}e.exports=r},rkAj:function(e,t,r){var n=r("g6v/"),i=r("0Dky"),o=r("UTVS"),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var r=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:u,h=o(t,1)?t[1]:void 0;return s[e]=!!r&&!i((function(){if(l&&!n)return!0;var e={length:-1};l?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,c,h)}))}},rpNk:function(e,t,r){"use strict";var n,i,o,a=r("4WOD"),s=r("kRJp"),u=r("UTVS"),l=r("tiKp"),c=r("xDBR"),h=l("iterator"),f=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(n=i)):f=!0),void 0==n&&(n={}),c||u(n,h)||s(n,h,p),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},"s+10":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMethods=t.unregisterEvents=t.registerEvents=void 0;var n=r("mrSG"),i=n.__importDefault(r("Gytx"));function o(e,t,r){r&&t&&t.addEventListener&&(e.registeredEvents={},r.forEach((function(r){var n="on"+r.substr(0,1).toUpperCase()+r.substr(1);e.props[n]&&"function"===typeof e.props[n]&&(t.addEventListener(r,e.props[n]),e.registeredEvents[r]=e.props[n])})))}function a(e,t){e.registeredEvents&&t&&t.removeEventListener&&(Object.keys(e.registeredEvents).forEach((function(r){t.removeEventListener(r,e.registeredEvents[r])})),e.registeredEvents=null)}function s(e,t,r,n){r&&t&&Object.keys(r).forEach((function(o){(void 0===n&&void 0!==e.props[o]||void 0!==n&&!i.default(e.props[o],n[o]))&&(e.props[o]?t&&t[r[o][0]]():t&&t[r[o][1]]())}))}function u(e,t){var r=e["prototype"].getInstance,n=e["prototype"].componentDidMount,i=e["prototype"].componentDidUpdate;return r?(t&&Object.keys(t).length>0&&(e["prototype"].componentDidMount=function(){n&&n.call(this),s(this,r(this),t)},e["prototype"].componentDidUpdate=function(e,n){s(this,r(this),t,e),i&&i.call(this,e,n)}),e):e}function l(e,t){var r=e["prototype"].getInstance,n=e["prototype"].componentDidUpdate,s=e["prototype"].componentDidMount,u=e["prototype"].componentWillUnmount;return t&&t.length>0&&(e["prototype"].componentDidMount=function(){s&&s.call(this),o(this,r(this),t)},e["prototype"].componentDidUpdate=function(e,s){i.default(this.props,e)||a(this,r(this)),n&&n.call(this,e,s),i.default(this.props,e)||o(this,r(this),t)},e["prototype"].componentWillUnmount=function(){a(this,r(this)),u&&u.call(this)}),e}function c(e,t,r){var n=u(e,r);return n=l(n,t),n}t.registerEvents=o,t.unregisterEvents=a,t.toggleMethods=s,t.default=c},s4An:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,"a",(function(){return n}))},s5qe:function(e,t,r){"use strict";var n=r("2oRo"),i=r("67WC"),o=r("0Dky"),a=n.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,h=!!a&&o((function(){l.call(new a(1))})),f=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return l.apply(h?c.call(s(this)):s(this),arguments)}),f)},sEFX:function(e,t,r){"use strict";var n=r("AO7/"),i=r("9d/t");e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},sEf8:function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},sQ9d:function(e,t,r){var n=r("I+eb"),i=r("eDxR"),o=r("glrk"),a=i.keys,s=i.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},seXi:function(e,t,r){var n=r("qZTm"),i=1,o=Object.prototype,a=o.hasOwnProperty;function s(e,t,r,o,s,u){var l=r&i,c=n(e),h=c.length,f=n(t),p=f.length;if(h!=p&&!l)return!1;var d=h;while(d--){var g=c[d];if(!(l?g in t:a.call(t,g)))return!1}var m=u.get(e),v=u.get(t);if(m&&v)return m==t&&v==e;var y=!0;u.set(e,t),u.set(t,e);var b=l;while(++d<h){g=c[d];var x=e[g],A=t[g];if(o)var w=l?o(A,x,g,t,e,u):o(x,A,g,e,t,u);if(!(void 0===w?x===A||s(x,A,r,o,u):w)){y=!1;break}b||(b="constructor"==g)}if(y&&!b){var _=e.constructor,C=t.constructor;_==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof C&&C instanceof C||(y=!1)}return u["delete"](e),u["delete"](t),y}e.exports=s},shjB:function(e,t){var r=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}e.exports=n},spTT:function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"WeakSet",stat:!0},{from:i})},sxOR:function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:o.RFC3986,formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},sxwG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("hODF")),o=function(e){function t(t){return e.call(this,t)||this}return n.__extends(t,e),t.prototype.getControl=function(){return new BMapGL.MapTypeControl(this.getOptions())},t.prototype.render=function(){return null},t}(i.default);t.default=o},tB8F:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"rootContainer",(function(){return rt}));var i={};r.r(i),r.d(i,"rootContainer",(function(){return ht}));r("pNMO"),r("4Brf"),r("tjZM"),r("3I1R"),r("7+kd"),r("KhsS"),r("gOCb"),r("a57n"),r("GXvd"),r("I1Gw"),r("gXIK"),r("lEou"),r("ma9I"),r("TeQF"),r("BIHw"),r("XbcX"),r("pjDv"),r("yq1k"),r("yXV3"),r("4mDm"),r("uqXc"),r("2B1R"),r("E9XD"),r("9N29"),r("Junv"),r("+2oP"),r("ToJy"),r("94Xl"),r("pDQq"),r("QGkA"),r("c9m3"),r("wZ/5"),r("rOQg"),r("7+zs"),r("tW5y"),r("DEfu"),r("Tskq"),r("Uydy"),r("QFcT"),r("I9xj"),r("w1rZ"),r("toAj"),r("zKZe"),r("Eqjn"),r("5xtp"),r("T63A"),r("wfmh"),r("27RR"),r("v5b1"),r("W/eh"),r("07d7"),r("B6y2"),r("5s+n"),r("p532"),r("pv2x"),r("SuFq"),r("ftMj"),r("TWNs"),r("U3f4"),r("JfAA"),r("YGK4"),r("inlA"),r("JTJg"),r("Rm1S"),r("hDyC"),r("TZCg"),r("UxlC"),r("hByQ"),r("EnZy"),r("LKBx"),r("SYor"),r("HiXI"),r("7ueG"),r("z8NH"),r("SpvK"),r("/Yfv"),r("iwkZ"),r("FDzp"),r("XMab"),r("ilnZ"),r("hMMk"),r("+ywr"),r("IL/d"),r("gvgV"),r("7JcK"),r("s5qe"),r("cvf0"),r("ENF9"),r("H+LF"),r("66V8"),r("iIM6"),r("2tOg"),r("gYJb"),r("EDT/"),r("j+VE"),r("wgYD"),r("R3/m"),r("l/vG"),r("0q/z"),r("n5pg"),r("zu+z"),r("ihrJ"),r("Q7Pz"),r("unQa"),r("Vnov"),r("nIe3"),r("CUyW"),r("qc1c"),r("5921"),r("VOz1"),r("Thag"),r("9D6x"),r("cOPa"),r("vdRX"),r("KrxN"),r("SL6q"),r("lehK"),r("eO0o"),r("NqR8"),r("w7s6"),r("uWhJ"),r("WPzJ"),r("NV22"),r("ny8l"),r("a5/B"),r("vzwy"),r("pevA"),r("8go2"),r("DrvE"),r("kCkZ"),r("++zV"),r("Y4C7"),r("ZsH6"),r("vZi8"),r("5r1n"),r("sQ9d"),r("bdeN"),r("AwgR"),r("qgGA"),r("49+q"),r("AVoK"),r("hcok"),r("dNT4"),r("3uUd"),r("tijO"),r("1kQv"),r("ZY7T"),r("C1JJ"),r("lmH4"),r("Co1j"),r("5JV0"),r("ctDJ"),r("8r4s"),r("JwUS"),r("qaHo"),r("Si40"),r("BGb9"),r("fN96"),r("UzNg"),r("DhMN"),r("rZ3M"),r("apDx"),r("4XaG"),r("6V7H"),r("cfiF"),r("702D"),r("TJ79"),r("Z4nd"),r("8STE"),r("spTT"),r("rb3L"),r("FZtP"),r("3bBZ"),r("Ew+T"),r("n5b4"),r("Kz25"),r("vxnP"),r("mGGf"),r("97ZR");var o=r("q1tI"),a=r.n(o),s=r("bw0O");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function h(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,s,"next",e)}function s(e){h(o,n,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return y(e)||b(e)||x(e)||w()}function y(e){if(Array.isArray(e))return e}function b(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function x(e,t){if(e){if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var C=Object(o["createContext"])(null),M=[],S=[],T=!1;function E(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}function I(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var i=E(e[n]);i.loading?t.loading=!0:(t.loaded[n]=i.loaded,t.error=i.error),r.push(i.promise),i.promise.then((function(e){t.loaded[n]=e})).catch((function(e){t.error=e}))}))}catch(n){t.error=n}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function R(e){return e&&e.__esModule?e.default:e}function L(e,t){return Object(o["createElement"])(R(e),t)}function P(e,t){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:L,webpack:null,modules:null},t),n=null;function i(){if(!n){var t=new O(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if("undefined"===typeof window&&M.push(i),!T&&"undefined"!==typeof window&&"function"===typeof r.webpack){var a=r.webpack();S.push((function(e){var t,r=_(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(-1!==e.indexOf(n))return i()}}catch(o){r.e(o)}finally{r.f()}}))}var u=function(e,t){i();var a=Object(o["useContext"])(C),u=Object(s["useSubscription"])(n);return Object(o["useImperativeHandle"])(t,(function(){return{retry:n.retry}})),a&&Array.isArray(r.modules)&&r.modules.forEach((function(e){a(e)})),u.loading||u.error?Object(o["createElement"])(r.loading,{isLoading:u.loading,pastDelay:u.pastDelay,timedOut:u.timedOut,error:u.error,retry:n.retry}):u.loaded?r.render(u.loaded,e):null},l=Object(o["forwardRef"])(u);return l.preload=function(){return i()},l.displayName="LoadableComponent",l}var O=function(){function e(t,r){p(this,e),this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return g(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,r=this._opts;t.loading&&("number"===typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),r.delay)),"number"===typeof r.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),r.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()})).catch((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=l(l({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return l(l({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function D(e){return P(E,e)}function k(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return P(I,e)}function N(e,t){var r=[];while(e.length){var n=e.pop();r.push(n(t))}return Promise.all(r).then((function(){if(e.length)return N(e,t)}))}function F(e,t){if(!e)throw new Error(t)}D.Map=k,D.preloadAll=function(){return new Promise((function(e,t){N(M).then(e,t)}))},D.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var r=function(){return T=!0,t()};N(S,e).then(r,r)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=D.preloadReady);var B;function z(e){var t=e.fns,r=e.args;if(1===t.length)return t[0];var n=t.pop();return t.reduce((function(e,t){return function(){return t(e,r)}}),n)}function U(e){return!!e&&"object"===c(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(B||(B={}));var j=function(){function e(t){p(this,e),this.validKeys=void 0,this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return g(e,[{key:"register",value:function(e){var t=this;F(!!e.apply,"register failed, plugin.apply must supplied"),F(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(r){F(t.validKeys.indexOf(r)>-1,"register failed, invalid key ".concat(r," from plugin ").concat(e.path,".")),t.hooks[r]||(t.hooks[r]=[]),t.hooks[r]=t.hooks[r].concat(e.apply[r])}))}},{key:"getHooks",value:function(e){var t=e.split("."),r=v(t),n=r[0],i=r.slice(1),o=this.hooks[n]||[];return i.length&&(o=o.map((function(e){try{var t,r=e,n=_(i);try{for(n.s();!(t=n.n()).done;){var o=t.value;r=r[o]}}catch(a){n.e(a)}finally{n.f()}return r}catch(s){return null}})).filter(Boolean)),o}},{key:"applyPlugins",value:function(e){var t=e.key,r=e.type,n=e.initialValue,i=e.args,o=e.async,a=this.getHooks(t)||[];switch(i&&F("object"===c(i),"applyPlugins failed, args must be plain object."),r){case B.modify:return o?a.reduce(function(){var e=f(regeneratorRuntime.mark((function e(r,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(F("function"===typeof n||"object"===c(n)||U(n),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!U(r)){e.next=5;break}return e.next=4,r;case 4:r=e.sent;case 5:if("function"!==typeof n){e.next=16;break}if(o=n(r,i),!U(o)){e.next=13;break}return e.next=10,o;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",o);case 14:e.next=21;break;case 16:if(!U(n)){e.next=20;break}return e.next=19,n;case 19:n=e.sent;case 20:return e.abrupt("return",l(l({},r),n));case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),U(n)?n:Promise.resolve(n)):a.reduce((function(e,r){return F("function"===typeof r||"object"===c(r),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof r?r(e,i):l(l({},e),r)}),n);case B.event:return a.forEach((function(e){F("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(i)}));case B.compose:return function(){return z({fns:a.concat(n),args:i})()}}}}]),e}(),H=new j({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu","getInitialState","initialStateConfig","request"]}),G=r("wx14");function V(e){return"/"===e.charAt(0)}function W(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function X(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&V(e),a=t&&V(t),s=o||a;if(e&&V(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";if(i.length){var u=i[i.length-1];r="."===u||".."===u||""===u}else r=!1;for(var l=0,c=i.length;c>=0;c--){var h=i[c];"."===h?W(i,c):".."===h?(W(i,c),l++):l&&(W(i,c),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&V(i[0])||i.unshift("");var f=i.join("/");return r&&"/"!==f.substr(-1)&&(f+="/"),f}var q=X;function Y(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function Z(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return Z(e,t[r])}));if("object"===typeof e||"object"===typeof t){var r=Y(e),n=Y(t);return r!==e||n!==t?Z(r,n):Object.keys(Object.assign({},e,t)).every((function(r){return Z(e[r],t[r])}))}return!1}var K=Z,J=r("YJ9l"),Q=r.n(J),$=!0,ee="Invariant failed";function te(e,t){if(!e){if($)throw new Error(ee);var r="function"===typeof t?t():t,n=r?ee+": "+r:ee;throw new Error(n)}}function re(e){return"/"===e.charAt(0)?e:"/"+e}function ne(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function ie(e,t){return ne(e,t)?e.substr(t.length):e}function oe(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ae(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(r=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function se(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function ue(e,t,r,n){var i;"string"===typeof e?(i=ae(e),i.query=i.search?Q.a.parse(i.search):{},i.state=t):(i=Object(G["a"])({},e),void 0===i.pathname&&(i.pathname=""),i.search?("?"!==i.search.charAt(0)&&(i.search="?"+i.search),i.query=Q.a.parse(i.search)):(i.search=i.query?Q.a.stringify(i.query):"",i.query=i.query||{}),i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return r&&(i.key=r),n?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=q(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function le(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&K(e.state,t.state)}function ce(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function r(t,r,n,i){if(null!=e){var o="function"===typeof e?e(t,r):e;"string"===typeof o?"function"===typeof n?n(o,i):i(!0):i(!1!==o)}else i(!0)}var n=[];function i(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:r,appendListener:i,notifyListeners:o}}var he=!("undefined"===typeof window||!window.document||!window.document.createElement);function fe(e,t){t(window.confirm(e))}function pe(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function de(){return-1===window.navigator.userAgent.indexOf("Trident")}function ge(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var me="popstate",ve="hashchange";function ye(){try{return window.history.state||{}}catch(e){return{}}}function be(e){void 0===e&&(e={}),he||te(!1);var t=window.history,r=pe(),n=!de(),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?fe:s,l=i.keyLength,c=void 0===l?6:l,h=e.basename?oe(re(e.basename)):"";function f(e){var t=e||{},r=t.key,n=t.state,i=window.location,o=i.pathname,a=i.search,s=i.hash,u=o+a+s;return h&&(u=ie(u,h)),ue(u,n,r)}function p(){return Math.random().toString(36).substr(2,c)}var d=ce();function g(e){Object(G["a"])(D,e),D.length=t.length,d.notifyListeners(D.location,D.action)}function m(e){ge(e)||b(f(e.state))}function v(){b(f(ye()))}var y=!1;function b(e){if(y)y=!1,g();else{var t="POP";d.confirmTransitionTo(e,t,u,(function(r){r?g({action:t,location:e}):x(e)}))}}function x(e){var t=D.location,r=w.indexOf(t.key);-1===r&&(r=0);var n=w.indexOf(e.key);-1===n&&(n=0);var i=r-n;i&&(y=!0,S(i))}var A=f(ye()),w=[A.key];function _(e){return h+se(e)}function C(e,n){var i="PUSH",o=ue(e,n,p(),D.location);d.confirmTransitionTo(o,i,u,(function(e){if(e){var n=_(o),s=o.key,u=o.state;if(r)if(t.pushState({key:s,state:u},null,n),a)window.location.href=n;else{var l=w.indexOf(D.location.key),c=w.slice(0,l+1);c.push(o.key),w=c,g({action:i,location:o})}else window.location.href=n}}))}function M(e,n){var i="REPLACE",o=ue(e,n,p(),D.location);d.confirmTransitionTo(o,i,u,(function(e){if(e){var n=_(o),s=o.key,u=o.state;if(r)if(t.replaceState({key:s,state:u},null,n),a)window.location.replace(n);else{var l=w.indexOf(D.location.key);-1!==l&&(w[l]=o.key),g({action:i,location:o})}else window.location.replace(n)}}))}function S(e){t.go(e)}function T(){S(-1)}function E(){S(1)}var I=0;function R(e){I+=e,1===I&&1===e?(window.addEventListener(me,m),n&&window.addEventListener(ve,v)):0===I&&(window.removeEventListener(me,m),n&&window.removeEventListener(ve,v))}var L=!1;function P(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return L||(R(1),L=!0),function(){return L&&(L=!1,R(-1)),t()}}function O(e){var t=d.appendListener(e);return R(1),function(){R(-1),t()}}var D={length:t.length,action:"POP",location:A,createHref:_,push:C,replace:M,go:S,goBack:T,goForward:E,block:P,listen:O};return D}function xe(e,t,r){return Math.min(Math.max(e,t),r)}function Ae(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,i=void 0===n?["/"]:n,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,l=ce();function c(e){Object(G["a"])(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=xe(a,0,i.length-1),p=i.map((function(e){return ue(e,void 0,"string"===typeof e?h():e.key||h())})),d=se;function g(e,t){var n="PUSH",i=ue(e,t,h(),_.location);l.confirmTransitionTo(i,n,r,(function(e){if(e){var t=_.index,r=t+1,o=_.entries.slice(0);o.length>r?o.splice(r,o.length-r,i):o.push(i),c({action:n,location:i,index:r,entries:o})}}))}function m(e,t){var n="REPLACE",i=ue(e,t,h(),_.location);l.confirmTransitionTo(i,n,r,(function(e){e&&(_.entries[_.index]=i,c({action:n,location:i}))}))}function v(e){var t=xe(_.index+e,0,_.entries.length-1),n="POP",i=_.entries[t];l.confirmTransitionTo(i,n,r,(function(e){e?c({action:n,location:i,index:t}):c()}))}function y(){v(-1)}function b(){v(1)}function x(e){var t=_.index+e;return t>=0&&t<_.entries.length}function A(e){return void 0===e&&(e=!1),l.setPrompt(e)}function w(e){return l.appendListener(e)}var _={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:d,push:g,replace:m,go:v,goBack:y,goForward:b,canGo:x,block:A,listen:w};return _}var we={basename:"/"};window.routerBase&&(we.basename=window.routerBase);var _e=Object({NODE_ENV:"production"}).__IS_SERVER?null:be(we),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(_e=be(we)),_e},Me=r("tJVT"),Se=r("1WJl"),Te=r.n(Se),Ee=a.a.createContext({});function Ie(e,t){var r=Object(o["useContext"])(Ee),n=Object(o["useRef"])(t);n.current=t;var i=Object(o["useState"])((()=>n.current?n.current(r.data[e]):r.data[e])),a=Object(Me["a"])(i,2),s=a[0],u=a[1],l=Object(o["useRef"])(s);l.current=s;var c=Object(o["useRef"])(!1);return Object(o["useEffect"])((()=>(c.current=!0,()=>{c.current=!1})),[]),Object(o["useEffect"])((()=>{var i=i=>{if(c.current)if(t&&n.current){var o=n.current(i),a=l.current;Te()(o,a)||u(o)}else u(i);else setTimeout((()=>{r.data[e]=i,r.update(e)}))};try{r.callbacks[e].add(i),r.update(e)}catch(o){r.callbacks[e]=new Set,r.callbacks[e].add(i),r.update(e)}return()=>{r.callbacks[e].delete(i)}}),[e]),s}r("WmNS"),r("ZqBY"),r("9Baz");var Re=r("9/5/"),Le=r.n(Re),Pe=r("hKI/"),Oe=r.n(Pe);function De(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}function ke(){return"undefined"===typeof navigator.onLine||navigator.onLine}new Map;var Ne=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(n=o.next()).done)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return a},Fe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ne(arguments[t]));return e};function Be(e,t){var r=!1;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r||(r=!0,e.apply(void 0,Fe(n)),setTimeout((function(){r=!1}),t))}}var ze=[];function Ue(e){return ze.push(e),function(){var t=ze.indexOf(e);ze.splice(t,1)}}var je=!1;if("undefined"!==typeof window&&window.addEventListener&&!je){var He=function(){if(De()&&ke())for(var e=0;e<ze.length;e++){var t=ze[e];t()}};window.addEventListener("visibilitychange",He,!1),window.addEventListener("focus",He,!1),je=!0}var Ge=Ue,Ve=[];function We(e){return Ve.push(e),function(){var t=Ve.indexOf(e);Ve.splice(t,1)}}var Xe=!1;if("undefined"!==typeof window&&window.addEventListener&&!Xe){var qe=function(){if(De())for(var e=0;e<Ve.length;e++){var t=Ve[e];t()}};window.addEventListener("visibilitychange",qe,!1),Xe=!0}var Ye=We,Ze=function(){return Ze=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ze.apply(this,arguments)},Ke=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{while((void 0===t||t-- >0)&&!(n=o.next()).done)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return a},Je=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ke(arguments[t]));return e};(function(){function e(e,t,r,n){this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=e,this.config=t,this.subscribe=r,n&&(this.state=Ze(Ze({},this.state),n)),this.debounceRun=this.config.debounceInterval?Le()(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?Oe()(this._run,this.config.throttleInterval):void 0,this.limitRefresh=Be(this.refresh.bind(this),this.config.focusTimespan),this.config.pollingInterval&&this.unsubscribe.push(Ye(this.rePolling.bind(this))),this.config.refreshOnWindowFocus&&this.unsubscribe.push(Ge(this.limitRefresh.bind(this)))}e.prototype.setState=function(e){void 0===e&&(e={}),this.state=Ze(Ze({},this.state),e),this.subscribe(this.state)},e.prototype._run=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var n=this.count;return this.setState({loading:!this.config.loadingDelay,params:t}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){e.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,Je(t)).then((function(r){if(n!==e.count)return new Promise((function(){}));e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer);var i=e.config.formatResult?e.config.formatResult(r):r;return e.setState({data:i,error:void 0,loading:!1}),e.config.onSuccess&&e.config.onSuccess(i,t),i}))["catch"]((function(r){if(n!==e.count)return new Promise((function(){}));if(e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer),e.setState({data:void 0,error:r,loading:!1}),e.config.onError&&e.config.onError(r,t),e.config.throwOnError)throw r;return console.error(r),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")}))["finally"]((function(){if(n===e.count&&e.config.pollingInterval){if(!De()&&!e.config.pollingWhenHidden)return void(e.pollingWhenVisibleFlag=!0);e.pollingTimer=setTimeout((function(){e._run.apply(e,Je(t))}),e.config.pollingInterval)}}))},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.debounceRun?(this.debounceRun.apply(this,Je(e)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,Je(e)),Promise.resolve(null)):this._run.apply(this,Je(e))},e.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},e.prototype.refresh=function(){return this.run.apply(this,Je(this.state.params))},e.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},e.prototype.mutate=function(e){"function"===typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})},e.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(e){e()}))}})();var Qe=a.a.createContext({});Qe.displayName="UseRequestConfigContext";var $e=Qe;var et;$e.Provider;(function(e){e[e["SILENT"]=0]="SILENT",e[e["WARN_MESSAGE"]=1]="WARN_MESSAGE",e[e["ERROR_MESSAGE"]=2]="ERROR_MESSAGE",e[e["NOTIFICATION"]=4]="NOTIFICATION",e[e["REDIRECT"]=9]="REDIRECT"})(et||(et={}));r("qhky");if("function"!==typeof Ie)throw new Error("[plugin-initial-state]: useModel is not a function, @umijs/plugin-model is required.");var tt=e=>{var t=e.children,r=Object(o["useRef"])(!1),n=H.applyPlugins({key:"initialStateConfig",type:B.modify,initialValue:{}})||{},i=Ie("@@initialState")||{},a=i.loading,s=void 0!==a&&a;return Object(o["useEffect"])((()=>{s||(r.current=!0)}),[s]),s&&!r.current?n.loading||null:t};function rt(e){return a.a.createElement(tt,null,e)}var nt=()=>({loading:!1,refresh:()=>{}});class it{constructor(){this.callbacks={},this.data={},this.update=e=>{(this.callbacks[e]||[]).forEach((t=>{try{var r=this.data[e];t(r)}catch(n){t(void 0)}}))}}}var ot=r("nKUr"),at=e=>{var t=e.hook,r=e.onUpdate,n=e.namespace,i=Object(o["useRef"])(r);i.current=r;var a,s=Object(o["useRef"])(!1);try{a=t()}catch(u){console.error("plugin-model: Invoking '".concat(n||"unknown","' model failed:"),u)}return Object(o["useMemo"])((()=>{i.current(a),s.current=!1}),[]),Object(o["useEffect"])((()=>{s.current?i.current(a):s.current=!0})),Object(ot["jsx"])(ot["Fragment"],{})},st={"@@initialState":nt},ut=new it,lt=at,ct=e=>{var t=e.children;return Object(ot["jsxs"])(Ee.Provider,{value:ut,children:[Object.entries(st).map((e=>Object(ot["jsx"])(lt,{namespace:e[0],hook:e[1],onUpdate:t=>{var r=e,n=Object(Me["a"])(r,1),i=n[0];ut.data[i]=t,ut.update(i)}},e[0]))),t]})};function ht(e){return a.a.createElement(ct,null,e)}H.register({apply:n,path:"../plugin-initial-state/runtime"}),H.register({apply:i,path:"../plugin-model/runtime"});var ft=r("dI71"),pt=r("FUNW"),dt=r("vRGJ"),gt=r.n(dt),mt=(r("TOwV"),r("zLVn")),vt=(r("2mql"),function(e){var t=Object(pt["a"])();return t.displayName=e,t}),yt=vt("Router-History"),bt=function(e){var t=Object(pt["a"])();return t.displayName=e,t},xt=bt("Router"),At=function(e){function t(t){var r;return r=e.call(this,t)||this,r.state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._isMounted?r.setState({location:e}):r._pendingLocation=e}))),r}Object(ft["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return a.a.createElement(xt.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(yt.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;var wt=function(e){function t(){return e.apply(this,arguments)||this}Object(ft["a"])(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(a.a.Component);var _t={},Ct=1e4,Mt=0;function St(e){if(_t[e])return _t[e];var t=gt.a.compile(e);return Mt<Ct&&(_t[e]=t,Mt++),t}function Tt(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:St(e)(t,{pretty:!0})}function Et(e){var t=e.computedMatch,r=e.to,n=e.push,i=void 0!==n&&n;return a.a.createElement(xt.Consumer,null,(function(e){e||te(!1);var n=e.history,o=e.staticContext,s=i?n.push:n.replace,u=ue(t?"string"===typeof r?Tt(r,t.params):Object(G["a"])({},r,{pathname:Tt(r.pathname,t.params)}):r);return o?(s(u),null):a.a.createElement(wt,{onMount:function(){s(u)},onUpdate:function(e,t){var r=ue(t.to);le(r,Object(G["a"])({},u,{key:r.key}))||s(u)},to:r})}))}var It={},Rt=1e4,Lt=0;function Pt(e,t){var r=""+t.end+t.strict+t.sensitive,n=It[r]||(It[r]={});if(n[e])return n[e];var i=[],o=gt()(e,i,t),a={regexp:o,keys:i};return Lt<Rt&&(n[e]=a,Lt++),a}function Ot(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,o=void 0!==i&&i,a=r.strict,s=void 0!==a&&a,u=r.sensitive,l=void 0!==u&&u,c=[].concat(n);return c.reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=Pt(r,{end:o,strict:s,sensitive:l}),i=n.regexp,a=n.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),f=e===c;return o&&!f?null:{path:r,url:"/"===r&&""===c?"/":c,isExact:f,params:a.reduce((function(e,t,r){return e[t.name]=h[r],e}),{})}}),null)}a.a.Component;function Dt(e){return"/"===e.charAt(0)?e:"/"+e}function kt(e,t){return e?Object(G["a"])({},t,{pathname:Dt(e)+t.pathname}):t}function Nt(e,t){if(!e)return t;var r=Dt(e);return 0!==t.pathname.indexOf(r)?t:Object(G["a"])({},t,{pathname:t.pathname.substr(r.length)})}function Ft(e){return"string"===typeof e?e:se(e)}function Bt(e){return function(){te(!1)}}function zt(){}a.a.Component;a.a.Component;a.a.useContext;var Ut=r("auQ1");function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wt(e,t,r){return t&&Vt(e.prototype,t),r&&Vt(e,r),e}function Xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qt(e,t){if(e){if("string"===typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qt(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var Kt=Object(o["createContext"])(null),Jt=[],Qt=[],$t=!1;function er(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}function tr(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var i=er(e[n]);i.loading?t.loading=!0:(t.loaded[n]=i.loaded,t.error=i.error),r.push(i.promise),i.promise.then((function(e){t.loaded[n]=e})).catch((function(e){t.error=e}))}))}catch(n){t.error=n}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function rr(e){return e&&e.__esModule?e.default:e}function nr(e,t){return Object(o["createElement"])(rr(e),t)}function ir(e,t){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:nr,webpack:null,modules:null},t),n=null;function i(){if(!n){var t=new or(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if("undefined"===typeof window&&Jt.push(i),!$t&&"undefined"!==typeof window&&"function"===typeof r.webpack){var a=r.webpack();Qt.push((function(e){var t,r=Zt(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(-1!==e.indexOf(n))return i()}}catch(o){r.e(o)}finally{r.f()}}))}var s=function(e,t){i();var a=Object(o["useContext"])(Kt),s=Object(Ut["useSubscription"])(n);return Object(o["useImperativeHandle"])(t,(function(){return{retry:n.retry}})),a&&Array.isArray(r.modules)&&r.modules.forEach((function(e){a(e)})),s.loading||s.error?Object(o["createElement"])(r.loading,{isLoading:s.loading,pastDelay:s.pastDelay,timedOut:s.timedOut,error:s.error,retry:n.retry}):s.loaded?r.render(s.loaded,e):null},u=Object(o["forwardRef"])(s);return u.preload=function(){return i()},u.displayName="LoadableComponent",u}var or=function(){function e(t,r){Gt(this,e),this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return Wt(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,r=this._opts;t.loading&&("number"===typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),r.delay)),"number"===typeof r.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),r.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()})).catch((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=Ht(Ht({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return Ht(Ht({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function ar(e){return ir(er,e)}function sr(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return ir(tr,e)}function ur(e,t){var r=[];while(e.length){var n=e.pop();r.push(n(t))}return Promise.all(r).then((function(){if(e.length)return ur(e,t)}))}ar.Map=sr,ar.preloadAll=function(){return new Promise((function(e,t){ur(Jt).then(e,t)}))},ar.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var r=function(){return $t=!0,t()};ur(Qt,e).then(r,r)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=ar.preloadReady);var lr;(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(lr||(lr={}));var cr=r("i8i4");function hr(e,t,r){return void 0===r&&(r=[]),e.some((function(e){var n=e.path?Ot(t,e):r.length?r[r.length-1].match:At.computeRootMatch(t);return n&&(r.push({route:e,match:n}),e.routes&&hr(e.routes,t,r)),n})),r}function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dr(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,i)}function gr(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){dr(o,n,i,a,s,"next",e)}function s(e){dr(o,n,i,a,s,"throw",e)}a(void 0)}))}}function mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vr.apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function br(e,t){if(null==e)return{};var r,n,i=yr(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xr(e,t){return Ar(e)||wr(e,t)||_r(e,t)||Mr()}function Ar(e){if(Array.isArray(e))return e}function wr(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(u){s=!0,i=u}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}function _r(e,t){if(e){if("string"===typeof e)return Cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_r(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Tr(e){return a.a.createElement(xt.Consumer,null,(function(t){var r=e.location||t.location,n=e.computedMatch,i=pr(pr({},t),{},{location:r,match:n}),o=e.render;return a.a.createElement(xt.Provider,{value:i},i.match?o(pr(pr({},e.layoutProps),i)):null)}))}var Er=["children"];function Ir(e){return a.a.createElement(xt.Consumer,null,(function(t){var r,n=e.children,i=br(e,Er),a=e.location||t.location,s=null;return o["Children"].forEach(n,(function(e){if(null===s&&Object(o["isValidElement"])(e)){r=e;var n=e.props.path||e.props.from;s=n?Ot(a.pathname,pr(pr({},e.props),{},{path:n})):t.match}})),s?Object(o["cloneElement"])(r,{location:a,computedMatch:s,layoutProps:i}):null}))}var Rr=["component"];function Lr(e,t){e.component;var r=br(e,Rr),n=e.component;function i(i){var s=Object(o["useState"])((function(){return window.g_initialProps})),u=xr(s,2),l=u[0],c=u[1];return Object(o["useEffect"])((function(){var o=function(){var o=gr(regeneratorRuntime.mark((function o(){var a,s,u,l,h;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(s=n,!n.preload){o.next=6;break}return o.next=4,n.preload();case 4:s=o.sent,s=s.default||s;case 6:if(u=pr(pr({isServer:!1,match:null===i||void 0===i?void 0:i.match,history:null===i||void 0===i?void 0:i.history,route:e},t.getInitialPropsCtx||{}),r),!(null===(a=s)||void 0===a?void 0:a.getInitialProps)){o.next=15;break}return o.next=10,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:lr.modify,initialValue:u,async:!0});case 10:return l=o.sent,o.next=13,s.getInitialProps(l||u);case 13:h=o.sent,c(h);case 15:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();window.g_initialProps||o()}),[window.location.pathname,window.location.search]),a.a.createElement(n,vr({},i,l))}return i.wrapInitialPropsLoaded=!0,i.displayName="ComponentWithInitialPropsFetch",i}function Pr(e){var t=e.route,r=e.opts,n=e.props,i=Dr(pr(pr({},r),{},{routes:t.routes||[],rootRoutes:r.rootRoutes}),{location:n.location}),s=t.component,u=t.wrappers;if(s){var l=r.isServer?{}:window.g_initialProps,c=pr(pr(pr(pr({},n),r.extraProps),r.pageInitialProps||l),{},{route:t,routes:r.rootRoutes}),h=a.a.createElement(s,c,i);if(u){var f=u.length-1;while(f>=0)h=Object(o["createElement"])(u[f],c,h),f-=1}return h}return i}function Or(e){var t,r,n,i=e.route,o=e.index,s=e.opts,u={key:i.key||o,exact:i.exact,strict:i.strict,sensitive:i.sensitive,path:i.path};return i.redirect?a.a.createElement(Et,vr({},u,{from:i.path,to:i.redirect})):(!s.ssrProps||s.isServer||(null===(t=i.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(r=i.component)||void 0===r?void 0:r.getInitialProps)&&!(null===(n=i.component)||void 0===n?void 0:n.preload)||(i.component=Lr(i,s)),a.a.createElement(Tr,vr({},u,{render:function(e){return Pr({route:i,opts:s,props:e})}})))}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.routes?a.a.createElement(Ir,t,e.routes.map((function(t,r){return Or({route:t,index:r,opts:pr(pr({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}var kr=["history"];function Nr(e){var t=e.history,r=br(e,kr);return Object(o["useEffect"])((function(){function n(t,n){var i=hr(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==r.defaultTitle&&(document.title=i.length&&i[i.length-1].route.title||r.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:lr.event,args:{routes:e.routes,matchedRoutes:i,location:t,action:n}})}return window.g_useSSR&&(window.g_initialProps=null),n(t.location,"POP"),t.listen(n)}),[t]),a.a.createElement(At,{history:t},Dr(r))}function Fr(e){return Br.apply(this,arguments)}function Br(){return Br=gr(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,u,l,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:window.location.pathname,n=hr(t,r),i=Sr(n),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=19;break}if(s=o.value,u=s.route,"string"===typeof u.component||!(null===(a=u.component)||void 0===a?void 0:a.preload)){e.next=13;break}return e.next=11,u.component.preload();case 11:l=e.sent,u.component=l.default||l;case 13:if(!u.routes){e.next=17;break}return e.next=16,Fr(u.routes,r);case 16:u.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),Br.apply(this,arguments)}function zr(e){var t=e.plugin.applyPlugins({type:lr.modify,key:"rootContainer",initialValue:a.a.createElement(Nr,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}});if(!e.rootElement)return t;var r="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,n=e.callback||function(){};window.g_useSSR?e.dynamicImport?Fr(e.routes).then((function(){Object(cr["hydrate"])(t,r,n)})):Object(cr["hydrate"])(t,r,n):Object(cr["render"])(t,r,n)}function Ur(){var e=[{path:"/",component:r("QeBL").default,exact:!0}];return H.applyPlugins({key:"patchRoutes",type:B.event,args:{routes:e}}),e}var jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return H.applyPlugins({key:"render",type:B.compose,initialValue:()=>{var t=H.applyPlugins({key:"modifyClientRenderOpts",type:B.modify,initialValue:{routes:e.routes||Ur(),plugin:H,history:Ce(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"Downton Scenery"}});return zr(t)},args:e})},Hr=jr();t["default"]=Hr();window.g_umi={version:"3.5.20"}},tJVT:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(u){i=!0,o=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw o}}return r}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return n(e)||i(e,t)||a(e,t)||s()}r.d(t,"a",(function(){return u}))},tMB7:function(e,t,r){var n=r("y1pI");function i(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}e.exports=i},tW5y:function(e,t,r){"use strict";var n=r("hh1v"),i=r("m/L8"),o=r("4WOD"),a=r("tiKp"),s=a("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;while(e=o(e))if(this.prototype===e)return!0;return!1}})},tXUg:function(e,t,r){var n,i,o,a,s,u,l,c,h=r("2oRo"),f=r("Bs8V").f,p=r("xrYK"),d=r("LPSS").set,g=r("HNyW"),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,b="process"==p(v),x=f(h,"queueMicrotask"),A=x&&x.value;A||(n=function(){var e,t;b&&(e=v.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(r){throw i?a():o=void 0,r}}o=void 0,e&&e.enter()},b?a=function(){v.nextTick(n)}:m&&!g?(s=!0,u=document.createTextNode(""),new m(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,a=function(){c.call(l,n)}):a=function(){d.call(h,n)}),e.exports=A||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},tadb:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"DataView");e.exports=o},tiKp:function(e,t,r){var n=r("2oRo"),i=r("VpIT"),o=r("UTVS"),a=r("kOOl"),s=r("STAE"),u=r("/b8u"),l=i("wks"),c=n.Symbol,h=u?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(c,e)?l[e]=c[e]:l[e]=h("Symbol."+e)),l[e]}},tijO:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("glrk"),a=r("A2ZE"),s=r("WGBp"),u=r("ImZN");n({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),r=s(t),n=a(e,arguments.length>1?arguments[1]:void 0,3);return u(r,(function(e){if(n(e,e,t))return u.stop(e)}),void 0,!1,!0).result}})},tjZM:function(e,t,r){var n=r("dG/n");n("asyncIterator")},toAj:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ppGB"),o=r("QIpd"),a=r("EUja"),s=r("0Dky"),u=1..toFixed,l=Math.floor,c=function(e,t,r){return 0===t?r:t%2===1?c(e,t-1,r*e):c(e*e,t/2,r)},h=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},f=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,r,n,s,u=o(this),f=i(e),p=[0,0,0,0,0,0],d="",g="0",m=function(e,t){var r=-1,n=t;while(++r<6)n+=e*p[r],p[r]=n%1e7,n=l(n/1e7)},v=function(e){var t=6,r=0;while(--t>=0)r+=p[t],p[t]=l(r/e),r=r%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var r=String(p[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(t=h(u*c(2,69,1))-69,r=t<0?u*c(2,-t,1):u/c(2,t,1),r*=4503599627370496,t=52-t,t>0){m(0,r),n=f;while(n>=7)m(1e7,0),n-=7;m(c(10,n,1),0),n=t-1;while(n>=23)v(1<<23),n-=23;v(1<<n),m(1,1),v(2),g=y()}else m(0,r),m(1<<-t,0),g=y()+a.call("0",f);return f>0?(s=g.length,g=d+(s<=f?"0."+a.call("0",f-s)+g:g.slice(0,s-f)+"."+g.slice(s-f))):g=d+g,g}})},tsqr:function(e,t,r){"use strict";r.r(t),r.d(t,"getKeyThenIncreaseKey",(function(){return U})),r.d(t,"attachTypeApi",(function(){return Y})),r.d(t,"getInstance",(function(){return Z}));var n=r("wx14"),i=r("rePB"),o=r("q1tI"),a=r("TSYQ"),s=r.n(a),u=r("8tx+"),l=r("ye1Q"),c=r("VTBJ"),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},f=h,p=r("6VBw"),d=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:f}))};d.displayName="ExclamationCircleFilled";var g=o["forwardRef"](d),m=r("jN4g"),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},y=v,b=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:y}))};b.displayName="CheckCircleFilled";var x=o["forwardRef"](b),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},w=A,_=function(e,t){return o["createElement"](p["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:w}))};_.displayName="InfoCircleFilled";var C=o["forwardRef"](_),M=r("ODXe"),S=r("8HVG"),T=r("H84U");function E(e,t){var r=function(){var r,i,a=null,s={add:function(e,t){null===a||void 0===a||a.component.add(e,t)}},u=Object(S["a"])(s),l=Object(M["a"])(u,2),c=l[0],h=l[1];function f(o){var s=o.prefixCls,u=r("message",s),l=r(),h=o.key||U(),f=new Promise((function(r){var s=function(){return"function"===typeof o.onClose&&o.onClose(),r(!0)};e(Object(n["a"])(Object(n["a"])({},o),{prefixCls:u,rootPrefixCls:l,getPopupContainer:i}),(function(e){var r=e.prefixCls,i=e.instance;a=i,c(t(Object(n["a"])(Object(n["a"])({},o),{key:h,onClose:s}),r))}))})),p=function(){a&&a.removeNotice(h)};return p.then=function(e,t){return f.then(e,t)},p.promise=f,p}var p=o["useRef"]({});return p.current.open=f,["success","info","warning","error","loading"].forEach((function(e){return Y(p.current,e)})),[p.current,o["createElement"](T["a"],{key:"holder"},(function(e){return r=e.getPrefixCls,i=e.getPopupContainer,h}))]};return r}var I,R,L,P,O=r("wEI+"),D=3,k=1,N="",F="move-up",B=!1,z=!1;function U(){return k++}function j(e){void 0!==e.top&&(R=e.top,I=null),void 0!==e.duration&&(D=e.duration),void 0!==e.prefixCls&&(N=e.prefixCls),void 0!==e.getContainer&&(L=e.getContainer),void 0!==e.transitionName&&(F=e.transitionName,I=null,B=!0),void 0!==e.maxCount&&(P=e.maxCount,I=null),void 0!==e.rtl&&(z=e.rtl)}function H(e,t){var r=e.prefixCls,n=e.getPopupContainer,i=Object(O["b"])(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,l=o("message",r||N),c=a(e.rootPrefixCls,l),h=s();if(I)t({prefixCls:l,rootPrefixCls:c,iconPrefixCls:h,instance:I});else{var f={prefixCls:l,transitionName:B?F:"".concat(c,"-").concat(F),style:{top:R},getContainer:L||n,maxCount:P};u["a"].newInstance(f,(function(e){I?t({prefixCls:l,rootPrefixCls:c,iconPrefixCls:h,instance:I}):(I=e,t({prefixCls:l,rootPrefixCls:c,iconPrefixCls:h,instance:e}))}))}}var G={info:C,success:x,error:m["a"],warning:g,loading:l["a"]};function V(e,t,r){var n,a=void 0!==e.duration?e.duration:D,u=G[e.type],l=s()("".concat(t,"-custom-content"),(n={},Object(i["a"])(n,"".concat(t,"-").concat(e.type),e.type),Object(i["a"])(n,"".concat(t,"-rtl"),!0===z),n));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:o["createElement"](O["a"],{iconPrefixCls:r},o["createElement"]("div",{className:l},e.icon||u&&o["createElement"](u,null),o["createElement"]("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}function W(e){var t=e.key||U(),r=new Promise((function(r){var i=function(){return"function"===typeof e.onClose&&e.onClose(),r(!0)};H(e,(function(r){var o=r.prefixCls,a=r.iconPrefixCls,s=r.instance;s.notice(V(Object(n["a"])(Object(n["a"])({},e),{key:t,onClose:i}),o,a))}))})),i=function(){I&&I.removeNotice(t)};return i.then=function(e,t){return r.then(e,t)},i.promise=r,i}function X(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}var q={open:W,config:j,destroy:function(e){if(I)if(e){var t=I,r=t.removeNotice;r(e)}else{var n=I,i=n.destroy;i(),I=null}}};function Y(e,t){e[t]=function(r,i,o){return X(r)?e.open(Object(n["a"])(Object(n["a"])({},r),{type:t})):("function"===typeof i&&(o=i,i=void 0),e.open({content:r,duration:i,type:t,onClose:o}))}}["success","info","warning","error","loading"].forEach((function(e){return Y(q,e)})),q.warn=q.warning,q.useMessage=E(H,V);var Z=function(){return null};t["default"]=q},tycR:function(e,t,r){var n=r("A2ZE"),i=r("RK3t"),o=r("ewvW"),a=r("UMSQ"),s=r("ZfDv"),u=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,c=4==e,h=6==e,f=5==e||h;return function(p,d,g,m){for(var v,y,b=o(p),x=i(b),A=n(d,g,3),w=a(x.length),_=0,C=m||s,M=t?C(p,w):r?C(p,0):void 0;w>_;_++)if((f||_ in x)&&(v=x[_],y=A(v,_,b),e))if(t)M[_]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:u.call(M,v)}else if(c)return!1;return h?-1:l||c?c:M}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},u8Dt:function(e,t,r){var n=r("YESw"),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function s(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}e.exports=s},uWhJ:function(e,t,r){var n=r("I+eb"),i=Math.PI/180;n({target:"Math",stat:!0},{radians:function(e){return e*i}})},unQa:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ImZN"),o=r("HAuM");n({target:"Map",stat:!0},{keyBy:function(e,t){var r=new this;o(t);var n=o(r.set);return i(e,(function(e){n.call(r,t(e),e)})),r}})},uqXc:function(e,t,r){var n=r("I+eb"),i=r("5Yz+");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},uy83:function(e,t,r){var n=r("0Dky");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},v5b1:function(e,t,r){"use strict";var n=r("I+eb"),i=r("g6v/"),o=r("6x0u"),a=r("ewvW"),s=r("wE6v"),u=r("4WOD"),l=r("Bs8V").f;i&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,r=a(this),n=s(e,!0);do{if(t=l(r,n))return t.get}while(r=u(r))}})},vRGJ:function(e,t,r){var n=r("AqCL");e.exports=y,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){var r,n=[],o=0,a=0,s="",u=t&&t.delimiter||"/";while(null!=(r=i.exec(e))){var l=r[0],f=r[1],p=r.index;if(s+=e.slice(a,p),a=p+l.length,f)s+=f[1];else{var d=e[a],g=r[2],m=r[3],v=r[4],y=r[5],b=r[6],x=r[7];s&&(n.push(s),s="");var A=null!=g&&null!=d&&d!==g,w="+"===b||"*"===b,_="?"===b||"*"===b,C=r[2]||u,M=v||y;n.push({name:m||o++,prefix:g||"",delimiter:C,optional:_,repeat:w,partial:A,asterisk:!!x,pattern:M?h(M):x?".*":"[^"+c(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function a(e,t){return l(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",p(t)));return function(t,i){for(var o="",a=t||{},l=i||{},c=l.pretty?s:encodeURIComponent,h=0;h<e.length;h++){var f=e[h];if("string"!==typeof f){var p,d=a[f.name];if(null==d){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(n(d)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var g=0;g<d.length;g++){if(p=c(d[g]),!r[h].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===g?f.prefix:f.delimiter)+p}}else{if(p=f.asterisk?u(d):c(d),!r[h].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}}else o+=f}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function h(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function d(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}function g(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(y(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",p(r));return f(o,t)}function m(e,t,r){return v(o(e,r),t,r)}function v(e,t,r){n(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,o=!1!==r.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=c(u);else{var l=c(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+l+h+")*"),h=u.optional?u.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")",a+=h}}var d=c(r.delimiter||"/"),g=a.slice(-d.length)===d;return i||(a=(g?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+d+"|$)",f(new RegExp("^"+a,p(r)),t)}function y(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?d(e,t):n(e)?g(e,t,r):m(e,t,r)}},vZi8:function(e,t,r){var n=r("I+eb"),i=r("YGK4"),o=r("eDxR"),a=r("glrk"),s=r("4WOD"),u=r("ImZN"),l=o.keys,c=o.toKey,h=function(e){var t=[];return u(e,t.push,t),t},f=function(e,t){var r=l(e,t),n=s(e);if(null===n)return r;var o=f(n,t);return o.length?r.length?h(new i(r.concat(o))):o:r};n({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:c(arguments[1]);return f(a(e),t)}})},vdRX:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},viRO:function(e,t,r){"use strict";var n=r("MgzW"),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){return null===e||"object"!==typeof e?null:(e=f&&e[f]||e["@@iterator"],"function"===typeof e?e:null)}function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||g}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,n(x,v.prototype),x.isPureReactComponent=!0;var A={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,n)&&!_.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:A.current}}function M(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}function T(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?T(""+e.key):t.toString(36)}function R(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return u=e,a=a(u),e=""===n?"."+I(u,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),R(a,t,r,"",(function(e){return e}))):null!=a&&(S(a)&&(a=M(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+I(s,l);u+=R(s,t,r,c,a)}else if(c=p(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+I(s,l++),u+=R(s,t,r,c,a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function L(e,t,r){if(null==e)return e;var n=[],i=0;return R(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function D(){var e=O.current;if(null===e)throw Error(d(321));return e}var k={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:L,forEach:function(e,t,r){L(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(d(267,e));var o=n({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return D().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,r){return D().useReducer(e,t,r)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},vo4V:function(e,t,r){var n=r("90hW"),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,r,o=i(e),h=n(e);return o<l?h*c(o/l/s)*l*s:(t=(1+s/a)*o,r=t-(t-o),r>u||r!=r?h*(1/0):h*r)}},voyM:function(e,t){e.exports=Math.scale||function(e,t,r,n,i){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-n)/(r-t)+n}},vuIU:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},vxnP:function(e,t,r){"use strict";var n=r("I+eb");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},vzwy:function(e,t,r){"use strict";var n=r("I+eb"),i=r("ppGB"),o=r("wg0c"),a="Invalid number representation",s="Invalid radix",u=/^[\da-z]+$/;n({target:"Number",stat:!0},{fromString:function(e,t){var r,n,l=1;if("string"!=typeof e)throw TypeError(a);if(!e.length)throw SyntaxError(a);if("-"==e.charAt(0)&&(l=-1,e=e.slice(1),!e.length))throw SyntaxError(a);if(r=void 0===t?10:i(t),r<2||r>36)throw RangeError(s);if(!u.test(e)||(n=o(e,r)).toString(r)!==e)throw SyntaxError(a);return l*n}})},w1rZ:function(e,t,r){var n=r("I+eb"),i=r("fhKU");n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},w7s6:function(e,t,r){var n=r("I+eb");n({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},wE6v:function(e,t,r){var n=r("hh1v");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"wEI+":function(e,t,r){"use strict";r.d(t,"b",(function(){return ut}));var n=r("wx14"),i=r("q1tI"),o=r("Pw59"),a=r("Ff2n"),s=r("rePB"),u=r("VTBJ"),l=r("KQm4"),c=r("1OyB"),h=r("vuIU"),f=r("JX7q"),p=r("Ji7U"),d=r("LK+K"),g=r("Zm9Q"),m=r("Kwbf"),v="RC_FORM_INTERNAL_HOOKS",y=function(){Object(m["a"])(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},b=i["createContext"]({getFieldValue:y,getFieldsValue:y,getFieldError:y,getFieldWarning:y,getFieldsError:y,isFieldsTouched:y,isFieldTouched:y,isFieldValidating:y,isFieldsValidating:y,resetFields:y,setFields:y,setFieldsValue:y,validateFields:y,submit:y,getInternalHooks:function(){return y(),{dispatch:y,initEntityValue:y,registerField:y,useSubscribe:y,setInitialValues:y,setCallbacks:y,getFields:y,setValidateMessages:y,setPreserve:y,getInitialValue:y}}}),x=b;function A(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var w=r("o0o1"),_=r.n(w),C=r("HaE+"),M=r("KpVd"),S="'${name}' is not a valid ${type}",T={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:S,method:S,array:S,object:S,number:S,date:S,boolean:S,integer:S,float:S,regexp:S,email:S,url:S,hex:S},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},E=r("U8pU");function I(e,t){for(var r=e,n=0;n<t.length;n+=1){if(null===r||void 0===r)return;r=r[t[n]]}return r}var R=r("T5bk");function L(e,t,r,n){if(!t.length)return r;var i,o=Object(R["a"])(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?Object(l["a"])(e):Object(u["a"])({},e):[],n&&void 0===r&&1===s.length?delete i[a][s[0]]:i[a]=L(i[a],s,r,n),i}function P(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&n&&void 0===r&&!I(e,t.slice(0,-1))?e:L(e,t,r,n)}function O(e){return A(e)}function D(e,t){var r=I(e,t);return r}function k(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=P(e,t,r,n);return i}function N(e,t){var r={};return t.forEach((function(t){var n=D(e,t);r=k(r,t,n)})),r}function F(e,t){return e&&e.some((function(e){return j(e,t)}))}function B(e){return"object"===Object(E["a"])(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function z(e,t){var r=Array.isArray(e)?Object(l["a"])(e):Object(u["a"])({},e);return t?(Object.keys(t).forEach((function(e){var n=r[e],i=t[e],o=B(n)&&B(i);r[e]=o?z(n,i||{}):i})),r):r}function U(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(e,t){return z(e,t)}),e)}function j(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,r){return t[r]===e}))}function H(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(E["a"])(e)||"object"!==Object(E["a"])(t))return!1;var r=Object.keys(e),n=Object.keys(t),i=new Set([].concat(Object(l["a"])(r),Object(l["a"])(n)));return Object(l["a"])(i).every((function(r){var n=e[r],i=t[r];return"function"===typeof n&&"function"===typeof i||n===i}))}function G(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Object(E["a"])(t.target)&&e in t.target?t.target[e]:t}function V(e,t,r){var n=e.length;if(t<0||t>=n||r<0||r>=n)return e;var i=e[t],o=t-r;return o>0?[].concat(Object(l["a"])(e.slice(0,r)),[i],Object(l["a"])(e.slice(r,t)),Object(l["a"])(e.slice(t+1,n))):o<0?[].concat(Object(l["a"])(e.slice(0,t)),Object(l["a"])(e.slice(t+1,r+1)),[i],Object(l["a"])(e.slice(r+1,n))):e}var W=M["a"];function X(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var r=e.slice(2,-1);return t[r]}))}function q(e,t,r,n,i){return Y.apply(this,arguments)}function Y(){return Y=Object(C["a"])(_.a.mark((function e(t,r,n,o,a){var c,h,f,p,d,g,m,v;return _.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(u["a"])({},n),delete c.ruleIndex,h=null,c&&"array"===c.type&&c.defaultField&&(h=c.defaultField,delete c.defaultField),f=new W(Object(s["a"])({},t,[c])),p=U({},T,o.validateMessages),f.messages(p),d=[],e.prev=8,e.next=11,Promise.resolve(f.validate(Object(s["a"])({},t,r),Object(u["a"])({},o)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](8),e.t0.errors?d=e.t0.errors.map((function(e,t){var r=e.message;return i["isValidElement"](r)?i["cloneElement"](r,{key:"error_".concat(t)}):r})):(console.error(e.t0),d=[p.default]);case 16:if(d.length||!h){e.next=21;break}return e.next=19,Promise.all(r.map((function(e,r){return q("".concat(t,".").concat(r),e,h,o,a)})));case 19:return g=e.sent,e.abrupt("return",g.reduce((function(e,t){return[].concat(Object(l["a"])(e),Object(l["a"])(t))}),[]));case 21:return m=Object(u["a"])(Object(u["a"])({},n),{},{name:t,enum:(n.enum||[]).join(", ")},a),v=d.map((function(e){return"string"===typeof e?X(e,m):e})),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e,null,[[8,13]])}))),Y.apply(this,arguments)}function Z(e,t,r,n,i,o){var a,s=e.join("."),l=r.map((function(e,t){var r=e.validator,n=Object(u["a"])(Object(u["a"])({},e),{},{ruleIndex:t});return r&&(n.validator=function(e,t,n){var i=!1,o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Promise.resolve().then((function(){Object(m["a"])(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||n.apply(void 0,t)}))},a=r(e,t,o);i=a&&"function"===typeof a.then&&"function"===typeof a.catch,Object(m["a"])(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){n()})).catch((function(e){n(e||" ")}))}),n})).sort((function(e,t){var r=e.warningOnly,n=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!r===!!i?n-o:r?1:-1}));if(!0===i)a=new Promise(function(){var e=Object(C["a"])(_.a.mark((function e(r,i){var a,u,c;return _.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return u=l[a],e.next=5,q(s,t,u,n,o);case 5:if(c=e.sent,!c.length){e.next=9;break}return i([{errors:c,rule:u}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:r([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return q(s,t,e,n,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?Q(c):K(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function K(e){return J.apply(this,arguments)}function J(){return J=Object(C["a"])(_.a.mark((function e(t){return _.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t,r=(t=[]).concat.apply(t,Object(l["a"])(e));return r})));case 1:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function Q(e){return $.apply(this,arguments)}function $(){return $=Object(C["a"])(_.a.mark((function e(t){var r;return _.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,e.abrupt("return",new Promise((function(e){t.forEach((function(n){n.then((function(n){n.errors.length&&e([n]),r+=1,r===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}var ee=["name"],te=[];function re(e,t,r,n,i,o){return"function"===typeof e?e(t,r,"source"in o?{source:o.source}:{}):n!==i}var ne=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(e){var n;if(Object(c["a"])(this,r),n=t.call(this,e),n.state={resetCount:0},n.cancelRegisterFunc=null,n.mounted=!1,n.touched=!1,n.dirty=!1,n.validatePromise=null,n.prevValidating=void 0,n.errors=te,n.warnings=te,n.cancelRegister=function(){var e=n.props,t=e.preserve,r=e.isListField,i=e.name;n.cancelRegisterFunc&&n.cancelRegisterFunc(r,t,O(i)),n.cancelRegisterFunc=null},n.getNamePath=function(){var e=n.props,t=e.name,r=e.fieldContext,i=r.prefixName,o=void 0===i?[]:i;return void 0!==t?[].concat(Object(l["a"])(o),Object(l["a"])(t)):[]},n.getRules=function(){var e=n.props,t=e.rules,r=void 0===t?[]:t,i=e.fieldContext;return r.map((function(e){return"function"===typeof e?e(i):e}))},n.refresh=function(){n.mounted&&n.setState((function(e){var t=e.resetCount;return{resetCount:t+1}}))},n.triggerMetaEvent=function(e){var t=n.props.onMetaChange;null===t||void 0===t||t(Object(u["a"])(Object(u["a"])({},n.getMeta()),{},{destroy:e}))},n.onStoreChange=function(e,t,r){var i=n.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,u=i.onReset,l=r.store,c=n.getNamePath(),h=n.getValue(e),f=n.getValue(l),p=t&&F(t,c);switch("valueUpdate"===r.type&&"external"===r.source&&h!==f&&(n.touched=!0,n.dirty=!0,n.validatePromise=null,n.errors=te,n.warnings=te,n.triggerMetaEvent()),r.type){case"reset":if(!t||p)return n.touched=!1,n.dirty=!1,n.validatePromise=null,n.errors=te,n.warnings=te,n.triggerMetaEvent(),null===u||void 0===u||u(),void n.refresh();break;case"remove":if(o)return void n.reRender();break;case"setField":if(p){var d=r.data;return"touched"in d&&(n.touched=d.touched),"validating"in d&&!("originRCField"in d)&&(n.validatePromise=d.validating?Promise.resolve([]):null),"errors"in d&&(n.errors=d.errors||te),"warnings"in d&&(n.warnings=d.warnings||te),n.dirty=!0,n.triggerMetaEvent(),void n.reRender()}if(o&&!c.length&&re(o,e,l,h,f,r))return void n.reRender();break;case"dependenciesUpdate":var g=s.map(O);if(g.some((function(e){return F(r.relatedFields,e)})))return void n.reRender();break;default:if(p||(!s.length||c.length||o)&&re(o,e,l,h,f,r))return void n.reRender();break}!0===o&&n.reRender()},n.validateRules=function(e){var t=n.getNamePath(),r=n.getValue(),i=Promise.resolve().then((function(){if(!n.mounted)return[];var o=n.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,c=e||{},h=c.triggerName,f=n.getRules();h&&(f=f.filter((function(e){var t=e.validateTrigger;if(!t)return!0;var r=A(t);return r.includes(h)})));var p=Z(t,r,f,e,s,u);return p.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;if(n.validatePromise===i){n.validatePromise=null;var t=[],r=[];e.forEach((function(e){var n=e.rule.warningOnly,i=e.errors,o=void 0===i?te:i;n?r.push.apply(r,Object(l["a"])(o)):t.push.apply(t,Object(l["a"])(o))})),n.errors=t,n.warnings=r,n.triggerMetaEvent(),n.reRender()}})),p}));return n.validatePromise=i,n.dirty=!0,n.errors=te,n.warnings=te,n.triggerMetaEvent(),n.reRender(),i},n.isFieldValidating=function(){return!!n.validatePromise},n.isFieldTouched=function(){return n.touched},n.isFieldDirty=function(){if(n.dirty||void 0!==n.props.initialValue)return!0;var e=n.props.fieldContext,t=e.getInternalHooks(v),r=t.getInitialValue;return void 0!==r(n.getNamePath())},n.getErrors=function(){return n.errors},n.getWarnings=function(){return n.warnings},n.isListField=function(){return n.props.isListField},n.isList=function(){return n.props.isList},n.isPreserve=function(){return n.props.preserve},n.getMeta=function(){n.prevValidating=n.isFieldValidating();var e={touched:n.isFieldTouched(),validating:n.prevValidating,errors:n.errors,warnings:n.warnings,name:n.getNamePath()};return e},n.getOnlyChild=function(e){if("function"===typeof e){var t=n.getMeta();return Object(u["a"])(Object(u["a"])({},n.getOnlyChild(e(n.getControlled(),t,n.props.fieldContext))),{},{isFunction:!0})}var r=Object(g["a"])(e);return 1===r.length&&i["isValidElement"](r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},n.getValue=function(e){var t=n.props.fieldContext.getFieldsValue,r=n.getNamePath();return D(e||t(!0),r)},n.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props,r=t.trigger,i=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,l=t.valuePropName,c=t.getValueProps,h=t.fieldContext,f=void 0!==i?i:h.validateTrigger,p=n.getNamePath(),d=h.getInternalHooks,g=h.getFieldsValue,m=d(v),y=m.dispatch,b=n.getValue(),x=c||function(e){return Object(s["a"])({},l,e)},w=e[r],_=Object(u["a"])(Object(u["a"])({},e),x(b));_[r]=function(){var e;n.touched=!0,n.dirty=!0,n.triggerMetaEvent();for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e=o?o.apply(void 0,r):G.apply(void 0,[l].concat(r)),a&&(e=a(e,b,g(!0))),y({type:"updateValue",namePath:p,value:e}),w&&w.apply(void 0,r)};var C=A(f||[]);return C.forEach((function(e){var t=_[e];_[e]=function(){t&&t.apply(void 0,arguments);var r=n.props.rules;r&&r.length&&y({type:"validateField",namePath:p,triggerName:e})}})),_},e.fieldContext){var o=e.fieldContext.getInternalHooks,a=o(v),h=a.initEntityValue;h(Object(f["a"])(n))}return n}return Object(h["a"])(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,r=e.fieldContext;if(this.mounted=!0,r){var n=r.getInternalHooks,i=n(v),o=i.registerField;this.cancelRegisterFunc=o(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,r=this.props.children,n=this.getOnlyChild(r),o=n.child,a=n.isFunction;return a?e=o:i["isValidElement"](o)?e=i["cloneElement"](o,this.getControlled(o.props)):(Object(m["a"])(!o,"`children` of Field is not validate ReactElement."),e=o),i["createElement"](i["Fragment"],{key:t},e)}}]),r}(i["Component"]);function ie(e){var t=e.name,r=Object(a["a"])(e,ee),o=i["useContext"](x),s=void 0!==t?O(t):void 0,u="keep";return r.isListField||(u="_".concat((s||[]).join("_"))),i["createElement"](ne,Object(n["a"])({key:u,name:s},r,{fieldContext:o}))}ne.contextType=x,ne.defaultProps={trigger:"onChange",valuePropName:"value"};var oe=ie,ae=i["createContext"](null),se=ae,ue=function(e){var t=e.name,r=e.initialValue,n=e.children,o=e.rules,a=e.validateTrigger,s=i["useContext"](x),c=i["useRef"]({keys:[],id:0}),h=c.current,f=i["useMemo"]((function(){var e=O(s.prefixName)||[];return[].concat(Object(l["a"])(e),Object(l["a"])(O(t)))}),[s.prefixName,t]),p=i["useMemo"]((function(){return Object(u["a"])(Object(u["a"])({},s),{},{prefixName:f})}),[s,f]),d=i["useMemo"]((function(){return{getKey:function(e){var t=f.length,r=e[t];return[h.keys[r],e.slice(t+1)]}}}),[f]);if("function"!==typeof n)return Object(m["a"])(!1,"Form.List only accepts function as children."),null;var g=function(e,t,r){var n=r.source;return"internal"!==n&&e!==t};return i["createElement"](se.Provider,{value:d},i["createElement"](x.Provider,{value:p},i["createElement"](oe,{name:[],shouldUpdate:g,rules:o,validateTrigger:a,initialValue:r,isList:!0},(function(e,t){var r=e.value,i=void 0===r?[]:r,o=e.onChange,a=s.getFieldValue,u=function(){var e=a(f||[]);return e||[]},c={add:function(e,t){var r=u();t>=0&&t<=r.length?(h.keys=[].concat(Object(l["a"])(h.keys.slice(0,t)),[h.id],Object(l["a"])(h.keys.slice(t))),o([].concat(Object(l["a"])(r.slice(0,t)),[e],Object(l["a"])(r.slice(t))))):(h.keys=[].concat(Object(l["a"])(h.keys),[h.id]),o([].concat(Object(l["a"])(r),[e]))),h.id+=1},remove:function(e){var t=u(),r=new Set(Array.isArray(e)?e:[e]);r.size<=0||(h.keys=h.keys.filter((function(e,t){return!r.has(t)})),o(t.filter((function(e,t){return!r.has(t)}))))},move:function(e,t){if(e!==t){var r=u();e<0||e>=r.length||t<0||t>=r.length||(h.keys=V(h.keys,e,t),o(V(r,e,t)))}}},p=i||[];return Array.isArray(p)||(p=[]),n(p.map((function(e,t){var r=h.keys[t];return void 0===r&&(h.keys[t]=h.id,r=h.keys[t],h.id+=1),{name:t,key:r,isListField:!0}})),c,t)}))))},le=ue,ce=r("ODXe");function he(e){var t=!1,r=e.length,n=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){r-=1,n[a]=e,r>0||(t&&o(n),i(n))}))}))})):Promise.resolve([])}var fe="__@field_split__";function pe(e){return e.map((function(e){return"".concat(Object(E["a"])(e),":").concat(e)})).join(fe)}var de=function(){function e(){Object(c["a"])(this,e),this.kvs=new Map}return Object(h["a"])(e,[{key:"set",value:function(e,t){this.kvs.set(pe(e),t)}},{key:"get",value:function(e){return this.kvs.get(pe(e))}},{key:"update",value:function(e,t){var r=this.get(e),n=t(r);n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(pe(e))}},{key:"map",value:function(e){return Object(l["a"])(this.kvs.entries()).map((function(t){var r=Object(ce["a"])(t,2),n=r[0],i=r[1],o=n.split(fe);return e({key:o.map((function(e){var t=e.match(/^([^:]*):(.*)$/),r=Object(ce["a"])(t,3),n=r[1],i=r[2];return"number"===n?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var r=t.key,n=t.value;return e[r.join(".")]=n,null})),e}}]),e}(),ge=de,me=["name","errors"],ve=Object(h["a"])((function e(t){var r=this;Object(c["a"])(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,getInternalHooks:r.getInternalHooks}},this.getInternalHooks=function(e){return e===v?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue}):(Object(m["a"])(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){r.subscribable=e},this.setInitialValues=function(e,t){r.initialValues=e||{},t&&(r.store=U({},e,r.store))},this.getInitialValue=function(e){return D(r.initialValues,e)},this.setCallbacks=function(e){r.callbacks=e},this.setValidateMessages=function(e){r.validateMessages=e},this.setPreserve=function(e){r.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?r.fieldEntities.filter((function(e){return e.getNamePath().length})):r.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ge;return r.getFieldEntities(e).forEach((function(e){var r=e.getNamePath();t.set(r,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return r.getFieldEntities(!0);var t=r.getFieldsMap(!0);return e.map((function(e){var r=O(e);return t.get(r)||{INVALIDATE_NAME_PATH:O(e)}}))},this.getFieldsValue=function(e,t){if(r.warningUnhooked(),!0===e&&!t)return r.store;var n=r.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return n.forEach((function(r){var n,o="INVALIDATE_NAME_PATH"in r?r.INVALIDATE_NAME_PATH:r.getNamePath();if(e||!(null===(n=r.isListField)||void 0===n?void 0:n.call(r)))if(t){var a="getMeta"in r?r.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),N(r.store,i.map(O))},this.getFieldValue=function(e){r.warningUnhooked();var t=O(e);return D(r.store,t)},this.getFieldsError=function(e){r.warningUnhooked();var t=r.getFieldEntitiesForNamePathList(e);return t.map((function(t,r){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:O(e[r]),errors:[],warnings:[]}}))},this.getFieldError=function(e){r.warningUnhooked();var t=O(e),n=r.getFieldsError([t])[0];return n.errors},this.getFieldWarning=function(e){r.warningUnhooked();var t=O(e),n=r.getFieldsError([t])[0];return n.warnings},this.isFieldsTouched=function(){r.warningUnhooked();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(O),s=!1):(i=null,s=o):(i=o.map(O),s=a);var u=r.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var h=new ge;i.forEach((function(e){h.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(r){r.every((function(e,r){return t[r]===e}))&&h.update(r,(function(t){return[].concat(Object(l["a"])(t),[e])}))}))}));var f=function(e){return e.some(c)},p=h.map((function(e){var t=e.value;return t}));return s?p.every(f):p.some(f)},this.isFieldTouched=function(e){return r.warningUnhooked(),r.isFieldsTouched([e])},this.isFieldsValidating=function(e){r.warningUnhooked();var t=r.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var n=e.map(O);return t.some((function(e){var t=e.getNamePath();return F(n,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return r.warningUnhooked(),r.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ge,n=r.getFieldEntities(!0);n.forEach((function(e){var r=e.props.initialValue,n=e.getNamePath();if(void 0!==r){var i=t.get(n)||new Set;i.add({entity:e,value:r}),t.set(n,i)}}));var i,o=function(n){n.forEach((function(n){var i=n.props.initialValue;if(void 0!==i){var o=n.getNamePath(),a=r.getInitialValue(o);if(void 0!==a)Object(m["a"])(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var s=t.get(o);if(s&&s.size>1)Object(m["a"])(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(s){var u=r.getFieldValue(o);e.skipExist&&void 0!==u||(r.store=k(r.store,o,Object(l["a"])(s)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var r,n=t.get(e);n&&(r=i).push.apply(r,Object(l["a"])(Object(l["a"])(n).map((function(e){return e.entity}))))}))):i=n,o(i)},this.resetFields=function(e){r.warningUnhooked();var t=r.store;if(!e)return r.store=U({},r.initialValues),r.resetWithFieldInitialValue(),void r.notifyObservers(t,null,{type:"reset"});var n=e.map(O);n.forEach((function(e){var t=r.getInitialValue(e);r.store=k(r.store,e,t)})),r.resetWithFieldInitialValue({namePathList:n}),r.notifyObservers(t,n,{type:"reset"})},this.setFields=function(e){r.warningUnhooked();var t=r.store;e.forEach((function(e){var n=e.name,i=(e.errors,Object(a["a"])(e,me)),o=O(n);"value"in i&&(r.store=k(r.store,o,i.value)),r.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){var e=r.getFieldEntities(!0),t=e.map((function(e){var t=e.getNamePath(),n=e.getMeta(),i=Object(u["a"])(Object(u["a"])({},n),{},{name:t,value:r.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}));return t},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var n=e.getNamePath(),i=D(r.store,n);void 0===i&&(r.store=k(r.store,n,t))}},this.registerField=function(e){if(r.fieldEntities.push(e),void 0!==e.props.initialValue){var t=r.store;r.resetWithFieldInitialValue({entities:[e],skipExist:!0}),r.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r.fieldEntities=r.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==n?n:r.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:D(r.initialValues,a);if(a.length&&r.getFieldValue(a)!==s&&r.fieldEntities.every((function(e){return!j(e.getNamePath(),a)}))){var u=r.store;r.store=k(u,a,s,!0),r.notifyObservers(u,[a],{type:"remove"}),r.triggerDependenciesUpdate(u,a)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,n=e.value;r.updateValue(t,n);break;case"validateField":var i=e.namePath,o=e.triggerName;r.validateFields([i],{triggerName:o});break;default:}},this.notifyObservers=function(e,t,n){if(r.subscribable){var i=Object(u["a"])(Object(u["a"])({},n),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach((function(r){var n=r.onStoreChange;n(e,t,i)}))}else r.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var n=r.getDependencyChildrenFields(t);return n.length&&r.validateFields(n),r.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[t].concat(Object(l["a"])(n))}),n},this.updateValue=function(e,t){var n=O(e),i=r.store;r.store=k(r.store,n,t),r.notifyObservers(i,[n],{type:"valueUpdate",source:"internal"});var o=r.triggerDependenciesUpdate(i,n),a=r.callbacks.onValuesChange;if(a){var s=N(r.store,[n]);a(s,r.getFieldsValue())}r.triggerOnFieldsChange([n].concat(Object(l["a"])(o)))},this.setFieldsValue=function(e){r.warningUnhooked();var t=r.store;e&&(r.store=U(r.store,e)),r.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,n=[],i=new ge;r.getFieldEntities().forEach((function(e){var t=e.props.dependencies;(t||[]).forEach((function(t){var r=O(t);i.update(r,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));var o=function e(r){var o=i.get(r)||new Set;o.forEach((function(r){if(!t.has(r)){t.add(r);var i=r.getNamePath();r.isFieldDirty()&&i.length&&(n.push(i),e(i))}}))};return o(e),n},this.triggerOnFieldsChange=function(e,t){var n=r.callbacks.onFieldsChange;if(n){var i=r.getFields();if(t){var o=new ge;t.forEach((function(e){var t=e.name,r=e.errors;o.set(t,r)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var a=i.filter((function(t){var r=t.name;return F(e,r)}));n(a,i)}},this.validateFields=function(e,t){r.warningUnhooked();var n=!!e,i=n?e.map(O):[],o=[];r.getFieldEntities(!0).forEach((function(a){if(n||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&n){var s=a.getNamePath();s.every((function(t,r){return e[r]===t||void 0===e[r]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var c=a.getNamePath();if(!n||F(i,c)){var h=a.validateRules(Object(u["a"])({validateMessages:Object(u["a"])(Object(u["a"])({},T),r.validateMessages)},t));o.push(h.then((function(){return{name:c,errors:[],warnings:[]}})).catch((function(e){var t=[],r=[];return e.forEach((function(e){var n=e.rule.warningOnly,i=e.errors;n?r.push.apply(r,Object(l["a"])(i)):t.push.apply(t,Object(l["a"])(i))})),t.length?Promise.reject({name:c,errors:t,warnings:r}):{name:c,errors:t,warnings:r}})))}}}));var a=he(o);r.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){var t=e.name;return t}));r.notifyObservers(r.store,t,{type:"validateFinish"}),r.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return r.lastValidatePromise===a?Promise.resolve(r.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:r.getFieldsValue(i),errorFields:t,outOfDate:r.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){r.warningUnhooked(),r.validateFields().then((function(e){var t=r.callbacks.onFinish;if(t)try{t(e)}catch(n){console.error(n)}})).catch((function(e){var t=r.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));function ye(e){var t=i["useRef"](),r=i["useState"]({}),n=Object(ce["a"])(r,2),o=n[1];if(!t.current)if(e)t.current=e;else{var a=function(){o({})},s=new ve(a);t.current=s.getForm()}return[t.current]}var be=ye,xe=i["createContext"]({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ae=function(e){var t=e.validateMessages,r=e.onFormChange,n=e.onFormFinish,o=e.children,a=i["useContext"](xe),l=i["useRef"]({});return i["createElement"](xe.Provider,{value:Object(u["a"])(Object(u["a"])({},a),{},{validateMessages:Object(u["a"])(Object(u["a"])({},a.validateMessages),t),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:l.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){n&&n(e,{values:t,forms:l.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=Object(u["a"])(Object(u["a"])({},l.current),{},Object(s["a"])({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=Object(u["a"])({},l.current);delete t[e],l.current=t,a.unregisterForm(e)}})},o)},we=xe,_e=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ce=function(e,t){var r=e.name,o=e.initialValues,s=e.fields,l=e.form,c=e.preserve,h=e.children,f=e.component,p=void 0===f?"form":f,d=e.validateMessages,g=e.validateTrigger,m=void 0===g?"onChange":g,y=e.onValuesChange,b=e.onFieldsChange,A=e.onFinish,w=e.onFinishFailed,_=Object(a["a"])(e,_e),C=i["useContext"](we),M=be(l),S=Object(ce["a"])(M,1),T=S[0],E=T.getInternalHooks(v),I=E.useSubscribe,R=E.setInitialValues,L=E.setCallbacks,P=E.setValidateMessages,O=E.setPreserve;i["useImperativeHandle"](t,(function(){return T})),i["useEffect"]((function(){return C.registerForm(r,T),function(){C.unregisterForm(r)}}),[C,T,r]),P(Object(u["a"])(Object(u["a"])({},C.validateMessages),d)),L({onValuesChange:y,onFieldsChange:function(e){if(C.triggerFormChange(r,e),b){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];b.apply(void 0,[e].concat(n))}},onFinish:function(e){C.triggerFormFinish(r,e),A&&A(e)},onFinishFailed:w}),O(c);var D=i["useRef"](null);R(o,!D.current),D.current||(D.current=!0);var k=h,N="function"===typeof h;if(N){var F=T.getFieldsValue(!0);k=h(F,T)}I(!N);var B=i["useRef"]();i["useEffect"]((function(){H(B.current||[],s||[])||T.setFields(s||[]),B.current=s}),[s,T]);var z=i["useMemo"]((function(){return Object(u["a"])(Object(u["a"])({},T),{},{validateTrigger:m})}),[T,m]),U=i["createElement"](x.Provider,{value:z},k);return!1===p?U:i["createElement"](p,Object(n["a"])({},_,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),T.submit()},onReset:function(e){var t;e.preventDefault(),T.resetFields(),null===(t=_.onReset)||void 0===t||t.call(_,e)}}),U)},Me=Ce,Se=i["forwardRef"](Me),Te=Se;Te.FormProvider=Ae,Te.Field=oe,Te.List=le,Te.useForm=be;var Ee=r("YrtM"),Ie=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Re(e,t){return e===t||!(!Ie(e)||!Ie(t))}function Le(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Re(e[r],t[r]))return!1;return!0}function Pe(e,t){void 0===t&&(t=Le);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){r=null},n}var Oe=function(e,t,r){Object(m["a"])(e,"[antd: ".concat(t,"] ").concat(r))},De=r("ZvpZ"),ke=Object(n["a"])({},De["a"].Modal);function Ne(e){ke=e?Object(n["a"])(Object(n["a"])({},ke),e):Object(n["a"])({},De["a"].Modal)}var Fe=r("YlG9"),Be="internalMark",ze=function(e){Object(p["a"])(r,e);var t=Object(d["a"])(r);function r(e){var i;return Object(c["a"])(this,r),i=t.call(this,e),i.getMemoizedContextValue=Pe((function(e){return Object(n["a"])(Object(n["a"])({},e),{exist:!0})})),Ne(e.locale&&e.locale.Modal),Oe(e._ANT_MARK__===Be,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),i}return Object(h["a"])(r,[{key:"componentDidMount",value:function(){Ne(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Ne(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Ne()}},{key:"render",value:function(){var e=this.props,t=e.locale,r=e.children,n=this.getMemoizedContextValue(t);return i["createElement"](Fe["a"].Provider,{value:n},r)}}]),r}(i["Component"]);ze.defaultProps={locale:{}};var Ue=r("YMnH"),je=r("H84U"),He=r("3Nzz"),Ge=r("tsqr"),Ve=r("TeRw"),We=r("BU3w"),Xe=r("FER5"),qe=r("iNWh"),Ye=r("LuSS"),Ze=r("b3aT"),Ke=function(){function e(t,r){var n;if(void 0===t&&(t=""),void 0===r&&(r={}),t instanceof e)return t;"number"===typeof t&&(t=Object(Xe["d"])(t)),this.originalInput=t;var i=Object(Ye["a"])(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=r.format)&&void 0!==n?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e,t,r,n=this.toRgb(),i=n.r/255,o=n.g/255,a=n.b/255;return e=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),t=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),r=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*e+.7152*t+.0722*r},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Object(Ze["b"])(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Object(Xe["h"])(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Object(Xe["h"])(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=Object(Xe["g"])(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Object(Xe["g"])(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Object(Xe["f"])(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),Object(Xe["j"])(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+r+")":"rgba("+e+", "+t+", "+r+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*Object(Ze["a"])(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Object(Ze["a"])(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Object(Xe["f"])(this.r,this.g,this.b,!1),t=0,r=Object.entries(qe["a"]);t<r.length;t++){var n=r[t],i=n[0],o=n[1];if(e===o)return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var r=!1,n=this.a<1&&this.a>=0,i=!t&&n&&(e.startsWith("hex")||"name"===e);return i?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=Object(Ze["c"])(r.l),new e(r)},e.prototype.brighten=function(t){void 0===t&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),new e(r)},e.prototype.darken=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=Object(Ze["c"])(r.l),new e(r)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=Object(Ze["c"])(r.s),new e(r)},e.prototype.saturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=Object(Ze["c"])(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){void 0===r&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),o=r/100,a={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return new e(a)},e.prototype.analogous=function(t,r){void 0===t&&(t=6),void 0===r&&(r=30);var n=this.toHsl(),i=360/r,o=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);var r=this.toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;while(t--)a.push(new e({h:n,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb();return new e({r:n.r+(r.r-n.r)*r.a,g:n.g+(r.g-n.g)*r.a,b:n.b+(r.b-n.b)*r.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(n+a*o)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Je=r("AJpP"),Qe="-ant-".concat(Date.now(),"-").concat(Math.random());function $e(e,t){var r={},n=function(e,t){var r=e.clone();return r=(null===t||void 0===t?void 0:t(r))||r,r.toRgbString()},i=function(e,t){var i=new Ke(e),o=Object(Je["a"])(i.toRgbString());r["".concat(t,"-color")]=n(i),r["".concat(t,"-color-disabled")]=o[1],r["".concat(t,"-color-hover")]=o[4],r["".concat(t,"-color-active")]=o[7],r["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),r["".concat(t,"-color-deprecated-bg")]=o[1],r["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new Ke(t.primaryColor),a=Object(Je["a"])(o.toRgbString());a.forEach((function(e,t){r["primary-".concat(t+1)]=e})),r["primary-color-deprecated-l-35"]=n(o,(function(e){return e.lighten(35)})),r["primary-color-deprecated-l-20"]=n(o,(function(e){return e.lighten(20)})),r["primary-color-deprecated-t-20"]=n(o,(function(e){return e.tint(20)})),r["primary-color-deprecated-t-50"]=n(o,(function(e){return e.tint(50)})),r["primary-color-deprecated-f-12"]=n(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new Ke(a[0]);r["primary-color-active-deprecated-f-30"]=n(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),r["primary-color-active-deprecated-d-02"]=n(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var u=Object.keys(r).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(r[t],";")}));Object(We["a"])("\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  "),"".concat(Qe,"-dynamic-theme"))}var et,tt,rt=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"],nt="ant",it="anticon";function ot(){return et||nt}function at(){return tt||it}var st=function(e){var t=e.prefixCls,r=e.iconPrefixCls,n=e.theme;void 0!==t&&(et=t),void 0!==r&&(tt=r),n&&$e(ot(),n)},ut=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(ot(),"-").concat(e):ot())},getIconPrefixCls:at,getRootPrefixCls:function(e,t){return e||(et||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):ot()))}}},lt=function(e){var t,r,a=e.children,s=e.csp,u=e.autoInsertSpaceInButton,l=e.form,c=e.locale,h=e.componentSize,f=e.direction,p=e.space,d=e.virtual,g=e.dropdownMatchSelectWidth,m=e.legacyLocale,v=e.parentContext,y=e.iconPrefixCls,b=i["useCallback"]((function(t,r){var n=e.prefixCls;if(r)return r;var i=n||v.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[v.getPrefixCls,e.prefixCls]),x=Object(n["a"])(Object(n["a"])({},v),{csp:s,autoInsertSpaceInButton:u,locale:c||m,direction:f,space:p,virtual:d,dropdownMatchSelectWidth:g,getPrefixCls:b});rt.forEach((function(t){var r=e[t];r&&(x[t]=r)}));var A=Object(Ee["a"])((function(){return x}),x,(function(e,t){var r=Object.keys(e),n=Object.keys(t);return r.length!==n.length||r.some((function(r){return e[r]!==t[r]}))})),w=i["useMemo"]((function(){return{prefixCls:y,csp:s}}),[y]),_=a,C={};return c&&(C=(null===(t=c.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(r=De["a"].Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),l&&l.validateMessages&&(C=Object(n["a"])(Object(n["a"])({},C),l.validateMessages)),Object.keys(C).length>0&&(_=i["createElement"](Ae,{validateMessages:C},a)),c&&(_=i["createElement"](ze,{locale:c,_ANT_MARK__:Be},_)),y&&(_=i["createElement"](o["a"].Provider,{value:w},_)),h&&(_=i["createElement"](He["a"],{size:h},_)),i["createElement"](je["b"].Provider,{value:A},_)},ct=function(e){return i["useEffect"]((function(){e.direction&&(Ge["default"].config({rtl:"rtl"===e.direction}),Ve["default"].config({rtl:"rtl"===e.direction}))}),[e.direction]),i["createElement"](Ue["a"],null,(function(t,r,o){return i["createElement"](je["a"],null,(function(t){return i["createElement"](lt,Object(n["a"])({parentContext:t,legacyLocale:o},e))}))}))};ct.ConfigContext=je["b"],ct.SizeContext=He["b"],ct.config=st;t["a"]=ct},"wF/u":function(e,t,r){var n=r("e5cp"),i=r("ExA7");function o(e,t,r,a,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:n(e,t,r,a,o,s))}e.exports=o},wJg7:function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?r:t,!!t&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},"wZ/5":function(e,t,r){"use strict";var n=r("I+eb"),i=r("2oRo"),o=r("Yhre"),a=r("JiZb"),s="ArrayBuffer",u=o[s],l=i[s];n({global:!0,forced:l!==u},{ArrayBuffer:u}),a(s)},wfmh:function(e,t,r){var n=r("I+eb"),i=r("ImZN"),o=r("hBjN");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),void 0,!0),t}})},wg0c:function(e,t,r){var n=r("2oRo"),i=r("WKiH").trim,o=r("WJkJ"),a=n.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");e.exports=u?function(e,t){var r=i(String(e));return a(r,t>>>0||(s.test(r)?16:10))}:a},wgJM:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var o=0,a=new Map;function s(e){a.delete(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o+=1;var r=o;function i(t){if(0===t)s(r),e();else{var o=n((function(){i(t-1)}));a.set(r,o)}}return i(t),r}u.cancel=function(e){var t=a.get(e);return s(t),i(t)}},wgYD:function(e,t,r){"use strict";var n=r("I+eb"),i=r("xDBR"),o=r("Cg3G");n({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},wx14:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,"a",(function(){return n}))},xDBR:function(e,t){e.exports=!1},xYSL:function(e,t){function r(e,t){return e.has(t)}e.exports=r},xrYK:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},xs3f:function(e,t,r){var n=r("2oRo"),i=r("zk60"),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},y1pI:function(e,t,r){var n=r("ljhN");function i(e,t){var r=e.length;while(r--)if(n(e[r][0],t))return r;return-1}e.exports=i},yGk4:function(e,t,r){var n=r("Cwc5"),i=r("Kz5y"),o=n(i,"Set");e.exports=o},yNLB:function(e,t,r){var n=r("0Dky"),i=r("WJkJ"),o="\u200b\x85\u180e";e.exports=function(e){return n((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},yXV3:function(e,t,r){"use strict";var n=r("I+eb"),i=r("TWQb").indexOf,o=r("pkCn"),a=r("rkAj"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ye1Q:function(e,t,r){"use strict";var n=r("VTBJ"),i=r("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},a=o,s=r("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(n["a"])(Object(n["a"])({},e),{},{ref:t,icon:a}))};u.displayName="LoadingOutlined";t["a"]=i["forwardRef"](u)},yl30:function(e,t,r){"use strict";var n=r("q1tI"),i=r("MgzW"),o=r("QCnb");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},g={};function m(e){return!!p.call(g,e)||!p.call(d,e)&&(f.test(e)?g[e]=!0:(d[e]=!0,!1))}function v(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function y(e,t,r,n){if(null===t||"undefined"===typeof t||v(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function _(e,t,r,n){var i=x.hasOwnProperty(t)?x[t]:null,o=null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(y(t,r,i,n)&&(r=null),n||null===i?m(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=60103,S=60106,T=60107,E=60108,I=60114,R=60109,L=60110,P=60112,O=60113,D=60120,k=60115,N=60116,F=60121,B=60128,z=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var H=Symbol.for;M=H("react.element"),S=H("react.portal"),T=H("react.fragment"),E=H("react.strict_mode"),I=H("react.profiler"),R=H("react.provider"),L=H("react.context"),P=H("react.forward_ref"),O=H("react.suspense"),D=H("react.suspense_list"),k=H("react.memo"),N=H("react.lazy"),F=H("react.block"),H("react.scope"),B=H("react.opaque.id"),z=H("react.debug_trace_mode"),U=H("react.offscreen"),j=H("react.legacy_hidden")}var G,V="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:(e=V&&e[V]||e["@@iterator"],"function"===typeof e?e:null)}function X(e){if(void 0===G)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||""}return"\n"+G+e}var q=!1;function Y(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,s--,0>s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?X(e):""}function Z(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 22:return e=Y(e.type._render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case k:return K(e.type);case F:return K(e._render);case N:t=e._payload,e=e._init;try{return K(e(t))}catch(r){}}return null}function J(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){var t=Q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ee(e){e._valueTracker||(e._valueTracker=$(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q(e)?e.checked?"true":"false":e.value),e=n,e!==r&&(t.setValue(e),!0)}function re(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ne(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ie(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=J(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function oe(e,t){t=t.checked,null!=t&&_(e,"checked",t,!1)}function ae(e,t){oe(e,t);var r=J(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ue(e,t.type,r):t.hasOwnProperty("defaultValue")&&ue(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,""!==r&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ue(e,t,r){"number"===t&&re(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function le(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function ce(e,t){return e=i({children:void 0},t),(t=le(t.children))&&(e.children=t),e}function he(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+J(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:J(r)}}function de(e,t){var r=J(t.value),n=J(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ge(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var me={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var be,xe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r,n,i)}))}:e}((function(e,t){if(e.namespaceURI!==me.svg||"innerHTML"in e)e.innerHTML=t;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ae(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function Ce(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function Me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Ce(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(we).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Re=null,Le=null,Pe=null;function Oe(e){if(e=Mi(e)){if("function"!==typeof Re)throw Error(a(280));var t=e.stateNode;t&&(t=Ti(t),Re(e.stateNode,e.type,t))}}function De(e){Le?Pe?Pe.push(e):Pe=[e]:Le=e}function ke(){if(Le){var e=Le,t=Pe;if(Pe=Le=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ne(e,t){return e(t)}function Fe(e,t,r,n,i){return e(t,r,n,i)}function Be(){}var ze=Ne,Ue=!1,je=!1;function He(){null===Le&&null===Pe||(Be(),ke())}function Ge(e,t,r){if(je)return e(t,r);je=!0;try{return ze(e,t,r)}finally{je=!1,He()}}function Ve(e,t){var r=e.stateNode;if(null===r)return null;var n=Ti(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var We=!1;if(h)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch(zl){We=!1}function qe(e,t,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Ye=!1,Ze=null,Ke=!1,Je=null,Qe={onError:function(e){Ye=!0,Ze=e}};function $e(e,t,r,n,i,o,a,s,u){Ye=!1,Ze=null,qe.apply(Qe,arguments)}function et(e,t,r,n,i,o,s,u,l){if($e.apply(this,arguments),Ye){if(!Ye)throw Error(a(198));var c=Ze;Ye=!1,Ze=null,Ke||(Ke=!0,Je=c)}}function tt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function rt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){var t=e.alternate;if(!t){if(t=tt(e),null===t)throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(n=i.return,null!==n){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return nt(i),e;if(o===n)return nt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}function ot(e){if(e=it(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var st,ut,lt,ct,ht=!1,ft=[],pt=null,dt=null,gt=null,mt=new Map,vt=new Map,yt=[],bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function At(e,t){switch(e){case"focusin":case"focusout":pt=null;break;case"dragenter":case"dragleave":dt=null;break;case"mouseover":case"mouseout":gt=null;break;case"pointerover":case"pointerout":mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vt.delete(t.pointerId)}}function wt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=xt(t,r,n,i,o),null!==t&&(t=Mi(t),null!==t&&ut(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _t(e,t,r,n,i){switch(t){case"focusin":return pt=wt(pt,e,t,r,n,i),!0;case"dragenter":return dt=wt(dt,e,t,r,n,i),!0;case"mouseover":return gt=wt(gt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return mt.set(o,wt(mt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,vt.set(o,wt(vt.get(o)||null,e,t,r,n,i)),!0}return!1}function Ct(e){var t=Ci(e.target);if(null!==t){var r=tt(t);if(null!==r)if(t=r.tag,13===t){if(t=rt(r),null!==t)return e.blockedOn=t,void ct(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){lt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=cr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return t=Mi(r),null!==t&&ut(t),e.blockedOn=r,!1;t.shift()}return!0}function St(e,t,r){Mt(e)&&r.delete(t)}function Tt(){for(ht=!1;0<ft.length;){var e=ft[0];if(null!==e.blockedOn){e=Mi(e.blockedOn),null!==e&&st(e);break}for(var t=e.targetContainers;0<t.length;){var r=cr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ft.shift()}null!==pt&&Mt(pt)&&(pt=null),null!==dt&&Mt(dt)&&(dt=null),null!==gt&&Mt(gt)&&(gt=null),mt.forEach(St),vt.forEach(St)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,ht||(ht=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Tt)))}function It(e){function t(t){return Et(t,e)}if(0<ft.length){Et(ft[0],e);for(var r=1;r<ft.length;r++){var n=ft[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==pt&&Et(pt,e),null!==dt&&Et(dt,e),null!==gt&&Et(gt,e),mt.forEach(t),vt.forEach(t),r=0;r<yt.length;r++)n=yt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yt.length&&(r=yt[0],null===r.blockedOn);)Ct(r),null===r.blockedOn&&yt.shift()}function Rt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lt={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},Pt={},Ot={};function Dt(e){if(Pt[e])return Pt[e];if(!Lt[e])return e;var t,r=Lt[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ot)return Pt[e]=r[t];return e}h&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);var kt=Dt("animationend"),Nt=Dt("animationiteration"),Ft=Dt("animationstart"),Bt=Dt("transitionend"),zt=new Map,Ut=new Map,jt=["abort","abort",kt,"animationEnd",Nt,"animationIteration",Ft,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Bt,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ut.set(n,t),zt.set(n,i),l(i,[n])}}var Gt=o.unstable_now;Gt();var Vt=8;function Wt(e){if(0!==(1&e))return Vt=15,1;if(0!==(2&e))return Vt=14,2;if(0!==(4&e))return Vt=13,4;var t=24&e;return 0!==t?(Vt=12,t):0!==(32&e)?(Vt=11,32):(t=192&e,0!==t?(Vt=10,t):0!==(256&e)?(Vt=9,256):(t=3584&e,0!==t?(Vt=8,t):0!==(4096&e)?(Vt=7,4096):(t=4186112&e,0!==t?(Vt=6,t):(t=62914560&e,0!==t?(Vt=5,t):67108864&e?(Vt=4,67108864):0!==(134217728&e)?(Vt=3,134217728):(t=805306368&e,0!==t?(Vt=2,t):0!==(1073741824&e)?(Vt=1,1073741824):(Vt=8,e))))))}function Xt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function qt(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}function Yt(e,t){var r=e.pendingLanes;if(0===r)return Vt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,i=Vt=15;else if(o=134217727&r,0!==o){var u=o&~a;0!==u?(n=Wt(u),i=Vt):(s&=o,0!==s&&(n=Wt(s),i=Vt))}else o=r&~a,0!==o?(n=Wt(o),i=Vt):0!==s&&(n=Wt(s),i=Vt);if(0===n)return 0;if(n=31-er(n),n=r&((0>n?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(Wt(t),i<=Vt)return t;Vt=i}if(t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=n;0<t;)r=31-er(t),i=1<<r,n|=e[r],t&=~i;return n}function Zt(e){return e=-1073741825&e.pendingLanes,0!==e?e:1073741824&e?1073741824:0}function Kt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Jt(24&~t),0===e?Kt(10,t):e;case 10:return e=Jt(192&~t),0===e?Kt(8,t):e;case 8:return e=Jt(3584&~t),0===e&&(e=Jt(4186112&~t),0===e&&(e=512)),e;case 2:return t=Jt(805306368&~t),0===t&&(t=268435456),t}throw Error(a(358,e))}function Jt(e){return e&-e}function Qt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $t(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-er(t),e[t]=r}var er=Math.clz32?Math.clz32:nr,tr=Math.log,rr=Math.LN2;function nr(e){return 0===e?32:31-(tr(e)/rr|0)|0}var ir=o.unstable_UserBlockingPriority,or=o.unstable_runWithPriority,ar=!0;function sr(e,t,r,n){Ue||Be();var i=lr,o=Ue;Ue=!0;try{Fe(i,e,t,r,n)}finally{(Ue=o)||He()}}function ur(e,t,r,n){or(ir,lr.bind(null,e,t,r,n))}function lr(e,t,r,n){var i;if(ar)if((i=0===(4&t))&&0<ft.length&&-1<bt.indexOf(e))e=xt(null,e,t,r,n),ft.push(e);else{var o=cr(e,t,r,n);if(null===o)i&&At(e,n);else{if(i){if(-1<bt.indexOf(e))return e=xt(o,e,t,r,n),void ft.push(e);if(_t(o,e,t,r,n))return;At(e,n)}ri(e,t,n,null,r)}}}function cr(e,t,r,n){var i=Ie(n);if(i=Ci(i),null!==i){var o=tt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(i=rt(o),null!==i)return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ri(e,t,n,i,r),null}var hr=null,fr=null,pr=null;function dr(){if(pr)return pr;var e,t,r=fr,n=r.length,i="value"in hr?hr.value:hr.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return pr=i.slice(e,1<t?1-t:void 0)}function gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function mr(){return!0}function vr(){return!1}function yr(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?mr:vr,this.isPropagationStopped=vr,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var br,xr,Ar,wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=yr(wr),Cr=i({},wr,{view:0,detail:0}),Mr=yr(Cr),Sr=i({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&"mousemove"===e.type?(br=e.screenX-Ar.screenX,xr=e.screenY-Ar.screenY):xr=br=0,Ar=e),br)},movementY:function(e){return"movementY"in e?e.movementY:xr}}),Tr=yr(Sr),Er=i({},Sr,{dataTransfer:0}),Ir=yr(Er),Rr=i({},Cr,{relatedTarget:0}),Lr=yr(Rr),Pr=i({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=yr(Pr),Dr=i({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kr=yr(Dr),Nr=i({},wr,{data:0}),Fr=yr(Nr),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ur[e])&&!!t[e]}function Hr(){return jr}var Gr=i({},Cr,{key:function(e){if(e.key){var t=Br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=gr(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?zr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(e){return"keypress"===e.type?gr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Vr=yr(Gr),Wr=i({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=yr(Wr),qr=i({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Yr=yr(qr),Zr=i({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kr=yr(Zr),Jr=i({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qr=yr(Jr),$r=[9,13,27,32],en=h&&"CompositionEvent"in window,tn=null;h&&"documentMode"in document&&(tn=document.documentMode);var rn=h&&"TextEvent"in window&&!tn,nn=h&&(!en||tn&&8<tn&&11>=tn),on=String.fromCharCode(32),an=!1;function sn(e,t){switch(e){case"keyup":return-1!==$r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function un(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var ln=!1;function cn(e,t){switch(e){case"compositionend":return un(t);case"keypress":return 32!==t.which?null:(an=!0,on);case"textInput":return e=t.data,e===on&&an?null:e;default:return null}}function hn(e,t){if(ln)return"compositionend"===e||!en&&sn(e,t)?(e=dr(),pr=fr=hr=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nn&&"ko"!==t.locale?null:t.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fn[e.type]:"textarea"===t}function dn(e,t,r,n){De(n),t=ii(t,"onChange"),0<t.length&&(r=new _r("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gn=null,mn=null;function vn(e){Kn(e,0)}function yn(e){var t=Si(e);if(te(t))return e}function bn(e,t){if("change"===e)return t}var xn=!1;if(h){var An;if(h){var wn="oninput"in document;if(!wn){var _n=document.createElement("div");_n.setAttribute("oninput","return;"),wn="function"===typeof _n.oninput}An=wn}else An=!1;xn=An&&(!document.documentMode||9<document.documentMode)}function Cn(){gn&&(gn.detachEvent("onpropertychange",Mn),mn=gn=null)}function Mn(e){if("value"===e.propertyName&&yn(mn)){var t=[];if(dn(t,mn,e,Ie(e)),e=vn,Ue)e(t);else{Ue=!0;try{Ne(e,t)}finally{Ue=!1,He()}}}}function Sn(e,t,r){"focusin"===e?(Cn(),gn=t,mn=r,gn.attachEvent("onpropertychange",Mn)):"focusout"===e&&Cn()}function Tn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yn(mn)}function En(e,t){if("click"===e)return yn(t)}function In(e,t){if("input"===e||"change"===e)return yn(t)}function Rn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Ln="function"===typeof Object.is?Object.is:Rn,Pn=Object.prototype.hasOwnProperty;function On(e,t){if(Ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Pn.call(t,r[n])||!Ln(e[r[n]],t[r[n]]))return!1;return!0}function Dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kn(e,t){var r,n=Dn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dn(n)}}function Nn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Nn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Fn(){for(var e=window,t=re();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=t.contentWindow,t=re(e.document)}return t}function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var zn=h&&"documentMode"in document&&11>=document.documentMode,Un=null,jn=null,Hn=null,Gn=!1;function Vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Gn||null==Un||Un!==re(n)||(n=Un,"selectionStart"in n&&Bn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hn&&On(Hn,n)||(Hn=n,n=ii(jn,"onSelect"),0<n.length&&(t=new _r("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}Ht("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(jt,2);for(var Wn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Xn=0;Xn<Wn.length;Xn++)Ut.set(Wn[Xn],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yn=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Zn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,et(n,t,void 0,e),e.currentTarget=null}function Kn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Zn(i,s,l),o=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Zn(i,s,l),o=u}}}if(Ke)throw e=Je,Ke=!1,Je=null,e}function Jn(e,t){var r=Ei(t),n=e+"__bubble";r.has(n)||(ti(t,e,2,!1),r.add(n))}var Qn="_reactListening"+Math.random().toString(36).slice(2);function $n(e){e[Qn]||(e[Qn]=!0,s.forEach((function(t){Yn.has(t)||ei(t,!1,e,null),ei(t,!0,e,null)})))}function ei(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&Yn.has(e)){if("scroll"!==e)return;i|=2,o=n}var a=Ei(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),ti(o,e,i,t),a.add(s))}function ti(e,t,r,n){var i=Ut.get(t);switch(void 0===i?2:i){case 0:i=sr;break;case 1:i=ur;break;default:i=lr}r=i.bind(null,t,r,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ri(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if((3===u||4===u)&&(u=a.stateNode.containerInfo,u===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(a=Ci(s),null===a)return;if(u=a.tag,5===u||6===u){n=o=a;continue e}s=s.parentNode}}n=n.return}Ge((function(){var n=o,i=Ie(r),a=[];e:{var s=zt.get(e);if(void 0!==s){var u=_r,l=e;switch(e){case"keypress":if(0===gr(r))break e;case"keydown":case"keyup":u=Vr;break;case"focusin":l="focus",u=Lr;break;case"focusout":l="blur",u=Lr;break;case"beforeblur":case"afterblur":u=Lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Yr;break;case kt:case Nt:case Ft:u=Or;break;case Bt:u=Kr;break;case"scroll":u=Mr;break;case"wheel":u=Qr;break;case"copy":case"cut":case"paste":u=kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Xr}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,d=n;null!==d;){p=d;var g=p.stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(g=Ve(d,f),null!=g&&c.push(ni(d,g,p)))),h)break;d=d.return}0<c.length&&(s=new u(s,l,null,r,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(s="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,(!s||0!==(16&t)||!(l=r.relatedTarget||r.fromElement)||!Ci(l)&&!l[wi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(l=r.relatedTarget||r.toElement,u=n,l=l?Ci(l):null,null!==l&&(h=tt(l),l!==h||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(c=Tr,g="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Xr,g="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:Si(u),p=null==l?s:Si(l),s=new c(g,d+"leave",u,r,i),s.target=h,s.relatedTarget=p,g=null,Ci(i)===n&&(c=new c(f,d+"enter",l,r,i),c.target=p,c.relatedTarget=h,g=c),h=g,u&&l)e:{for(c=u,f=l,d=0,p=c;p;p=oi(p))d++;for(p=0,g=f;g;g=oi(g))p++;for(;0<d-p;)c=oi(c),d--;for(;0<p-d;)f=oi(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break e;c=oi(c),f=oi(f)}c=null}else c=null;null!==u&&ai(a,s,u,c,!1),null!==l&&null!==h&&ai(a,h,l,c,!0)}if(s=n?Si(n):window,u=s.nodeName&&s.nodeName.toLowerCase(),"select"===u||"input"===u&&"file"===s.type)var m=bn;else if(pn(s))if(xn)m=In;else{m=Tn;var v=Sn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=En);switch(m&&(m=m(e,n))?dn(a,m,r,i):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ue(s,"number",s.value)),v=n?Si(n):window,e){case"focusin":(pn(v)||"true"===v.contentEditable)&&(Un=v,jn=n,Hn=null);break;case"focusout":Hn=jn=Un=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":Gn=!1,Vn(a,r,i);break;case"selectionchange":if(zn)break;case"keydown":case"keyup":Vn(a,r,i)}var y;if(en)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ln?sn(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(nn&&"ko"!==r.locale&&(ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&ln&&(y=dr()):(hr=i,fr="value"in hr?hr.value:hr.textContent,ln=!0)),v=ii(n,b),0<v.length&&(b=new Fr(b,e,null,r,i),a.push({event:b,listeners:v}),y?b.data=y:(y=un(r),null!==y&&(b.data=y)))),(y=rn?cn(e,r):hn(e,r))&&(n=ii(n,"onBeforeInput"),0<n.length&&(i=new Fr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=y))}Kn(a,t)}))}function ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ii(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=Ve(e,r),null!=o&&n.unshift(ni(e,o,i)),o=Ve(e,t),null!=o&&n.push(ni(e,o,i))),e=e.return}return n}function oi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ai(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?(u=Ve(r,o),null!=u&&a.unshift(ni(r,u,s))):i||(u=Ve(r,o),null!=u&&a.push(ni(r,u,s)))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function si(){}var ui=null,li=null;function ci(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function hi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var fi="function"===typeof setTimeout?setTimeout:void 0,pi="function"===typeof clearTimeout?clearTimeout:void 0;function di(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function gi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var vi=0;function yi(e){return{$$typeof:B,toString:e,valueOf:e}}var bi=Math.random().toString(36).slice(2),xi="__reactFiber$"+bi,Ai="__reactProps$"+bi,wi="__reactContainer$"+bi,_i="__reactEvents$"+bi;function Ci(e){var t=e[xi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wi]||r[xi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=mi(e);null!==e;){if(r=e[xi])return r;e=mi(e)}return t}e=r,r=e.parentNode}return null}function Mi(e){return e=e[xi]||e[wi],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ti(e){return e[Ai]||null}function Ei(e){var t=e[_i];return void 0===t&&(t=e[_i]=new Set),t}var Ii=[],Ri=-1;function Li(e){return{current:e}}function Pi(e){0>Ri||(e.current=Ii[Ri],Ii[Ri]=null,Ri--)}function Oi(e,t){Ri++,Ii[Ri]=e.current,e.current=t}var Di={},ki=Li(Di),Ni=Li(!1),Fi=Di;function Bi(e,t){var r=e.type.contextTypes;if(!r)return Di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zi(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Ui(){Pi(Ni),Pi(ki)}function ji(e,t,r){if(ki.current!==Di)throw Error(a(168));Oi(ki,t),Oi(Ni,r)}function Hi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext(),n)if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},r,n)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Fi=ki.current,Oi(ki,e),Oi(Ni,Ni.current),!0}function Vi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Hi(e,t,Fi),n.__reactInternalMemoizedMergedChildContext=e,Pi(Ni),Pi(ki),Oi(ki,e)):Pi(Ni),Oi(Ni,r)}var Wi=null,Xi=null,qi=o.unstable_runWithPriority,Yi=o.unstable_scheduleCallback,Zi=o.unstable_cancelCallback,Ki=o.unstable_shouldYield,Ji=o.unstable_requestPaint,Qi=o.unstable_now,$i=o.unstable_getCurrentPriorityLevel,eo=o.unstable_ImmediatePriority,to=o.unstable_UserBlockingPriority,ro=o.unstable_NormalPriority,no=o.unstable_LowPriority,io=o.unstable_IdlePriority,oo={},ao=void 0!==Ji?Ji:function(){},so=null,uo=null,lo=!1,co=Qi(),ho=1e4>co?Qi:function(){return Qi()-co};function fo(){switch($i()){case eo:return 99;case to:return 98;case ro:return 97;case no:return 96;case io:return 95;default:throw Error(a(332))}}function po(e){switch(e){case 99:return eo;case 98:return to;case 97:return ro;case 96:return no;case 95:return io;default:throw Error(a(332))}}function go(e,t){return e=po(e),qi(e,t)}function mo(e,t,r){return e=po(e),Yi(e,t,r)}function vo(){if(null!==uo){var e=uo;uo=null,Zi(e)}yo()}function yo(){if(!lo&&null!==so){lo=!0;var e=0;try{var t=so;go(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),so=null}catch(r){throw null!==so&&(so=so.slice(e+1)),Yi(eo,vo),r}finally{lo=!1}}}var bo=C.ReactCurrentBatchConfig;function xo(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps,e)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Ao=Li(null),wo=null,_o=null,Co=null;function Mo(){Co=_o=wo=null}function So(e){var t=Ao.current;Pi(Ao),e.type._context._currentValue=t}function To(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function Eo(e,t){wo=e,Co=_o=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(os=!0),e.firstContext=null)}function Io(e,t){if(Co!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Co=e,t=1073741823),t={context:e,observedBits:t,next:null},null===_o){if(null===wo)throw Error(a(308));_o=t,wo.dependencies={lanes:0,firstContext:t,responders:null}}else _o=_o.next=t;return e._currentValue}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ko(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,null!==r){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}e=r.lastBaseUpdate,null===e?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function No(e,t,r,n){var o=e.updateQueue;Ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=e.alternate;if(null!==h){h=h.updateQueue;var f=h.lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){f=o.baseState,s=0,h=c=l=null;do{u=a.lane;var p=a.eventTime;if((n&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,g=a;switch(u=t,p=r,g.tag){case 1:if(d=g.payload,"function"===typeof d){f=d.call(p,f,u);break e}f=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(d=g.payload,u="function"===typeof d?d.call(p,f,u):d,null===u||void 0===u)break e;f=i({},f,u);break e;case 2:Ro=!0}}null!==a.callback&&(e.flags|=32,u=o.effects,null===u?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,l=f):h=h.next=p,s|=u;if(a=a.next,null===a){if(u=o.shared.pending,null===u)break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}while(1);null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,cu|=s,e.lanes=s,e.memoizedState=f}}function Fo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var Bo=(new n.Component).refs;function zo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=null===r||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&tt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ku(),i=Nu(e),o=Oo(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),Do(e,o),Fu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ku(),i=Nu(e),o=Oo(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),Do(e,o),Fu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ku(),n=Nu(e),i=Oo(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Do(e,i),Fu(e,n,r)}};function jo(e,t,r,n,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!On(r,n)||!On(i,o))}function Ho(e,t,r){var n=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=zi(t)?Fi:ki.current,n=t.contextTypes,o=(n=null!==n&&void 0!==n)?Bi(e,i):Di),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Vo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Bo,Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=zi(t)?Fi:ki.current,i.context=Bi(e,o)),No(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(zo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),No(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Wo=Array.isArray;function Xo(e,t,r){if(e=r.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner,r){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;t===Bo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function qo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Yo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=vl(e,t),e.index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?(n=t.alternate,null!==n?(n=n.index,n<r?(t.flags=2,r):n):(t.flags=2,r)):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?(t=Al(r,e.mode,n),t.return=e,t):(t=i(t,r),t.return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?(n=i(t,r.props),n.ref=Xo(e,t,r),n.return=e,n):(n=yl(r.type,r.key,r.props,null,e.mode,n),n.ref=Xo(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=wl(r,e.mode,n),t.return=e,t):(t=i(t,r.children||[]),t.return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?(t=bl(r,e.mode,n,o),t.return=e,t):(t=i(t,r),t.return=e,t)}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return t=Al(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case M:return r=yl(t.type,t.key,t.props,null,e.mode,r),r.ref=Xo(e,null,t),r.return=e,r;case S:return t=wl(t,e.mode,r),t.return=e,t}if(Wo(t)||W(t))return t=bl(t,e.mode,r,null),t.return=e,t;qo(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case M:return r.key===i?r.type===T?h(e,t,r.props.children,n,i):l(e,t,r,n):null;case S:return r.key===i?c(e,t,r,n):null}if(Wo(r)||W(r))return null!==i?null:h(e,t,r,n,null);qo(e,r)}return null}function d(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case M:return e=e.get(null===n.key?r:n.key)||null,n.type===T?h(t,e,n.props.children,i,n.key):l(t,e,n,i);case S:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i)}if(Wo(n)||W(n))return e=e.get(r)||null,h(t,e,n,i,null);qo(t,n)}return null}function g(i,a,s,u){for(var l=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(i,h,s[g],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v,h=m}if(g===s.length)return r(i,h),l;if(null===h){for(;g<s.length;g++)h=f(i,s[g],u),null!==h&&(a=o(h,a,g),null===c?l=h:c.sibling=h,c=h);return l}for(h=n(i,h);g<s.length;g++)m=d(h,i,g,s[g],u),null!==m&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=W(u);if("function"!==typeof c)throw Error(a(150));if(u=c.call(u),null==u)throw Error(a(151));for(var h=c=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return r(i,g),c;if(null===g){for(;!y.done;m++,y=u.next())y=f(i,y.value,l),null!==y&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=n(i,g);!y.done;m++,y=u.next())y=d(g,i,m,y.value,l),null!==y&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,n,o,u){var l="object"===typeof o&&null!==o&&o.type===T&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case M:e:{for(c=o.key,l=n;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===T){r(e,l.sibling),n=i(l,o.props.children),n.return=e,e=n;break e}break;default:if(l.elementType===o.type){r(e,l.sibling),n=i(l,o.props),n.ref=Xo(e,l,o),n.return=e,e=n;break e}}r(e,l);break}t(e,l),l=l.sibling}o.type===T?(n=bl(o.props.children,e.mode,u,o.key),n.return=e,e=n):(u=yl(o.type,o.key,o.props,null,e.mode,u),u.ref=Xo(e,n,o),u.return=e,e=u)}return s(e);case S:e:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),n=i(n,o.children||[]),n.return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}n=wl(o,e.mode,u),n.return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o),n.return=e,e=n):(r(e,n),n=Al(o,e.mode,u),n.return=e,e=n),s(e);if(Wo(o))return g(e,n,o,u);if(W(o))return m(e,n,o,u);if(c&&qo(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return r(e,n)}}var Zo=Yo(!0),Ko=Yo(!1),Jo={},Qo=Li(Jo),$o=Li(Jo),ea=Li(Jo);function ta(e){if(e===Jo)throw Error(a(174));return e}function ra(e,t){switch(Oi(ea,t),Oi($o,e),Oi(Qo,Jo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ye(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ye(t,e)}Pi(Qo),Oi(Qo,t)}function na(){Pi(Qo),Pi($o),Pi(ea)}function ia(e){ta(ea.current);var t=ta(Qo.current),r=ye(t,e.type);t!==r&&(Oi($o,e),Oi(Qo,r))}function oa(e){$o.current===e&&(Pi(Qo),Pi($o))}var aa=Li(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=null,la=null,ca=!1;function ha(e,t){var r=dl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function fa(e,t){switch(e.tag){case 5:var r=e.type;return t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function pa(e){if(ca){var t=la;if(t){var r=t;if(!fa(e,t)){if(t=gi(r.nextSibling),!t||!fa(e,t))return e.flags=-1025&e.flags|2,ca=!1,void(ua=e);ha(ua,r)}ua=e,la=gi(t.firstChild)}else e.flags=-1025&e.flags|2,ca=!1,ua=e}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function ga(e){if(e!==ua)return!1;if(!ca)return da(e),ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!hi(t,e.memoizedProps))for(t=la;t;)ha(e,t),t=gi(t.nextSibling);if(da(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){la=gi(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}la=null}}else la=ua?gi(e.stateNode.nextSibling):null;return!0}function ma(){la=ua=null,ca=!1}var va=[];function ya(){for(var e=0;e<va.length;e++)va[e]._workInProgressVersionPrimary=null;va.length=0}var ba=C.ReactCurrentDispatcher,xa=C.ReactCurrentBatchConfig,Aa=0,wa=null,_a=null,Ca=null,Ma=!1,Sa=!1;function Ta(){throw Error(a(321))}function Ea(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function Ia(e,t,r,n,i,o){if(Aa=o,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=null===e||null===e.memoizedState?ts:rs,e=r(n,i),Sa){o=0;do{if(Sa=!1,!(25>o))throw Error(a(301));o+=1,Ca=_a=null,t.updateQueue=null,ba.current=ns,e=r(n,i)}while(Sa)}if(ba.current=es,t=null!==_a&&null!==_a.next,Aa=0,Ca=_a=wa=null,Ma=!1,t)throw Error(a(300));return e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ca?wa.memoizedState=Ca=e:Ca=Ca.next=e,Ca}function La(){if(null===_a){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===Ca?wa.memoizedState:Ca.next;if(null!==t)Ca=t,_a=e;else{if(null===e)throw Error(a(310));_a=e,e={memoizedState:_a.memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===Ca?wa.memoizedState=Ca=e:Ca=Ca.next=e}return Ca}function Pa(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=La(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=_a,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Aa&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=n):u=u.next=h,wa.lanes|=c,cu|=c}l=l.next}while(null!==l&&l!==i);null===u?o=n:u.next=s,Ln(n,t.memoizedState)||(os=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Da(e){var t=La(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Ln(o,t.memoizedState)||(os=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ka(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(Aa&e)===e)&&(t._workInProgressVersionPrimary=n,va.push(t))),e)return r(t._source);throw va.push(t),Error(a(350))}function Na(e,t,r,n){var i=ru;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=ba.current,l=u.useState((function(){return ka(i,t,r)})),c=l[1],h=l[0];l=Ca;var f=e.memoizedState,p=f.refs,d=p.getSnapshot,g=f.source;f=f.subscribe;var m=wa;return e.memoizedState={refs:p,source:t,subscribe:n},u.useEffect((function(){p.getSnapshot=r,p.setSnapshot=c;var e=o(t._source);if(!Ln(s,e)){e=r(t._source),Ln(h,e)||(c(e),e=Nu(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,a=e;0<a;){var u=31-er(a),l=1<<u;n[u]|=e,a&=~l}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var n=Nu(m);i.mutableReadLanes|=n&i.pendingLanes}catch(o){r((function(){throw o}))}}))}),[t,n]),Ln(d,r)&&Ln(g,t)&&Ln(f,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:h},e.dispatch=c=$a.bind(null,wa,e),l.queue=e,l.baseQueue=null,h=ka(i,t,r),l.memoizedState=l.baseState=h),h}function Fa(e,t,r){var n=La();return Na(n,e,t,r)}function Ba(e){var t=Ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},e=e.dispatch=$a.bind(null,wa,e),[t.memoizedState,e]}function za(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wa.updateQueue,null===t?(t={lastEffect:null},wa.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ua(e){var t=Ra();return e={current:e},t.memoizedState=e}function ja(){return La().memoizedState}function Ha(e,t,r,n){var i=Ra();wa.flags|=e,i.memoizedState=za(1|t,r,void 0,void 0===n?null:n)}function Ga(e,t,r,n){var i=La();n=void 0===n?null:n;var o=void 0;if(null!==_a){var a=_a.memoizedState;if(o=a.destroy,null!==n&&Ea(n,a.deps))return void za(t,r,o,n)}wa.flags|=e,i.memoizedState=za(1|t,r,o,n)}function Va(e,t){return Ha(516,4,e,t)}function Wa(e,t){return Ga(516,4,e,t)}function Xa(e,t){return Ga(4,2,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ga(4,2,qa.bind(null,t,e),r)}function Za(){}function Ka(e,t){var r=La();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ea(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ja(e,t){var r=La();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ea(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qa(e,t){var r=fo();go(98>r?98:r,(function(){e(!0)})),go(97<r?97:r,(function(){var r=xa.transition;xa.transition=1;try{e(!1),t()}finally{xa.transition=r}}))}function $a(e,t,r){var n=ku(),i=Nu(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===wa||null!==a&&a===wa)Sa=Ma=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&(a=t.lastRenderedReducer,null!==a))try{var s=t.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,Ln(u,s))return}catch(l){}Fu(e,i,n)}}var es={readContext:Io,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useLayoutEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useMutableSource:Ta,useOpaqueIdentifier:Ta,unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:function(e,t){return Ra().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Va,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ha(4,2,qa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var r=Ra();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ra();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=$a.bind(null,wa,e),[n.memoizedState,e]},useRef:Ua,useState:Ba,useDebugValue:Za,useDeferredValue:function(e){var t=Ba(e),r=t[0],n=t[1];return Va((function(){var t=xa.transition;xa.transition=1;try{n(e)}finally{xa.transition=t}}),[e]),r},useTransition:function(){var e=Ba(!1),t=e[0];return e=Qa.bind(null,e[1]),Ua(e),[e,t]},useMutableSource:function(e,t,r){var n=Ra();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},Na(n,e,t,r)},useOpaqueIdentifier:function(){if(ca){var e=!1,t=yi((function(){throw e||(e=!0,r("r:"+(vi++).toString(36))),Error(a(355))})),r=Ba(t)[1];return 0===(2&wa.mode)&&(wa.flags|=516,za(5,(function(){r("r:"+(vi++).toString(36))}),void 0,null)),t}return t="r:"+(vi++).toString(36),Ba(t),t},unstable_isNewReconciler:!1},rs={readContext:Io,useCallback:Ka,useContext:Io,useEffect:Wa,useImperativeHandle:Ya,useLayoutEffect:Xa,useMemo:Ja,useReducer:Oa,useRef:ja,useState:function(){return Oa(Pa)},useDebugValue:Za,useDeferredValue:function(e){var t=Oa(Pa),r=t[0],n=t[1];return Wa((function(){var t=xa.transition;xa.transition=1;try{n(e)}finally{xa.transition=t}}),[e]),r},useTransition:function(){var e=Oa(Pa)[0];return[ja().current,e]},useMutableSource:Fa,useOpaqueIdentifier:function(){return Oa(Pa)[0]},unstable_isNewReconciler:!1},ns={readContext:Io,useCallback:Ka,useContext:Io,useEffect:Wa,useImperativeHandle:Ya,useLayoutEffect:Xa,useMemo:Ja,useReducer:Da,useRef:ja,useState:function(){return Da(Pa)},useDebugValue:Za,useDeferredValue:function(e){var t=Da(Pa),r=t[0],n=t[1];return Wa((function(){var t=xa.transition;xa.transition=1;try{n(e)}finally{xa.transition=t}}),[e]),r},useTransition:function(){var e=Da(Pa)[0];return[ja().current,e]},useMutableSource:Fa,useOpaqueIdentifier:function(){return Da(Pa)[0]},unstable_isNewReconciler:!1},is=C.ReactCurrentOwner,os=!1;function as(e,t,r,n){t.child=null===e?Ko(t,null,r,n):Zo(t,e.child,r,n)}function ss(e,t,r,n,i){r=r.render;var o=t.ref;return Eo(t,i),n=Ia(e,t,r,n,o,i),null===e||os?(t.flags|=1,as(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Es(e,t,i))}function us(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!==typeof a||gl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?(e=yl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ls(e,t,a,n,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,r=r.compare,r=null!==r?r:On,r(i,n)&&e.ref===t.ref)?Es(e,t,o):(t.flags|=1,e=vl(a,n),e.ref=t.ref,e.return=t,t.child=e)}function ls(e,t,r,n,i,o){if(null!==e&&On(e.memoizedProps,n)&&e.ref===t.ref){if(os=!1,0===(o&i))return t.lanes=e.lanes,Es(e,t,o);0!==(16384&e.flags)&&(os=!0)}return fs(e,t,r,n,o)}function cs(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Xu(t,r);else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Xu(t,e),null;t.memoizedState={baseLanes:0},Xu(t,null!==o?o.baseLanes:r)}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Xu(t,n);return as(e,t,i,r),t.child}function hs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function fs(e,t,r,n,i){var o=zi(r)?Fi:ki.current;return o=Bi(t,o),Eo(t,i),r=Ia(e,t,r,n,o,i),null===e||os?(t.flags|=1,as(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Es(e,t,i))}function ps(e,t,r,n,i){if(zi(r)){var o=!0;Gi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ho(t,r,n),Vo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;"object"===typeof l&&null!==l?l=Io(l):(l=zi(r)?Fi:ki.current,l=Bi(t,l));var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==l)&&Go(t,a,n,l),Ro=!1;var f=t.memoizedState;a.state=f,No(t,n,a,i),u=t.memoizedState,s!==n||f!==u||Ni.current||Ro?("function"===typeof c&&(zo(t,r,c,n),u=t.memoizedState),(s=Ro||jo(t,r,s,n,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:xo(t.type,s),a.props=l,h=t.pendingProps,f=a.context,u=r.contextType,"object"===typeof u&&null!==u?u=Io(u):(u=zi(r)?Fi:ki.current,u=Bi(t,u));var p=r.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Go(t,a,n,u),Ro=!1,f=t.memoizedState,a.state=f,No(t,n,a,i);var d=t.memoizedState;s!==h||f!==d||Ni.current||Ro?("function"===typeof p&&(zo(t,r,p,n),d=t.memoizedState),(l=Ro||jo(t,r,l,n,f,d,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),n=!1)}return ds(e,t,r,n,o,i)}function ds(e,t,r,n,i,o){hs(e,t);var a=0!==(64&t.flags);if(!n&&!a)return i&&Vi(t,r,!1),Es(e,t,o);n=t.stateNode,is.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,s,o)):as(e,t,s,o),t.memoizedState=n.state,i&&Vi(t,r,!0),t.child}function gs(e){var t=e.stateNode;t.pendingContext?ji(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(e,t.context,!1),ra(e,t.containerInfo)}var ms,vs,ys,bs,xs={dehydrated:null,retryLane:0};function As(e,t,r){var n,i=t.pendingProps,o=aa.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Oi(aa,1&o),null===e?(void 0!==i.fallback&&pa(t),e=i.children,o=i.fallback,a?(e=ws(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=xs,e):"number"===typeof i.unstable_expectedLoadTime?(e=ws(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=xs,t.lanes=33554432,e):(r=xl({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):(e.memoizedState,a?(i=Cs(e,t,i.children,i.fallback,r),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=xs,i):(r=_s(e,t,i.children,r),t.memoizedState=null,r))}function ws(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=xl(t,i,0,null),r=bl(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function _s(e,t,r,n){var i=e.child;return e=i.sibling,r=vl(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Cs(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 0===(2&o)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,null!==a?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=vl(a,s),null!==e?n=vl(e,n):(n=bl(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Ms(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t)}function Ss(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function Ts(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(as(e,t,n.children,r),n=aa.current,0!==(2&n))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,r);else if(19===e.tag)Ms(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oi(aa,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)e=r.alternate,null!==e&&null===sa(e)&&(i=r),r=r.sibling;r=i,null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ss(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ss(t,!0,r,null,o,t.lastEffect);break;case"together":Ss(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Es(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),cu|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(e=t.child,r=vl(e,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=vl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}function Is(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return zi(t.type)&&Ui(),null;case 3:return na(),Pi(Ni),Pi(ki),ya(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ga(t)?t.flags|=4:n.hydrate||(t.flags|=256)),vs(t),null;case 5:oa(t);var o=ta(ea.current);if(r=t.type,null!==e&&null!=t.stateNode)ys(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=ta(Qo.current),ga(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[xi]=t,n[Ai]=s,r){case"dialog":Jn("cancel",n),Jn("close",n);break;case"iframe":case"object":case"embed":Jn("load",n);break;case"video":case"audio":for(e=0;e<qn.length;e++)Jn(qn[e],n);break;case"source":Jn("error",n);break;case"img":case"image":case"link":Jn("error",n),Jn("load",n);break;case"details":Jn("toggle",n);break;case"input":ie(n,s),Jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Jn("invalid",n);break;case"textarea":pe(n,s),Jn("invalid",n)}for(var l in Te(r,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?n.textContent!==o&&(e=["children",o]):"number"===typeof o&&n.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Jn("scroll",n));switch(r){case"input":ee(n),se(n,s,!0);break;case"textarea":ee(n),ge(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=si)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===me.html&&(e=ve(r)),e===me.html?"script"===r?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[xi]=t,e[Ai]=n,ms(e,t,!1,!1),t.stateNode=e,l=Ee(r,n),r){case"dialog":Jn("cancel",e),Jn("close",e),o=n;break;case"iframe":case"object":case"embed":Jn("load",e),o=n;break;case"video":case"audio":for(o=0;o<qn.length;o++)Jn(qn[o],e);o=n;break;case"source":Jn("error",e),o=n;break;case"img":case"image":case"link":Jn("error",e),Jn("load",e),o=n;break;case"details":Jn("toggle",e),o=n;break;case"input":ie(e,n),o=ne(e,n),Jn("invalid",e);break;case"option":o=ce(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=i({},n,{value:void 0}),Jn("invalid",e);break;case"textarea":pe(e,n),o=fe(e,n),Jn("invalid",e);break;default:o=n}Te(r,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?Me(e,h):"dangerouslySetInnerHTML"===s?(h=h?h.__html:void 0,null!=h&&xe(e,h)):"children"===s?"string"===typeof h?("textarea"!==r||""!==h)&&Ae(e,h):"number"===typeof h&&Ae(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Jn("scroll",e):null!=h&&_(e,s,h,l))}switch(r){case"input":ee(e),se(e,n,!1);break;case"textarea":ee(e),ge(e);break;case"option":null!=n.value&&e.setAttribute("value",""+J(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,null!=s?he(e,!!n.multiple,s,!1):null!=n.defaultValue&&he(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=si)}ci(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)bs(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=ta(ea.current),ta(Qo.current),ga(t)?(n=t.stateNode,r=t.memoizedProps,n[xi]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),n[xi]=t,t.stateNode=n)}return null;case 13:return Pi(aa),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&ga(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&aa.current)?0===su&&(su=3):(0!==su&&3!==su||(su=4),null===ru||0===(134217727&cu)&&0===(134217727&hu)||ju(ru,iu))),(n||r)&&(t.flags|=4),null);case 4:return na(),vs(t),null===e&&$n(t.stateNode.containerInfo),null;case 10:return So(t),null;case 17:return zi(t.type)&&Ui(),null;case 19:if(Pi(aa),n=t.memoizedState,null===n)return null;if(s=0!==(64&t.flags),l=n.rendering,null===l)if(s)Is(n,!1);else{if(0!==su||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(l=sa(e),null!==l){for(t.flags|=64,Is(n,!1),s=l.updateQueue,null!==s&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)s=r,e=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,l=s.alternate,null===l?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oi(aa,1&aa.current|2),t.child}e=e.sibling}null!==n.tail&&ho()>gu&&(t.flags|=64,s=!0,Is(n,!1),t.lanes=33554432)}else{if(!s)if(e=sa(l),null!==e){if(t.flags|=64,s=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.flags|=4),Is(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!ca)return t=t.lastEffect=n.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ho()-n.renderingStartTime>gu&&1073741824!==r&&(t.flags|=64,s=!0,Is(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(r=n.last,null!==r?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=ho(),r.sibling=null,t=aa.current,Oi(aa,s?1&t|2:1&t),r):null;case 23:case 24:return qu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function Ls(e){switch(e.tag){case 1:zi(e.type)&&Ui();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(na(),Pi(Ni),Pi(ki),ya(),t=e.flags,0!==(64&t))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return oa(e),null;case 13:return Pi(aa),t=e.flags,4096&t?(e.flags=-4097&t|64,e):null;case 19:return Pi(aa),null;case 4:return na(),null;case 10:return So(e),null;case 23:case 24:return qu(),null;default:return null}}function Ps(e,t){try{var r="",n=t;do{r+=Z(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Os(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}ms=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},vs=function(){},ys=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,ta(Qo.current);var a,s=null;switch(r){case"input":o=ne(e,o),n=ne(e,n),s=[];break;case"option":o=ce(e,o),n=ce(e,n),s=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":o=fe(e,o),n=fe(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=si)}for(h in Te(r,n),r=null,o)if(!n.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=null!=o?o[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(h,r)),r=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Jn("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===B?c.toString():(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},bs=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ds="function"===typeof WeakMap?WeakMap:Map;function ks(e,t,r){r=Oo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bu||(bu=!0,xu=n),Os(e,t)},r}function Ns(e,t,r){r=Oo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return Os(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Au?Au=new Set([this]):Au.add(this),Os(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Fs="function"===typeof WeakSet?WeakSet:Set;function Bs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){cl(e,r)}else t.current=null}function zs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:xo(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&di(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Us(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{var i=e;n=i.next,i=i.tag,0!==(4&i)&&0!==(1&i)&&(sl(r,e),al(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:xo(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,void(null!==t&&Fo(r,t,e));case 3:if(t=r.updateQueue,null!==t){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Fo(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&ci(r.type,r.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&It(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function js(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)n=n.style,"function"===typeof n.setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=Ce("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Hs(e,t){if(Xi&&"function"===typeof Xi.onCommitFiberUnmount)try{Xi.onCommitFiberUnmount(Wi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))sl(t,r);else{n=t;try{i()}catch(o){cl(n,o)}}r=r.next}while(r!==e)}break;case 1:if(Bs(t),e=t.stateNode,"function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){cl(t,o)}break;case 5:Bs(t);break;case 4:Ys(e,t)}}function Gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Vs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ws(e){e:{for(var t=e.return;null!==t;){if(Vs(t))break e;t=t.return}throw Error(a(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.flags&&(Ae(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Vs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?Xs(e,r,t):qs(e,r,t)}function Xs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=si));else if(4!==n&&(e=e.child,null!==e))for(Xs(e,t,r),e=e.sibling;null!==e;)Xs(e,t,r),e=e.sibling}function qs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(qs(e,t,r),e=e.sibling;null!==e;)qs(e,t,r),e=e.sibling}function Ys(e,t){for(var r,n,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:r=r.containerInfo,n=!0;break e;case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(Hs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(Hs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return,4===i.tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Zs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=null!==r?r.lastEffect:null,null!==r){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,null!=r){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Ai]=n,"input"===e&&"radio"===n.type&&null!=n.name&&oe(r,n),Ee(e,i),t=Ee(e,n),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Me(r,u):"dangerouslySetInnerHTML"===s?xe(r,u):"children"===s?Ae(r,u):_(r,s,u,t)}switch(e){case"input":ae(r,n);break;case"textarea":de(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,null!=o?he(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?he(r,!!n.multiple,n.defaultValue,!0):he(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return r=t.stateNode,void(r.hydrate&&(r.hydrate=!1,It(r.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(du=ho(),js(t.child,!0)),void Ks(t);case 19:return void Ks(t);case 17:return;case 23:case 24:return void js(t,null!==t.memoizedState)}throw Error(a(163))}function Ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Fs),t.forEach((function(t){var n=fl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Js(e,t){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)&&(t=t.memoizedState,null!==t&&null===t.dehydrated)}var Qs=Math.ceil,$s=C.ReactCurrentDispatcher,eu=C.ReactCurrentOwner,tu=0,ru=null,nu=null,iu=0,ou=0,au=Li(0),su=0,uu=null,lu=0,cu=0,hu=0,fu=0,pu=null,du=0,gu=1/0;function mu(){gu=ho()+500}var vu,yu=null,bu=!1,xu=null,Au=null,wu=!1,_u=null,Cu=90,Mu=[],Su=[],Tu=null,Eu=0,Iu=null,Ru=-1,Lu=0,Pu=0,Ou=null,Du=!1;function ku(){return 0!==(48&tu)?ho():-1!==Ru?Ru:Ru=ho()}function Nu(e){if(e=e.mode,0===(2&e))return 1;if(0===(4&e))return 99===fo()?1:2;if(0===Lu&&(Lu=lu),0!==bo.transition){0!==Pu&&(Pu=null!==pu?pu.pendingLanes:0),e=Lu;var t=4186112&~Pu;return t&=-t,0===t&&(e=4186112&~e,t=e&-e,0===t&&(t=8192)),t}return e=fo(),0!==(4&tu)&&98===e?e=Kt(12,Lu):(e=Xt(e),e=Kt(e,Lu)),e}function Fu(e,t,r){if(50<Eu)throw Eu=0,Iu=null,Error(a(185));if(e=Bu(e,t),null===e)return null;$t(e,t,r),e===ru&&(hu|=t,4===su&&ju(e,iu));var n=fo();1===t?0!==(8&tu)&&0===(48&tu)?Hu(e):(zu(e,r),0===tu&&(mu(),vo())):(0===(4&tu)||98!==n&&99!==n||(null===Tu?Tu=new Set([e]):Tu.add(e)),zu(e,r)),pu=e}function Bu(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,r=e.alternate,null!==r&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function zu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-er(a),u=1<<s,l=o[s];if(-1===l){if(0===(u&n)||0!==(u&i)){l=t,Wt(u);var c=Vt;o[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}if(n=Yt(e,e===ru?iu:0),t=Vt,0===n)null!==r&&(r!==oo&&Zi(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==oo&&Zi(r)}15===t?(r=Hu.bind(null,e),null===so?(so=[r],uo=Yi(eo,yo)):so.push(r),r=oo):14===t?r=mo(99,Hu.bind(null,e)):(r=qt(t),r=mo(r,Uu.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function Uu(e){if(Ru=-1,Pu=Lu=0,0!==(48&tu))throw Error(a(327));var t=e.callbackNode;if(ol()&&e.callbackNode!==t)return null;var r=Yt(e,e===ru?iu:0);if(0===r)return null;var n=r,i=tu;tu|=16;var o=Ku();ru===e&&iu===n||(mu(),Yu(e,n));do{try{$u();break}catch(u){Zu(e,u)}}while(1);if(Mo(),$s.current=o,tu=i,null!==nu?n=0:(ru=null,iu=0,n=su),0!==(lu&hu))Yu(e,0);else if(0!==n){if(2===n&&(tu|=64,e.hydrate&&(e.hydrate=!1,di(e.containerInfo)),r=Zt(e),0!==r&&(n=Ju(e,r))),1===n)throw t=uu,Yu(e,0),ju(e,r),zu(e,ho()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:rl(e);break;case 3:if(ju(e,r),(62914560&r)===r&&(n=du+500-ho(),10<n)){if(0!==Yt(e,0))break;if(i=e.suspendedLanes,(i&r)!==r){ku(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fi(rl.bind(null,e),n);break}rl(e);break;case 4:if(ju(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-er(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=ho()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qs(r/1960))-r,10<r){e.timeoutHandle=fi(rl.bind(null,e),r);break}rl(e);break;case 5:rl(e);break;default:throw Error(a(329))}}return zu(e,ho()),e.callbackNode===t?Uu.bind(null,e):null}function ju(e,t){for(t&=~fu,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-er(t),n=1<<r;e[r]=-1,t&=~n}}function Hu(e){if(0!==(48&tu))throw Error(a(327));if(ol(),e===ru&&0!==(e.expiredLanes&iu)){var t=iu,r=Ju(e,t);0!==(lu&hu)&&(t=Yt(e,t),r=Ju(e,t))}else t=Yt(e,0),r=Ju(e,t);if(0!==e.tag&&2===r&&(tu|=64,e.hydrate&&(e.hydrate=!1,di(e.containerInfo)),t=Zt(e),0!==t&&(r=Ju(e,t))),1===r)throw r=uu,Yu(e,0),ju(e,t),zu(e,ho()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,rl(e),zu(e,ho()),null}function Gu(){if(null!==Tu){var e=Tu;Tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,zu(e,ho())}))}vo()}function Vu(e,t){var r=tu;tu|=1;try{return e(t)}finally{tu=r,0===tu&&(mu(),vo())}}function Wu(e,t){var r=tu;tu&=-2,tu|=8;try{return e(t)}finally{tu=r,0===tu&&(mu(),vo())}}function Xu(e,t){Oi(au,ou),ou|=t,lu|=t}function qu(){ou=au.current,Pi(au)}function Yu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,pi(r)),null!==nu)for(r=nu.return;null!==r;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,null!==n&&void 0!==n&&Ui();break;case 3:na(),Pi(Ni),Pi(ki),ya();break;case 5:oa(n);break;case 4:na();break;case 13:Pi(aa);break;case 19:Pi(aa);break;case 10:So(n);break;case 23:case 24:qu()}r=r.return}ru=e,nu=vl(e.current,null),iu=ou=lu=t,su=0,uu=null,fu=hu=cu=0}function Zu(e,t){do{var r=nu;try{if(Mo(),ba.current=es,Ma){for(var n=wa.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}Ma=!1}if(Aa=0,Ca=_a=wa=null,Sa=!1,eu.current=null,null===r||null===r.return){su=1,uu=t,nu=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=iu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&aa.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var g=f.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(p){var m=f.updateQueue;if(null===m){var v=new Set;v.add(l),f.updateQueue=v}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=Oo(-1,1);y.tag=2,Do(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Ds,u=new Set,b.set(l,u)):(u=b.get(l),void 0===u&&(u=new Set,b.set(l,u))),!u.has(s)){u.add(s);var x=hl.bind(null,o,l,s);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==su&&(su=2),u=Ps(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t;var A=ks(f,o,t);ko(f,A);break e;case 1:o=u;var w=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Au||!Au.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t;var C=Ns(f,o,t);ko(f,C);break e}}f=f.return}while(null!==f)}tl(r)}catch(M){t=M,nu===r&&null!==r&&(nu=r=r.return);continue}break}while(1)}function Ku(){var e=$s.current;return $s.current=es,null===e?es:e}function Ju(e,t){var r=tu;tu|=16;var n=Ku();ru===e&&iu===t||Yu(e,t);do{try{Qu();break}catch(i){Zu(e,i)}}while(1);if(Mo(),tu=r,$s.current=n,null!==nu)throw Error(a(261));return ru=null,iu=0,su}function Qu(){for(;null!==nu;)el(nu)}function $u(){for(;null!==nu&&!Ki();)el(nu)}function el(e){var t=vu(e.alternate,e,ou);e.memoizedProps=e.pendingProps,null===t?tl(e):nu=t,eu.current=null}function tl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(r=Rs(r,t,ou),null!==r)return void(nu=r);if(r=t,24!==r.tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&ou)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=Ls(t),null!==r)return r.flags&=2047,void(nu=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,null!==t)return void(nu=t);nu=t=e}while(null!==t);0===su&&(su=5)}function rl(e){var t=fo();return go(99,nl.bind(null,e,t)),null}function nl(e,t){do{ol()}while(null!==_u);if(0!==(48&tu))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-er(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==Tu&&0===(24&n)&&Tu.has(e)&&Tu.delete(e),e===ru&&(nu=ru=null,iu=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=tu,tu|=32,eu.current=null,ui=ar,s=Fn(),Bn(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(S){u=null;break e}var h=0,f=-1,p=-1,d=0,g=0,m=s,v=null;t:for(;;){for(var y;;){if(m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==l||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null===(y=m.firstChild))break;v=m,m=y}for(;;){if(m===s)break t;if(v===u&&++d===o&&(f=h),v===l&&++g===c&&(p=h),null!==(y=m.nextSibling))break;m=v,v=m.parentNode}m=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;li={focusedElem:s,selectionRange:u},ar=!1,Ou=null,Du=!1,yu=n;do{try{il()}catch(S){if(null===yu)throw Error(a(330));cl(yu,S),yu=yu.nextEffect}}while(null!==yu);Ou=null,yu=n;do{try{for(s=e;null!==yu;){var b=yu.flags;if(16&b&&Ae(yu.stateNode,""),128&b){var x=yu.alternate;if(null!==x){var A=x.ref;null!==A&&("function"===typeof A?A(null):A.current=null)}}switch(1038&b){case 2:Ws(yu),yu.flags&=-3;break;case 6:Ws(yu),yu.flags&=-3,Zs(yu.alternate,yu);break;case 1024:yu.flags&=-1025;break;case 1028:yu.flags&=-1025,Zs(yu.alternate,yu);break;case 4:Zs(yu.alternate,yu);break;case 8:u=yu,Ys(s,u);var w=u.alternate;Gs(u),null!==w&&Gs(w)}yu=yu.nextEffect}}catch(S){if(null===yu)throw Error(a(330));cl(yu,S),yu=yu.nextEffect}}while(null!==yu);if(A=li,x=Fn(),b=A.focusedElem,s=A.selectionRange,x!==b&&b&&b.ownerDocument&&Nn(b.ownerDocument.documentElement,b)){null!==s&&Bn(b)&&(x=s.start,A=s.end,void 0===A&&(A=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(A,b.value.length)):(A=(x=b.ownerDocument||document)&&x.defaultView||window,A.getSelection&&(A=A.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!A.extend&&w>s&&(u=s,s=w,w=u),u=kn(b,w),o=kn(b,s),u&&o&&(1!==A.rangeCount||A.anchorNode!==u.node||A.anchorOffset!==u.offset||A.focusNode!==o.node||A.focusOffset!==o.offset)&&(x=x.createRange(),x.setStart(u.node,u.offset),A.removeAllRanges(),w>s?(A.addRange(x),A.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),A.addRange(x)))))),x=[];for(A=b;A=A.parentNode;)1===A.nodeType&&x.push({element:A,left:A.scrollLeft,top:A.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)A=x[b],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}ar=!!ui,li=ui=null,e.current=r,yu=n;do{try{for(b=e;null!==yu;){var _=yu.flags;if(36&_&&Us(b,yu.alternate,yu),128&_){x=void 0;var C=yu.ref;if(null!==C){var M=yu.stateNode;switch(yu.tag){case 5:x=M;break;default:x=M}"function"===typeof C?C(x):C.current=x}}yu=yu.nextEffect}}catch(S){if(null===yu)throw Error(a(330));cl(yu,S),yu=yu.nextEffect}}while(null!==yu);yu=null,ao(),tu=i}else e.current=r;if(wu)wu=!1,_u=e,Cu=t;else for(yu=n;null!==yu;)t=yu.nextEffect,yu.nextEffect=null,8&yu.flags&&(_=yu,_.sibling=null,_.stateNode=null),yu=t;if(n=e.pendingLanes,0===n&&(Au=null),1===n?e===Iu?Eu++:(Eu=0,Iu=e):Eu=0,r=r.stateNode,Xi&&"function"===typeof Xi.onCommitFiberRoot)try{Xi.onCommitFiberRoot(Wi,r,void 0,64===(64&r.current.flags))}catch(S){}if(zu(e,ho()),bu)throw bu=!1,e=xu,xu=null,e;return 0!==(8&tu)||vo(),null}function il(){for(;null!==yu;){var e=yu.alternate;Du||null===Ou||(0!==(8&yu.flags)?at(yu,Ou)&&(Du=!0):13===yu.tag&&Js(e,yu)&&at(yu,Ou)&&(Du=!0));var t=yu.flags;0!==(256&t)&&zs(e,yu),0===(512&t)||wu||(wu=!0,mo(97,(function(){return ol(),null}))),yu=yu.nextEffect}}function ol(){if(90!==Cu){var e=97<Cu?97:Cu;return Cu=90,go(e,ul)}return!1}function al(e,t){Mu.push(t,e),wu||(wu=!0,mo(97,(function(){return ol(),null})))}function sl(e,t){Su.push(t,e),wu||(wu=!0,mo(97,(function(){return ol(),null})))}function ul(){if(null===_u)return!1;var e=_u;if(_u=null,0!==(48&tu))throw Error(a(331));var t=tu;tu|=32;var r=Su;Su=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));cl(o,l)}}for(r=Mu,Mu=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));cl(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return tu=t,vo(),!0}function ll(e,t,r){t=Ps(r,t),t=ks(e,t,1),Do(e,t),t=ku(),e=Bu(e,1),null!==e&&($t(e,1,t),zu(e,t))}function cl(e,t){if(3===e.tag)ll(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){ll(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Au||!Au.has(n))){e=Ps(t,e);var i=Ns(r,e,1);if(Do(r,i),i=ku(),r=Bu(r,1),null!==r)$t(r,1,i),zu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Au||!Au.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function hl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ku(),e.pingedLanes|=e.suspendedLanes&r,ru===e&&(iu&r)===r&&(4===su||3===su&&(62914560&iu)===iu&&500>ho()-du?Yu(e,0):fu|=r),zu(e,t)}function fl(e,t){var r=e.stateNode;null!==r&&r.delete(t),t=0,0===t&&(t=e.mode,0===(2&t)?t=1:0===(4&t)?t=99===fo()?1:2:(0===Lu&&(Lu=lu),t=Jt(62914560&~Lu),0===t&&(t=4194304))),r=ku(),e=Bu(e,t),null!==e&&($t(e,t,r),zu(e,r))}function pl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function dl(e,t,r,n){return new pl(e,t,r,n)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ml(e){if("function"===typeof e)return gl(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===P)return 11;if(e===k)return 14}return 2}function vl(e,t){var r=e.alternate;return null===r?(r=dl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yl(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return bl(r.children,i,o,t);case z:s=8,i|=16;break;case E:s=8,i|=1;break;case I:return e=dl(12,r,t,8|i),e.elementType=I,e.type=I,e.lanes=o,e;case O:return e=dl(13,r,t,i),e.type=O,e.elementType=O,e.lanes=o,e;case D:return e=dl(19,r,t,i),e.elementType=D,e.lanes=o,e;case U:return xl(r,i,o,t);case j:return e=dl(24,r,t,i),e.elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case L:s=9;break e;case P:s=11;break e;case k:s=14;break e;case N:s=16,n=null;break e;case F:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return t=dl(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function bl(e,t,r,n){return e=dl(7,e,n,t),e.lanes=r,e}function xl(e,t,r,n){return e=dl(23,e,n,t),e.elementType=U,e.lanes=r,e}function Al(e,t,r){return e=dl(6,e,null,t),e.lanes=r,e}function wl(e,t,r){return t=dl(4,null!==e.children?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _l(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qt(0),this.expirationTimes=Qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.mutableSourceEagerHydrationData=null}function Cl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Ml(e,t,r,n){var i=t.current,o=ku(),s=Nu(i);e:if(r){r=r._reactInternals;t:{if(tt(r)!==r||1!==r.tag)throw Error(a(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(zi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===r.tag){var l=r.type;if(zi(l)){r=Hi(r,l,u);break e}}r=u}else r=Di;return null===t.context?t.context=r:t.pendingContext=r,t=Oo(o,s),t.payload={element:e},n=void 0===n?null:n,null!==n&&(t.callback=n),Do(i,t),Fu(i,s,o),s}function Sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tl(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function El(e,t){Tl(e,t),(e=e.alternate)&&Tl(e,t)}function Il(){return null}function Rl(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new _l(e,t,null!=r&&!0===r.hydrate),t=dl(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,Lo(t),e[wi]=r.current,$n(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function Ll(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Pl(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Rl(e,0,t?{hydrate:!0}:void 0)}function Ol(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Sl(a);s.call(e)}}Ml(t,a,e,i)}else{if(o=r._reactRootContainer=Pl(r,n),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Sl(a);u.call(e)}}Wu((function(){Ml(t,a,e,i)}))}return Sl(a)}function Dl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ll(t))throw Error(a(200));return Cl(e,t,null,r)}vu=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)os=!0;else{if(0===(r&n)){switch(os=!1,t.tag){case 3:gs(t),ma();break;case 5:ia(t);break;case 1:zi(t.type)&&Gi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Oi(Ao,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?As(e,t,r):(Oi(aa,1&aa.current),t=Es(e,t,r),null!==t?t.sibling:null);Oi(aa,1&aa.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return Ts(e,t,r);t.flags|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(aa,aa.current),n)break;return null;case 23:case 24:return t.lanes=0,cs(e,t,r)}return Es(e,t,r)}os=0!==(16384&e.flags)}else os=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Bi(t,ki.current),Eo(t,r),i=Ia(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(n)){var o=!0;Gi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&zo(t,n,s,e),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Vo(t,n,e,r),t=ds(null,t,n,!0,o,r)}else t.tag=0,as(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=ml(i),e=xo(i,e),o){case 0:t=fs(null,t,i,e,r);break e;case 1:t=ps(null,t,i,e,r);break e;case 11:t=ss(null,t,i,e,r);break e;case 14:t=us(null,t,i,xo(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xo(n,i),fs(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xo(n,i),ps(e,t,n,i,r);case 3:if(gs(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,Po(e,t),No(t,n,null,r),n=t.memoizedState.element,n===i)ma(),t=Es(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(la=gi(t.stateNode.containerInfo.firstChild),ua=t,o=ca=!0),o){if(e=i.mutableSourceEagerHydrationData,null!=e)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],va.push(o);for(r=Ko(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else as(e,t,n,r),ma();t=t.child}return t;case 5:return ia(t),null===e&&pa(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,hi(n,i)?s=null:null!==o&&hi(n,o)&&(t.flags|=16),hs(e,t),as(e,t,s,r),t.child;case 6:return null===e&&pa(t),null;case 13:return As(e,t,r);case 4:return ra(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Zo(t,null,n,r):as(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xo(n,i),ss(e,t,n,i,r);case 7:return as(e,t,t.pendingProps,r),t.child;case 8:return as(e,t,t.pendingProps.children,r),t.child;case 12:return as(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(Oi(Ao,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,o=Ln(u,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,o):1073741823),0===o){if(s.children===i.children&&!Ni.current){t=Es(e,t,r);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&o)){1===u.tag&&(c=Oo(-1,r&-r),c.tag=2,Do(u,c)),u.lanes|=r,c=u.alternate,null!==c&&(c.lanes|=r),To(u.return,r),l.lanes|=r;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}as(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Eo(t,r),i=Io(i,o.unstable_observedBits),n=n(i),t.flags|=1,as(e,t,n,r),t.child;case 14:return i=t.type,o=xo(i,t.pendingProps),o=xo(i.type,o),us(e,t,i,o,n,r);case 15:return ls(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xo(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,zi(n)?(e=!0,Gi(t)):e=!1,Eo(t,r),Ho(t,n,i),Vo(t,n,i,r),ds(null,t,n,!0,e,r);case 19:return Ts(e,t,r);case 23:return cs(e,t,r);case 24:return cs(e,t,r)}throw Error(a(156,t.tag))},Rl.prototype.render=function(e){Ml(e,this._internalRoot,null,null)},Rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ml(null,e,null,(function(){t[wi]=null}))},st=function(e){if(13===e.tag){var t=ku();Fu(e,4,t),El(e,4)}},ut=function(e){if(13===e.tag){var t=ku();Fu(e,67108864,t),El(e,67108864)}},lt=function(e){if(13===e.tag){var t=ku(),r=Nu(e);Fu(e,r,t),El(e,r)}},ct=function(e,t){return t()},Re=function(e,t,r){switch(t){case"input":if(ae(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ti(n);if(!i)throw Error(a(90));te(n),ae(n,i)}}}break;case"textarea":de(e,r);break;case"select":t=r.value,null!=t&&he(e,!!r.multiple,t,!1)}},Ne=Vu,Fe=function(e,t,r,n,i){var o=tu;tu|=4;try{return go(98,e.bind(null,t,r,n,i))}finally{tu=o,0===tu&&(mu(),vo())}},Be=function(){0===(49&tu)&&(Gu(),ol())},ze=function(e,t){var r=tu;tu|=2;try{return e(t)}finally{tu=r,0===tu&&(mu(),vo())}};var kl={Events:[Mi,Si,Ti,De,ke,ol,{current:!1}]},Nl={findFiberByHostInstance:Ci,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Fl={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ot(e),null===e?null:e.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||Il,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Wi=Bl.inject(Fl),Xi=Bl}catch(zl){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kl,t.createPortal=Dl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=ot(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){var r=tu;if(0!==(48&r))return e(t);tu|=1;try{if(e)return go(99,e.bind(null,t))}finally{tu=r,vo()}},t.hydrate=function(e,t,r){if(!Ll(t))throw Error(a(200));return Ol(null,e,t,!0,r)},t.render=function(e,t,r){if(!Ll(t))throw Error(a(200));return Ol(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(a(40));return!!e._reactRootContainer&&(Wu((function(){Ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[wi]=null}))})),!0)},t.unstable_batchedUpdates=Vu,t.unstable_createPortal=function(e,t){return Dl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ll(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ol(e,t,r,!1,n)},t.version="17.0.2"},yoRg:function(e,t,r){var n=r("UTVS"),i=r("/GqU"),o=r("TWQb").indexOf,a=r("0BK2");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&l.push(r);while(t.length>u)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},yq1k:function(e,t,r){"use strict";var n=r("I+eb"),i=r("TWQb").includes,o=r("RNIs"),a=r("rkAj"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},z8NH:function(e,t,r){var n=r("dOgj");n("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},zATX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("mrSG"),i=n.__importDefault(r("0GZW")),o=n.__importDefault(r("Gytx")),a=function(e){function t(t){var r=e.call(this,t)||this;return r.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],r}return n.__extends(t,e),t.prototype.onDataUpdate=function(e){var t=this.props,r=t.center,n=t.radius,i=t.autoViewport,a=e.center,s=e.radius,u=e.autoViewport,l=r&&!o.default(r,a),c=!(!n||o.default(n,s)),h=!o.default(i,u);if(l&&this.overlay.setCenter(this.parseCenter(r)),c&&this.overlay.setRadius(n),i&&(l||c||h)){var f=this.overlay.getBounds(),p=this.props.map.getViewport(f,this.props.viewportOptions||{});this.props.map.setViewport(p)}},t.prototype.getOverlay=function(){var e=this.props,t=e.center,r=e.radius;return new BMapGL.Circle(this.parseCenter(t),r,this.getOptions())},t.prototype.parseCenter=function(e){var t,r="bd09mc"===this.props.coordType;return t=e instanceof Array?new BMapGL.Point(e[0],e[1]):e instanceof BMapGL.Point?e:new BMapGL.Point(e.lng,e.lat),r&&(t=BMapGL.Projection.convertMC2LL(t)),t},t.prototype.render=function(){return null},t}(i.default);t.default=a},zBJ4:function(e,t,r){var n=r("2oRo"),i=r("hh1v"),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},zKZe:function(e,t,r){var n=r("I+eb"),i=r("YNrV");n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},zLVn:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},zfnd:function(e,t,r){var n=r("glrk"),i=r("hh1v"),o=r("8GlL");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e),a=r.resolve;return a(t),r.promise}},zk60:function(e,t,r){var n=r("2oRo"),i=r("kRJp");e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},"zu+z":function(e,t,r){var n=r("I+eb"),i=r("qY7S");n({target:"Map",stat:!0},{from:i})}});